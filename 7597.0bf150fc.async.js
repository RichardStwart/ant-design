var XS=Object.defineProperty,jS=Object.defineProperties;var VS=Object.getOwnPropertyDescriptors;var Ch=Object.getOwnPropertySymbols;var U0=Object.prototype.hasOwnProperty,W0=Object.prototype.propertyIsEnumerable;var Dv=Math.pow,G0=(Ve,W,_)=>W in Ve?XS(Ve,W,{enumerable:!0,configurable:!0,writable:!0,value:_}):Ve[W]=_,Sa=(Ve,W)=>{for(var _ in W||(W={}))U0.call(W,_)&&G0(Ve,_,W[_]);if(Ch)for(var _ of Ch(W))W0.call(W,_)&&G0(Ve,_,W[_]);return Ve},to=(Ve,W)=>jS(Ve,VS(W));var Th=(Ve,W)=>{var _={};for(var y in Ve)U0.call(Ve,y)&&W.indexOf(y)<0&&(_[y]=Ve[y]);if(Ve!=null&&Ch)for(var y of Ch(Ve))W.indexOf(y)<0&&W0.call(Ve,y)&&(_[y]=Ve[y]);return _};var Y0=(Ve,W,_)=>new Promise((y,R)=>{var w=L=>{try{P(_.next(L))}catch(p){R(p)}},M=L=>{try{P(_.throw(L))}catch(p){R(p)}},P=L=>L.done?y(L.value):Promise.resolve(L.value).then(w,M);P((_=_.apply(Ve,W)).next())});(self.webpackChunkantd=self.webpackChunkantd||[]).push([[7597],{62238:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var _=function(w,M){var P=w.nodes,L=w.edges,p=[],g={};if(!P)throw new Error("invalid nodes data!");return P&&P.forEach(function(S,E){g[S.id]=E;var b=[];p.push(b)}),L&&L.forEach(function(S){var E=S.source,b=S.target,A=g[E],x=g[b];!A&&A!==0||!x&&x!==0||(p[A][x]=1,M||(p[x][A]=1))}),p},y=_;W.default=y},810369:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),Object.defineProperty(W,"GADDIAsync",{enumerable:!0,get:function(){return y.GADDIAsync}}),Object.defineProperty(W,"connectedComponentAsync",{enumerable:!0,get:function(){return y.connectedComponentAsync}}),W.default=void 0,Object.defineProperty(W,"detectAllCyclesAsync",{enumerable:!0,get:function(){return y.detectAllCyclesAsync}}),Object.defineProperty(W,"detectAllDirectedCycleAsync",{enumerable:!0,get:function(){return y.detectAllDirectedCycleAsync}}),Object.defineProperty(W,"detectAllUndirectedCycleAsync",{enumerable:!0,get:function(){return y.detectAllUndirectedCycleAsync}}),Object.defineProperty(W,"detectCycleAsync",{enumerable:!0,get:function(){return y.detectCycleAsync}}),W.detectDirectedCycleAsync=void 0,Object.defineProperty(W,"dijkstraAsync",{enumerable:!0,get:function(){return y.dijkstraAsync}}),Object.defineProperty(W,"findAllPathAsync",{enumerable:!0,get:function(){return y.findAllPathAsync}}),Object.defineProperty(W,"findShortestPathAsync",{enumerable:!0,get:function(){return y.findShortestPathAsync}}),Object.defineProperty(W,"floydWarshallAsync",{enumerable:!0,get:function(){return y.floydWarshallAsync}}),Object.defineProperty(W,"getAdjMatrixAsync",{enumerable:!0,get:function(){return y.getAdjMatrixAsync}}),Object.defineProperty(W,"getDegreeAsync",{enumerable:!0,get:function(){return y.getDegreeAsync}}),Object.defineProperty(W,"getInDegreeAsync",{enumerable:!0,get:function(){return y.getInDegreeAsync}}),Object.defineProperty(W,"getNeighborsAsync",{enumerable:!0,get:function(){return y.getNeighborsAsync}}),Object.defineProperty(W,"getOutDegreeAsync",{enumerable:!0,get:function(){return y.getOutDegreeAsync}}),Object.defineProperty(W,"labelPropagationAsync",{enumerable:!0,get:function(){return y.labelPropagationAsync}}),Object.defineProperty(W,"louvainAsync",{enumerable:!0,get:function(){return y.louvainAsync}}),Object.defineProperty(W,"minimumSpanningTreeAsync",{enumerable:!0,get:function(){return y.minimumSpanningTreeAsync}}),Object.defineProperty(W,"pageRankAsync",{enumerable:!0,get:function(){return y.pageRankAsync}});var y=_(430485),R=y.detectCycleAsync;W.detectDirectedCycleAsync=R;var w={getAdjMatrixAsync:y.getAdjMatrixAsync,connectedComponentAsync:y.connectedComponentAsync,getDegreeAsync:y.getDegreeAsync,getInDegreeAsync:y.getInDegreeAsync,getOutDegreeAsync:y.getOutDegreeAsync,detectCycleAsync:y.detectCycleAsync,detectDirectedCycleAsync:R,detectAllCyclesAsync:y.detectAllCyclesAsync,detectAllDirectedCycleAsync:y.detectAllDirectedCycleAsync,detectAllUndirectedCycleAsync:y.detectAllUndirectedCycleAsync,dijkstraAsync:y.dijkstraAsync,findAllPathAsync:y.findAllPathAsync,findShortestPathAsync:y.findShortestPathAsync,floydWarshallAsync:y.floydWarshallAsync,labelPropagationAsync:y.labelPropagationAsync,louvainAsync:y.louvainAsync,minimumSpanningTreeAsync:y.minimumSpanningTreeAsync,pageRankAsync:y.pageRankAsync,getNeighborsAsync:y.getNeighborsAsync,GADDIAsync:y.GADDIAsync};W.default=w},683764:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=w(_(893026)),R=_(770643);function w(p){return p&&p.__esModule?p:{default:p}}function M(p){p===void 0&&(p={});var g=p,S=function(){},E=function(){var b={};return function(A){var x=A.next,T=x;return b[T]?!1:(b[T]=!0,!0)}}();return g.allowTraversal=p.allowTraversal||E,g.enter=p.enter||S,g.leave=p.leave||S,g}var P=function(g,S,E,b){b===void 0&&(b=!0);var A=M(E),x=new y.default,T=g.edges,B=T===void 0?[]:T;x.enqueue(S);for(var m="",f=function(){var j=x.dequeue();A.enter({current:j,previous:m}),(0,R.getNeighbors)(j,B,b?"target":void 0).forEach(function(z){A.allowTraversal({previous:m,current:j,next:z})&&x.enqueue(z)}),A.leave({current:j,previous:m}),m=j};!x.isEmpty();)f()},L=P;W.default=L},759527:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=M,W.detectStrongConnectComponents=W.detectConnectedComponents=void 0;var y=_(770643),R=function(L){for(var p=L.nodes,g=p===void 0?[]:p,S=L.edges,E=S===void 0?[]:S,b=[],A={},x=[],T=function U(j){x.push(j),A[j.id]=!0;for(var z=(0,y.getNeighbors)(j.id,E),k=function(tt){var q=z[tt];if(!A[q]){var at=g.filter(function(pt){return pt.id===q});at.length>0&&U(at[0])}},X=0;X<z.length;++X)k(X)},B=0;B<g.length;B++){var m=g[B];if(!A[m.id]){T(m);for(var f=[];x.length>0;)f.push(x.pop());b.push(f)}}return b};W.detectConnectedComponents=R;var w=function(L){for(var p=L.nodes,g=p===void 0?[]:p,S=L.edges,E=S===void 0?[]:S,b=[],A={},x={},T={},B=[],m=0,f=function k(X){x[X.id]=m,T[X.id]=m,m+=1,b.push(X),A[X.id]=!0;for(var K=(0,y.getNeighbors)(X.id,E,"target").filter(function(ct){return g.map(function(St){return St.id}).indexOf(ct)>-1}),tt=function(St){var vt=K[St];if(!x[vt]&&x[vt]!==0){var Lt=g.filter(function(Mt){return Mt.id===vt});Lt.length>0&&k(Lt[0]),T[X.id]=Math.min(T[X.id],T[vt])}else A[vt]&&(T[X.id]=Math.min(T[X.id],x[vt]))},q=0;q<K.length;q++)tt(q);if(T[X.id]===x[X.id]){for(var at=[];b.length>0;){var pt=b.pop();if(A[pt.id]=!1,at.push(pt),pt===X)break}at.length>0&&B.push(at)}},U=0,j=g;U<j.length;U++){var z=j[U];!x[z.id]&&x[z.id]!==0&&f(z)}return B};W.detectStrongConnectComponents=w;function M(P,L){return L?w(P):R(P)}},592935:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.secondReg=W.dateReg=void 0;var _=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/;W.secondReg=_;var y=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/;W.dateReg=y},182556:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.getOutDegree=W.getInDegree=W.default=void 0;var _=function(P){var L={},p=P.nodes,g=p===void 0?[]:p,S=P.edges,E=S===void 0?[]:S;return g.forEach(function(b){L[b.id]={degree:0,inDegree:0,outDegree:0}}),E.forEach(function(b){L[b.source].degree++,L[b.source].outDegree++,L[b.target].degree++,L[b.target].inDegree++}),L},y=_;W.default=y;var R=function(P,L){var p=_(P);return p[L]?_(P)[L].inDegree:0};W.getInDegree=R;var w=function(P,L){var p=_(P);return p[L]?_(P)[L].outDegree:0};W.getOutDegree=w},994282:function(Ve,W,_){"use strict";function y(x){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},y(x)}Object.defineProperty(W,"__esModule",{value:!0}),W.detectAllUndirectedCycle=W.detectAllDirectedCycle=W.detectAllCycles=W.default=void 0;var R=p(_(45891)),w=L(_(759527)),M=_(770643);function P(x){if(typeof WeakMap!="function")return null;var T=new WeakMap,B=new WeakMap;return(P=function(f){return f?B:T})(x)}function L(x,T){if(!T&&x&&x.__esModule)return x;if(x===null||y(x)!=="object"&&typeof x!="function")return{default:x};var B=P(T);if(B&&B.has(x))return B.get(x);var m={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var U in x)if(U!=="default"&&Object.prototype.hasOwnProperty.call(x,U)){var j=f?Object.getOwnPropertyDescriptor(x,U):null;j&&(j.get||j.set)?Object.defineProperty(m,U,j):m[U]=x[U]}return m.default=x,B&&B.set(x,m),m}function p(x){return x&&x.__esModule?x:{default:x}}var g=function(T){var B=null,m=T.nodes,f=m===void 0?[]:m,U={},j={},z={},k={};f.forEach(function(tt){j[tt.id]=tt});for(var X={enter:function(q){var at=q.current,pt=q.previous;if(z[at]){B={};for(var ct=at,St=pt;St!==at;)B[ct]=St,ct=St,St=U[St];B[ct]=St}else z[at]=at,delete j[at],U[at]=pt},leave:function(q){var at=q.current;k[at]=at,delete z[at]},allowTraversal:function(q){var at=q.next;return B?!1:!k[at]}};Object.keys(j).length;){var K=Object.keys(j)[0];(0,R.default)(T,K,X)}return B},S=function(T,B,m){var f,U;m===void 0&&(m=!0);for(var j=[],z=(0,w.default)(T,!1),k=0,X=z;k<X.length;k++){var K=X[k];if(K.length)for(var tt=K[0],q=tt.id,at=[tt],pt=(f={},f[q]=tt,f),ct=(U={},U[q]=new Set,U);at.length>0;)for(var St=at.pop(),vt=St.id,Lt=(0,M.getNeighbors)(vt,T.edges),Mt=function(rt){var Ot,Dt=Lt[rt],ot=T.nodes.find(function(Zt){return Zt.id===Dt});if(Dt===vt)j.push((Ot={},Ot[Dt]=St,Ot));else if(!(Dt in ct))pt[Dt]=St,at.push(ot),ct[Dt]=new Set([St]);else if(!ct[vt].has(ot)){for(var xt=!0,Nt=[ot,St],Yt=pt[vt];ct[Dt].size&&!ct[Dt].has(Yt)&&(Nt.push(Yt),Yt!==pt[Yt.id]);)Yt=pt[Yt.id];if(Nt.push(Yt),B&&m?(xt=!1,Nt.findIndex(function(Zt){return B.indexOf(Zt.id)>-1})>-1&&(xt=!0)):B&&!m&&Nt.findIndex(function(Zt){return B.indexOf(Zt.id)>-1})>-1&&(xt=!1),xt){for(var Ct={},Xt=1;Xt<Nt.length;Xt+=1)Ct[Nt[Xt-1].id]=Nt[Xt];Nt.length&&(Ct[Nt[Nt.length-1].id]=Nt[0]),j.push(Ct)}ct[Dt].add(St)}},wt=0;wt<Lt.length;wt+=1)Mt(wt)}return j};W.detectAllUndirectedCycle=S;var E=function(T,B,m){m===void 0&&(m=!0);for(var f=[],U=new Set,j=[],z=[],k={},X={},K=function(Yt){for(var Ct=[Yt];Ct.length>0;){var Xt=Ct.pop();U.has(Xt)&&(U.delete(Xt),j[Xt.id].forEach(function(Zt){Ct.push(Zt)}),j[Xt.id].clear())}},tt=function Nt(Yt,Ct,Xt){var Zt=!1;if(B&&m===!1&&B.indexOf(Yt.id)>-1)return Zt;f.push(Yt),U.add(Yt);for(var se=Xt[Yt.id],ie=0;ie<se.length;ie+=1){var zt=k[se[ie]];if(zt===Ct){for(var ae={},Re=1;Re<f.length;Re+=1)ae[f[Re-1].id]=f[Re];f.length&&(ae[f[f.length-1].id]=f[0]),z.push(ae),Zt=!0}else U.has(zt)||Nt(zt,Ct,Xt)&&(Zt=!0)}if(Zt)K(Yt);else for(var ie=0;ie<se.length;ie+=1){var zt=k[se[ie]];j[zt.id].has(Yt)||j[zt.id].add(Yt)}return f.pop(),Zt},q=T.nodes,at=q===void 0?[]:q,pt=0;pt<at.length;pt+=1){var ct=at[pt],St=ct.id;X[St]=pt,k[pt]=ct}if(B&&m)for(var vt=function(Yt){var Ct=B[Yt];X[at[Yt].id]=X[Ct],X[Ct]=0,k[0]=at.find(function(Xt){return Xt.id===Ct}),k[X[at[Yt].id]]=at[Yt]},pt=0;pt<B.length;pt++)vt(pt);for(var Lt=function(Yt){for(var Ct,Xt,Zt=1/0,se=0;se<Yt.length;se+=1)for(var ie=Yt[se],zt=0;zt<ie.length;zt++){var ae=X[ie[zt].id];ae<Zt&&(Zt=ae,Xt=se)}for(var Re=Yt[Xt],Jt=[],se=0;se<Re.length;se+=1){var ue=Re[se];Jt[ue.id]=[];for(var ke=0,ye=(0,M.getNeighbors)(ue.id,T.edges,"target").filter(function(bt){return Re.map(function(Ft){return Ft.id}).indexOf(bt)>-1});ke<ye.length;ke++){var ee=ye[ke];ee===ue.id&&!(m===!1&&B.indexOf(ue.id)>-1)?z.push((Ct={},Ct[ue.id]=ue,Ct)):Jt[ue.id].push(X[ee])}}return{component:Re,adjList:Jt,minIdx:Zt}},Mt=0;Mt<at.length;){var wt=at.filter(function(Nt){return X[Nt.id]>=Mt}),et=(0,w.detectStrongConnectComponents)({nodes:wt,edges:T.edges}).filter(function(Nt){return Nt.length>1});if(et.length===0)break;var rt=Lt(et),Ot=rt.minIdx,Dt=rt.adjList,ot=rt.component;if(ot.length>1){ot.forEach(function(Nt){j[Nt.id]=new Set});var xt=k[Ot];if(B&&m&&B.indexOf(xt.id)===-1)return z;tt(xt,xt,Dt),Mt=Ot+1}else break}return z};W.detectAllDirectedCycle=E;var b=function(T,B,m,f){return f===void 0&&(f=!0),B?E(T,m,f):S(T,m,f)};W.detectAllCycles=b;var A=g;W.default=A},45891:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=M;var y=_(770643);function R(P){P===void 0&&(P={});var L=P,p=function(){},g=function(){var S={};return function(E){var b=E.next;return S[b]?!1:(S[b]=!0,!0)}}();return L.allowTraversal=P.allowTraversal||g,L.enter=P.enter||p,L.leave=P.leave||p,L}function w(P,L,p,g){g.enter({current:L,previous:p});var S=P.edges,E=S===void 0?[]:S;(0,y.getNeighbors)(L,E,"target").forEach(function(b){g.allowTraversal({previous:p,current:L,next:b})&&w(P,b,L,g)}),g.leave({current:L,previous:p})}function M(P,L,p){w(P,L,"",R(p))}},878089:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=_(570655),R=_(413810),w=_(770643),M=function(S,E,b){for(var A=1/0,x,T=0;T<E.length;T++){var B=E[T].id;!b[B]&&S[B]<=A&&(A=S[B],x=E[T])}return x},P=function(S,E,b,A){var x=S.nodes,T=x===void 0?[]:x,B=S.edges,m=B===void 0?[]:B,f=[],U={},j={},z={};T.forEach(function(pt,ct){var St=pt.id;f.push(St),j[St]=1/0,St===E&&(j[St]=0)});for(var k=T.length,X=function(ct){var St=M(j,T,U),vt=St.id;if(U[vt]=!0,j[vt]===1/0)return"continue";var Lt=[];b?Lt=(0,w.getOutEdgesNodeId)(vt,m):Lt=(0,w.getEdgesByNodeId)(vt,m),Lt.forEach(function(Mt){var wt=Mt.target,et=Mt.source,rt=wt===vt?et:wt,Ot=A&&Mt[A]?Mt[A]:1;j[rt]>j[St.id]+Ot?(j[rt]=j[St.id]+Ot,z[rt]=[St.id]):j[rt]===j[St.id]+Ot&&z[rt].push(St.id)})},K=0;K<k;K++)X(K);z[E]=[E];var tt={};for(var q in j)j[q]!==1/0&&p(E,q,z,tt);var at={};for(var q in tt)at[q]=tt[q][0];return{length:j,path:at,allPath:tt}},L=P;W.default=L;function p(g,S,E,b){if(g===S)return[g];if(b[S])return b[S];for(var A=[],x=0,T=E[S];x<T.length;x++){var B=T[x],m=p(g,B,E,b);if(!m)return;for(var f=0,U=m;f<U.length;f++){var j=U[f];(0,R.isArray)(j)?A.push((0,y.__spreadArray)((0,y.__spreadArray)([],j,!0),[S],!1)):A.push([j,S])}}return b[S]=A,b[S]}},241727:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.findShortestPath=W.findAllPath=void 0;var y=w(_(878089)),R=_(770643);function w(L){return L&&L.__esModule?L:{default:L}}var M=function(p,g,S,E,b){var A=(0,y.default)(p,g,E,b),x=A.length,T=A.path,B=A.allPath;return{length:x[S],path:T[S],allPath:B[S]}};W.findShortestPath=M;var P=function(p,g,S,E){var b;if(g===S)return[[g]];var A=p.edges,x=A===void 0?[]:A,T=[g],B=(b={},b[g]=!0,b),m=[],f=[],U=E?(0,R.getNeighbors)(g,x,"target"):(0,R.getNeighbors)(g,x);for(m.push(U);T.length>0&&m.length>0;){var j=m[m.length-1];if(j.length){var z=j.shift();z&&(T.push(z),B[z]=!0,U=E?(0,R.getNeighbors)(z,x,"target"):(0,R.getNeighbors)(z,x),m.push(U.filter(function(K){return!B[K]})))}else{var k=T.pop();B[k]=!1,m.pop();continue}if(T[T.length-1]===S){var X=T.map(function(tt){return tt});f.push(X);var k=T.pop();B[k]=!1,m.pop()}}return f};W.findAllPath=P},975033:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=R(_(62238));function R(P){return P&&P.__esModule?P:{default:P}}var w=function(L,p){for(var g=(0,y.default)(L,p),S=[],E=g.length,b=0;b<E;b+=1){S[b]=[];for(var A=0;A<E;A+=1)b===A?S[b][A]=0:g[b][A]===0||!g[b][A]?S[b][A]=1/0:S[b][A]=g[b][A]}for(var x=0;x<E;x+=1)for(var b=0;b<E;b+=1)for(var A=0;A<E;A+=1)S[b][A]>S[b][x]+S[x][A]&&(S[b][A]=S[b][x]+S[x][A]);return S},M=w;W.default=M},821146:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=_(413810),R=_(368575),w=function(){function A(x,T,B,m,f){this.fromNode=x,this.toNode=T,this.nodeEdgeNodeLabel={nodeLabel1:B||R.VACANT_NODE_LABEL,edgeLabel:m||R.VACANT_EDGE_LABEL,nodeLabel2:f||R.VACANT_NODE_LABEL}}return A.prototype.equalTo=function(x){return this.fromNode===x.formNode&&this.toNode===x.toNode&&this.nodeEdgeNodeLabel===x.nodeEdgeNodeLabel},A.prototype.notEqualTo=function(x){return!this.equalTo(x)},A}(),M=function(){function A(){this.rmpath=[],this.dfsEdgeList=[]}return A.prototype.equalTo=function(x){var T=this.dfsEdgeList.length,B=x.length;if(T!==B)return!1;for(var m=0;m<T;m++)if(this.dfsEdgeList[m]!==x[m])return!1;return!0},A.prototype.notEqualTo=function(x){return!this.equalTo(x)},A.prototype.pushBack=function(x,T,B,m,f){return this.dfsEdgeList.push(new w(x,T,B,m,f)),this.dfsEdgeList},A.prototype.toGraph=function(x,T){x===void 0&&(x=R.VACANT_GRAPH_ID),T===void 0&&(T=!1);var B=new R.Graph(x,!0,T);return this.dfsEdgeList.forEach(function(m){var f=m.fromNode,U=m.toNode,j=m.nodeEdgeNodeLabel,z=j.nodeLabel1,k=j.edgeLabel,X=j.nodeLabel2;z!==R.VACANT_NODE_LABEL&&B.addNode(f,z),X!==R.VACANT_NODE_LABEL&&B.addNode(U,X),z!==R.VACANT_NODE_LABEL&&X!==z&&B.addEdge(void 0,f,U,k)}),B},A.prototype.buildRmpath=function(){this.rmpath=[];for(var x=void 0,T=this.dfsEdgeList.length,B=T-1;B>=0;B--){var m=this.dfsEdgeList[B],f=m.fromNode,U=m.toNode;f<U&&(x===void 0||U===x)&&(this.rmpath.push(B),x=f)}return this.rmpath},A.prototype.getNodeNum=function(){var x={};return this.dfsEdgeList.forEach(function(T){x[T.fromNode]||(x[T.fromNode]=!0),x[T.toNode]||(x[T.toNode]=!0)}),Object.keys(x).length},A}(),P=function(){function A(x){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!x){for(;x;){var T=x.edge;this.edges.push(T),this.nodesUsed[T.from]=1,this.nodesUsed[T.to]=1,this.edgesUsed[T.id]=1,x=x.preNode}this.edges=this.edges.reverse()}}return A.prototype.hasNode=function(x){return this.nodesUsed[x.id]===1},A.prototype.hasEdge=function(x){return this.edgesUsed[x.id]===1},A}(),L=function(){function A(x){var T=x.graphs,B=x.minSupport,m=B===void 0?2:B,f=x.minNodeNum,U=f===void 0?1:f,j=x.maxNodeNum,z=j===void 0?4:j,k=x.top,X=k===void 0?10:k,K=x.directed,tt=K===void 0?!1:K,q=x.verbose,at=q===void 0?!1:q;this.graphs=T,this.dfsCode=new M,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=m,this.top=X,this.directed=tt,this.counter=0,this.maxNodeNum=z,this.minNodeNum=U,this.verbose=at,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return A.prototype.findForwardRootEdges=function(x,T){var B=this,m=[],f=x.nodeMap;return T.edges.forEach(function(U){(B.directed||T.label<=f[U.to].label)&&m.push(U)}),m},A.prototype.findBackwardEdge=function(x,T,B,m){if(!this.directed&&T===B)return null;for(var f=x.nodeMap,U=f[B.to],j=U.edges,z=j.length,k=0;k<z;k++){var X=j[k];if(!(m.hasEdge(X)||X.to!==T.from)){if(this.directed){if(f[T.from].label<f[B.to].label||f[T.from].label===f[B.to].label&&T.label<=X.label)return X}else if(T.label<X.label||T.label===X.label&&f[T.to].label<=f[B.to].label)return X}}return null},A.prototype.findForwardPureEdges=function(x,T,B,m){for(var f=[],U=T.to,j=x.nodeMap[U].edges,z=j.length,k=0;k<z;k++){var X=j[k],K=x.nodeMap[X.to];B<=K.label&&!m.hasNode(K)&&f.push(X)}return f},A.prototype.findForwardRmpathEdges=function(x,T,B,m){for(var f=[],U=x.nodeMap,j=U[T.to].label,z=U[T.from],k=z.edges,X=k.length,K=0;K<X;K++){var tt=k[K],q=U[tt.to].label;T.to===tt.to||B>q||m.hasNode(U[tt.to])||(T.label<tt.label||T.label===tt.label&&j<=q)&&f.push(tt)}return f},A.prototype.getSupport=function(x){var T={};return x.forEach(function(B){T[B.graphId]||(T[B.graphId]=!0)}),Object.keys(T).length},A.prototype.findMinLabel=function(x){var T=void 0;return Object.keys(x).forEach(function(B){var m=x[B],f=m.nodeLabel1,U=m.edgeLabel,j=m.nodeLabel2;if(!T){T={nodeLabel1:f,edgeLabel:U,nodeLabel2:j};return}(f<T.nodeLabel1||f===T.nodeLabel1&&U<T.edgeLabel||f===T.nodeLabel1&&U===T.edgeLabel&&j<T.nodeLabel2)&&(T={nodeLabel1:f,edgeLabel:U,nodeLabel2:j})}),T},A.prototype.isMin=function(){var x=this,T=this.dfsCode;if(this.verbose&&console.log("isMin checking",T),T.dfsEdgeList.length===1)return!0;var B=this.directed,m=T.toGraph(R.VACANT_GRAPH_ID,B),f=m.nodeMap,U=new M,j={};m.nodes.forEach(function(K){var tt=x.findForwardRootEdges(m,K);tt.forEach(function(q){var at=f[q.to],pt="".concat(K.label,"-").concat(q.label,"-").concat(at.label);j[pt]||(j[pt]={projected:[],nodeLabel1:K.label,edgeLabel:q.label,nodeLabel2:at.label});var ct={graphId:m.id,edge:q,preNode:null};j[pt].projected.push(ct)})});var z=this.findMinLabel(j);if(z){U.dfsEdgeList.push(new w(0,1,z.nodeLabel1,z.edgeLabel,z.nodeLabel2));var k=function K(tt){for(var q=U.buildRmpath(),at=U.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,pt=U.dfsEdgeList[q[0]].toNode,ct={},St=!1,vt=0,Lt=B?-1:0,Mt=function(se){if(St)return"break";tt.forEach(function(ie){var zt=new P(ie),ae=x.findBackwardEdge(m,zt.edges[q[se]],zt.edges[q[0]],zt);ae&&(ct[ae.label]||(ct[ae.label]={projected:[],edgeLabel:ae.label}),ct[ae.label].projected.push({graphId:m.id,edge:ct,preNode:ie}),vt=U.dfsEdgeList[q[se]].fromNode,St=!0)})},wt=q.length-1;wt>Lt;wt--){var et=Mt(wt);if(et==="break")break}if(St){var rt=x.findMinLabel(ct);U.dfsEdgeList.push(new w(pt,vt,R.VACANT_NODE_LABEL,rt.edgeLabel,R.VACANT_NODE_LABEL));var Ot=U.dfsEdgeList.length-1;return x.dfsCode.dfsEdgeList[Ot]!==U.dfsEdgeList[Ot]?!1:K(ct[rt.edgeLabel].projected)}var Dt={};St=!1;var ot=0;tt.forEach(function(Zt){var se=new P(Zt),ie=x.findForwardPureEdges(m,se.edges[q[0]],at,se);ie.length>0&&(St=!0,ot=pt,ie.forEach(function(zt){var ae="".concat(zt.label,"-").concat(f[zt.to].label);Dt[ae]||(Dt[ae]={projected:[],edgeLabel:zt.label,nodeLabel2:f[zt.to].label}),Dt[ae].projected.push({graphId:m.id,edge:zt,preNode:Zt})}))});for(var xt=q.length,Nt=function(se){if(St)return"break";var ie=q[se];tt.forEach(function(zt){var ae=new P(zt),Re=x.findForwardRmpathEdges(m,ae.edges[ie],at,ae);Re.length>0&&(St=!0,ot=U.dfsEdgeList[ie].fromNode,Re.forEach(function(Jt){var ue="".concat(Jt.label,"-").concat(f[Jt.to].label);Dt[ue]||(Dt[ue]={projected:[],edgeLabel:Jt.label,nodeLabel2:f[Jt.to].label}),Dt[ue].projected.push({graphId:m.id,edge:Jt,preNode:zt})}))})},wt=0;wt<xt;wt++){var Yt=Nt(wt);if(Yt==="break")break}if(!St)return!0;var Ct=x.findMinLabel(Dt);U.dfsEdgeList.push(new w(ot,pt+1,R.VACANT_NODE_LABEL,Ct.edgeLabel,Ct.nodeLabel2));var Xt=U.dfsEdgeList.length-1;return T.dfsEdgeList[Xt]!==U.dfsEdgeList[Xt]?!1:K(Dt["".concat(Ct.edgeLabel,"-").concat(Ct.nodeLabel2)].projected)},X="".concat(z.nodeLabel1,"-").concat(z.edgeLabel,"-").concat(z.nodeLabel2);return k(j[X].projected)}},A.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var x=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,y.clone)(x))}},A.prototype.subGraphMining=function(x){var T=this,B=this.getSupport(x);if(!(B<this.minSupport)&&this.isMin()){this.report();var m=this.dfsCode.getNodeNum(),f=this.dfsCode.buildRmpath(),U=this.dfsCode.dfsEdgeList[f[0]].toNode,j=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,z={},k={};x.forEach(function(X){for(var K=T.graphs[X.graphId],tt=K.nodeMap,q=new P(X),at=f.length-1;at>=0;at--){var pt=T.findBackwardEdge(K,q.edges[f[at]],q.edges[f[0]],q);if(pt){var ct="".concat(T.dfsCode.dfsEdgeList[f[at]].fromNode,"-").concat(pt.label);k[ct]||(k[ct]={projected:[],toNodeId:T.dfsCode.dfsEdgeList[f[at]].fromNode,edgeLabel:pt.label}),k[ct].projected.push({graphId:X.graphId,edge:pt,preNode:X})}}if(!(m>=T.maxNodeNum)){var St=T.findForwardPureEdges(K,q.edges[f[0]],j,q);St.forEach(function(Lt){var Mt="".concat(U,"-").concat(Lt.label,"-").concat(tt[Lt.to].label);z[Mt]||(z[Mt]={projected:[],fromNodeId:U,edgeLabel:Lt.label,nodeLabel2:tt[Lt.to].label}),z[Mt].projected.push({graphId:X.graphId,edge:Lt,preNode:X})});for(var vt=function(Mt){var wt=T.findForwardRmpathEdges(K,q.edges[f[Mt]],j,q);wt.forEach(function(et){var rt="".concat(T.dfsCode.dfsEdgeList[f[Mt]].fromNode,"-").concat(et.label,"-").concat(tt[et.to].label);z[rt]||(z[rt]={projected:[],fromNodeId:T.dfsCode.dfsEdgeList[f[Mt]].fromNode,edgeLabel:et.label,nodeLabel2:tt[et.to].label}),z[rt].projected.push({graphId:X.graphId,edge:et,preNode:X})})},at=0;at<f.length;at++)vt(at)}}),Object.keys(k).forEach(function(X){var K=k[X],tt=K.toNodeId,q=K.edgeLabel;T.dfsCode.dfsEdgeList.push(new w(U,tt,"-1",q,"-1")),T.subGraphMining(k[X].projected),T.dfsCode.dfsEdgeList.pop()}),Object.keys(z).forEach(function(X){var K=z[X],tt=K.fromNodeId,q=K.edgeLabel,at=K.nodeLabel2;T.dfsCode.dfsEdgeList.push(new w(tt,U+1,R.VACANT_NODE_LABEL,q,at)),T.subGraphMining(z[X].projected),T.dfsCode.dfsEdgeList.pop()})}},A.prototype.generate1EdgeFrequentSubGraphs=function(){var x=this.graphs,T=this.directed,B=this.minSupport,m=this.frequentSize1Subgraphs,f={},U={},j={},z={};return Object.keys(x).forEach(function(k){var X=x[k],K=X.nodeMap;X.nodes.forEach(function(tt,q){var at=tt.label,pt="".concat(k,"-").concat(at);if(!j[pt]){var ct=f[at]||0;ct++,f[at]=ct}j[pt]={graphKey:k,label:at},tt.edges.forEach(function(St){var vt=at,Lt=K[St.to].label;if(!T&&vt>Lt){var Mt=Lt;Lt=vt,vt=Mt}var wt=St.label,et="".concat(k,"-").concat(vt,"-").concat(wt,"-").concat(Lt),rt="".concat(vt,"-").concat(wt,"-").concat(Lt);if(!U[rt]){var Ot=U[rt]||0;Ot++,U[rt]=Ot}z[et]={graphId:k,nodeLabel1:vt,edgeLabel:wt,nodeLabel2:Lt}})})}),Object.keys(f).forEach(function(k){var X=f[k];if(!(X<B)){var K={nodes:[],edges:[]};K.nodes.push({id:"0",label:k}),m.push(K)}}),m},A.prototype.run=function(){var x=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var T=this.graphs,B=this.directed,m={};Object.keys(T).forEach(function(f){var U=T[f],j=U.nodeMap;U.nodes.forEach(function(z){var k=x.findForwardRootEdges(U,z);k.forEach(function(X){var K=j[X.to],tt="".concat(z.label,"-").concat(X.label,"-").concat(K.label);m[tt]||(m[tt]={projected:[],nodeLabel1:z.label,edgeLabel:X.label,nodeLabel2:K.label});var q={graphId:f,edge:X,preNode:null};m[tt].projected.push(q)})})}),Object.keys(m).forEach(function(f){var U=m[f],j=U.projected,z=U.nodeLabel1,k=U.edgeLabel,X=U.nodeLabel2;x.dfsCode.dfsEdgeList.push(new w(0,1,z,k,X)),x.subGraphMining(j),x.dfsCode.dfsEdgeList.pop()})}},A}(),p=function(x,T,B,m){var f={};return Object.keys(x).forEach(function(U,j){var z=x[U],k=new R.Graph(j,!0,T),X={};z.nodes.forEach(function(K,tt){k.addNode(tt,K[B]),X[K.id]=tt}),z.edges.forEach(function(K,tt){var q=X[K.source],at=X[K.target];k.addEdge(-1,q,at,K[m])}),k&&k.getNodeNum()&&(f[k.id]=k)}),f},g=function(x,T,B){var m=[];return x.forEach(function(f){var U={nodes:[],edges:[]};f.nodes.forEach(function(j){var z;U.nodes.push((z={id:"".concat(j.id)},z[T]=j.label,z))}),f.edges.forEach(function(j){var z;U.edges.push((z={source:"".concat(j.from),target:"".concat(j.to)},z[B]=j.label,z))}),m.push(U)}),m},S="cluster",E=function(x){var T=x.graphs,B=x.directed,m=B===void 0?!1:B,f=x.nodeLabelProp,U=f===void 0?S:f,j=x.edgeLabelProp,z=j===void 0?S:j,k=p(T,m,U,z),X=x.minSupport,K=x.maxNodeNum,tt=x.minNodeNum,q=x.verbose,at=x.top,pt={graphs:k,minSupport:X,maxNodeNum:K,minNodeNum:tt,top:at,verbose:q,directed:m},ct=new L(pt);ct.run();var St=g(ct.frequentSubgraphs,U,z);return St},b=E;W.default=b},368575:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.VACANT_NODE_LABEL=W.VACANT_NODE_ID=W.VACANT_GRAPH_ID=W.VACANT_EDGE_LABEL=W.VACANT_EDGE_ID=W.Node=W.Graph=W.Edge=W.AUTO_EDGE_ID=void 0;var _=-1;W.VACANT_EDGE_ID=_;var y=-1;W.VACANT_NODE_ID=y;var R="-1";W.VACANT_EDGE_LABEL=R;var w="-1";W.VACANT_NODE_LABEL=w;var M=-1;W.VACANT_GRAPH_ID=M;var P="-1";W.AUTO_EDGE_ID=P;var L=function(){function S(E,b,A,x){E===void 0&&(E=_),b===void 0&&(b=y),A===void 0&&(A=y),x===void 0&&(x=R),this.id=E,this.from=b,this.to=A,this.label=x}return S}();W.Edge=L;var p=function(){function S(E,b){E===void 0&&(E=y),b===void 0&&(b=w),this.id=E,this.label=b,this.edges=[],this.edgeMap={}}return S.prototype.addEdge=function(E){this.edges.push(E),this.edgeMap[E.id]=E},S}();W.Node=p;var g=function(){function S(E,b,A){E===void 0&&(E=y),b===void 0&&(b=!0),A===void 0&&(A=!1),this.id=E,this.edgeIdAutoIncrease=b,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=A}return S.prototype.getNodeNum=function(){return this.nodes.length},S.prototype.addNode=function(E,b){if(!this.nodeMap[E]){var A=new p(E,b);this.nodes.push(A),this.nodeMap[E]=A,this.nodeLabelMap[b]||(this.nodeLabelMap[b]=[]),this.nodeLabelMap[b].push(E)}},S.prototype.addEdge=function(E,b,A,x){if((this.edgeIdAutoIncrease||E===void 0)&&(E=this.counter++),!(this.nodeMap[b]&&this.nodeMap[A]&&this.nodeMap[A].edgeMap[E])){var T=new L(E,b,A,x);if(this.edges.push(T),this.edgeMap[E]=T,this.nodeMap[b].addEdge(T),this.edgeLabelMap[x]||(this.edgeLabelMap[x]=[]),this.edgeLabelMap[x].push(T),!this.directed){var B=new L(E,A,b,x);this.nodeMap[A].addEdge(B),this.edgeLabelMap[x].push(B)}}},S}();W.Graph=g},882812:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=_(570655),R=L(_(975033)),w=L(_(821146)),M=L(_(878089)),P=_(770643);function L(z){return z&&z.__esModule?z:{default:z}}var p=function(k,X,K,tt){K===void 0&&(K="cluster"),tt===void 0&&(tt=2);var q=[],at=k.nodes;return X.forEach(function(pt,ct){q.push(g(at,pt,ct,K,tt))}),q},g=function(k,X,K,tt,q){var at=[K],pt=[],ct={};return X.forEach(function(St,vt){if(St<=q&&K!==vt){at.push(vt),pt.push(k[vt]);var Lt=k[vt][tt];ct[Lt]?(ct[Lt].count++,ct[Lt].dists.push(St)):ct[Lt]={count:1,dists:[St]}}}),Object.keys(ct).forEach(function(St){ct[St].dists=ct[St].dists.sort(function(vt,Lt){return vt-Lt})}),{nodeIdx:K,nodeId:k[K].id,nodeIdxs:at,neighbors:pt,neighborNum:at.length-1,nodeLabelCountMap:ct}},S=function(k,X,K,tt,q){var at=Math.ceil(K/X),pt={},ct=0;return tt.forEach(function(St,vt){for(var Lt=0,Mt=0,wt=St.nodeIdxs,et=St.neighborNum-1;Lt<at;){for(var rt=wt[1+Math.floor(Math.random()*et)],Ot=0;(pt["".concat(vt,"-").concat(rt)]||pt["".concat(rt,"-").concat(vt)])&&(rt=Math.floor(Math.random()*X),Ot++,!(Ot>2*X)););if(Ot<2*X&&(pt["".concat(vt,"-").concat(rt)]={start:vt,end:rt,distance:q[vt][rt]},Lt++,ct++,ct>=K))return pt;if(Mt++,Mt>2*X)break}if(Lt<at){var Dt=at-Lt;at=(at+Dt)/(X-vt-1)}}),pt},E=function(k,X,K,tt){var q=K.nodes;return tt||(tt={}),Object.keys(k).forEach(function(at){var pt,ct;if(!(tt&&tt[at])){tt[at]={nodes:[],edges:[]};var St=k[at],vt=(pt=X[St.start])===null||pt===void 0?void 0:pt.nodeIdxs,Lt=(ct=X[St.end])===null||ct===void 0?void 0:ct.nodeIdxs;if(!(!vt||!Lt)){var Mt=new Set(Lt),wt=vt.filter(function(ot){return Mt.has(ot)});if(!(!wt||!wt.length)){for(var et={},rt=wt.length,Ot=0;Ot<rt;Ot++){var Dt=q[wt[Ot]];tt[at].nodes.push(Dt),et[Dt.id]=!0}K.edges.forEach(function(ot){et[ot.source]&&et[ot.target]&&tt[at].edges.push(ot)})}}}}),tt},b=function(k,X,K,tt){var q,at,pt={};k.nodes.forEach(function(St){pt[St.id]=St});var ct=0;return!(!((q=X==null?void 0:X.edges)===null||q===void 0)&&q.length)||((at=X==null?void 0:X.nodes)===null||at===void 0?void 0:at.length)<2?0:(k.edges.forEach(function(St){var vt=pt[St.source][K],Lt=pt[St.target][K],Mt=X==null?void 0:X.nodes[0][K],wt=X==null?void 0:X.nodes[1][K],et=X==null?void 0:X.edges[0][tt];St[tt]===et&&(vt===Mt&&Lt===wt||vt===wt&&Lt===Mt)&&ct++}),ct)},A=function(k,X,K){for(var tt=1/0,q=0,at=function(St){var vt=k[St],Lt=Object.keys(vt).sort(function(ot,xt){return vt[ot]-vt[xt]}),Mt=10,wt=[];Lt.forEach(function(ot,xt){wt[xt%Mt]||(wt[xt%Mt]={graphs:[],totalCount:0,aveCount:0}),wt[xt%Mt].graphs.push(ot),wt[xt%Mt].totalCount+=vt[ot]});var et=0,rt=[];wt.forEach(function(ot){var xt=ot.totalCount/ot.graphs.length;ot.aveCount=xt,rt.push(xt);var Nt=0,Yt=ot.length;ot.graphs.forEach(function(Ct,Xt){var Zt=vt[Ct];ot.graphs.forEach(function(se,ie){Xt!==ie&&(Nt+=Math.abs(Zt-vt[se]))})}),Nt/=Yt*(Yt-1)/2,et+=Nt}),et/=wt.length;var Ot=0;rt.forEach(function(ot,xt){rt.forEach(function(Nt,Yt){xt!==Yt&&(Ot+=Math.abs(ot-Nt))}),Ot/=rt.length*(rt.length-1)/2});var Dt=Ot-et;tt<Dt&&(tt=Dt,q=St)},pt=0;pt<X;pt++)at(pt);return{structure:K[q],structureCountMap:k[q]}},x=function(k,X){var K={},tt={};return k.forEach(function(q,at){K[q.id]={idx:at,node:q,degree:0,inDegree:0,outDegree:0};var pt=q[X];tt[pt]||(tt[pt]=[]),tt[pt].push(q)}),{nodeMap:K,nodeLabelMap:tt}},T=function(k,X,K){var tt={},q={};return k.forEach(function(at,pt){tt["".concat(P.uniqueId)]={idx:pt,edge:at};var ct=at[X];q[ct]||(q[ct]=[]),q[ct].push(at);var St=K[at.source];St&&(St.degree++,St.outDegree++);var vt=K[at.target];vt&&(vt.degree++,vt.inDegree++)}),{edgeMap:tt,edgeLabelMap:q}},B=function(k,X,K){var tt=X.length,q={};return X.forEach(function(at,pt){for(var ct=K?0:pt+1,St=k[pt].id,vt=ct;vt<tt;vt++)if(pt!==vt){var Lt=k[vt].id,Mt=at[vt];q["".concat(St,"-").concat(Lt)]=Mt,K||(q["".concat(Lt,"-").concat(St)]=Mt)}}),q},m=function(k,X,K,tt,q,at,pt,ct,St,vt,Lt){var Mt,wt="".concat(X.id,"-").concat(K.id);if(vt&&vt[wt])return vt[wt];var et=Lt?Lt[wt]:void 0;if(!et){var rt=(Mt={},Mt[wt]={start:tt[X.id].idx,end:tt[K.id].idx,distance:q},Mt);Lt=E(rt,at,k,Lt),et=Lt[wt]}return b(et,pt,ct,St)},f=function(k,X,K,tt){var q,at,pt,ct=(q=k[X])===null||q===void 0?void 0:q.degree,St=(at=k[X])===null||at===void 0?void 0:at.inDegree,vt=(pt=k[X])===null||pt===void 0?void 0:pt.outDegree;return k[X]===void 0&&(ct=1/0,St=1/0,vt=1/0,tt[X].forEach(function(Lt){var Mt=K[Lt.id].degree;ct>Mt&&(ct=Mt);var wt=K[Lt.id].inDegree;St>wt&&(St=wt);var et=K[Lt.id].outDegree;vt>et&&(vt=et)}),k[X]={degree:ct,inDegree:St,outDegree:vt}),{minPatternNodeLabelDegree:ct,minPatternNodeLabelInDegree:St,minPatternNodeLabelOutDegree:vt}},U=function(k,X,K,tt,q,at,pt){var ct;if(K===void 0&&(K=!1),at===void 0&&(at="cluster"),pt===void 0&&(pt="cluster"),!(!k||!k.nodes)){var St=k.nodes.length;if(St){var vt=(0,R.default)(k,K),Lt=(0,R.default)(X,K),Mt=B(k.nodes,vt,K),wt=B(X.nodes,Lt,K),et=x(k.nodes,at),rt=et.nodeMap,Ot=et.nodeLabelMap,Dt=x(X.nodes,at),ot=Dt.nodeMap,xt=Dt.nodeLabelMap;T(k.edges,pt,rt);var Nt=T(X.edges,pt,ot).edgeLabelMap,Yt=[];Lt==null||Lt.forEach(function(Or){Yt=Yt.concat(Or)}),q||(q=Math.max.apply(Math,(0,y.__spreadArray)((0,y.__spreadArray)([],Yt,!1),[2],!1))),tt||(tt=q);var Ct=p(k,vt,at,tt),Xt=p(X,Lt,at,tt),Zt=Math.min(100,St*(St-1)/2),se=S(tt,St,Zt,Ct,vt),ie=E(se,Ct,k),zt=10,ae=1,Re=1,Jt=4,ue={graphs:ie,nodeLabelProp:at,edgeLabelProp:pt,minSupport:ae,minNodeNum:Re,maxNodeNum:Jt,directed:K},ke=(0,w.default)(ue).slice(0,zt),ye=ke.length,ee=[];ke.forEach(function(Or,sn){ee[sn]={},Object.keys(ie).forEach(function(ln){var cn=ie[ln],Cn=b(cn,Or,at,pt);ee[sn][ln]=Cn})});var Ut=A(ee,ye,ke),bt=Ut.structure,Ft=Ut.structureCountMap,be=X.nodes[0],qe=[],Pe=(ct=X.nodes[0])===null||ct===void 0?void 0:ct[at],Ze=-1/0;X.nodes.forEach(function(Or){var sn=Or[at],ln=Ot[sn];(ln==null?void 0:ln.length)>Ze&&(Ze=ln.length,qe=ln,Pe=sn,be=Or)});var Qe={},Ar={},Hr={},Jr={},Cr={},bn={};Object.keys(xt).forEach(function(Or,sn){Cr[Or]=[],K&&(bn[Or]=[]);var ln=-1/0,cn=xt[Or],Cn={};cn.forEach(function(lt){var Gt=wt["".concat(be.id,"-").concat(lt.id)];if(Gt&&Cr[Or].push(Gt),ln<Gt&&(ln=Gt),Cn["".concat(be.id,"-").concat(lt.id)]={start:0,end:ot[lt.id].idx,distance:Gt},K){var Qt=wt["".concat(lt.id,"-").concat(be.id)];Qt&&bn[Or].push(Qt)}}),Cr[Or]=Cr[Or].sort(function(lt,Gt){return lt-Gt}),K&&(bn[Or]=bn[Or].sort(function(lt,Gt){return lt-Gt})),Ar=E(Cn,Xt,X,Ar);var V=[];if(Object.keys(Cn).forEach(function(lt){if(Hr[lt]){V.push(Hr[lt]);return}var Gt=Ar[lt];Hr[lt]=b(Gt,bt,at,pt),V.push(Hr[lt])}),V=V.sort(function(lt,Gt){return Gt-lt}),Jr["".concat(be.id,"-").concat(Or)]=V,Or!==Pe)for(var $t=(qe==null?void 0:qe.length)||0,Q=function(Gt){var Qt=qe[Gt],he=Ct[rt[Qt.id].idx],de=he.nodeLabelCountMap[Or],fe=xt[Or].length;if(!de||de.count<fe)return qe.splice(Gt,1),"continue";for(var it=!1,ft=0;ft<fe;ft++)if(de.dists[ft]>Cr[Or][ft]){it=!0;break}if(it)return qe.splice(Gt,1),"continue";var G={};he.neighbors.forEach(function($){var mt=Mt["".concat(Qt.id,"-").concat($.id)];G["".concat(Qt.id,"-").concat($.id)]={start:rt[Qt.id].idx,end:rt[$.id].idx,distance:mt}}),ie=E(G,Ct,k,ie);var O=[];Object.keys(G).forEach(function($){if(Ft[$]){O.push(Ft[$]);return}var mt=ie[$];Ft[$]=b(mt,bt,at,pt),O.push(Ft[$])}),O=O.sort(function($,mt){return mt-$});for(var D=!1,ft=0;ft<fe;ft++)if(O[ft]<V[ft]){D=!0;break}if(D)return qe.splice(Gt,1),"continue"},gt=$t-1;gt>=0;gt--)Q(gt)});var Yr=[];qe==null||qe.forEach(function(Or){for(var sn=rt[Or.id].idx,ln=g(k.nodes,vt[sn],sn,at,q),cn=ln.neighbors,Cn=cn.length,V=!1,$t=Cn-1;$t>=0;$t--){if(cn.length+1<X.nodes.length){V=!0;return}var Q=cn[$t],gt=Q[at];if(!xt[gt]||!xt[gt].length){cn.splice($t,1);continue}if(!Cr[gt]||!Cr[gt].length){cn.splice($t,1);continue}var lt="".concat(Or.id,"-").concat(Q.id),Gt=Mt[lt],Qt=Cr[gt].length-1,he=Cr[gt][Qt];if(Gt>he){cn.splice($t,1);continue}if(K){var de="".concat(Q.id,"-").concat(Or.id),fe=Mt[de];Qt=bn[gt].length-1;var it=bn[gt][Qt];if(fe>it){cn.splice($t,1);continue}}var ft=Ft[lt]?Ft[lt]:m(k,Or,Q,rt,Gt,Ct,bt,at,pt,Ft,ie),G="".concat(be.id,"-").concat(gt),O=Jr[G][Jr[G].length-1];if(ft<O){cn.splice($t,1);continue}var D=f(Qe,gt,ot,xt),$=D.minPatternNodeLabelDegree,mt=D.minPatternNodeLabelInDegree,kt=D.minPatternNodeLabelOutDegree;if(rt[Q.id].degree<$){cn.splice($t,1);continue}}V||Yr.push({nodes:[Or].concat(cn)})});var Xe=(0,M.default)(X,be.id,!1).length,Ae={};K?(Object.keys(Xe).forEach(function(Or){var sn=ot[Or].node[at];Ae[sn]?Ae[sn].push(Xe[Or]):Ae[sn]=[Xe[Or]]}),Object.keys(Ae).forEach(function(Or){Ae[Or].sort(function(sn,ln){return sn-ln})})):Ae=Cr;for(var Ue=Yr.length,jr=function(sn){var ln=Yr[sn],cn=ln.nodes[0],Cn={},V={};ln.nodes.forEach(function(Pr,oe){V[Pr.id]={idx:oe,node:Pr,degree:0,inDegree:0,outDegree:0};var Wt=Pr[at];Cn[Wt]?Cn[Wt]++:Cn[Wt]=1});var $t=[],Q={};k.edges.forEach(function(Pr){V[Pr.source]&&V[Pr.target]&&($t.push(Pr),Q[Pr[pt]]?Q[Pr[pt]]++:Q[Pr[pt]]=1,V[Pr.source].degree++,V[Pr.target].degree++,V[Pr.source].outDegree++,V[Pr.target].inDegree++)});for(var gt=Object.keys(Nt).length,lt=!1,Gt=0;Gt<gt;Gt++){var Qt=Object.keys(Nt)[Gt];if(!Q[Qt]||Q[Qt]<Nt[Qt].length){lt=!0;break}}if(lt)return Yr.splice(sn,1),"continue";var he=$t.length;if(he<X.edges.length)return Yr.splice(sn,1),"break";for(var de=!1,fe=function(oe){var Wt=$t[oe],pe=Wt[pt],_e=Nt[pe];if(!_e||!_e.length)return Q[pe]--,_e&&Q[pe]<_e.length?(de=!0,"break"):($t.splice(oe,1),V[Wt.source].degree--,V[Wt.target].degree--,V[Wt.source].outDegree--,V[Wt.target].inDegree--,"continue");var xe=V[Wt.source].node[at],Ge=V[Wt.target].node[at],lr=!1;if(_e.forEach(function(gr){var Zr=ot[gr.source].node,Tn=ot[gr.target].node;Zr[at]===xe&&Tn[at]===Ge&&(lr=!0),!K&&Zr[at]===Ge&&Tn[at]===xe&&(lr=!0)}),!lr)return Q[pe]--,_e&&Q[pe]<_e.length?(de=!0,"break"):($t.splice(oe,1),V[Wt.source].degree--,V[Wt.target].degree--,V[Wt.source].outDegree--,V[Wt.target].inDegree--,"continue")},Gt=he-1;Gt>=0;Gt--){var it=fe(Gt);if(it==="break")break}if(de)return Yr.splice(sn,1),"continue";ln.edges=$t;var ft=(0,M.default)(ln,ln.nodes[0].id,!1).length;if(Object.keys(ft).reverse().forEach(function(Pr){if(!(Pr===ln.nodes[0].id||de)){if(ft[Pr]===1/0){var oe=V[Pr].node[at];if(Cn[oe]--,Cn[oe]<xt[oe].length){de=!0;return}var Wt=ln.nodes.indexOf(V[Pr].node);ln.nodes.splice(Wt,1),V[Pr]=void 0;return}var pe=rt[Pr].node[at];if(!Ae[pe]||!Ae[pe].length||ft[Pr]>Ae[pe][Ae[pe].length-1]){var oe=V[Pr].node[at];if(Cn[oe]--,Cn[oe]<xt[oe].length){de=!0;return}var Wt=ln.nodes.indexOf(V[Pr].node);ln.nodes.splice(Wt,1),V[Pr]=void 0}}}),de)return Yr.splice(sn,1),"continue";for(var G=!0,O=0;G&&!de;){G=!1;var D=K?V[cn.id].degree<ot[be.id].degree||V[cn.id].inDegree<ot[be.id].inDegree||V[cn.id].outDegree<ot[be.id].outDegree:V[cn.id].degree<ot[be.id].degree;if(D){de=!0;break}if(Cn[cn[at]]<xt[cn[at]].length){de=!0;break}for(var $=ln.nodes.length,mt=$-1;mt>=0;mt--){var kt=ln.nodes[mt],Rt=V[kt.id].degree,qt=V[kt.id].inDegree,Le=V[kt.id].outDegree,Me=kt[at],Ke=f(Qe,Me,ot,xt),vr=Ke.minPatternNodeLabelDegree,He=Ke.minPatternNodeLabelInDegree,Rr=Ke.minPatternNodeLabelOutDegree,fn=K?Rt<vr||qt<He||Le<Rr:Rt<vr;if(fn){if(Cn[kt[at]]--,Cn[kt[at]]<xt[kt[at]].length){de=!0;break}ln.nodes.splice(mt,1),V[kt.id]=void 0,G=!0}}if(de||!G&&O!==0)break;he=$t.length;for(var Je=he-1;Je>=0;Je--){var pr=$t[Je];if(!V[pr.source]||!V[pr.target]){$t.splice(Je,1);var kr=pr[pt];if(Q[kr]--,V[pr.source]&&(V[pr.source].degree--,V[pr.source].outDegree--),V[pr.target]&&(V[pr.target].degree--,V[pr.target].inDegree--),Nt[kr]&&Q[kr]<Nt[kr].length){de=!0;break}G=!0}}O++}if(de||de||ln.nodes.length<X.nodes.length||$t.length<X.edges.length)return Yr.splice(sn,1),"continue"},Br=Ue-1;Br>=0;Br--){var Sn=jr(Br);if(Sn==="break")break}for(var ir=Yr.length,mn=function(sn){var ln=Yr[sn],cn={};ln.edges.forEach(function($t){var Q="".concat($t.source,"-").concat($t.target,"-").concat($t.label);cn[Q]?cn[Q]++:cn[Q]=1});for(var Cn=function(Q){var gt=Yr[Q],lt={};gt.edges.forEach(function(Qt){var he="".concat(Qt.source,"-").concat(Qt.target,"-").concat(Qt.label);lt[he]?lt[he]++:lt[he]=1});var Gt=!0;Object.keys(lt).length!==Object.keys(cn).length?Gt=!1:Object.keys(cn).forEach(function(Qt){lt[Qt]!==cn[Qt]&&(Gt=!1)}),Gt&&Yr.splice(Q,1)},V=ir-1;V>sn;V--)Cn(V);ir=Yr.length},Br=0;Br<=ir-1;Br++)mn(Br);return Yr}}},j=U;W.default=j},505170:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=w(_(62238)),R=_(770643);function w(L){return L&&L.__esModule?L:{default:L}}var M=function(p,g,S,E){g===void 0&&(g=!1),S===void 0&&(S="weight"),E===void 0&&(E=1e3);var b=p.nodes,A=b===void 0?[]:b,x=p.edges,T=x===void 0?[]:x,B={},m={};A.forEach(function(at,pt){var ct=(0,R.uniqueId)();at.clusterId=ct,B[ct]={id:ct,nodes:[at]},m[at.id]={node:at,idx:pt}});var f=(0,y.default)(p,g),U=[],j={};f.forEach(function(at,pt){var ct=0,St=A[pt].id;j[St]={},at.forEach(function(vt,Lt){if(vt){ct+=vt;var Mt=A[Lt].id;j[St][Mt]=vt}}),U.push(ct)});for(var z=0,k=function(){var pt=!1;if(A.forEach(function(ct){var St={};Object.keys(j[ct.id]).forEach(function(Dt){var ot=j[ct.id][Dt],xt=m[Dt].node,Nt=xt.clusterId;St[Nt]||(St[Nt]=0),St[Nt]+=ot});var vt=-1/0,Lt=[];if(Object.keys(St).forEach(function(Dt){vt<St[Dt]?(vt=St[Dt],Lt=[Dt]):vt===St[Dt]&&Lt.push(Dt)}),!(Lt.length===1&&Lt[0]===ct.clusterId)){var Mt=Lt.indexOf(ct.clusterId);if(Mt>=0&&Lt.splice(Mt,1),Lt&&Lt.length){pt=!0;var wt=B[ct.clusterId],et=wt.nodes.indexOf(ct);wt.nodes.splice(et,1);var rt=Math.floor(Math.random()*Lt.length),Ot=B[Lt[rt]];Ot.nodes.push(ct),ct.clusterId=Ot.id}}}),!pt)return"break";z++};z<E;){var X=k();if(X==="break")break}Object.keys(B).forEach(function(at){var pt=B[at];(!pt.nodes||!pt.nodes.length)&&delete B[at]});var K=[],tt={};T.forEach(function(at){var pt=at.source,ct=at.target,St=at[S]||1,vt=m[pt].node.clusterId,Lt=m[ct].node.clusterId,Mt="".concat(vt,"---").concat(Lt);if(tt[Mt])tt[Mt].weight+=St,tt[Mt].count++;else{var wt={source:vt,target:Lt,weight:St,count:1};tt[Mt]=wt,K.push(wt)}});var q=[];return Object.keys(B).forEach(function(at){q.push(B[at])}),{clusters:q,clusterEdges:K}},P=M;W.default=P},135179:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=_(413810),R=L(_(62238)),w=L(_(29741)),M=_(103665),P=_(526838);function L(b){return b&&b.__esModule?b:{default:b}}var p=function(A,x,T,B){for(var m=x.length,f=2*B,U=0,j=0;j<m;j++)for(var z=A[j].clusterId,k=0;k<m;k++){var X=A[k].clusterId;if(z===X){var K=x[j][k]||0,tt=T[j]||0,q=T[k]||0;U+=K-tt*q/f}}return U*=1/f,U},g=function(A,x){A===void 0&&(A=[]);for(var T=A.length,B=new w.default([]),m=0;m<T;m++)B=B.add(new w.default(x[m]));var f=B.avg(T);f.normalize();for(var U=0,m=0;m<T;m++){var j=new w.default(x[m]),z=j.squareEuclideanDistance(f);U+=z}var k=[];A.forEach(function(){k.push([])});for(var m=0;m<T;m++){var j=new w.default(x[m]);A[m].clusterInertial=0;for(var X=0;X<T;X++){if(m===X){k[m][X]=0;continue}var K=new w.default(x[X]);k[m][X]=j.squareEuclideanDistance(K),A[m].clusterInertial+=k[m][X]}}for(var tt=0,q=2*T*U,m=0;m<T;m++)for(var at=A[m].clusterId,X=0;X<T;X++){var pt=A[X].clusterId;if(!(m===X||at!==pt)){var ct=A[m].clusterInertial*A[X].clusterInertial/Math.pow(q,2)-k[m][X]/q;tt+=ct}}return Number(tt.toFixed(4))},S=function(A,x,T,B,m,f,U,j,z){x===void 0&&(x=!1),T===void 0&&(T="weight"),B===void 0&&(B=1e-4),m===void 0&&(m=!1),f===void 0&&(f=void 0),U===void 0&&(U=[]),j===void 0&&(j=["id"]),z===void 0&&(z=1);var k=A.nodes,X=k===void 0?[]:k,K=A.edges,tt=K===void 0?[]:K,q=[];if(m){X.forEach(function(ie,zt){ie.properties=ie.properties||{},ie.originIndex=zt});var at=[];X.every(function(ie){return ie.hasOwnProperty("nodeType")})&&(at=Array.from(new Set(X.map(function(ie){return ie.nodeType}))),X.forEach(function(ie){ie.properties.nodeType=at.findIndex(function(zt){return zt===ie.nodeType})}));var pt=(0,M.getAllProperties)(X,f);q=(0,P.oneHot)(pt,U,j)}var ct=1,St={},vt={};X.forEach(function(ie,zt){var ae=String(ct++);ie.clusterId=ae,St[ae]={id:ae,nodes:[ie]},vt[ie.id]={node:ie,idx:zt}});var Lt=(0,R.default)(A,x),Mt=[],wt={},et=0;Lt.forEach(function(ie,zt){var ae=0,Re=X[zt].id;wt[Re]={},ie.forEach(function(Jt,ue){if(Jt){ae+=Jt;var ke=X[ue].id;wt[Re][ke]=Jt,et+=Jt}}),Mt.push(ae)}),et/=2;for(var rt=1/0,Ot=1/0,Dt=0,ot=[],xt={};;){m&&X.every(function(ie){return ie.hasOwnProperty("properties")})?rt=p(X,Lt,Mt,et)+g(X,q)*z:rt=p(X,Lt,Mt,et),Dt===0&&(Ot=rt,ot=X,xt=St);var Nt=rt>0&&rt>Ot&&rt-Ot<B;if(rt>Ot&&(ot=X.map(function(ie){return{node:ie,clusterId:ie.clusterId}}),xt=(0,y.clone)(St),Ot=rt),Nt||Dt>100)break;Dt++,Object.keys(St).forEach(function(ie){var zt=0;tt.forEach(function(ae){var Re=ae.source,Jt=ae.target,ue=vt[Re].node.clusterId,ke=vt[Jt].node.clusterId;(ue===ie&&ke!==ie||ke===ie&&ue!==ie)&&(zt=zt+(ae[T]||1))}),St[ie].sumTot=zt}),X.forEach(function(ie,zt){var ae=St[ie.clusterId],Re=0,Jt,ue=Mt[zt]/(2*et),ke=0,ye=ae.nodes;ye.forEach(function(Ar){var Hr=vt[Ar.id].idx;ke+=Lt[zt][Hr]||0});var ee=ke-ae.sumTot*ue,Ut=ye.filter(function(Ar){return Ar.id!==ie.id}),bt=[];Ut.forEach(function(Ar,Hr){bt[Hr]=q[Ar.originIndex]});var Ft=g(Ut,q)*z,be=wt[ie.id];if(Object.keys(be).forEach(function(Ar){var Hr=vt[Ar].node,Jr=Hr.clusterId;if(Jr!==ie.clusterId){var Cr=St[Jr],bn=Cr.nodes;if(!(!bn||!bn.length)){var Yr=0;bn.forEach(function(Sn){var ir=vt[Sn.id].idx;Yr+=Lt[zt][ir]||0});var Xe=Yr-Cr.sumTot*ue,Ae=bn.concat([ie]),Ue=[];Ae.forEach(function(Sn,ir){Ue[ir]=q[Sn.originIndex]});var jr=g(Ae,q)*z,Br=Xe-ee;m&&(Br=Xe+jr-(ee+Ft)),Br>Re&&(Re=Br,Jt=Cr)}}}),Re>0){Jt.nodes.push(ie);var qe=ie.clusterId;ie.clusterId=Jt.id;var Pe=ae.nodes.indexOf(ie);ae.nodes.splice(Pe,1);var Ze=0,Qe=0;tt.forEach(function(Ar){var Hr=Ar.source,Jr=Ar.target,Cr=vt[Hr].node.clusterId,bn=vt[Jr].node.clusterId;(Cr===Jt.id&&bn!==Jt.id||bn===Jt.id&&Cr!==Jt.id)&&(Ze=Ze+(Ar[T]||1)),(Cr===qe&&bn!==qe||bn===qe&&Cr!==qe)&&(Qe=Qe+(Ar[T]||1))}),Jt.sumTot=Ze,ae.sumTot=Qe}})}var Yt={},Ct=0;Object.keys(xt).forEach(function(ie){var zt=xt[ie];if(!zt.nodes||!zt.nodes.length){delete xt[ie];return}var ae=String(Ct+1);ae!==ie&&(zt.id=ae,zt.nodes=zt.nodes.map(function(Re){return{id:Re.id,clusterId:ae}}),xt[ae]=zt,Yt[ie]=ae,delete xt[ie],Ct++)}),ot.forEach(function(ie){var zt=ie.node,ae=ie.clusterId;zt&&(zt.clusterId=ae,zt.clusterId&&Yt[zt.clusterId]&&(zt.clusterId=Yt[zt.clusterId]))});var Xt=[],Zt={};tt.forEach(function(ie){var zt=ie.source,ae=ie.target,Re=ie[T]||1,Jt=vt[zt].node.clusterId,ue=vt[ae].node.clusterId;if(!(!Jt||!ue)){var ke="".concat(Jt,"---").concat(ue);if(Zt[ke])Zt[ke].weight+=Re,Zt[ke].count++;else{var ye={source:Jt,target:ue,weight:Re,count:1};Zt[ke]=ye,Xt.push(ye)}}});var se=[];return Object.keys(xt).forEach(function(ie){se.push(xt[ie])}),{clusters:se,clusterEdges:Xt}},E=S;W.default=E},689454:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=M(_(838823)),R=M(_(257085)),w=_(770643);function M(S){return S&&S.__esModule?S:{default:S}}var P=function(E,b){var A=[],x=E.nodes,T=x===void 0?[]:x,B=E.edges,m=B===void 0?[]:B;if(T.length===0)return A;var f=T[0],U=new Set;U.add(f);var j=function(q,at){return b?q.weight-at.weight:0},z=new R.default(j);for((0,w.getEdgesByNodeId)(f.id,m).forEach(function(tt){z.insert(tt)});!z.isEmpty();){var k=z.delMin(),X=k.source,K=k.target;U.has(X)&&U.has(K)||(A.push(k),U.has(X)||(U.add(X),(0,w.getEdgesByNodeId)(X,m).forEach(function(tt){z.insert(tt)})),U.has(K)||(U.add(K),(0,w.getEdgesByNodeId)(K,m).forEach(function(tt){z.insert(tt)})))}return A},L=function(E,b){var A=[],x=E.nodes,T=x===void 0?[]:x,B=E.edges,m=B===void 0?[]:B;if(T.length===0)return A;var f=m.map(function(X){return X});b&&f.sort(function(X,K){return X.weight-K.weight});for(var U=new y.default(T.map(function(X){return X.id}));f.length>0;){var j=f.shift(),z=j.source,k=j.target;U.connected(z,k)||(A.push(j),U.union(z,k))}return A},p=function(E,b,A){var x={prim:P,kruskal:L};return A?x[A](E,b):L(E,b)},g=p;W.default=g},274926:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=w(_(182556)),R=_(770643);function w(L){return L&&L.__esModule?L:{default:L}}var M=function(p,g,S){typeof g!="number"&&(g=1e-6),typeof S!="number"&&(S=.85);for(var E=1,b=0,A=1e3,x=p.nodes,T=x===void 0?[]:x,B=p.edges,m=B===void 0?[]:B,f=T.length,U,j={},z={},k=0;k<f;++k){var X=T[k],K=X.id;j[K]=1/f,z[K]=1/f}for(var tt=(0,y.default)(p);A>0&&E>g;){b=0;for(var k=0;k<f;++k){var X=T[k],K=X.id;if(U=0,tt[X.id].inDegree===0)j[K]=0;else{for(var q=(0,R.getNeighbors)(K,m,"source"),at=0;at<q.length;++at){var pt=q[at],ct=tt[pt].outDegree;ct>0&&(U+=z[pt]/ct)}j[K]=S*U,b+=j[K]}}b=(1-b)/f,E=0;for(var k=0;k<f;++k){var X=T[k],K=X.id;U=j[K]+b,E+=Math.abs(U-z[K]),z[K]=U}A-=1}return z},P=M;W.default=P},257085:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var _=function(M,P){return M-P},y=function(){function w(M){M===void 0&&(M=_),this.compareFn=M,this.list=[]}return w.prototype.getLeft=function(M){return 2*M+1},w.prototype.getRight=function(M){return 2*M+2},w.prototype.getParent=function(M){return M===0?null:Math.floor((M-1)/2)},w.prototype.isEmpty=function(){return this.list.length<=0},w.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},w.prototype.delMin=function(){var M=this.top(),P=this.list.pop();return this.list.length>0&&(this.list[0]=P,this.moveDown(0)),M},w.prototype.insert=function(M){if(M!==null){this.list.push(M);var P=this.list.length-1;return this.moveUp(P),!0}return!1},w.prototype.moveUp=function(M){for(var P=this.getParent(M);M&&M>0&&this.compareFn(this.list[P],this.list[M])>0;){var L=this.list[P];this.list[P]=this.list[M],this.list[M]=L,M=P,P=this.getParent(M)}},w.prototype.moveDown=function(M){var P,L=M,p=this.getLeft(M),g=this.getRight(M),S=this.list.length;p!==null&&p<S&&this.compareFn(this.list[L],this.list[p])>0?L=p:g!==null&&g<S&&this.compareFn(this.list[L],this.list[g])>0&&(L=g),M!==L&&(P=[this.list[L],this.list[M]],this.list[M]=P[0],this.list[L]=P[1],this.moveDown(L))},w}(),R=y;W.default=R},488481:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=W.LinkedListNode=void 0;var _=function(P,L){return P===L},y=function(){function M(P,L){L===void 0&&(L=null),this.value=P,this.next=L}return M.prototype.toString=function(P){return P?P(this.value):"".concat(this.value)},M}();W.LinkedListNode=y;var R=function(){function M(P){P===void 0&&(P=_),this.head=null,this.tail=null,this.compare=P}return M.prototype.prepend=function(P){var L=new y(P,this.head);return this.head=L,this.tail||(this.tail=L),this},M.prototype.append=function(P){var L=new y(P);return this.head?(this.tail.next=L,this.tail=L,this):(this.head=L,this.tail=L,this)},M.prototype.delete=function(P){if(!this.head)return null;for(var L=null;this.head&&this.compare(this.head.value,P);)L=this.head,this.head=this.head.next;var p=this.head;if(p!==null)for(;p.next;)this.compare(p.next.value,P)?(L=p.next,p.next=p.next.next):p=p.next;return this.compare(this.tail.value,P)&&(this.tail=p),L},M.prototype.find=function(P){var L=P.value,p=L===void 0?void 0:L,g=P.callback,S=g===void 0?void 0:g;if(!this.head)return null;for(var E=this.head;E;){if(S&&S(E.value)||p!==void 0&&this.compare(E.value,p))return E;E=E.next}return null},M.prototype.deleteTail=function(){var P=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,P;for(var L=this.head;L.next;)L.next.next?L=L.next:L.next=null;return this.tail=L,P},M.prototype.deleteHead=function(){if(!this.head)return null;var P=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),P},M.prototype.fromArray=function(P){var L=this;return P.forEach(function(p){return L.append(p)}),this},M.prototype.toArray=function(){for(var P=[],L=this.head;L;)P.push(L),L=L.next;return P},M.prototype.reverse=function(){for(var P=this.head,L=null,p=null;P;)p=P.next,P.next=L,L=P,P=p;this.tail=this.head,this.head=L},M.prototype.toString=function(P){return P===void 0&&(P=void 0),this.toArray().map(function(L){return L.toString(P)}).toString()},M}(),w=R;W.default=w},893026:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=R(_(488481));function R(P){return P&&P.__esModule?P:{default:P}}var w=function(){function P(){this.linkedList=new y.default}return P.prototype.isEmpty=function(){return!this.linkedList.head},P.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},P.prototype.enqueue=function(L){this.linkedList.append(L)},P.prototype.dequeue=function(){var L=this.linkedList.deleteHead();return L?L.value:null},P.prototype.toString=function(L){return this.linkedList.toString(L)},P}(),M=w;W.default=M},838823:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var _=function(){function R(w){this.count=w.length,this.parent={};for(var M=0,P=w;M<P.length;M++){var L=P[M];this.parent[L]=L}}return R.prototype.find=function(w){for(;this.parent[w]!==w;)w=this.parent[w];return w},R.prototype.union=function(w,M){var P=this.find(w),L=this.find(M);P!==L&&(P<L?(this.parent[M]!==M&&this.union(this.parent[M],w),this.parent[M]=this.parent[w]):(this.parent[w]!==w&&this.union(this.parent[w],M),this.parent[w]=this.parent[M]))},R.prototype.connected=function(w,M){return this.find(w)===this.find(M)},R}(),y=_;W.default=y},317892:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.DistanceType=void 0;var _;W.DistanceType=_,function(y){y.EuclideanDistance="euclideanDistance"}(_||(W.DistanceType=_={}))},770643:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.uniqueId=W.getOutEdgesNodeId=W.getNeighbors=W.getEdgesByNodeId=void 0;var _=function(P,L,p){L===void 0&&(L=[]);var g=L.filter(function(A){return A.source===P||A.target===P});if(p==="target"){var S=function(x){return x.source===P};return g.filter(S).map(function(A){return A.target})}if(p==="source"){var E=function(x){return x.target===P};return g.filter(E).map(function(A){return A.source})}var b=function(x){return x.source===P?x.target:x.source};return g.map(b)};W.getNeighbors=_;var y=function(P,L){return L.filter(function(p){return p.source===P})};W.getOutEdgesNodeId=y;var R=function(P,L){return L.filter(function(p){return p.source===P||p.target===P})};W.getEdgesByNodeId=R;var w=function(P){P===void 0&&(P=0);var L="".concat(Math.random()).split(".")[1].substr(0,5),p="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(P,"-").concat(L).concat(p)};W.uniqueId=w},526838:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.oneHot=W.getDistance=W.getAllKeyValueMap=W.default=void 0;var y=_(413810),R=_(317892),w=M(_(29741));function M(S){return S&&S.__esModule?S:{default:S}}var P=function(E,b,A){var x=[];b!=null&&b.length?x=b:(E.forEach(function(B){x=x.concat(Object.keys(B))}),x=(0,y.uniq)(x));var T={};return x.forEach(function(B){var m=[];E.forEach(function(f){f[B]!==void 0&&f[B]!==""&&m.push(f[B])}),m.length&&!(A!=null&&A.includes(B))&&(T[B]=(0,y.uniq)(m))}),T};W.getAllKeyValueMap=P;var L=function(E,b,A){var x=P(E,b,A),T=[];if(!Object.keys(x).length)return T;var B=Object.values(x),m=B.every(function(f){return f.every(function(U){return typeof U=="number"})});return E.forEach(function(f,U){var j=[];Object.keys(x).forEach(function(z){var k=f[z],X=x[z],K=X.findIndex(function(at){return k===at}),tt=[];if(m)tt.push(k);else for(var q=0;q<X.length;q++)q===K?tt.push(1):tt.push(0);j=j.concat(tt)}),T[U]=j}),T};W.oneHot=L;var p=function(E,b,A,x){A===void 0&&(A=R.DistanceType.EuclideanDistance);var T=0;switch(A){case R.DistanceType.EuclideanDistance:T=new w.default(E).euclideanDistance(new w.default(b));break;default:break}return T};W.getDistance=p;var g={getAllKeyValueMap:P,oneHot:L,getDistance:p};W.default=g},103665:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.getPropertyWeight=W.getAllSortProperties=W.getAllProperties=W.default=void 0;var y=_(592935),R=function(g,S){g===void 0&&(g=[]),S===void 0&&(S=100);var E={};g.forEach(function(A){A.properties&&Object.keys(A.properties).forEach(function(x){if(x==="id"||!"".concat(A.properties[x]).match(y.secondReg)&&!"".concat(A.properties[x]).match(y.dateReg)&&isNaN(Number(A.properties[x]))){E.hasOwnProperty(x)&&delete E[x];return}E.hasOwnProperty(x)?E[x]+=1:E[x]=1})});var b=Object.keys(E).sort(function(A,x){return E[x]-E[A]});return b.length<S?b:b.slice(0,S)};W.getAllSortProperties=R;var w=function(g,S){return S.map(function(E){return g.hasOwnProperty(E)?g[E]:0})},M=function(g){for(var S=R(g),E=[],b=0;b<g.length;b++)E[b]=w(g[b].properties,S);return E};W.getPropertyWeight=M;var P=function(g,S){S===void 0&&(S=void 0);var E=[];return g.forEach(function(b){S===void 0&&E.push(b),b[S]!==void 0&&E.push(b[S])}),E};W.getAllProperties=P;var L={getAllSortProperties:R,getPropertyWeight:M,getAllProperties:P};W.default=L},29741:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=_(413810),R=function(){function M(P){this.arr=P}return M.prototype.getArr=function(){return this.arr||[]},M.prototype.add=function(P){var L,p=P.arr;if(!(!((L=this.arr)===null||L===void 0)&&L.length))return new M(p);if(!(p!=null&&p.length))return new M(this.arr);if(this.arr.length===p.length){var g=[];for(var S in this.arr)g[S]=this.arr[S]+p[S];return new M(g)}},M.prototype.subtract=function(P){var L,p=P.arr;if(!(!((L=this.arr)===null||L===void 0)&&L.length))return new M(p);if(!(p!=null&&p.length))return new M(this.arr);if(this.arr.length===p.length){var g=[];for(var S in this.arr)g[S]=this.arr[S]-p[S];return new M(g)}},M.prototype.avg=function(P){var L=[];if(P!==0)for(var p in this.arr)L[p]=this.arr[p]/P;return new M(L)},M.prototype.negate=function(){var P=[];for(var L in this.arr)P[L]=-this.arr[L];return new M(P)},M.prototype.squareEuclideanDistance=function(P){var L,p=P.arr;if(!(!((L=this.arr)===null||L===void 0)&&L.length)||!(p!=null&&p.length))return 0;if(this.arr.length===p.length){var g=0;for(var S in this.arr)g+=Math.pow(this.arr[S]-P.arr[S],2);return g}},M.prototype.euclideanDistance=function(P){var L,p=P.arr;if(!(!((L=this.arr)===null||L===void 0)&&L.length)||!(p!=null&&p.length))return 0;if(this.arr.length===p.length){var g=0;for(var S in this.arr)g+=Math.pow(this.arr[S]-P.arr[S],2);return Math.sqrt(g)}else console.error("The two vectors are unequal in length.")},M.prototype.normalize=function(){var P=[],L=(0,y.clone)(this.arr);L.sort(function(E,b){return E-b});var p=L[L.length-1],g=L[0];for(var S in this.arr)P[S]=(this.arr[S]-g)/(p-g);return new M(P)},M.prototype.norm2=function(){var P;if(!(!((P=this.arr)===null||P===void 0)&&P.length))return 0;var L=0;for(var p in this.arr)L+=Math.pow(this.arr[p],2);return Math.sqrt(L)},M.prototype.dot=function(P){var L,p=P.arr;if(!(!((L=this.arr)===null||L===void 0)&&L.length)||!(p!=null&&p.length))return 0;if(this.arr.length===p.length){var g=0;for(var S in this.arr)g+=this.arr[S]*P.arr[S];return g}else console.error("The two vectors are unequal in length.")},M.prototype.equal=function(P){var L,p=P.arr;if(((L=this.arr)===null||L===void 0?void 0:L.length)!==(p==null?void 0:p.length))return!1;for(var g in this.arr)if(this.arr[g]!==p[g])return!1;return!0},M}(),w=R;W.default=w},831656:function(Ve,W,_){"use strict";function y(z){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},y(z)}Object.defineProperty(W,"__esModule",{value:!0}),Object.defineProperty(W,"GADDI",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(W,"breadthFirstSearch",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(W,"connectedComponent",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(W,"depthFirstSearch",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(W,"detectCycle",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(W,"dijkstra",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(W,"findAllPath",{enumerable:!0,get:function(){return S.findAllPath}}),Object.defineProperty(W,"findShortestPath",{enumerable:!0,get:function(){return S.findShortestPath}}),Object.defineProperty(W,"floydWarshall",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(W,"getAdjMatrix",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(W,"getDegree",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(W,"getInDegree",{enumerable:!0,get:function(){return P.getInDegree}}),Object.defineProperty(W,"getNeighbors",{enumerable:!0,get:function(){return m.getNeighbors}}),Object.defineProperty(W,"getOutDegree",{enumerable:!0,get:function(){return P.getOutDegree}}),Object.defineProperty(W,"labelPropagation",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(W,"louvain",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(W,"minimumSpanningTree",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(W,"pageRank",{enumerable:!0,get:function(){return T.default}});var R=j(_(62238)),w=j(_(683764)),M=j(_(759527)),P=U(_(182556)),L=j(_(994282)),p=j(_(45891)),g=j(_(878089)),S=_(241727),E=j(_(975033)),b=j(_(505170)),A=j(_(135179)),x=j(_(689454)),T=j(_(274926)),B=j(_(882812)),m=_(770643);function f(z){if(typeof WeakMap!="function")return null;var k=new WeakMap,X=new WeakMap;return(f=function(tt){return tt?X:k})(z)}function U(z,k){if(!k&&z&&z.__esModule)return z;if(z===null||y(z)!=="object"&&typeof z!="function")return{default:z};var X=f(k);if(X&&X.has(z))return X.get(z);var K={},tt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var q in z)if(q!=="default"&&Object.prototype.hasOwnProperty.call(z,q)){var at=tt?Object.getOwnPropertyDescriptor(z,q):null;at&&(at.get||at.set)?Object.defineProperty(K,q,at):K[q]=z[q]}return K.default=z,X&&X.set(z,K),K}function j(z){return z&&z.__esModule?z:{default:z}}},66044:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.MESSAGE=W.ALGORITHM=void 0;var _={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};W.ALGORITHM=_;var y={SUCCESS:"SUCCESS",FAILURE:"FAILURE"};W.MESSAGE=y},70585:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=_(66044),R=w(_(612067));function w(L){return L&&L.__esModule?L:{default:L}}var M=function(p){return function(){for(var g=[],S=0;S<arguments.length;S++)g[S]=arguments[S];return new Promise(function(E,b){var A=new R.default;A.postMessage({_algorithmType:p,data:g}),A.onmessage=function(x){var T=x.data,B=T.data,m=T._algorithmType;y.MESSAGE.SUCCESS===m?E(B):b(),A.terminate()}})}},P=M;W.default=P},430485:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.pageRankAsync=W.minimumSpanningTreeAsync=W.louvainAsync=W.labelPropagationAsync=W.getOutDegreeAsync=W.getNeighborsAsync=W.getInDegreeAsync=W.getDegreeAsync=W.getAdjMatrixAsync=W.floydWarshallAsync=W.findShortestPathAsync=W.findAllPathAsync=W.dijkstraAsync=W.detectCycleAsync=W.detectAllUndirectedCycleAsync=W.detectAllDirectedCycleAsync=W.detectAllCyclesAsync=W.connectedComponentAsync=W.GADDIAsync=void 0;var y=w(_(70585)),R=_(66044);function w(K){return K&&K.__esModule?K:{default:K}}var M=function(tt,q){return(0,y.default)(R.ALGORITHM.getAdjMatrix).apply(void 0,[tt,q])};W.getAdjMatrixAsync=M;var P=function(tt,q){return(0,y.default)(R.ALGORITHM.connectedComponent).apply(void 0,[tt,q])};W.connectedComponentAsync=P;var L=function(tt){return(0,y.default)(R.ALGORITHM.getDegree)(tt)};W.getDegreeAsync=L;var p=function(tt,q){return(0,y.default)(R.ALGORITHM.getInDegree)(tt,q)};W.getInDegreeAsync=p;var g=function(tt,q){return(0,y.default)(R.ALGORITHM.getOutDegree)(tt,q)};W.getOutDegreeAsync=g;var S=function(tt){return(0,y.default)(R.ALGORITHM.detectCycle)(tt)};W.detectCycleAsync=S;var E=function(tt){return(0,y.default)(R.ALGORITHM.detectAllCycles)(tt)};W.detectAllCyclesAsync=E;var b=function(tt){return(0,y.default)(R.ALGORITHM.detectAllDirectedCycle)(tt)};W.detectAllDirectedCycleAsync=b;var A=function(tt){return(0,y.default)(R.ALGORITHM.detectAllUndirectedCycle)(tt)};W.detectAllUndirectedCycleAsync=A;var x=function(tt,q,at,pt){return(0,y.default)(R.ALGORITHM.dijkstra).apply(void 0,[tt,q,at,pt])};W.dijkstraAsync=x;var T=function(tt,q,at,pt){return(0,y.default)(R.ALGORITHM.findAllPath).apply(void 0,[tt,q,at,pt])};W.findAllPathAsync=T;var B=function(tt,q,at,pt,ct){return(0,y.default)(R.ALGORITHM.findShortestPath).apply(void 0,[tt,q,at,pt,ct])};W.findShortestPathAsync=B;var m=function(tt,q){return(0,y.default)(R.ALGORITHM.floydWarshall).apply(void 0,[tt,q])};W.floydWarshallAsync=m;var f=function(tt,q,at,pt){return pt===void 0&&(pt=1e3),(0,y.default)(R.ALGORITHM.labelPropagation)(tt,q,at,pt)};W.labelPropagationAsync=f;var U=function(tt,q,at,pt){return(0,y.default)(R.ALGORITHM.louvain)(tt,q,at,pt)};W.louvainAsync=U;var j=function(tt,q,at){return(0,y.default)(R.ALGORITHM.minimumSpanningTree).apply(void 0,[tt,q,at])};W.minimumSpanningTreeAsync=j;var z=function(tt,q,at){return(0,y.default)(R.ALGORITHM.pageRank).apply(void 0,[tt,q,at])};W.pageRankAsync=z;var k=function(tt,q,at){return(0,y.default)(R.ALGORITHM.getNeighbors).apply(void 0,[tt,q,at])};W.getNeighborsAsync=k;var X=function(tt,q,at,pt,ct,St,vt){return at===void 0&&(at=!1),St===void 0&&(St="cluster"),vt===void 0&&(vt="cluster"),(0,y.default)(R.ALGORITHM.GADDI).apply(void 0,[tt,q,at,pt,ct,St,vt])};W.GADDIAsync=X},612067:function(Ve,W,_){"use strict";function y(g){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},y(g)}Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var R=P(_(831656)),w=_(66044);function M(g){if(typeof WeakMap!="function")return null;var S=new WeakMap,E=new WeakMap;return(M=function(A){return A?E:S})(g)}function P(g,S){if(!S&&g&&g.__esModule)return g;if(g===null||y(g)!=="object"&&typeof g!="function")return{default:g};var E=M(S);if(E&&E.has(g))return E.get(g);var b={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in g)if(x!=="default"&&Object.prototype.hasOwnProperty.call(g,x)){var T=A?Object.getOwnPropertyDescriptor(g,x):null;T&&(T.get||T.set)?Object.defineProperty(b,x,T):b[x]=g[x]}return b.default=g,E&&E.set(g,b),b}var L=typeof self!="undefined"?self:{};L.onmessage=function(g){var S=g.data,E=S._algorithmType,b=S.data;if(E){if(typeof R[E]=="function"){var A=R[E].apply(R,b);L.postMessage({_algorithmType:w.MESSAGE.SUCCESS,data:A});return}L.postMessage({_algorithmType:w.MESSAGE.FAILURE})}};var p=null;W.default=p},901029:function(Ve,W,_){"use strict";_.r(W),_.d(W,{Kernel:function(){return St},World:function(){return Cn}});var y=_(115861),R=_(204942),w=_(215671),M=_(143144),P=_(936719),L=_.n(P),p=_(281763),g=_.n(p),S=_(701469),E=_.n(S),b=_(364687),A=_.n(b),x=null,T=1;function B(){return T++}var m=null,f=null,U;(function(V){V[V.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",V[V.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",V[V.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",V[V.POINTS=0]="POINTS",V[V.LINES=1]="LINES",V[V.LINE_LOOP=2]="LINE_LOOP",V[V.LINE_STRIP=3]="LINE_STRIP",V[V.TRIANGLES=4]="TRIANGLES",V[V.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",V[V.TRIANGLE_FAN=6]="TRIANGLE_FAN",V[V.ZERO=0]="ZERO",V[V.ONE=1]="ONE",V[V.SRC_COLOR=768]="SRC_COLOR",V[V.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",V[V.SRC_ALPHA=770]="SRC_ALPHA",V[V.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",V[V.DST_ALPHA=772]="DST_ALPHA",V[V.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",V[V.DST_COLOR=774]="DST_COLOR",V[V.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",V[V.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",V[V.FUNC_ADD=32774]="FUNC_ADD",V[V.BLEND_EQUATION=32777]="BLEND_EQUATION",V[V.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",V[V.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",V[V.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",V[V.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",V[V.MAX_EXT=32776]="MAX_EXT",V[V.MIN_EXT=32775]="MIN_EXT",V[V.BLEND_DST_RGB=32968]="BLEND_DST_RGB",V[V.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",V[V.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",V[V.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",V[V.CONSTANT_COLOR=32769]="CONSTANT_COLOR",V[V.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",V[V.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",V[V.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",V[V.BLEND_COLOR=32773]="BLEND_COLOR",V[V.ARRAY_BUFFER=34962]="ARRAY_BUFFER",V[V.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",V[V.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",V[V.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",V[V.STREAM_DRAW=35040]="STREAM_DRAW",V[V.STATIC_DRAW=35044]="STATIC_DRAW",V[V.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",V[V.BUFFER_SIZE=34660]="BUFFER_SIZE",V[V.BUFFER_USAGE=34661]="BUFFER_USAGE",V[V.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",V[V.FRONT=1028]="FRONT",V[V.BACK=1029]="BACK",V[V.FRONT_AND_BACK=1032]="FRONT_AND_BACK",V[V.CULL_FACE=2884]="CULL_FACE",V[V.BLEND=3042]="BLEND",V[V.DITHER=3024]="DITHER",V[V.STENCIL_TEST=2960]="STENCIL_TEST",V[V.DEPTH_TEST=2929]="DEPTH_TEST",V[V.SCISSOR_TEST=3089]="SCISSOR_TEST",V[V.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",V[V.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",V[V.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",V[V.NO_ERROR=0]="NO_ERROR",V[V.INVALID_ENUM=1280]="INVALID_ENUM",V[V.INVALID_VALUE=1281]="INVALID_VALUE",V[V.INVALID_OPERATION=1282]="INVALID_OPERATION",V[V.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",V[V.CW=2304]="CW",V[V.CCW=2305]="CCW",V[V.LINE_WIDTH=2849]="LINE_WIDTH",V[V.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",V[V.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",V[V.CULL_FACE_MODE=2885]="CULL_FACE_MODE",V[V.FRONT_FACE=2886]="FRONT_FACE",V[V.DEPTH_RANGE=2928]="DEPTH_RANGE",V[V.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",V[V.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",V[V.DEPTH_FUNC=2932]="DEPTH_FUNC",V[V.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",V[V.STENCIL_FUNC=2962]="STENCIL_FUNC",V[V.STENCIL_FAIL=2964]="STENCIL_FAIL",V[V.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",V[V.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",V[V.STENCIL_REF=2967]="STENCIL_REF",V[V.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",V[V.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",V[V.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",V[V.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",V[V.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",V[V.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",V[V.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",V[V.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",V[V.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",V[V.VIEWPORT=2978]="VIEWPORT",V[V.SCISSOR_BOX=3088]="SCISSOR_BOX",V[V.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",V[V.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",V[V.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",V[V.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",V[V.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",V[V.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",V[V.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",V[V.RED_BITS=3410]="RED_BITS",V[V.GREEN_BITS=3411]="GREEN_BITS",V[V.BLUE_BITS=3412]="BLUE_BITS",V[V.ALPHA_BITS=3413]="ALPHA_BITS",V[V.DEPTH_BITS=3414]="DEPTH_BITS",V[V.STENCIL_BITS=3415]="STENCIL_BITS",V[V.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",V[V.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",V[V.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",V[V.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",V[V.SAMPLES=32937]="SAMPLES",V[V.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",V[V.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",V[V.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",V[V.DONT_CARE=4352]="DONT_CARE",V[V.FASTEST=4353]="FASTEST",V[V.NICEST=4354]="NICEST",V[V.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",V[V.BYTE=5120]="BYTE",V[V.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",V[V.SHORT=5122]="SHORT",V[V.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",V[V.INT=5124]="INT",V[V.UNSIGNED_INT=5125]="UNSIGNED_INT",V[V.FLOAT=5126]="FLOAT",V[V.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",V[V.ALPHA=6406]="ALPHA",V[V.RGB=6407]="RGB",V[V.RGBA=6408]="RGBA",V[V.LUMINANCE=6409]="LUMINANCE",V[V.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",V[V.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",V[V.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",V[V.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",V[V.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",V[V.VERTEX_SHADER=35633]="VERTEX_SHADER",V[V.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",V[V.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",V[V.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",V[V.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",V[V.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",V[V.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",V[V.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",V[V.SHADER_TYPE=35663]="SHADER_TYPE",V[V.DELETE_STATUS=35712]="DELETE_STATUS",V[V.LINK_STATUS=35714]="LINK_STATUS",V[V.VALIDATE_STATUS=35715]="VALIDATE_STATUS",V[V.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",V[V.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",V[V.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",V[V.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",V[V.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",V[V.NEVER=512]="NEVER",V[V.LESS=513]="LESS",V[V.EQUAL=514]="EQUAL",V[V.LEQUAL=515]="LEQUAL",V[V.GREATER=516]="GREATER",V[V.NOTEQUAL=517]="NOTEQUAL",V[V.GEQUAL=518]="GEQUAL",V[V.ALWAYS=519]="ALWAYS",V[V.KEEP=7680]="KEEP",V[V.REPLACE=7681]="REPLACE",V[V.INCR=7682]="INCR",V[V.DECR=7683]="DECR",V[V.INVERT=5386]="INVERT",V[V.INCR_WRAP=34055]="INCR_WRAP",V[V.DECR_WRAP=34056]="DECR_WRAP",V[V.VENDOR=7936]="VENDOR",V[V.RENDERER=7937]="RENDERER",V[V.VERSION=7938]="VERSION",V[V.NEAREST=9728]="NEAREST",V[V.LINEAR=9729]="LINEAR",V[V.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",V[V.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",V[V.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",V[V.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",V[V.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",V[V.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",V[V.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",V[V.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",V[V.TEXTURE_2D=3553]="TEXTURE_2D",V[V.TEXTURE=5890]="TEXTURE",V[V.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",V[V.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",V[V.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",V[V.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",V[V.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",V[V.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",V[V.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",V[V.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",V[V.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",V[V.TEXTURE0=33984]="TEXTURE0",V[V.TEXTURE1=33985]="TEXTURE1",V[V.TEXTURE2=33986]="TEXTURE2",V[V.TEXTURE3=33987]="TEXTURE3",V[V.TEXTURE4=33988]="TEXTURE4",V[V.TEXTURE5=33989]="TEXTURE5",V[V.TEXTURE6=33990]="TEXTURE6",V[V.TEXTURE7=33991]="TEXTURE7",V[V.TEXTURE8=33992]="TEXTURE8",V[V.TEXTURE9=33993]="TEXTURE9",V[V.TEXTURE10=33994]="TEXTURE10",V[V.TEXTURE11=33995]="TEXTURE11",V[V.TEXTURE12=33996]="TEXTURE12",V[V.TEXTURE13=33997]="TEXTURE13",V[V.TEXTURE14=33998]="TEXTURE14",V[V.TEXTURE15=33999]="TEXTURE15",V[V.TEXTURE16=34e3]="TEXTURE16",V[V.TEXTURE17=34001]="TEXTURE17",V[V.TEXTURE18=34002]="TEXTURE18",V[V.TEXTURE19=34003]="TEXTURE19",V[V.TEXTURE20=34004]="TEXTURE20",V[V.TEXTURE21=34005]="TEXTURE21",V[V.TEXTURE22=34006]="TEXTURE22",V[V.TEXTURE23=34007]="TEXTURE23",V[V.TEXTURE24=34008]="TEXTURE24",V[V.TEXTURE25=34009]="TEXTURE25",V[V.TEXTURE26=34010]="TEXTURE26",V[V.TEXTURE27=34011]="TEXTURE27",V[V.TEXTURE28=34012]="TEXTURE28",V[V.TEXTURE29=34013]="TEXTURE29",V[V.TEXTURE30=34014]="TEXTURE30",V[V.TEXTURE31=34015]="TEXTURE31",V[V.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",V[V.REPEAT=10497]="REPEAT",V[V.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",V[V.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",V[V.FLOAT_VEC2=35664]="FLOAT_VEC2",V[V.FLOAT_VEC3=35665]="FLOAT_VEC3",V[V.FLOAT_VEC4=35666]="FLOAT_VEC4",V[V.INT_VEC2=35667]="INT_VEC2",V[V.INT_VEC3=35668]="INT_VEC3",V[V.INT_VEC4=35669]="INT_VEC4",V[V.BOOL=35670]="BOOL",V[V.BOOL_VEC2=35671]="BOOL_VEC2",V[V.BOOL_VEC3=35672]="BOOL_VEC3",V[V.BOOL_VEC4=35673]="BOOL_VEC4",V[V.FLOAT_MAT2=35674]="FLOAT_MAT2",V[V.FLOAT_MAT3=35675]="FLOAT_MAT3",V[V.FLOAT_MAT4=35676]="FLOAT_MAT4",V[V.SAMPLER_2D=35678]="SAMPLER_2D",V[V.SAMPLER_CUBE=35680]="SAMPLER_CUBE",V[V.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",V[V.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",V[V.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",V[V.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",V[V.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",V[V.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",V[V.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",V[V.COMPILE_STATUS=35713]="COMPILE_STATUS",V[V.LOW_FLOAT=36336]="LOW_FLOAT",V[V.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",V[V.HIGH_FLOAT=36338]="HIGH_FLOAT",V[V.LOW_INT=36339]="LOW_INT",V[V.MEDIUM_INT=36340]="MEDIUM_INT",V[V.HIGH_INT=36341]="HIGH_INT",V[V.FRAMEBUFFER=36160]="FRAMEBUFFER",V[V.RENDERBUFFER=36161]="RENDERBUFFER",V[V.RGBA4=32854]="RGBA4",V[V.RGB5_A1=32855]="RGB5_A1",V[V.RGB565=36194]="RGB565",V[V.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",V[V.STENCIL_INDEX=6401]="STENCIL_INDEX",V[V.STENCIL_INDEX8=36168]="STENCIL_INDEX8",V[V.DEPTH_STENCIL=34041]="DEPTH_STENCIL",V[V.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",V[V.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",V[V.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",V[V.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",V[V.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",V[V.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",V[V.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",V[V.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",V[V.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",V[V.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",V[V.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",V[V.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",V[V.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",V[V.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",V[V.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",V[V.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",V[V.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",V[V.NONE=0]="NONE",V[V.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",V[V.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",V[V.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",V[V.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",V[V.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",V[V.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",V[V.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",V[V.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",V[V.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",V[V.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",V[V.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",V[V.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",V[V.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",V[V.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",V[V.COPY_SRC=1]="COPY_SRC",V[V.COPY_DST=2]="COPY_DST",V[V.SAMPLED=4]="SAMPLED",V[V.STORAGE=8]="STORAGE",V[V.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(U||(U={}));var j=function(){function V(){(0,w.Z)(this,V),this.config=void 0}return(0,M.Z)(V,[{key:"get",value:function(){return this.config}},{key:"set",value:function(Q){this.config=Q}}]),V}(),z=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),k;(function(V){V.Void="Void",V.Boolean="Boolean",V.Float="Float",V.Uint32="Uint32",V.Int32="Int32",V.Vector="Vector",V.Vector2Float="vec2<f32>",V.Vector3Float="vec3<f32>",V.Vector4Float="vec4<f32>",V.Vector2Boolean="vec2<bool>",V.Vector3Boolean="vec3<bool>",V.Vector4Boolean="vec4<bool>",V.Vector2Uint="vec2<u32>",V.Vector3Uint="vec3<u32>",V.Vector4Uint="vec4<u32>",V.Vector2Int="vec2<i32>",V.Vector3Int="vec3<i32>",V.Vector4Int="vec4<i32>",V.Matrix="Matrix",V.Matrix3x3Float="mat3x3<f32>",V.Matrix4x4Float="mat4x4<i32>",V.Struct="Struct",V.FloatArray="Float[]",V.Vector4FloatArray="vec4<f32>[]"})(k||(k={}));var X;(function(V){V.Program="Program",V.Identifier="Identifier",V.VariableDeclaration="VariableDeclaration",V.BlockStatement="BlockStatement",V.ReturnStatement="ReturnStatement",V.FunctionDeclaration="FunctionDeclaration",V.VariableDeclarator="VariableDeclarator",V.AssignmentExpression="AssignmentExpression",V.LogicalExpression="LogicalExpression",V.BinaryExpression="BinaryExpression",V.ArrayExpression="ArrayExpression",V.UnaryExpression="UnaryExpression",V.UpdateExpression="UpdateExpression",V.FunctionExpression="FunctionExpression",V.MemberExpression="MemberExpression",V.ConditionalExpression="ConditionalExpression",V.ExpressionStatement="ExpressionStatement",V.CallExpression="CallExpression",V.NumThreadStatement="NumThreadStatement",V.StorageStatement="StorageStatement",V.DoWhileStatement="DoWhileStatement",V.WhileStatement="WhileStatement",V.ForStatement="ForStatement",V.BreakStatement="BreakStatement",V.ContinueStatement="ContinueStatement",V.IfStatement="IfStatement",V.ImportedFunctionStatement="ImportedFunctionStatement"})(X||(X={}));var K;(function(V){V.Input="Input",V.Output="Output",V.Uniform="Uniform",V.Workgroup="Workgroup",V.UniformConstant="UniformConstant",V.Image="Image",V.StorageBuffer="StorageBuffer",V.Private="Private",V.Function="Function"})(K||(K={}));var tt;(function(V){V.GLSL100="GLSL100",V.GLSL450="GLSL450",V.WGSL="WGSL"})(tt||(tt={}));var q="__DefineValuePlaceholder__";function at(){if(typeof document!="undefined")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function pt(V,$t){var Q=Object.keys(V);if(Object.getOwnPropertySymbols){var gt=Object.getOwnPropertySymbols(V);$t&&(gt=gt.filter(function(lt){return Object.getOwnPropertyDescriptor(V,lt).enumerable})),Q.push.apply(Q,gt)}return Q}function ct(V){for(var $t=1;$t<arguments.length;$t++){var Q=arguments[$t]!=null?arguments[$t]:{};$t%2?pt(Object(Q),!0).forEach(function(gt){(0,R.Z)(V,gt,Q[gt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(Q)):pt(Object(Q)).forEach(function(gt){Object.defineProperty(V,gt,Object.getOwnPropertyDescriptor(Q,gt))})}return V}var St=function(){function V($t,Q){(0,w.Z)(this,V),this.engine=$t,this.configService=Q,this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return(0,M.Z)(V,[{key:"init",value:function(){var Q=this.configService.get(),gt=Q.canvas,lt=Q.engineOptions;this.initPromise=this.engine.init(ct({canvas:gt||at(),antialiasing:!1},lt))}},{key:"setBundle",value:function(Q){this.compiledBundle=JSON.parse(JSON.stringify(Q))}},{key:"setDispatch",value:function(Q){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=Q),this}},{key:"setMaxIteration",value:function(Q){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=Q),this}},{key:"setBinding",value:function(Q,gt){var lt=this;if(typeof Q=="string"){var Gt=g()(gt)||L()(gt)||E()(gt);if(this.compiledBundle&&this.compiledBundle.context){var Qt=this.compiledBundle.context.defines.find(function(de){return de.name===Q});if(Qt)return Qt.value=gt,this;var he=this.compiledBundle.context.uniforms.find(function(de){return de.name===Q});he&&(Gt?(he.data=gt,he.isReferer=!1,he.storageClass===K.Uniform?this.model&&this.model.updateUniform(Q,gt):this.model&&this.model.updateBuffer(Q,gt)):(he.isReferer=!0,he.data=gt))}}else Object.keys(Q).forEach(function(de){lt.setBinding(de,Q[de])});return this}},{key:"execute",value:function(){var $t=(0,y.Z)(A().mark(function gt(){var lt=this,Gt,Qt,he=arguments;return A().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(Gt=he.length>0&&he[0]!==void 0?he[0]:1,!this.dirty){fe.next=6;break}return this.compiledBundle.context&&(Gt>1?this.compiledBundle.context.maxIteration=Gt:this.compiledBundle.context.maxIteration++),fe.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(it){var ft=it.isReferer;return ft}).forEach(function(it){var ft=it.data,G=it.name;lt.model.confirmInput(ft.model,G)}),Qt=0;Qt<Gt;Qt++)this.model.run();return this.engine.endFrame(),fe.abrupt("return",this);case 12:case"end":return fe.stop()}},gt,this)}));function Q(){return $t.apply(this,arguments)}return Q}()},{key:"getOutput",value:function(){var $t=(0,y.Z)(A().mark(function gt(){return A().wrap(function(Gt){for(;;)switch(Gt.prev=Gt.next){case 0:return Gt.abrupt("return",this.model.readData());case 1:case"end":return Gt.stop()}},gt,this)}));function Q(){return $t.apply(this,arguments)}return Q}()},{key:"compile",value:function(){var $t=(0,y.Z)(A().mark(function gt(){var lt,Gt,Qt;return A().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.next=2,this.initPromise;case 2:return lt=ct({},this.compiledBundle.context),Gt=this.engine.supportWebGPU?this.engine.useWGSL?tt.WGSL:tt.GLSL450:tt.GLSL100,Qt=this.compiledBundle.shaders[Gt],lt.defines.filter(function(fe){return fe.runtime}).forEach(function(fe){var it="".concat(q).concat(fe.name);Qt=Qt.replace(it,"".concat(fe.value))}),lt.shader=Qt,lt.uniforms.forEach(function(fe){if(!fe.data&&fe.storageClass===K.StorageBuffer){var it=1;fe.type===k.FloatArray?it=1:fe.type===k.Vector4FloatArray&&(it=4),fe.data=new Float32Array(lt.output.length*it).fill(0)}}),this.compiledBundle.context=lt,de.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=de.sent;case 12:case"end":return de.stop()}},gt,this)}));function Q(){return $t.apply(this,arguments)}return Q}()}]),V}(),vt=_(481550),Lt=_.n(vt),Mt=function(){function V($t,Q){(0,w.Z)(this,V),this.attribute=void 0,this.buffer=void 0;var gt=Q.buffer,lt=Q.offset,Gt=Q.stride,Qt=Q.normalized,he=Q.size,de=Q.divisor;this.buffer=gt,this.attribute={buffer:gt.get(),offset:lt||0,stride:Gt||0,normalized:Qt||!1,divisor:de||0},he&&(this.attribute.size=he)}return(0,M.Z)(V,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(Q){this.buffer.subData(Q)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),V}(),wt,et,rt,Ot,Dt,ot,xt,Nt,Yt,Ct,Xt,Zt,se,ie,zt=(wt={},(0,R.Z)(wt,U.POINTS,"points"),(0,R.Z)(wt,U.LINES,"lines"),(0,R.Z)(wt,U.LINE_LOOP,"line loop"),(0,R.Z)(wt,U.LINE_STRIP,"line strip"),(0,R.Z)(wt,U.TRIANGLES,"triangles"),(0,R.Z)(wt,U.TRIANGLE_FAN,"triangle fan"),(0,R.Z)(wt,U.TRIANGLE_STRIP,"triangle strip"),wt),ae=(et={},(0,R.Z)(et,U.STATIC_DRAW,"static"),(0,R.Z)(et,U.DYNAMIC_DRAW,"dynamic"),(0,R.Z)(et,U.STREAM_DRAW,"stream"),et),Re=(rt={},(0,R.Z)(rt,U.BYTE,"int8"),(0,R.Z)(rt,U.UNSIGNED_INT,"int16"),(0,R.Z)(rt,U.INT,"int32"),(0,R.Z)(rt,U.UNSIGNED_BYTE,"uint8"),(0,R.Z)(rt,U.UNSIGNED_SHORT,"uint16"),(0,R.Z)(rt,U.UNSIGNED_INT,"uint32"),(0,R.Z)(rt,U.FLOAT,"float"),rt),Jt=(Ot={},(0,R.Z)(Ot,U.ALPHA,"alpha"),(0,R.Z)(Ot,U.LUMINANCE,"luminance"),(0,R.Z)(Ot,U.LUMINANCE_ALPHA,"luminance alpha"),(0,R.Z)(Ot,U.RGB,"rgb"),(0,R.Z)(Ot,U.RGBA,"rgba"),(0,R.Z)(Ot,U.RGBA4,"rgba4"),(0,R.Z)(Ot,U.RGB5_A1,"rgb5 a1"),(0,R.Z)(Ot,U.RGB565,"rgb565"),(0,R.Z)(Ot,U.DEPTH_COMPONENT,"depth"),(0,R.Z)(Ot,U.DEPTH_STENCIL,"depth stencil"),Ot),ue=(Dt={},(0,R.Z)(Dt,U.DONT_CARE,"dont care"),(0,R.Z)(Dt,U.NICEST,"nice"),(0,R.Z)(Dt,U.FASTEST,"fast"),Dt),ke=(ot={},(0,R.Z)(ot,U.NEAREST,"nearest"),(0,R.Z)(ot,U.LINEAR,"linear"),(0,R.Z)(ot,U.LINEAR_MIPMAP_LINEAR,"mipmap"),(0,R.Z)(ot,U.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),(0,R.Z)(ot,U.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),(0,R.Z)(ot,U.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),ot),ye=(xt={},(0,R.Z)(xt,U.REPEAT,"repeat"),(0,R.Z)(xt,U.CLAMP_TO_EDGE,"clamp"),(0,R.Z)(xt,U.MIRRORED_REPEAT,"mirror"),xt),ee=(Nt={},(0,R.Z)(Nt,U.NONE,"none"),(0,R.Z)(Nt,U.BROWSER_DEFAULT_WEBGL,"browser"),Nt),Ut=(Yt={},(0,R.Z)(Yt,U.NEVER,"never"),(0,R.Z)(Yt,U.ALWAYS,"always"),(0,R.Z)(Yt,U.LESS,"less"),(0,R.Z)(Yt,U.LEQUAL,"lequal"),(0,R.Z)(Yt,U.GREATER,"greater"),(0,R.Z)(Yt,U.GEQUAL,"gequal"),(0,R.Z)(Yt,U.EQUAL,"equal"),(0,R.Z)(Yt,U.NOTEQUAL,"notequal"),Yt),bt=(Ct={},(0,R.Z)(Ct,U.FUNC_ADD,"add"),(0,R.Z)(Ct,U.MIN_EXT,"min"),(0,R.Z)(Ct,U.MAX_EXT,"max"),(0,R.Z)(Ct,U.FUNC_SUBTRACT,"subtract"),(0,R.Z)(Ct,U.FUNC_REVERSE_SUBTRACT,"reverse subtract"),Ct),Ft=(Xt={},(0,R.Z)(Xt,U.ZERO,"zero"),(0,R.Z)(Xt,U.ONE,"one"),(0,R.Z)(Xt,U.SRC_COLOR,"src color"),(0,R.Z)(Xt,U.ONE_MINUS_SRC_COLOR,"one minus src color"),(0,R.Z)(Xt,U.SRC_ALPHA,"src alpha"),(0,R.Z)(Xt,U.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),(0,R.Z)(Xt,U.DST_COLOR,"dst color"),(0,R.Z)(Xt,U.ONE_MINUS_DST_COLOR,"one minus dst color"),(0,R.Z)(Xt,U.DST_ALPHA,"dst alpha"),(0,R.Z)(Xt,U.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),(0,R.Z)(Xt,U.CONSTANT_COLOR,"constant color"),(0,R.Z)(Xt,U.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),(0,R.Z)(Xt,U.CONSTANT_ALPHA,"constant alpha"),(0,R.Z)(Xt,U.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),(0,R.Z)(Xt,U.SRC_ALPHA_SATURATE,"src alpha saturate"),Xt),be=(Zt={},(0,R.Z)(Zt,U.NEVER,"never"),(0,R.Z)(Zt,U.ALWAYS,"always"),(0,R.Z)(Zt,U.LESS,"less"),(0,R.Z)(Zt,U.LEQUAL,"lequal"),(0,R.Z)(Zt,U.GREATER,"greater"),(0,R.Z)(Zt,U.GEQUAL,"gequal"),(0,R.Z)(Zt,U.EQUAL,"equal"),(0,R.Z)(Zt,U.NOTEQUAL,"notequal"),Zt),qe=(se={},(0,R.Z)(se,U.ZERO,"zero"),(0,R.Z)(se,U.KEEP,"keep"),(0,R.Z)(se,U.REPLACE,"replace"),(0,R.Z)(se,U.INVERT,"invert"),(0,R.Z)(se,U.INCR,"increment"),(0,R.Z)(se,U.DECR,"decrement"),(0,R.Z)(se,U.INCR_WRAP,"increment wrap"),(0,R.Z)(se,U.DECR_WRAP,"decrement wrap"),se),Pe=(ie={},(0,R.Z)(ie,U.FRONT,"front"),(0,R.Z)(ie,U.BACK,"back"),ie),Ze=function(){function V($t,Q){(0,w.Z)(this,V),this.buffer=void 0;var gt=Q.data,lt=Q.usage,Gt=Q.type;this.buffer=$t.buffer({data:gt,usage:ae[lt||U.STATIC_DRAW],type:Re[Gt||U.UNSIGNED_BYTE]})}return(0,M.Z)(V,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(Q){var gt=Q.data,lt=Q.offset;this.buffer.subdata(gt,lt)}}]),V}(),Qe=_(974902);function Ar(V,$t){var Q=Object.keys(V);if(Object.getOwnPropertySymbols){var gt=Object.getOwnPropertySymbols(V);$t&&(gt=gt.filter(function(lt){return Object.getOwnPropertyDescriptor(V,lt).enumerable})),Q.push.apply(Q,gt)}return Q}function Hr(V){for(var $t=1;$t<arguments.length;$t++){var Q=arguments[$t]!=null?arguments[$t]:{};$t%2?Ar(Object(Q),!0).forEach(function(gt){(0,R.Z)(V,gt,Q[gt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(Q)):Ar(Object(Q)).forEach(function(gt){Object.defineProperty(V,gt,Object.getOwnPropertyDescriptor(Q,gt))})}return V}var Jr=`attribute vec3 a_Position;
attribute vec2 a_TexCoord;

varying vec2 v_TexCoord;

void main() {
  gl_Position = vec4(a_Position, 1.0);
  v_TexCoord = a_TexCoord;
}`,Cr=0,bn=!1,Yr=function(){function V($t,Q){var gt=this;(0,w.Z)(this,V),this.reGl=$t,this.context=Q,this.entity=B(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var lt={};this.context.uniforms.forEach(function(fe){var it=fe.name,ft=fe.type,G=fe.data,O=fe.isReferer,D=fe.storageClass;if(D===K.StorageBuffer){if(O)gt.textureCache[it]={data:void 0},lt["".concat(it,"Size")]=function(){return G.compiledBundle.context.output.textureSize};else{gt.textureCache[it]=gt.calcDataTexture(it,ft,G);var $=gt.textureCache[it],mt=$.textureWidth,kt=$.isOutput;lt["".concat(it,"Size")]=[mt,mt],kt&&(gt.outputTextureName=it,gt.context.needPingpong&&(gt.outputTextureName="".concat(it,"Output"),gt.textureCache[gt.outputTextureName]=gt.calcDataTexture(it,ft,G)))}lt[it]=function(){return bn&&console.log("[".concat(gt.entity,"]: ").concat(it," ").concat(gt.textureCache[it].id)),gt.textureCache[it].texture}}else if(D===K.Uniform){if(G&&(Array.isArray(G)||L()(G))&&G.length>16)throw new Error("invalid data type ".concat(ft));lt[it]=function(){return fe.data}}});var Gt=this.getOuputDataTexture(),Qt=Gt.textureWidth,he=Gt.texelCount;lt.u_OutputTextureSize=[Qt,Qt],lt.u_OutputTexelCount=he,this.context.output.textureSize=[Qt,Qt];var de={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(this.context.shader),uniforms:lt,vert:Jr,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(de)}return(0,M.Z)(V,[{key:"run",value:function(){var Q=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){Q.computeCommand()}),bn&&console.log("[".concat(this.entity,"]: output ").concat(this.getOuputDataTexture().id))}},{key:"readData",value:function(){var $t=(0,y.Z)(A().mark(function gt(){var lt=this,Gt,Qt,he,de,fe,it,ft,G;return A().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){Gt=lt.reGl.read()}),!Gt){D.next=6;break}if(Qt=this.getOuputDataTexture(),he=Qt.originalDataLength,de=Qt.elementsPerTexel,fe=Qt.typedArrayConstructor,it=fe===void 0?Float32Array:fe,ft=[],de!==4)for(G=0;G<Gt.length;G+=4)de===1?ft.push(Gt[G]):de===2?ft.push(Gt[G],Gt[G+1]):ft.push(Gt[G],Gt[G+1],Gt[G+2]);else ft=Gt;return D.abrupt("return",new it(ft.slice(0,he)));case 6:return D.abrupt("return",new Float32Array);case 7:case"end":return D.stop()}},gt,this)}));function Q(){return $t.apply(this,arguments)}return Q}()},{key:"confirmInput",value:function(Q,gt){var lt;this.entity===Q.entity?(this.dynamicPingpong=!0,lt=this):lt=Q,this.textureCache[gt].id=lt.getOuputDataTexture().id,this.textureCache[gt].texture=lt.getOuputDataTexture().texture,bn&&console.log("[".concat(this.entity,"]: confirm input ").concat(gt," from model ").concat(lt.entity,", ").concat(lt.getOuputDataTexture().id))}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(Q,gt){var lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Gt=this.context.uniforms.find(function(fe){var it=fe.name;return it===Q});if(Gt){var Qt=this.calcDataTexture(Q,Gt.type,gt),he=Qt.texture,de=Qt.data;this.textureCache[Q].data=de,this.textureCache[Q].texture=he}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var Q=this.context.output.name;this.textureCache[Q].id=this.getOuputDataTexture().id,this.textureCache[Q].texture=this.getOuputDataTexture().texture}var gt=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=gt,bn&&console.log("[".concat(this.entity,"]: after swap, output ").concat(this.getOuputDataTexture().id))}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var Q=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=Q}},{key:"cloneDataTexture",value:function(Q){var gt=Q.data,lt=Q.textureWidth;return Hr(Hr({},Q),{},{id:Cr++,texture:this.reGl.texture({width:lt,height:lt,data:gt,type:"float"})})}},{key:"calcDataTexture",value:function(Q,gt,lt){var Gt=1;gt===k.Vector4FloatArray&&(Gt=4);for(var Qt=[],he=0;he<lt.length;he+=Gt)Gt===1?Qt.push(lt[he],0,0,0):Gt===2?Qt.push(lt[he],lt[he+1],0,0):Gt===3?Qt.push(lt[he],lt[he+1],lt[he+2],0):Gt===4&&Qt.push(lt[he],lt[he+1],lt[he+2],lt[he+3]);var de=lt.length,fe=Math.ceil(de/Gt),it=Math.ceil(Math.sqrt(fe)),ft=it*it;fe<ft&&Qt.push.apply(Qt,(0,Qe.Z)(new Array((ft-fe)*4).fill(0)));var G=this.reGl.texture({width:it,height:it,data:Qt,type:"float"});return{id:Cr++,data:Qt,originalDataLength:de,typedArrayConstructor:L()(lt)?lt.constructor:void 0,textureWidth:it,texture:G,texelCount:fe,elementsPerTexel:Gt,isOutput:Q===this.context.output.name}}}]),V}(),Xe=function(){function V($t,Q){(0,w.Z)(this,V),this.elements=void 0;var gt=Q.data,lt=Q.usage,Gt=Q.type,Qt=Q.count;this.elements=$t.elements({data:gt,usage:ae[lt||U.STATIC_DRAW],type:Re[Gt||U.UNSIGNED_BYTE],count:Qt})}return(0,M.Z)(V,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(Q){var gt=Q.data;this.elements.subdata(gt)}},{key:"destroy",value:function(){this.elements.destroy()}}]),V}(),Ae=function(){function V($t,Q){(0,w.Z)(this,V),this.framebuffer=void 0;var gt=Q.width,lt=Q.height,Gt=Q.color,Qt=Q.colors,he=Q.depth,de=Q.stencil,fe={width:gt,height:lt};Array.isArray(Qt)&&(fe.colors=Qt.map(function(it){return it.get()})),Gt&&typeof Gt!="boolean"&&(fe.color=Gt.get()),this.framebuffer=$t.framebuffer(fe)}return(0,M.Z)(V,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(Q){var gt=Q.width,lt=Q.height;this.framebuffer.resize(gt,lt)}}]),V}(),Ue=_(671002),jr=_(968630),Br=_.n(jr);function Sn(V){var $t={};return Object.keys(V).forEach(function(Q){ir(Q,V[Q],$t,"")}),$t}function ir(V,$t,Q,gt){if($t===null||typeof $t=="number"||typeof $t=="boolean"||Array.isArray($t)&&typeof $t[0]=="number"||L()($t)||$t===""||$t.resize!==void 0){Q["".concat(gt&&gt+".").concat(V)]=$t;return}Br()($t)&&Object.keys($t).forEach(function(lt){ir(lt,$t[lt],Q,"".concat(gt&&gt+".").concat(V))}),Array.isArray($t)&&$t.forEach(function(lt,Gt){Object.keys(lt).forEach(function(Qt){ir(Qt,lt[Qt],Q,"".concat(gt&&gt+".").concat(V,"[").concat(Gt,"]"))})})}function mn(V,$t){var Q=Object.keys(V);if(Object.getOwnPropertySymbols){var gt=Object.getOwnPropertySymbols(V);$t&&(gt=gt.filter(function(lt){return Object.getOwnPropertyDescriptor(V,lt).enumerable})),Q.push.apply(Q,gt)}return Q}function Or(V){for(var $t=1;$t<arguments.length;$t++){var Q=arguments[$t]!=null?arguments[$t]:{};$t%2?mn(Object(Q),!0).forEach(function(gt){(0,R.Z)(V,gt,Q[gt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(Q)):mn(Object(Q)).forEach(function(gt){Object.defineProperty(V,gt,Object.getOwnPropertyDescriptor(Q,gt))})}return V}var sn=function(){function V($t,Q){(0,w.Z)(this,V),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=$t;var gt=Q.vs,lt=Q.fs,Gt=Q.defines,Qt=Q.attributes,he=Q.uniforms,de=Q.primitive,fe=Q.count,it=Q.elements,ft=Q.depth,G=Q.blend,O=Q.stencil,D=Q.cull,$=Q.instances,mt=Q.scissor,kt=Q.viewport,Rt={};he&&(this.uniforms=Sn(he),Object.keys(he).forEach(function(Ke){Rt[Ke]=$t.prop(Ke)}));var qt={};Object.keys(Qt).forEach(function(Ke){qt[Ke]=Qt[Ke].get()});var Le=Gt&&this.generateDefines(Gt)||"",Me={attributes:qt,frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(Le,`
`).concat(lt),uniforms:Rt,vert:`
`.concat(Le,`
`).concat(gt),primitive:zt[de===void 0?U.TRIANGLES:de]};$&&(Me.instances=$),fe&&(Me.count=fe),it&&(Me.elements=it.get()),mt&&(Me.scissor=mt),kt&&(Me.viewport=kt),this.initDepthDrawParams({depth:ft},Me),this.initBlendDrawParams({blend:G},Me),this.initStencilDrawParams({stencil:O},Me),this.initCullDrawParams({cull:D},Me),this.drawCommand=$t(Me)}return(0,M.Z)(V,[{key:"addUniforms",value:function(Q){this.uniforms=Or(Or({},this.uniforms),Sn(Q))}},{key:"draw",value:function(Q){var gt=Or(Or({},this.uniforms),Sn(Q.uniforms||{})),lt={};Object.keys(gt).forEach(function(Gt){var Qt=(0,Ue.Z)(gt[Gt]);Qt==="boolean"||Qt==="number"||Array.isArray(gt[Gt])||gt[Gt].BYTES_PER_ELEMENT?lt[Gt]=gt[Gt]:Qt==="string"||(lt[Gt]=gt[Gt].get())}),this.drawCommand(lt)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(Q,gt){var lt=Q.depth;lt&&(gt.depth={enable:lt.enable===void 0?!0:!!lt.enable,mask:lt.mask===void 0?!0:!!lt.mask,func:Ut[lt.func||U.LESS],range:lt.range||[0,1]})}},{key:"initBlendDrawParams",value:function(Q,gt){var lt=Q.blend;if(lt){var Gt=lt.enable,Qt=lt.func,he=lt.equation,de=lt.color,fe=de===void 0?[0,0,0,0]:de;gt.blend={enable:!!Gt,func:{srcRGB:Ft[Qt&&Qt.srcRGB||U.SRC_ALPHA],srcAlpha:Ft[Qt&&Qt.srcAlpha||U.SRC_ALPHA],dstRGB:Ft[Qt&&Qt.dstRGB||U.ONE_MINUS_SRC_ALPHA],dstAlpha:Ft[Qt&&Qt.dstAlpha||U.ONE_MINUS_SRC_ALPHA]},equation:{rgb:bt[he&&he.rgb||U.FUNC_ADD],alpha:bt[he&&he.alpha||U.FUNC_ADD]},color:fe}}}},{key:"initStencilDrawParams",value:function(Q,gt){var lt=Q.stencil;if(lt){var Gt=lt.enable,Qt=lt.mask,he=Qt===void 0?-1:Qt,de=lt.func,fe=de===void 0?{cmp:U.ALWAYS,ref:0,mask:-1}:de,it=lt.opFront,ft=it===void 0?{fail:U.KEEP,zfail:U.KEEP,zpass:U.KEEP}:it,G=lt.opBack,O=G===void 0?{fail:U.KEEP,zfail:U.KEEP,zpass:U.KEEP}:G;gt.stencil={enable:!!Gt,mask:he,func:Or(Or({},fe),{},{cmp:be[fe.cmp]}),opFront:{fail:qe[ft.fail],zfail:qe[ft.zfail],zpass:qe[ft.zpass]},opBack:{fail:qe[O.fail],zfail:qe[O.zfail],zpass:qe[O.zpass]}}}}},{key:"initCullDrawParams",value:function(Q,gt){var lt=Q.cull;if(lt){var Gt=lt.enable,Qt=lt.face,he=Qt===void 0?U.BACK:Qt;gt.cull={enable:!!Gt,face:Pe[he]}}}},{key:"generateDefines",value:function(Q){return Object.keys(Q).map(function(gt){return"#define ".concat(gt," ").concat(Number(Q[gt]))}).join(`
`)}}]),V}(),ln=function(){function V($t,Q){(0,w.Z)(this,V),this.texture=void 0,this.width=void 0,this.height=void 0;var gt=Q.data,lt=Q.type,Gt=lt===void 0?U.UNSIGNED_BYTE:lt,Qt=Q.width,he=Q.height,de=Q.flipY,fe=de===void 0?!1:de,it=Q.format,ft=it===void 0?U.RGBA:it,G=Q.mipmap,O=G===void 0?!1:G,D=Q.wrapS,$=D===void 0?U.CLAMP_TO_EDGE:D,mt=Q.wrapT,kt=mt===void 0?U.CLAMP_TO_EDGE:mt,Rt=Q.aniso,qt=Rt===void 0?0:Rt,Le=Q.alignment,Me=Le===void 0?1:Le,Ke=Q.premultiplyAlpha,vr=Ke===void 0?!1:Ke,He=Q.mag,Rr=He===void 0?U.NEAREST:He,fn=Q.min,Je=fn===void 0?U.NEAREST:fn,pr=Q.colorSpace,kr=pr===void 0?U.BROWSER_DEFAULT_WEBGL:pr;this.width=Qt,this.height=he;var Pr={width:Qt,height:he,type:Re[Gt],format:Jt[ft],wrapS:ye[$],wrapT:ye[kt],mag:ke[Rr],min:ke[Je],alignment:Me,flipY:fe,colorSpace:ee[kr],premultiplyAlpha:vr,aniso:qt};gt&&(Pr.data=gt),typeof O=="number"?Pr.mipmap=ue[O]:typeof O=="boolean"&&(Pr.mipmap=O),this.texture=$t.texture(Pr)}return(0,M.Z)(V,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(Q){var gt=Q.width,lt=Q.height;this.texture.resize(gt,lt),this.width=gt,this.height=lt}},{key:"destroy",value:function(){this.texture.destroy()}}]),V}(),cn=function(){function V(){var $t=this;(0,w.Z)(this,V),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var Q=(0,y.Z)(A().mark(function gt(lt){return A().wrap(function(Qt){for(;;)switch(Qt.prev=Qt.next){case 0:if(!lt.uniforms){Qt.next=3;break}return Qt.next=3,Promise.all(Object.keys(lt.uniforms).map(function(){var he=(0,y.Z)(A().mark(function de(fe){var it;return A().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(!(lt.uniforms[fe]&&lt.uniforms[fe].load!==void 0)){G.next=5;break}return G.next=3,lt.uniforms[fe].load();case 3:it=G.sent,lt.uniforms[fe]=it;case 5:case"end":return G.stop()}},de)}));return function(de){return he.apply(this,arguments)}}()));case 3:return Qt.abrupt("return",new sn($t.gl,lt));case 4:case"end":return Qt.stop()}},gt)}));return function(gt){return Q.apply(this,arguments)}}(),this.createAttribute=function(Q){return new Mt($t.gl,Q)},this.createBuffer=function(Q){return new Ze($t.gl,Q)},this.createElements=function(Q){return new Xe($t.gl,Q)},this.createTexture2D=function(Q){return new ln($t.gl,Q)},this.createFramebuffer=function(Q){return new Ae($t.gl,Q)},this.useFramebuffer=function(Q,gt){$t.gl({framebuffer:Q?Q.get():null})(gt)},this.createComputeModel=function(){var Q=(0,y.Z)(A().mark(function gt(lt){return A().wrap(function(Qt){for(;;)switch(Qt.prev=Qt.next){case 0:return Qt.abrupt("return",new Yr($t.gl,lt));case 1:case"end":return Qt.stop()}},gt)}));return function(gt){return Q.apply(this,arguments)}}(),this.clear=function(Q){var gt=Q.color,lt=Q.depth,Gt=Q.stencil,Qt=Q.framebuffer,he=Qt===void 0?null:Qt,de={color:gt,depth:lt,stencil:Gt};de.framebuffer=he===null?he:he.get(),$t.gl.clear(de)},this.setScissor=function(Q){$t.gl&&$t.gl._gl&&(Q.enable&&Q.box?($t.gl._gl.enable(U.SCISSOR_TEST),$t.gl._gl.scissor(Q.box.x,Q.box.y,Q.box.width,Q.box.height)):$t.gl._gl.disable(U.SCISSOR_TEST),$t.gl._refresh())},this.viewport=function(Q){var gt=Q.x,lt=Q.y,Gt=Q.width,Qt=Q.height;$t.gl&&$t.gl._gl&&($t.gl._gl.viewport(gt,lt,Gt,Qt),$t.gl._refresh())},this.readPixels=function(Q){var gt=Q.framebuffer,lt=Q.x,Gt=Q.y,Qt=Q.width,he=Q.height,de={x:lt,y:Gt,width:Qt,height:he};return gt&&(de.framebuffer=gt.get()),$t.gl.read(de)},this.getCanvas=function(){return $t.$canvas},this.getGLContext=function(){return $t.gl._gl},this.destroy=function(){$t.gl&&($t.gl.destroy(),$t.inited=!1)}}return(0,M.Z)(V,[{key:"init",value:function(){var $t=(0,y.Z)(A().mark(function gt(lt){return A().wrap(function(Qt){for(;;)switch(Qt.prev=Qt.next){case 0:if(!this.inited){Qt.next=2;break}return Qt.abrupt("return");case 2:return this.$canvas=lt.canvas,Qt.next=5,new Promise(function(he,de){Lt()({canvas:lt.canvas,attributes:{alpha:!0,antialias:lt.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(it,ft){(it||!ft)&&de(it),he(ft)}})});case 5:this.gl=Qt.sent,this.inited=!0;case 7:case"end":return Qt.stop()}},gt,this)}));function Q(gt){return $t.apply(this,arguments)}return Q}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),V}(),Cn=function(){function V(){(0,w.Z)(this,V),this.engine=void 0,this.configService=new j}return(0,M.Z)(V,[{key:"setConfig",value:function(Q){this.configService.set(Q)}},{key:"setEngine",value:function(Q){this.engine=Q}},{key:"createEntity",value:function(){return B()}},{key:"createKernel",value:function(Q){var gt=new St(this.engine,this.configService);return typeof Q=="string"?gt.setBundle(JSON.parse(Q)):gt.setBundle(Q),gt.init(),gt}},{key:"destroy",value:function(){this.engine.destroy()}}],[{key:"create",value:function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},gt=new V;return gt.setConfig(Q),gt.setEngine(new cn),gt}}]),V}()},797140:function(Ve,W,_){"use strict";_.d(W,{ZP:function(){return BS}});var y={};_.r(y),_.d(y,{GADDI:function(){return Wi},Stack:function(){return _o},breadthFirstSearch:function(){return ae},connectedComponent:function(){return ue},cosineSimilarity:function(){return Rt},default:function(){return Oi},depthFirstSearch:function(){return be},detectAllCycles:function(){return Qe},detectAllDirectedCycle:function(){return Ze},detectAllUndirectedCycle:function(){return Pe},detectCycle:function(){return Ar},detectDirectedCycle:function(){return is},dijkstra:function(){return Cr},findAllPath:function(){return Xe},findShortestPath:function(){return Yr},floydWarshall:function(){return Ue},getAdjMatrix:function(){return rt},getDegree:function(){return ye},getInDegree:function(){return ee},getNeighbors:function(){return Ct},getOutDegree:function(){return Ut},iLouvain:function(){return ft},kCore:function(){return O},kMeans:function(){return mt},labelPropagation:function(){return Br},louvain:function(){return fe},minimumSpanningTree:function(){return kr},nodesCosineSimilarity:function(){return Le},pageRank:function(){return oe}});var R={};_.r(R),_.d(R,{Line:function(){return pa},applyMatrix:function(){return tn},compare:function(){return ce},distance:function(){return Kn},floydWarshall:function(){return aa},fractionToLine:function(){return Di},getAdjMatrix:function(){return oa},getBBoxBoundLine:function(){return fi},getCircleCenterByPoints:function(){return An},getCircleIntersectByPoint:function(){return Ir},getDegree:function(){return Pa},getEllipseIntersectByPoint:function(){return Sr},getLineIntersect:function(){return cr},getPointsCenter:function(){return Ci},getRectIntersectByPoint:function(){return Lr},intersectBBox:function(){return qa},invertMatrix:function(){return dn},isPointInPolygon:function(){return si},isPointsOverlap:function(){return wo},isPolygonsIntersect:function(){return _a},itemIntersectByLine:function(){return di},lerp:function(){return mi},lerpArray:function(){return Pi},move:function(){return ua},pointLineDistance:function(){return Ra},pointLineSquareDist:function(){return Eo},pointRectSquareDist:function(){return Ii},rotate:function(){return za},scale:function(){return qn},scaleMatrix:function(){return Wn},squareDist:function(){return Ri},translate:function(){return Ya}});var w={};_.r(w),_.d(w,{cloneBesidesImg:function(){return jo},getAnimateCfgWithCallback:function(){return os},getBBox:function(){return Da},getComboBBox:function(){return xs},getLabelPosition:function(){return Hi},getLetterWidth:function(){return Fo},getLoopCfgs:function(){return hi},getTextSize:function(){return ds},plainCombosToTrees:function(){return bs},reconstructTree:function(){return Os},shouldRefreshEdge:function(){return nu},traverseTree:function(){return Ti},traverseTreeUp:function(){return Zi},truncateLabelByLength:function(){return qo}});var M={};_.r(M),_.d(M,{catmullRomToBezier:function(){return Y},fillPath:function(){return Xi},fillPathByDiff:function(){return Xa},formatPath:function(){return vs},intersection:function(){return ya},parsePathArray:function(){return $e},parsePathString:function(){return h},pathToAbsolute:function(){return Pt},pathToCurve:function(){return Ce},rectPath:function(){return Nn}});var P={};_.r(P),_.d(P,{easeBack:function(){return Xf},easeBackIn:function(){return Yf},easeBackInOut:function(){return Xf},easeBackOut:function(){return Jl},easeBounce:function(){return Fu},easeBounceIn:function(){return Bu},easeBounceInOut:function(){return ml},easeBounceOut:function(){return Fu},easeCircle:function(){return hl},easeCircleIn:function(){return Kl},easeCircleInOut:function(){return hl},easeCircleOut:function(){return Vc},easeCubic:function(){return Wc},easeCubicIn:function(){return Ff},easeCubicInOut:function(){return Wc},easeCubicOut:function(){return hd},easeElastic:function(){return Kc},easeElasticIn:function(){return jf},easeElasticInOut:function(){return Vf},easeElasticOut:function(){return Kc},easeExp:function(){return dl},easeExpIn:function(){return fl},easeExpInOut:function(){return dl},easeExpOut:function(){return Zl},easeLinear:function(){return Gc},easePoly:function(){return Yc},easePolyIn:function(){return vd},easePolyInOut:function(){return Yc},easePolyOut:function(){return zf},easeQuad:function(){return Uc},easeQuadIn:function(){return Bf},easeQuadInOut:function(){return Uc},easeQuadOut:function(){return gu},easeSin:function(){return jc},easeSinIn:function(){return Uf},easeSinInOut:function(){return jc},easeSinOut:function(){return Wf}});var L={};_.r(L),_.d(L,{calculationItemsBBox:function(){return Bv},cloneEvent:function(){return Q0},formatPadding:function(){return Dh},isNaN:function(){return Gu},isViewportChanged:function(){return J0},processParallelEdges:function(){return tm},uniqueId:function(){return Ih}});var p={};_.r(p),_.d(p,{getClosedSpline:function(){return Gh},getControlPoint:function(){return Zd},getSpline:function(){return tp},getStarPath:function(){return xm},paddedHull:function(){return ap},pathToPoints:function(){return zh},pointsToPolygon:function(){return bm},roundedHull:function(){return Uh}});var g={};_.r(g),_.d(g,{defaultSubjectColors:function(){return Um}});var S={};_.r(S),_.d(S,{isForce:function(){return pp}});var E={};_.r(E),_.d(E,{Base:function(){return yu},Circle:function(){return dy},Ellipse:function(){return vy},Image:function(){return gy},Line:function(){return yy},Marker:function(){return Ey},Path:function(){return tv},Polygon:function(){return Iy},Polyline:function(){return Py},Rect:function(){return ky},Text:function(){return Fy}});var b={};_.r(b),_.d(b,{Base:function(){return qs},Circle:function(){return Vy},Dom:function(){return Zy},Ellipse:function(){return $y},Image:function(){return Qy},Line:function(){return t1},Marker:function(){return r1},Path:function(){return a1},Polygon:function(){return o1},Polyline:function(){return u1},Rect:function(){return h1},Text:function(){return y1}});var A={};_.r(A),_.d(A,{getColorSetsBySubjectColors:function(){return V1},getColorsWithSubjectColor:function(){return av},mixColor:function(){return Ko}});var x={};_.r(x),_.d(x,{arrayToTextureData:function(){return ib},attributesToTextureData:function(){return ab},buildTextureData:function(){return eb},buildTextureDataWithOneEdgeAttr:function(){return rb},buildTextureDataWithTwoEdgeAttr:function(){return nb},proccessToFunc:function(){return tb},radialLayout:function(){return ob}});var T={};_.r(T),_.d(T,{gpuDetector:function(){return ag}});var B={};_.r(B),_.d(B,{assign:function(){return ic},default:function(){return Lg},defaultI18n:function(){return dv},format:function(){return Dg},parse:function(){return Pg},setGlobalDateI18n:function(){return Sg},setGlobalDateMasks:function(){return Ig}});var m=_(570655),f=_(413810),U={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(e){return Object.assign(this,e),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(e){var t=this,r=this.events;this.graph=e,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&e.get("canvas").set("draggable",!0),(0,f.each)(r,function(n,a){e.on(a,n)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(e){var t=this.events,r=e.get("canvas").get("draggable");(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&e.get("canvas").set("draggable",!1),(0,f.each)(t,function(n,a){e.off(a,n)}),e.get("canvas").set("draggable",r)},get:function(e){return this[e]},set:function(e,t){return this[e]=t,this}},j=function(){function i(){}return i.registerBehavior=function(e,t){if(!t)throw new Error("please specify handler for this behavior: ".concat(e));var r=(0,f.clone)(U);Object.assign(r,t);var n=function(o){var s=this;Object.assign(this,this.getDefaultCfg(),o);var u=this.getEvents();this.events=null;var l={};u&&((0,f.each)(u,function(c,d){l[d]=(0,f.wrapBehavior)(s,c)}),this.events=l)};n.prototype=r,i.types[e]=n},i.hasBehavior=function(e){return!!i.types[e]},i.getBehavior=function(e){return i.types[e]},i.types={},i}(),z=j,k=z,X="*",K=function(){function i(){this._events={}}return i.prototype.on=function(e,t,r){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!r}),this},i.prototype.once=function(e,t){return this.on(e,t,!0)},i.prototype.emit=function(e){for(var t=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=this._events[e]||[],o=this._events[X]||[],s=function(u){for(var l=u.length,c=0;c<l;c++)if(u[c]){var d=u[c],C=d.callback,I=d.once;I&&(u.splice(c,1),u.length===0&&delete t._events[e],l--,c--),C.apply(t,r)}};s(a),s(o)},i.prototype.off=function(e,t){if(!e)this._events={};else if(!t)delete this._events[e];else{for(var r=this._events[e]||[],n=r.length,a=0;a<n;a++)r[a].callback===t&&(r.splice(a,1),n--,a--);r.length===0&&delete this._events[e]}return this},i.prototype.getEvents=function(){return this._events},i}(),tt=K,q=_(935600);function at(i,e,t){var r=[0,0,0,0,0,0,0,0,0];return q.fromTranslation(r,t),q.multiply(i,r,e)}function pt(i,e,t){var r=[0,0,0,0,0,0,0,0,0];return q.fromRotation(r,t),q.multiply(i,r,e)}function ct(i,e,t){var r=[0,0,0,0,0,0,0,0,0];return q.fromScaling(r,t),q.multiply(i,r,e)}function St(i,e,t){return q.multiply(i,t,e)}function vt(i,e){for(var t=i?[].concat(i):[1,0,0,0,1,0,0,0,1],r=0,n=e.length;r<n;r++){var a=e[r];switch(a[0]){case"t":at(t,t,[a[1],a[2]]);break;case"s":ct(t,t,[a[1],a[2]]);break;case"r":pt(t,t,a[1]);break;case"m":St(t,t,a[1]);break;default:break}}return t}function Lt(i,e){return i[0]*e[1]-e[0]*i[1]}function Mt(i,e,t){var r=vec2.angle(i,e),n=Lt(i,e)>=0;return t?n?Math.PI*2-r:r:n?r:Math.PI*2-r}function wt(i,e,t){return t?(i[0]=e[1],i[1]=-1*e[0]):(i[0]=-1*e[1],i[1]=e[0]),i}var et=function(e,t){var r=e.nodes,n=e.edges,a=[],o={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach(function(s,u){o[s.id]=u;var l=[];a.push(l)}),n&&n.forEach(function(s){var u=s.source,l=s.target,c=o[u],d=o[l];!c&&c!==0||!d&&d!==0||(a[c][d]=1,t||(a[d][c]=1))}),a},rt=et,Ot=function(e,t){return e===t},Dt=function(){function i(e,t){t===void 0&&(t=null),this.value=e,this.next=t}return i.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},i}(),ot=function(){function i(e){e===void 0&&(e=Ot),this.head=null,this.tail=null,this.compare=e}return i.prototype.prepend=function(e){var t=new Dt(e,this.head);return this.head=t,this.tail||(this.tail=t),this},i.prototype.append=function(e){var t=new Dt(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},i.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var r=this.head;if(r!==null)for(;r.next;)this.compare(r.next.value,e)?(t=r.next,r.next=r.next.next):r=r.next;return this.compare(this.tail.value,e)&&(this.tail=r),t},i.prototype.find=function(e){var t=e.value,r=t===void 0?void 0:t,n=e.callback,a=n===void 0?void 0:n;if(!this.head)return null;for(var o=this.head;o;){if(a&&a(o.value)||r!==void 0&&this.compare(o.value,r))return o;o=o.next}return null},i.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},i.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},i.prototype.fromArray=function(e){var t=this;return e.forEach(function(r){return t.append(r)}),this},i.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},i.prototype.reverse=function(){for(var e=this.head,t=null,r=null;e;)r=e.next,e.next=t,t=e,e=r;this.tail=this.head,this.head=t},i.prototype.toString=function(e){return e===void 0&&(e=void 0),this.toArray().map(function(t){return t.toString(e)}).toString()},i}(),xt=ot,Nt=function(){function i(){this.linkedList=new xt}return i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},i.prototype.enqueue=function(e){this.linkedList.append(e)},i.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},i.prototype.toString=function(e){return this.linkedList.toString(e)},i}(),Yt=Nt,Ct=function(e,t,r){t===void 0&&(t=[]);var n=t.filter(function(u){return u.source===e||u.target===e});if(r==="target"){var a=function(l){return l.source===e};return n.filter(a).map(function(u){return u.target})}if(r==="source"){var o=function(l){return l.target===e};return n.filter(o).map(function(u){return u.source})}var s=function(l){return l.source===e?l.target:l.source};return n.map(s)},Xt=function(e,t){return t.filter(function(r){return r.source===e})},Zt=function(e,t){return t.filter(function(r){return r.source===e||r.target===e})},se=function(e){e===void 0&&(e=0);var t="".concat(Math.random()).split(".")[1].substr(0,5),r="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(e,"-").concat(t).concat(r)};function ie(i){i===void 0&&(i={});var e=i,t=function(){},r=function(){var n={};return function(a){var o=a.next,s=o;return n[s]?!1:(n[s]=!0,!0)}}();return e.allowTraversal=i.allowTraversal||r,e.enter=i.enter||t,e.leave=i.leave||t,e}var zt=function(e,t,r,n){n===void 0&&(n=!0);var a=ie(r),o=new Yt,s=e.edges,u=s===void 0?[]:s;o.enqueue(t);for(var l="",c=function(){var C=o.dequeue();a.enter({current:C,previous:l}),Ct(C,u,n?"target":void 0).forEach(function(I){a.allowTraversal({previous:l,current:C,next:I})&&o.enqueue(I)}),a.leave({current:C,previous:l}),l=C};!o.isEmpty();)c()},ae=zt,Re=function(e){for(var t=e.nodes,r=t===void 0?[]:t,n=e.edges,a=n===void 0?[]:n,o=[],s={},u=[],l=function I(F){u.push(F),s[F.id]=!0;for(var H=Ct(F.id,a),J=function(ht){var _t=H[ht];if(!s[_t]){var Vt=r.filter(function(re){return re.id===_t});Vt.length>0&&I(Vt[0])}},st=0;st<H.length;++st)J(st)},c=0;c<r.length;c++){var d=r[c];if(!s[d.id]){l(d);for(var C=[];u.length>0;)C.push(u.pop());o.push(C)}}return o},Jt=function(e){for(var t=e.nodes,r=t===void 0?[]:t,n=e.edges,a=n===void 0?[]:n,o=[],s={},u={},l={},c=[],d=0,C=function J(st){u[st.id]=d,l[st.id]=d,d+=1,o.push(st),s[st.id]=!0;for(var ut=Ct(st.id,a,"target").filter(function(te){return r.map(function(Ee){return Ee.id}).indexOf(te)>-1}),ht=function(Ee){var ze=ut[Ee];if(!u[ze]&&u[ze]!==0){var Oe=r.filter(function(er){return er.id===ze});Oe.length>0&&J(Oe[0]),l[st.id]=Math.min(l[st.id],l[ze])}else s[ze]&&(l[st.id]=Math.min(l[st.id],u[ze]))},_t=0;_t<ut.length;_t++)ht(_t);if(l[st.id]===u[st.id]){for(var Vt=[];o.length>0;){var re=o.pop();if(s[re.id]=!1,Vt.push(re),re===st)break}Vt.length>0&&c.push(Vt)}},I=0,F=r;I<F.length;I++){var H=F[I];!u[H.id]&&u[H.id]!==0&&C(H)}return c};function ue(i,e){return e?Jt(i):Re(i)}var ke=function(e){var t={},r=e.nodes,n=r===void 0?[]:r,a=e.edges,o=a===void 0?[]:a;return n.forEach(function(s){t[s.id]={degree:0,inDegree:0,outDegree:0}}),o.forEach(function(s){t[s.source].degree++,t[s.source].outDegree++,t[s.target].degree++,t[s.target].inDegree++}),t},ye=ke,ee=function(e,t){var r=ke(e);return r[t]?ke(e)[t].inDegree:0},Ut=function(e,t){var r=ke(e);return r[t]?ke(e)[t].outDegree:0};function bt(i){i===void 0&&(i={});var e=i,t=function(){},r=function(){var n={};return function(a){var o=a.next;return n[o]?!1:(n[o]=!0,!0)}}();return e.allowTraversal=i.allowTraversal||r,e.enter=i.enter||t,e.leave=i.leave||t,e}function Ft(i,e,t,r){r.enter({current:e,previous:t});var n=i.edges,a=n===void 0?[]:n;Ct(e,a,"target").forEach(function(o){r.allowTraversal({previous:t,current:e,next:o})&&Ft(i,o,e,r)}),r.leave({current:e,previous:t})}function be(i,e,t){Ft(i,e,"",bt(t))}var qe=function(e){var t=null,r=e.nodes,n=r===void 0?[]:r,a={},o={},s={},u={};n.forEach(function(d){o[d.id]=d});for(var l={enter:function(C){var I=C.current,F=C.previous;if(s[I]){t={};for(var H=I,J=F;J!==I;)t[H]=J,H=J,J=a[J];t[H]=J}else s[I]=I,delete o[I],a[I]=F},leave:function(C){var I=C.current;u[I]=I,delete s[I]},allowTraversal:function(C){var I=C.next;return t?!1:!u[I]}};Object.keys(o).length;){var c=Object.keys(o)[0];be(e,c,l)}return t},Pe=function(e,t,r){var n,a;r===void 0&&(r=!0);for(var o=[],s=ue(e,!1),u=0,l=s;u<l.length;u++){var c=l[u];if(c.length)for(var d=c[0],C=d.id,I=[d],F=(n={},n[C]=d,n),H=(a={},a[C]=new Set,a);I.length>0;)for(var J=I.pop(),st=J.id,ut=Ct(st,e.edges),ht=function(re){var te,Ee=ut[re],ze=e.nodes.find(function(yn){return yn.id===Ee});if(Ee===st)o.push((te={},te[Ee]=J,te));else if(!(Ee in H))F[Ee]=J,I.push(ze),H[Ee]=new Set([J]);else if(!H[st].has(ze)){for(var Oe=!0,er=[ze,J],hr=F[st];H[Ee].size&&!H[Ee].has(hr)&&(er.push(hr),hr!==F[hr.id]);)hr=F[hr.id];if(er.push(hr),t&&r?(Oe=!1,er.findIndex(function(yn){return t.indexOf(yn.id)>-1})>-1&&(Oe=!0)):t&&!r&&er.findIndex(function(yn){return t.indexOf(yn.id)>-1})>-1&&(Oe=!1),Oe){for(var rn={},Dn=1;Dn<er.length;Dn+=1)rn[er[Dn-1].id]=er[Dn];er.length&&(rn[er[er.length-1].id]=er[0]),o.push(rn)}H[Ee].add(J)}},_t=0;_t<ut.length;_t+=1)ht(_t)}return o},Ze=function(e,t,r){r===void 0&&(r=!0);for(var n=[],a=new Set,o=[],s=[],u={},l={},c=function(hr){for(var rn=[hr];rn.length>0;){var Dn=rn.pop();a.has(Dn)&&(a.delete(Dn),o[Dn.id].forEach(function(yn){rn.push(yn)}),o[Dn.id].clear())}},d=function er(hr,rn,Dn){var yn=!1;if(t&&r===!1&&t.indexOf(hr.id)>-1)return yn;n.push(hr),a.add(hr);for(var Kr=Dn[hr.id],Un=0;Un<Kr.length;Un+=1){var Fn=u[Kr[Un]];if(Fn===rn){for(var $r={},gn=1;gn<n.length;gn+=1)$r[n[gn-1].id]=n[gn];n.length&&($r[n[n.length-1].id]=n[0]),s.push($r),yn=!0}else a.has(Fn)||er(Fn,rn,Dn)&&(yn=!0)}if(yn)c(hr);else for(var Un=0;Un<Kr.length;Un+=1){var Fn=u[Kr[Un]];o[Fn.id].has(hr)||o[Fn.id].add(hr)}return n.pop(),yn},C=e.nodes,I=C===void 0?[]:C,F=0;F<I.length;F+=1){var H=I[F],J=H.id;l[J]=F,u[F]=H}if(t&&r)for(var st=function(hr){var rn=t[hr];l[I[hr].id]=l[rn],l[rn]=0,u[0]=I.find(function(Dn){return Dn.id===rn}),u[l[I[hr].id]]=I[hr]},F=0;F<t.length;F++)st(F);for(var ut=function(hr){for(var rn,Dn,yn=1/0,Kr=0;Kr<hr.length;Kr+=1)for(var Un=hr[Kr],Fn=0;Fn<Un.length;Fn++){var $r=l[Un[Fn].id];$r<yn&&(yn=$r,Dn=Kr)}for(var gn=hr[Dn],Pn=[],Kr=0;Kr<gn.length;Kr+=1){var Ln=gn[Kr];Pn[Ln.id]=[];for(var jn=0,ta=Ct(Ln.id,e.edges,"target").filter(function(wi){return gn.map(function(ii){return ii.id}).indexOf(wi)>-1});jn<ta.length;jn++){var ba=ta[jn];ba===Ln.id&&!(r===!1&&t.indexOf(Ln.id)>-1)?s.push((rn={},rn[Ln.id]=Ln,rn)):Pn[Ln.id].push(l[ba])}}return{component:gn,adjList:Pn,minIdx:yn}},ht=0;ht<I.length;){var _t=I.filter(function(er){return l[er.id]>=ht}),Vt=Jt({nodes:_t,edges:e.edges}).filter(function(er){return er.length>1});if(Vt.length===0)break;var re=ut(Vt),te=re.minIdx,Ee=re.adjList,ze=re.component;if(ze.length>1){ze.forEach(function(er){o[er.id]=new Set});var Oe=u[te];if(t&&r&&t.indexOf(Oe.id)===-1)return s;d(Oe,Oe,Ee),ht=te+1}else break}return s},Qe=function(e,t,r,n){return n===void 0&&(n=!0),t?Ze(e,r,n):Pe(e,r,n)},Ar=qe,Hr=function(e,t,r){for(var n=1/0,a,o=0;o<t.length;o++){var s=t[o].id;!r[s]&&e[s]<=n&&(n=e[s],a=t[o])}return a},Jr=function(e,t,r,n){var a=e.nodes,o=a===void 0?[]:a,s=e.edges,u=s===void 0?[]:s,l=[],c={},d={},C={};o.forEach(function(ht,_t){var Vt=ht.id;l.push(Vt),d[Vt]=1/0,Vt===t&&(d[Vt]=0)});for(var I=o.length,F=function(_t){var Vt=Hr(d,o,c),re=Vt.id;if(c[re]=!0,d[re]===1/0)return"continue";var te=[];r?te=Xt(re,u):te=Zt(re,u),te.forEach(function(Ee){var ze=Ee.target,Oe=Ee.source,er=ze===re?Oe:ze,hr=n&&Ee[n]?Ee[n]:1;d[er]>d[Vt.id]+hr?(d[er]=d[Vt.id]+hr,C[er]=[Vt.id]):d[er]===d[Vt.id]+hr&&C[er].push(Vt.id)})},H=0;H<I;H++)F(H);C[t]=[t];var J={};for(var st in d)d[st]!==1/0&&bn(t,st,C,J);var ut={};for(var st in J)ut[st]=J[st][0];return{length:d,path:ut,allPath:J}},Cr=Jr;function bn(i,e,t,r){if(i===e)return[i];if(r[e])return r[e];for(var n=[],a=0,o=t[e];a<o.length;a++){var s=o[a],u=bn(i,s,t,r);if(!u)return;for(var l=0,c=u;l<c.length;l++){var d=c[l];(0,f.isArray)(d)?n.push((0,m.__spreadArray)((0,m.__spreadArray)([],d,!0),[e],!1)):n.push([d,e])}}return r[e]=n,r[e]}var Yr=function(e,t,r,n,a){var o=Cr(e,t,n,a),s=o.length,u=o.path,l=o.allPath;return{length:s[r],path:u[r],allPath:l[r]}},Xe=function(e,t,r,n){var a;if(t===r)return[[t]];var o=e.edges,s=o===void 0?[]:o,u=[t],l=(a={},a[t]=!0,a),c=[],d=[],C=n?Ct(t,s,"target"):Ct(t,s);for(c.push(C);u.length>0&&c.length>0;){var I=c[c.length-1];if(I.length){var F=I.shift();F&&(u.push(F),l[F]=!0,C=n?Ct(F,s,"target"):Ct(F,s),c.push(C.filter(function(st){return!l[st]})))}else{var H=u.pop();l[H]=!1,c.pop();continue}if(u[u.length-1]===r){var J=u.map(function(ut){return ut});d.push(J);var H=u.pop();l[H]=!1,c.pop()}}return d},Ae=function(e,t){for(var r=rt(e,t),n=[],a=r.length,o=0;o<a;o+=1){n[o]=[];for(var s=0;s<a;s+=1)o===s?n[o][s]=0:r[o][s]===0||!r[o][s]?n[o][s]=1/0:n[o][s]=r[o][s]}for(var u=0;u<a;u+=1)for(var o=0;o<a;o+=1)for(var s=0;s<a;s+=1)n[o][s]>n[o][u]+n[u][s]&&(n[o][s]=n[o][u]+n[u][s]);return n},Ue=Ae,jr=function(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r="weight"),n===void 0&&(n=1e3);var a=e.nodes,o=a===void 0?[]:a,s=e.edges,u=s===void 0?[]:s,l={},c={};o.forEach(function(_t,Vt){var re=se();_t.clusterId=re,l[re]={id:re,nodes:[_t]},c[_t.id]={node:_t,idx:Vt}});var d=rt(e,t),C=[],I={};d.forEach(function(_t,Vt){var re=0,te=o[Vt].id;I[te]={},_t.forEach(function(Ee,ze){if(Ee){re+=Ee;var Oe=o[ze].id;I[te][Oe]=Ee}}),C.push(re)});for(var F=0,H=function(){var Vt=!1;if(o.forEach(function(re){var te={};Object.keys(I[re.id]).forEach(function(yn){var Kr=I[re.id][yn],Un=c[yn].node,Fn=Un.clusterId;te[Fn]||(te[Fn]=0),te[Fn]+=Kr});var Ee=-1/0,ze=[];if(Object.keys(te).forEach(function(yn){Ee<te[yn]?(Ee=te[yn],ze=[yn]):Ee===te[yn]&&ze.push(yn)}),!(ze.length===1&&ze[0]===re.clusterId)){var Oe=ze.indexOf(re.clusterId);if(Oe>=0&&ze.splice(Oe,1),ze&&ze.length){Vt=!0;var er=l[re.clusterId],hr=er.nodes.indexOf(re);er.nodes.splice(hr,1);var rn=Math.floor(Math.random()*ze.length),Dn=l[ze[rn]];Dn.nodes.push(re),re.clusterId=Dn.id}}}),!Vt)return"break";F++};F<n;){var J=H();if(J==="break")break}Object.keys(l).forEach(function(_t){var Vt=l[_t];(!Vt.nodes||!Vt.nodes.length)&&delete l[_t]});var st=[],ut={};u.forEach(function(_t){var Vt=_t.source,re=_t.target,te=_t[r]||1,Ee=c[Vt].node.clusterId,ze=c[re].node.clusterId,Oe="".concat(Ee,"---").concat(ze);if(ut[Oe])ut[Oe].weight+=te,ut[Oe].count++;else{var er={source:Ee,target:ze,weight:te,count:1};ut[Oe]=er,st.push(er)}});var ht=[];return Object.keys(l).forEach(function(_t){ht.push(l[_t])}),{clusters:ht,clusterEdges:st}},Br=jr,Sn=function(){function i(e){this.arr=e}return i.prototype.getArr=function(){return this.arr||[]},i.prototype.add=function(e){var t,r=e.arr;if(!(!((t=this.arr)===null||t===void 0)&&t.length))return new i(r);if(!(r!=null&&r.length))return new i(this.arr);if(this.arr.length===r.length){var n=[];for(var a in this.arr)n[a]=this.arr[a]+r[a];return new i(n)}},i.prototype.subtract=function(e){var t,r=e.arr;if(!(!((t=this.arr)===null||t===void 0)&&t.length))return new i(r);if(!(r!=null&&r.length))return new i(this.arr);if(this.arr.length===r.length){var n=[];for(var a in this.arr)n[a]=this.arr[a]-r[a];return new i(n)}},i.prototype.avg=function(e){var t=[];if(e!==0)for(var r in this.arr)t[r]=this.arr[r]/e;return new i(t)},i.prototype.negate=function(){var e=[];for(var t in this.arr)e[t]=-this.arr[t];return new i(e)},i.prototype.squareEuclideanDistance=function(e){var t,r=e.arr;if(!(!((t=this.arr)===null||t===void 0)&&t.length)||!(r!=null&&r.length))return 0;if(this.arr.length===r.length){var n=0;for(var a in this.arr)n+=Math.pow(this.arr[a]-e.arr[a],2);return n}},i.prototype.euclideanDistance=function(e){var t,r=e.arr;if(!(!((t=this.arr)===null||t===void 0)&&t.length)||!(r!=null&&r.length))return 0;if(this.arr.length===r.length){var n=0;for(var a in this.arr)n+=Math.pow(this.arr[a]-e.arr[a],2);return Math.sqrt(n)}else console.error("The two vectors are unequal in length.")},i.prototype.normalize=function(){var e=[],t=(0,f.clone)(this.arr);t.sort(function(o,s){return o-s});var r=t[t.length-1],n=t[0];for(var a in this.arr)e[a]=(this.arr[a]-n)/(r-n);return new i(e)},i.prototype.norm2=function(){var e;if(!(!((e=this.arr)===null||e===void 0)&&e.length))return 0;var t=0;for(var r in this.arr)t+=Math.pow(this.arr[r],2);return Math.sqrt(t)},i.prototype.dot=function(e){var t,r=e.arr;if(!(!((t=this.arr)===null||t===void 0)&&t.length)||!(r!=null&&r.length))return 0;if(this.arr.length===r.length){var n=0;for(var a in this.arr)n+=this.arr[a]*e.arr[a];return n}else console.error("The two vectors are unequal in length.")},i.prototype.equal=function(e){var t,r=e.arr;if(((t=this.arr)===null||t===void 0?void 0:t.length)!==(r==null?void 0:r.length))return!1;for(var n in this.arr)if(this.arr[n]!==r[n])return!1;return!0},i}(),ir=Sn,mn=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/,Or=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/,sn=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=100);var r={};e.forEach(function(a){a.properties&&Object.keys(a.properties).forEach(function(o){if(o==="id"||!"".concat(a.properties[o]).match(mn)&&!"".concat(a.properties[o]).match(Or)&&isNaN(Number(a.properties[o]))){r.hasOwnProperty(o)&&delete r[o];return}r.hasOwnProperty(o)?r[o]+=1:r[o]=1})});var n=Object.keys(r).sort(function(a,o){return r[o]-r[a]});return n.length<t?n:n.slice(0,t)},ln=function(e,t){return t.map(function(r){return e.hasOwnProperty(r)?e[r]:0})},cn=function(e){for(var t=sn(e),r=[],n=0;n<e.length;n++)r[n]=ln(e[n].properties,t);return r},Cn=function(e,t){t===void 0&&(t=void 0);var r=[];return e.forEach(function(n){t===void 0&&r.push(n),n[t]!==void 0&&r.push(n[t])}),r},V={getAllSortProperties:sn,getPropertyWeight:cn,getAllProperties:Cn},$t;(function(i){i.EuclideanDistance="euclideanDistance"})($t||($t={}));var Q=function(e,t,r){var n=[];t!=null&&t.length?n=t:(e.forEach(function(o){n=n.concat(Object.keys(o))}),n=(0,f.uniq)(n));var a={};return n.forEach(function(o){var s=[];e.forEach(function(u){u[o]!==void 0&&u[o]!==""&&s.push(u[o])}),s.length&&!(r!=null&&r.includes(o))&&(a[o]=(0,f.uniq)(s))}),a},gt=function(e,t,r){var n=Q(e,t,r),a=[];if(!Object.keys(n).length)return a;var o=Object.values(n),s=o.every(function(u){return u.every(function(l){return typeof l=="number"})});return e.forEach(function(u,l){var c=[];Object.keys(n).forEach(function(d){var C=u[d],I=n[d],F=I.findIndex(function(st){return C===st}),H=[];if(s)H.push(C);else for(var J=0;J<I.length;J++)J===F?H.push(1):H.push(0);c=c.concat(H)}),a[l]=c}),a},lt=function(e,t,r,n){r===void 0&&(r=$t.EuclideanDistance);var a=0;switch(r){case $t.EuclideanDistance:a=new ir(e).euclideanDistance(new ir(t));break;default:break}return a},Gt={getAllKeyValueMap:Q,oneHot:gt,getDistance:lt},Qt=function(e,t,r,n){for(var a=t.length,o=2*n,s=0,u=0;u<a;u++)for(var l=e[u].clusterId,c=0;c<a;c++){var d=e[c].clusterId;if(l===d){var C=t[u][c]||0,I=r[u]||0,F=r[c]||0;s+=C-I*F/o}}return s*=1/o,s},he=function(e,t){e===void 0&&(e=[]);for(var r=e.length,n=new ir([]),a=0;a<r;a++)n=n.add(new ir(t[a]));var o=n.avg(r);o.normalize();for(var s=0,a=0;a<r;a++){var u=new ir(t[a]),l=u.squareEuclideanDistance(o);s+=l}var c=[];e.forEach(function(){c.push([])});for(var a=0;a<r;a++){var u=new ir(t[a]);e[a].clusterInertial=0;for(var d=0;d<r;d++){if(a===d){c[a][d]=0;continue}var C=new ir(t[d]);c[a][d]=u.squareEuclideanDistance(C),e[a].clusterInertial+=c[a][d]}}for(var I=0,F=2*r*s,a=0;a<r;a++)for(var H=e[a].clusterId,d=0;d<r;d++){var J=e[d].clusterId;if(!(a===d||H!==J)){var st=e[a].clusterInertial*e[d].clusterInertial/Math.pow(F,2)-c[a][d]/F;I+=st}}return Number(I.toFixed(4))},de=function(e,t,r,n,a,o,s,u,l){t===void 0&&(t=!1),r===void 0&&(r="weight"),n===void 0&&(n=1e-4),a===void 0&&(a=!1),o===void 0&&(o=void 0),s===void 0&&(s=[]),u===void 0&&(u=["id"]),l===void 0&&(l=1);var c=e.nodes,d=c===void 0?[]:c,C=e.edges,I=C===void 0?[]:C,F=[];if(a){d.forEach(function($r,gn){$r.properties=$r.properties||{},$r.originIndex=gn});var H=[];d.every(function($r){return $r.hasOwnProperty("nodeType")})&&(H=Array.from(new Set(d.map(function($r){return $r.nodeType}))),d.forEach(function($r){$r.properties.nodeType=H.findIndex(function(gn){return gn===$r.nodeType})}));var J=Cn(d,o);F=gt(J,s,u)}var st=1,ut={},ht={};d.forEach(function($r,gn){var Pn=String(st++);$r.clusterId=Pn,ut[Pn]={id:Pn,nodes:[$r]},ht[$r.id]={node:$r,idx:gn}});var _t=rt(e,t),Vt=[],re={},te=0;_t.forEach(function($r,gn){var Pn=0,Ln=d[gn].id;re[Ln]={},$r.forEach(function(jn,ta){if(jn){Pn+=jn;var ba=d[ta].id;re[Ln][ba]=jn,te+=jn}}),Vt.push(Pn)}),te/=2;for(var Ee=1/0,ze=1/0,Oe=0,er=[],hr={};;){a&&d.every(function($r){return $r.hasOwnProperty("properties")})?Ee=Qt(d,_t,Vt,te)+he(d,F)*l:Ee=Qt(d,_t,Vt,te),Oe===0&&(ze=Ee,er=d,hr=ut);var rn=Ee>0&&Ee>ze&&Ee-ze<n;if(Ee>ze&&(er=d.map(function($r){return{node:$r,clusterId:$r.clusterId}}),hr=(0,f.clone)(ut),ze=Ee),rn||Oe>100)break;Oe++,Object.keys(ut).forEach(function($r){var gn=0;I.forEach(function(Pn){var Ln=Pn.source,jn=Pn.target,ta=ht[Ln].node.clusterId,ba=ht[jn].node.clusterId;(ta===$r&&ba!==$r||ba===$r&&ta!==$r)&&(gn=gn+(Pn[r]||1))}),ut[$r].sumTot=gn}),d.forEach(function($r,gn){var Pn=ut[$r.clusterId],Ln=0,jn,ta=Vt[gn]/(2*te),ba=0,La=Pn.nodes;La.forEach(function(Yo){var Xo=ht[Yo.id].idx;ba+=_t[gn][Xo]||0});var wi=ba-Pn.sumTot*ta,ii=La.filter(function(Yo){return Yo.id!==$r.id}),Si=[];ii.forEach(function(Yo,Xo){Si[Xo]=F[Yo.originIndex]});var Ai=he(ii,F)*l,Ji=re[$r.id];if(Object.keys(Ji).forEach(function(Yo){var Xo=ht[Yo].node,Rs=Xo.clusterId;if(Rs!==$r.clusterId){var as=ut[Rs],gs=as.nodes;if(!(!gs||!gs.length)){var Ha=0;gs.forEach(function($a){var Ja=ht[$a.id].idx;Ha+=_t[gn][Ja]||0});var bi=Ha-as.sumTot*ta,Ga=gs.concat([$r]),xi=[];Ga.forEach(function($a,Ja){xi[Ja]=F[$a.originIndex]});var Li=he(Ga,F)*l,da=bi-wi;a&&(da=bi+Li-(wi+Ai)),da>Ln&&(Ln=da,jn=as)}}}),Ln>0){jn.nodes.push($r);var Ui=$r.clusterId;$r.clusterId=jn.id;var tu=Pn.nodes.indexOf($r);Pn.nodes.splice(tu,1);var Wo=0,eu=0;I.forEach(function(Yo){var Xo=Yo.source,Rs=Yo.target,as=ht[Xo].node.clusterId,gs=ht[Rs].node.clusterId;(as===jn.id&&gs!==jn.id||gs===jn.id&&as!==jn.id)&&(Wo=Wo+(Yo[r]||1)),(as===Ui&&gs!==Ui||gs===Ui&&as!==Ui)&&(eu=eu+(Yo[r]||1))}),jn.sumTot=Wo,Pn.sumTot=eu}})}var Dn={},yn=0;Object.keys(hr).forEach(function($r){var gn=hr[$r];if(!gn.nodes||!gn.nodes.length){delete hr[$r];return}var Pn=String(yn+1);Pn!==$r&&(gn.id=Pn,gn.nodes=gn.nodes.map(function(Ln){return{id:Ln.id,clusterId:Pn}}),hr[Pn]=gn,Dn[$r]=Pn,delete hr[$r],yn++)}),er.forEach(function($r){var gn=$r.node,Pn=$r.clusterId;gn&&(gn.clusterId=Pn,gn.clusterId&&Dn[gn.clusterId]&&(gn.clusterId=Dn[gn.clusterId]))});var Kr=[],Un={};I.forEach(function($r){var gn=$r.source,Pn=$r.target,Ln=$r[r]||1,jn=ht[gn].node.clusterId,ta=ht[Pn].node.clusterId;if(!(!jn||!ta)){var ba="".concat(jn,"---").concat(ta);if(Un[ba])Un[ba].weight+=Ln,Un[ba].count++;else{var La={source:jn,target:ta,weight:Ln,count:1};Un[ba]=La,Kr.push(La)}}});var Fn=[];return Object.keys(hr).forEach(function($r){Fn.push(hr[$r])}),{clusters:Fn,clusterEdges:Kr}},fe=de,it=function(e,t,r,n,a,o,s,u){return t===void 0&&(t=!1),r===void 0&&(r="weight"),n===void 0&&(n=1e-4),a===void 0&&(a=void 0),o===void 0&&(o=[]),s===void 0&&(s=["id"]),u===void 0&&(u=1),fe(e,t,r,n,!0,a,o,s,u)},ft=it,G=function(e,t){var r;t===void 0&&(t=1);for(var n=(0,f.clone)(e),a=n.nodes,o=a===void 0?[]:a,s=n.edges,u=s===void 0?[]:s,l=function(){var C=ye({nodes:o,edges:u}),I=Object.keys(C);I.sort(function(J,st){var ut,ht;return((ut=C[J])===null||ut===void 0?void 0:ut.degree)-((ht=C[st])===null||ht===void 0?void 0:ht.degree)});var F=I[0];if(!o.length||((r=C[F])===null||r===void 0?void 0:r.degree)>=t)return"break";var H=o.findIndex(function(J){return J.id===F});o.splice(H,1),u=u.filter(function(J){return!(J.source===F||J.target===F)})};;){var c=l();if(c==="break")break}return{nodes:o,edges:u}},O=G,D=function(e,t,r){var n=[];switch(e){case $t.EuclideanDistance:n=t[r];break;default:n=[];break}return n},$=function(e,t,r,n,a,o){t===void 0&&(t=3),r===void 0&&(r=void 0),n===void 0&&(n=[]),a===void 0&&(a=["id"]),o===void 0&&(o=$t.EuclideanDistance);var s=e.nodes,u=s===void 0?[]:s,l=e.edges,c=l===void 0?[]:l,d={clusters:[{id:"0",nodes:u}],clusterEdges:[]};if(o===$t.EuclideanDistance&&!u.every(function(Pn){return Pn.hasOwnProperty(r)}))return d;var C=[],I=[];if(o===$t.EuclideanDistance&&(C=Cn(u,r),I=gt(C,n,a)),!I.length)return d;for(var F=(0,f.uniq)(I.map(function(Pn){return Pn.join("")})),H=Math.min(t,u.length,F.length),J=0;J<u.length;J++)u[J].originIndex=J;for(var st=[],ut=[],ht=[],J=0;J<H;J++)if(J===0){var _t=Math.floor(Math.random()*u.length);switch(o){case $t.EuclideanDistance:st[J]=I[_t];break;default:st[J]=[];break}ut.push(_t),ht[J]=[u[_t]],u[_t].clusterId=String(J)}else{for(var Vt=-1/0,re=0,te=function(jn){if(!ut.includes(jn)){for(var ta=0,ba=0;ba<st.length;ba++){var La=0;switch(o){case $t.EuclideanDistance:La=lt(I[u[jn].originIndex],st[ba],o);break;default:break}ta+=La}var wi=ta/st.length;wi>Vt&&!st.find(function(ii){return(0,f.isEqual)(ii,D(o,I,u[jn].originIndex))})&&(Vt=wi,re=jn)}},Ee=0;Ee<u.length;Ee++)te(Ee);st[J]=D(o,I,re),ut.push(re),ht[J]=[u[re]],u[re].clusterId=String(J)}for(var ze=0;;){for(var J=0;J<u.length;J++){var Oe=0,er=1/0;if(!(ze===0&&ut.includes(J))){for(var hr=0;hr<st.length;hr++){var rn=0;switch(o){case $t.EuclideanDistance:rn=lt(I[J],st[hr],o);break;default:break}rn<er&&(er=rn,Oe=hr)}if(u[J].clusterId!==void 0)for(var Dn=ht[Number(u[J].clusterId)].length-1;Dn>=0;Dn--)ht[Number(u[J].clusterId)][Dn].id===u[J].id&&ht[Number(u[J].clusterId)].splice(Dn,1);u[J].clusterId=String(Oe),ht[Oe].push(u[J])}}for(var yn=!1,J=0;J<ht.length;J++){for(var Kr=ht[J],Un=new ir([]),hr=0;hr<Kr.length;hr++)Un=Un.add(new ir(I[Kr[hr].originIndex]));var Fn=Un.avg(Kr.length);Fn.equal(new ir(st[J]))||(yn=!0,st[J]=Fn.getArr())}if(ze++,u.every(function(Pn){return Pn.clusterId!==void 0})&&yn||ze>=1e3)break}var $r=[],gn={};return c.forEach(function(Pn){var Ln,jn,ta=Pn.source,ba=Pn.target,La=(Ln=u.find(function(Ai){return Ai.id===ta}))===null||Ln===void 0?void 0:Ln.clusterId,wi=(jn=u.find(function(Ai){return Ai.id===ba}))===null||jn===void 0?void 0:jn.clusterId,ii="".concat(La,"---").concat(wi);if(gn[ii])gn[ii].count++;else{var Si={source:La,target:wi,count:1};gn[ii]=Si,$r.push(Si)}}),{clusters:ht,clusterEdges:$r}},mt=$,kt=function(e,t){var r=new ir(t),n=r.norm2(),a=new ir(e),o=a.norm2(),s=r.dot(a),u=n*o,l=u?s/u:0;return l},Rt=kt,qt=function(e,t,r,n,a){e===void 0&&(e=[]),r===void 0&&(r=void 0),n===void 0&&(n=[]),a===void 0&&(a=[]);var o=(0,f.clone)(e.filter(function(C){return C.id!==t.id})),s=e.findIndex(function(C){return C.id===t.id}),u=Cn(e,r),l=gt(u,n,a),c=l[s],d=[];return o.forEach(function(C,I){if(C.id!==t.id){var F=l[I],H=Rt(F,c);d.push(H),C.cosineSimilarity=H}}),o.sort(function(C,I){return I.cosineSimilarity-C.cosineSimilarity}),{allCosineSimilarity:d,similarNodes:o}},Le=qt,Me=function(){function i(e){this.count=e.length,this.parent={};for(var t=0,r=e;t<r.length;t++){var n=r[t];this.parent[n]=n}}return i.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},i.prototype.union=function(e,t){var r=this.find(e),n=this.find(t);r!==n&&(r<n?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},i.prototype.connected=function(e,t){return this.find(e)===this.find(t)},i}(),Ke=Me,vr=function(e,t){return e-t},He=function(){function i(e){e===void 0&&(e=vr),this.compareFn=e,this.list=[]}return i.prototype.getLeft=function(e){return 2*e+1},i.prototype.getRight=function(e){return 2*e+2},i.prototype.getParent=function(e){return e===0?null:Math.floor((e-1)/2)},i.prototype.isEmpty=function(){return this.list.length<=0},i.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},i.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},i.prototype.insert=function(e){if(e!==null){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},i.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var r=this.list[t];this.list[t]=this.list[e],this.list[e]=r,e=t,t=this.getParent(e)}},i.prototype.moveDown=function(e){var t,r=e,n=this.getLeft(e),a=this.getRight(e),o=this.list.length;n!==null&&n<o&&this.compareFn(this.list[r],this.list[n])>0?r=n:a!==null&&a<o&&this.compareFn(this.list[r],this.list[a])>0&&(r=a),e!==r&&(t=[this.list[r],this.list[e]],this.list[e]=t[0],this.list[r]=t[1],this.moveDown(r))},i}(),Rr=He,fn=function(e,t){var r=[],n=e.nodes,a=n===void 0?[]:n,o=e.edges,s=o===void 0?[]:o;if(a.length===0)return r;var u=a[0],l=new Set;l.add(u);var c=function(J,st){return t?J.weight-st.weight:0},d=new Rr(c);for(Zt(u.id,s).forEach(function(H){d.insert(H)});!d.isEmpty();){var C=d.delMin(),I=C.source,F=C.target;l.has(I)&&l.has(F)||(r.push(C),l.has(I)||(l.add(I),Zt(I,s).forEach(function(H){d.insert(H)})),l.has(F)||(l.add(F),Zt(F,s).forEach(function(H){d.insert(H)})))}return r},Je=function(e,t){var r=[],n=e.nodes,a=n===void 0?[]:n,o=e.edges,s=o===void 0?[]:o;if(a.length===0)return r;var u=s.map(function(I){return I});t&&u.sort(function(I,F){return I.weight-F.weight});for(var l=new Ke(a.map(function(I){return I.id}));u.length>0;){var c=u.shift(),d=c.source,C=c.target;l.connected(d,C)||(r.push(c),l.union(d,C))}return r},pr=function(e,t,r){var n={prim:fn,kruskal:Je};return r?n[r](e,t):Je(e,t)},kr=pr,Pr=function(e,t,r){typeof t!="number"&&(t=1e-6),typeof r!="number"&&(r=.85);for(var n=1,a=0,o=1e3,s=e.nodes,u=s===void 0?[]:s,l=e.edges,c=l===void 0?[]:l,d=u.length,C,I={},F={},H=0;H<d;++H){var J=u[H],st=J.id;I[st]=1/d,F[st]=1/d}for(var ut=ye(e);o>0&&n>t;){a=0;for(var H=0;H<d;++H){var J=u[H],st=J.id;if(C=0,ut[J.id].inDegree===0)I[st]=0;else{for(var ht=Ct(st,c,"source"),_t=0;_t<ht.length;++_t){var Vt=ht[_t],re=ut[Vt].outDegree;re>0&&(C+=F[Vt]/re)}I[st]=r*C,a+=I[st]}}a=(1-a)/d,n=0;for(var H=0;H<d;++H){var J=u[H],st=J.id;C=I[st]+a,n+=Math.abs(C-F[st]),F[st]=C}o-=1}return F},oe=Pr,Wt=-1,pe=-1,_e="-1",xe="-1",Ge=-1,lr="-1",gr=function(){function i(e,t,r,n){e===void 0&&(e=Wt),t===void 0&&(t=pe),r===void 0&&(r=pe),n===void 0&&(n=_e),this.id=e,this.from=t,this.to=r,this.label=n}return i}(),Zr=function(){function i(e,t){e===void 0&&(e=pe),t===void 0&&(t=xe),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return i.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},i}(),Tn=function(){function i(e,t,r){e===void 0&&(e=pe),t===void 0&&(t=!0),r===void 0&&(r=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=r}return i.prototype.getNodeNum=function(){return this.nodes.length},i.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var r=new Zr(e,t);this.nodes.push(r),this.nodeMap[e]=r,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},i.prototype.addEdge=function(e,t,r,n){if((this.edgeIdAutoIncrease||e===void 0)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[r]&&this.nodeMap[r].edgeMap[e])){var a=new gr(e,t,r,n);if(this.edges.push(a),this.edgeMap[e]=a,this.nodeMap[t].addEdge(a),this.edgeLabelMap[n]||(this.edgeLabelMap[n]=[]),this.edgeLabelMap[n].push(a),!this.directed){var o=new gr(e,r,t,n);this.nodeMap[r].addEdge(o),this.edgeLabelMap[n].push(o)}}},i}(),an=function(){function i(e,t,r,n,a){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:r||xe,edgeLabel:n||_e,nodeLabel2:a||xe}}return i.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},i.prototype.notEqualTo=function(e){return!this.equalTo(e)},i}(),kn=function(){function i(){this.rmpath=[],this.dfsEdgeList=[]}return i.prototype.equalTo=function(e){var t=this.dfsEdgeList.length,r=e.length;if(t!==r)return!1;for(var n=0;n<t;n++)if(this.dfsEdgeList[n]!==e[n])return!1;return!0},i.prototype.notEqualTo=function(e){return!this.equalTo(e)},i.prototype.pushBack=function(e,t,r,n,a){return this.dfsEdgeList.push(new an(e,t,r,n,a)),this.dfsEdgeList},i.prototype.toGraph=function(e,t){e===void 0&&(e=Ge),t===void 0&&(t=!1);var r=new Tn(e,!0,t);return this.dfsEdgeList.forEach(function(n){var a=n.fromNode,o=n.toNode,s=n.nodeEdgeNodeLabel,u=s.nodeLabel1,l=s.edgeLabel,c=s.nodeLabel2;u!==xe&&r.addNode(a,u),c!==xe&&r.addNode(o,c),u!==xe&&c!==u&&r.addEdge(void 0,a,o,l)}),r},i.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length,r=t-1;r>=0;r--){var n=this.dfsEdgeList[r],a=n.fromNode,o=n.toNode;a<o&&(e===void 0||o===e)&&(this.rmpath.push(r),e=a)}return this.rmpath},i.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach(function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)}),Object.keys(e).length},i}(),un=function(){function i(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return i.prototype.hasNode=function(e){return this.nodesUsed[e.id]===1},i.prototype.hasEdge=function(e){return this.edgesUsed[e.id]===1},i}(),Bn=function(){function i(e){var t=e.graphs,r=e.minSupport,n=r===void 0?2:r,a=e.minNodeNum,o=a===void 0?1:a,s=e.maxNodeNum,u=s===void 0?4:s,l=e.top,c=l===void 0?10:l,d=e.directed,C=d===void 0?!1:d,I=e.verbose,F=I===void 0?!1:I;this.graphs=t,this.dfsCode=new kn,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=n,this.top=c,this.directed=C,this.counter=0,this.maxNodeNum=u,this.minNodeNum=o,this.verbose=F,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return i.prototype.findForwardRootEdges=function(e,t){var r=this,n=[],a=e.nodeMap;return t.edges.forEach(function(o){(r.directed||t.label<=a[o.to].label)&&n.push(o)}),n},i.prototype.findBackwardEdge=function(e,t,r,n){if(!this.directed&&t===r)return null;for(var a=e.nodeMap,o=a[r.to],s=o.edges,u=s.length,l=0;l<u;l++){var c=s[l];if(!(n.hasEdge(c)||c.to!==t.from)){if(this.directed){if(a[t.from].label<a[r.to].label||a[t.from].label===a[r.to].label&&t.label<=c.label)return c}else if(t.label<c.label||t.label===c.label&&a[t.to].label<=a[r.to].label)return c}}return null},i.prototype.findForwardPureEdges=function(e,t,r,n){for(var a=[],o=t.to,s=e.nodeMap[o].edges,u=s.length,l=0;l<u;l++){var c=s[l],d=e.nodeMap[c.to];r<=d.label&&!n.hasNode(d)&&a.push(c)}return a},i.prototype.findForwardRmpathEdges=function(e,t,r,n){for(var a=[],o=e.nodeMap,s=o[t.to].label,u=o[t.from],l=u.edges,c=l.length,d=0;d<c;d++){var C=l[d],I=o[C.to].label;t.to===C.to||r>I||n.hasNode(o[C.to])||(t.label<C.label||t.label===C.label&&s<=I)&&a.push(C)}return a},i.prototype.getSupport=function(e){var t={};return e.forEach(function(r){t[r.graphId]||(t[r.graphId]=!0)}),Object.keys(t).length},i.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach(function(r){var n=e[r],a=n.nodeLabel1,o=n.edgeLabel,s=n.nodeLabel2;if(!t){t={nodeLabel1:a,edgeLabel:o,nodeLabel2:s};return}(a<t.nodeLabel1||a===t.nodeLabel1&&o<t.edgeLabel||a===t.nodeLabel1&&o===t.edgeLabel&&s<t.nodeLabel2)&&(t={nodeLabel1:a,edgeLabel:o,nodeLabel2:s})}),t},i.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),t.dfsEdgeList.length===1)return!0;var r=this.directed,n=t.toGraph(Ge,r),a=n.nodeMap,o=new kn,s={};n.nodes.forEach(function(d){var C=e.findForwardRootEdges(n,d);C.forEach(function(I){var F=a[I.to],H="".concat(d.label,"-").concat(I.label,"-").concat(F.label);s[H]||(s[H]={projected:[],nodeLabel1:d.label,edgeLabel:I.label,nodeLabel2:F.label});var J={graphId:n.id,edge:I,preNode:null};s[H].projected.push(J)})});var u=this.findMinLabel(s);if(u){o.dfsEdgeList.push(new an(0,1,u.nodeLabel1,u.edgeLabel,u.nodeLabel2));var l=function d(C){for(var I=o.buildRmpath(),F=o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,H=o.dfsEdgeList[I[0]].toNode,J={},st=!1,ut=0,ht=r?-1:0,_t=function(Un){if(st)return"break";C.forEach(function(Fn){var $r=new un(Fn),gn=e.findBackwardEdge(n,$r.edges[I[Un]],$r.edges[I[0]],$r);gn&&(J[gn.label]||(J[gn.label]={projected:[],edgeLabel:gn.label}),J[gn.label].projected.push({graphId:n.id,edge:J,preNode:Fn}),ut=o.dfsEdgeList[I[Un]].fromNode,st=!0)})},Vt=I.length-1;Vt>ht;Vt--){var re=_t(Vt);if(re==="break")break}if(st){var te=e.findMinLabel(J);o.dfsEdgeList.push(new an(H,ut,xe,te.edgeLabel,xe));var Ee=o.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[Ee]!==o.dfsEdgeList[Ee]?!1:d(J[te.edgeLabel].projected)}var ze={};st=!1;var Oe=0;C.forEach(function(Kr){var Un=new un(Kr),Fn=e.findForwardPureEdges(n,Un.edges[I[0]],F,Un);Fn.length>0&&(st=!0,Oe=H,Fn.forEach(function($r){var gn="".concat($r.label,"-").concat(a[$r.to].label);ze[gn]||(ze[gn]={projected:[],edgeLabel:$r.label,nodeLabel2:a[$r.to].label}),ze[gn].projected.push({graphId:n.id,edge:$r,preNode:Kr})}))});for(var er=I.length,hr=function(Un){if(st)return"break";var Fn=I[Un];C.forEach(function($r){var gn=new un($r),Pn=e.findForwardRmpathEdges(n,gn.edges[Fn],F,gn);Pn.length>0&&(st=!0,Oe=o.dfsEdgeList[Fn].fromNode,Pn.forEach(function(Ln){var jn="".concat(Ln.label,"-").concat(a[Ln.to].label);ze[jn]||(ze[jn]={projected:[],edgeLabel:Ln.label,nodeLabel2:a[Ln.to].label}),ze[jn].projected.push({graphId:n.id,edge:Ln,preNode:$r})}))})},Vt=0;Vt<er;Vt++){var rn=hr(Vt);if(rn==="break")break}if(!st)return!0;var Dn=e.findMinLabel(ze);o.dfsEdgeList.push(new an(Oe,H+1,xe,Dn.edgeLabel,Dn.nodeLabel2));var yn=o.dfsEdgeList.length-1;return t.dfsEdgeList[yn]!==o.dfsEdgeList[yn]?!1:d(ze["".concat(Dn.edgeLabel,"-").concat(Dn.nodeLabel2)].projected)},c="".concat(u.nodeLabel1,"-").concat(u.edgeLabel,"-").concat(u.nodeLabel2);return l(s[c].projected)}},i.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,f.clone)(e))}},i.prototype.subGraphMining=function(e){var t=this,r=this.getSupport(e);if(!(r<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),a=this.dfsCode.buildRmpath(),o=this.dfsCode.dfsEdgeList[a[0]].toNode,s=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,u={},l={};e.forEach(function(c){for(var d=t.graphs[c.graphId],C=d.nodeMap,I=new un(c),F=a.length-1;F>=0;F--){var H=t.findBackwardEdge(d,I.edges[a[F]],I.edges[a[0]],I);if(H){var J="".concat(t.dfsCode.dfsEdgeList[a[F]].fromNode,"-").concat(H.label);l[J]||(l[J]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[a[F]].fromNode,edgeLabel:H.label}),l[J].projected.push({graphId:c.graphId,edge:H,preNode:c})}}if(!(n>=t.maxNodeNum)){var st=t.findForwardPureEdges(d,I.edges[a[0]],s,I);st.forEach(function(ht){var _t="".concat(o,"-").concat(ht.label,"-").concat(C[ht.to].label);u[_t]||(u[_t]={projected:[],fromNodeId:o,edgeLabel:ht.label,nodeLabel2:C[ht.to].label}),u[_t].projected.push({graphId:c.graphId,edge:ht,preNode:c})});for(var ut=function(_t){var Vt=t.findForwardRmpathEdges(d,I.edges[a[_t]],s,I);Vt.forEach(function(re){var te="".concat(t.dfsCode.dfsEdgeList[a[_t]].fromNode,"-").concat(re.label,"-").concat(C[re.to].label);u[te]||(u[te]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[a[_t]].fromNode,edgeLabel:re.label,nodeLabel2:C[re.to].label}),u[te].projected.push({graphId:c.graphId,edge:re,preNode:c})})},F=0;F<a.length;F++)ut(F)}}),Object.keys(l).forEach(function(c){var d=l[c],C=d.toNodeId,I=d.edgeLabel;t.dfsCode.dfsEdgeList.push(new an(o,C,"-1",I,"-1")),t.subGraphMining(l[c].projected),t.dfsCode.dfsEdgeList.pop()}),Object.keys(u).forEach(function(c){var d=u[c],C=d.fromNodeId,I=d.edgeLabel,F=d.nodeLabel2;t.dfsCode.dfsEdgeList.push(new an(C,o+1,xe,I,F)),t.subGraphMining(u[c].projected),t.dfsCode.dfsEdgeList.pop()})}},i.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,r=this.minSupport,n=this.frequentSize1Subgraphs,a={},o={},s={},u={};return Object.keys(e).forEach(function(l){var c=e[l],d=c.nodeMap;c.nodes.forEach(function(C,I){var F=C.label,H="".concat(l,"-").concat(F);if(!s[H]){var J=a[F]||0;J++,a[F]=J}s[H]={graphKey:l,label:F},C.edges.forEach(function(st){var ut=F,ht=d[st.to].label;if(!t&&ut>ht){var _t=ht;ht=ut,ut=_t}var Vt=st.label,re="".concat(l,"-").concat(ut,"-").concat(Vt,"-").concat(ht),te="".concat(ut,"-").concat(Vt,"-").concat(ht);if(!o[te]){var Ee=o[te]||0;Ee++,o[te]=Ee}u[re]={graphId:l,nodeLabel1:ut,edgeLabel:Vt,nodeLabel2:ht}})})}),Object.keys(a).forEach(function(l){var c=a[l];if(!(c<r)){var d={nodes:[],edges:[]};d.nodes.push({id:"0",label:l}),n.push(d)}}),n},i.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,r=this.directed,n={};Object.keys(t).forEach(function(a){var o=t[a],s=o.nodeMap;o.nodes.forEach(function(u){var l=e.findForwardRootEdges(o,u);l.forEach(function(c){var d=s[c.to],C="".concat(u.label,"-").concat(c.label,"-").concat(d.label);n[C]||(n[C]={projected:[],nodeLabel1:u.label,edgeLabel:c.label,nodeLabel2:d.label});var I={graphId:a,edge:c,preNode:null};n[C].projected.push(I)})})}),Object.keys(n).forEach(function(a){var o=n[a],s=o.projected,u=o.nodeLabel1,l=o.edgeLabel,c=o.nodeLabel2;e.dfsCode.dfsEdgeList.push(new an(0,1,u,l,c)),e.subGraphMining(s),e.dfsCode.dfsEdgeList.pop()})}},i}(),Zn=function(e,t,r,n){var a={};return Object.keys(e).forEach(function(o,s){var u=e[o],l=new Tn(s,!0,t),c={};u.nodes.forEach(function(d,C){l.addNode(C,d[r]),c[d.id]=C}),u.edges.forEach(function(d,C){var I=c[d.source],F=c[d.target];l.addEdge(-1,I,F,d[n])}),l&&l.getNodeNum()&&(a[l.id]=l)}),a},na=function(e,t,r){var n=[];return e.forEach(function(a){var o={nodes:[],edges:[]};a.nodes.forEach(function(s){var u;o.nodes.push((u={id:"".concat(s.id)},u[t]=s.label,u))}),a.edges.forEach(function(s){var u;o.edges.push((u={source:"".concat(s.from),target:"".concat(s.to)},u[r]=s.label,u))}),n.push(o)}),n},ra="cluster",ti=function(e){var t=e.graphs,r=e.directed,n=r===void 0?!1:r,a=e.nodeLabelProp,o=a===void 0?ra:a,s=e.edgeLabelProp,u=s===void 0?ra:s,l=Zn(t,n,o,u),c=e.minSupport,d=e.maxNodeNum,C=e.minNodeNum,I=e.verbose,F=e.top,H={graphs:l,minSupport:c,maxNodeNum:d,minNodeNum:C,top:F,verbose:I,directed:n},J=new Bn(H);J.run();var st=na(J.frequentSubgraphs,o,u);return st},Ua=ti,Ia=function(e,t,r,n){r===void 0&&(r="cluster"),n===void 0&&(n=2);var a=[],o=e.nodes;return t.forEach(function(s,u){a.push(oi(o,s,u,r,n))}),a},oi=function(e,t,r,n,a){var o=[r],s=[],u={};return t.forEach(function(l,c){if(l<=a&&r!==c){o.push(c),s.push(e[c]);var d=e[c][n];u[d]?(u[d].count++,u[d].dists.push(l)):u[d]={count:1,dists:[l]}}}),Object.keys(u).forEach(function(l){u[l].dists=u[l].dists.sort(function(c,d){return c-d})}),{nodeIdx:r,nodeId:e[r].id,nodeIdxs:o,neighbors:s,neighborNum:o.length-1,nodeLabelCountMap:u}},Lo=function(e,t,r,n,a){var o=Math.ceil(r/t),s={},u=0;return n.forEach(function(l,c){for(var d=0,C=0,I=l.nodeIdxs,F=l.neighborNum-1;d<o;){for(var H=I[1+Math.floor(Math.random()*F)],J=0;(s["".concat(c,"-").concat(H)]||s["".concat(H,"-").concat(c)])&&(H=Math.floor(Math.random()*t),J++,!(J>2*t)););if(J<2*t&&(s["".concat(c,"-").concat(H)]={start:c,end:H,distance:a[c][H]},d++,u++,u>=r))return s;if(C++,C>2*t)break}if(d<o){var st=o-d;o=(o+st)/(t-c-1)}}),s},gi=function(e,t,r,n){var a=r.nodes;return n||(n={}),Object.keys(e).forEach(function(o){var s,u;if(!(n&&n[o])){n[o]={nodes:[],edges:[]};var l=e[o],c=(s=t[l.start])===null||s===void 0?void 0:s.nodeIdxs,d=(u=t[l.end])===null||u===void 0?void 0:u.nodeIdxs;if(!(!c||!d)){var C=new Set(d),I=c.filter(function(ut){return C.has(ut)});if(!(!I||!I.length)){for(var F={},H=I.length,J=0;J<H;J++){var st=a[I[J]];n[o].nodes.push(st),F[st.id]=!0}r.edges.forEach(function(ut){F[ut.source]&&F[ut.target]&&n[o].edges.push(ut)})}}}}),n},ci=function(e,t,r,n){var a,o,s={};e.nodes.forEach(function(l){s[l.id]=l});var u=0;return!(!((a=t==null?void 0:t.edges)===null||a===void 0)&&a.length)||((o=t==null?void 0:t.nodes)===null||o===void 0?void 0:o.length)<2?0:(e.edges.forEach(function(l){var c=s[l.source][r],d=s[l.target][r],C=t==null?void 0:t.nodes[0][r],I=t==null?void 0:t.nodes[1][r],F=t==null?void 0:t.edges[0][n];l[n]===F&&(c===C&&d===I||c===I&&d===C)&&u++}),u)},xa=function(e,t,r){for(var n=1/0,a=0,o=function(l){var c=e[l],d=Object.keys(c).sort(function(ut,ht){return c[ut]-c[ht]}),C=10,I=[];d.forEach(function(ut,ht){I[ht%C]||(I[ht%C]={graphs:[],totalCount:0,aveCount:0}),I[ht%C].graphs.push(ut),I[ht%C].totalCount+=c[ut]});var F=0,H=[];I.forEach(function(ut){var ht=ut.totalCount/ut.graphs.length;ut.aveCount=ht,H.push(ht);var _t=0,Vt=ut.length;ut.graphs.forEach(function(re,te){var Ee=c[re];ut.graphs.forEach(function(ze,Oe){te!==Oe&&(_t+=Math.abs(Ee-c[ze]))})}),_t/=Vt*(Vt-1)/2,F+=_t}),F/=I.length;var J=0;H.forEach(function(ut,ht){H.forEach(function(_t,Vt){ht!==Vt&&(J+=Math.abs(ut-_t))}),J/=H.length*(H.length-1)/2});var st=J-F;n<st&&(n=st,a=l)},s=0;s<t;s++)o(s);return{structure:r[a],structureCountMap:e[a]}},_i=function(e,t){var r={},n={};return e.forEach(function(a,o){r[a.id]={idx:o,node:a,degree:0,inDegree:0,outDegree:0};var s=a[t];n[s]||(n[s]=[]),n[s].push(a)}),{nodeMap:r,nodeLabelMap:n}},No=function(e,t,r){var n={},a={};return e.forEach(function(o,s){n["".concat(se)]={idx:s,edge:o};var u=o[t];a[u]||(a[u]=[]),a[u].push(o);var l=r[o.source];l&&(l.degree++,l.outDegree++);var c=r[o.target];c&&(c.degree++,c.inDegree++)}),{edgeMap:n,edgeLabelMap:a}},Wa=function(e,t,r){var n=t.length,a={};return t.forEach(function(o,s){for(var u=r?0:s+1,l=e[s].id,c=u;c<n;c++)if(s!==c){var d=e[c].id,C=o[c];a["".concat(l,"-").concat(d)]=C,r||(a["".concat(d,"-").concat(l)]=C)}}),a},go=function(e,t,r,n,a,o,s,u,l,c,d){var C,I="".concat(t.id,"-").concat(r.id);if(c&&c[I])return c[I];var F=d?d[I]:void 0;if(!F){var H=(C={},C[I]={start:n[t.id].idx,end:n[r.id].idx,distance:a},C);d=gi(H,o,e,d),F=d[I]}return ci(F,s,u,l)},So=function(e,t,r,n){var a,o,s,u=(a=e[t])===null||a===void 0?void 0:a.degree,l=(o=e[t])===null||o===void 0?void 0:o.inDegree,c=(s=e[t])===null||s===void 0?void 0:s.outDegree;return e[t]===void 0&&(u=1/0,l=1/0,c=1/0,n[t].forEach(function(d){var C=r[d.id].degree;u>C&&(u=C);var I=r[d.id].inDegree;l>I&&(l=I);var F=r[d.id].outDegree;c>F&&(c=F)}),e[t]={degree:u,inDegree:l,outDegree:c}),{minPatternNodeLabelDegree:u,minPatternNodeLabelInDegree:l,minPatternNodeLabelOutDegree:c}},Mo=function(e,t,r,n,a,o,s){var u;if(r===void 0&&(r=!1),o===void 0&&(o="cluster"),s===void 0&&(s="cluster"),!(!e||!e.nodes)){var l=e.nodes.length;if(l){var c=Ue(e,r),d=Ue(t,r),C=Wa(e.nodes,c,r),I=Wa(t.nodes,d,r),F=_i(e.nodes,o),H=F.nodeMap,J=F.nodeLabelMap,st=_i(t.nodes,o),ut=st.nodeMap,ht=st.nodeLabelMap;No(e.edges,s,H);var _t=No(t.edges,s,ut).edgeLabelMap,Vt=[];d==null||d.forEach(function(Ha){Vt=Vt.concat(Ha)}),a||(a=Math.max.apply(Math,(0,m.__spreadArray)((0,m.__spreadArray)([],Vt,!1),[2],!1))),n||(n=a);var re=Ia(e,c,o,n),te=Ia(t,d,o,n),Ee=Math.min(100,l*(l-1)/2),ze=Lo(n,l,Ee,re,c),Oe=gi(ze,re,e),er=10,hr=1,rn=1,Dn=4,yn={graphs:Oe,nodeLabelProp:o,edgeLabelProp:s,minSupport:hr,minNodeNum:rn,maxNodeNum:Dn,directed:r},Kr=Ua(yn).slice(0,er),Un=Kr.length,Fn=[];Kr.forEach(function(Ha,bi){Fn[bi]={},Object.keys(Oe).forEach(function(Ga){var xi=Oe[Ga],Li=ci(xi,Ha,o,s);Fn[bi][Ga]=Li})});var $r=xa(Fn,Un,Kr),gn=$r.structure,Pn=$r.structureCountMap,Ln=t.nodes[0],jn=[],ta=(u=t.nodes[0])===null||u===void 0?void 0:u[o],ba=-1/0;t.nodes.forEach(function(Ha){var bi=Ha[o],Ga=J[bi];(Ga==null?void 0:Ga.length)>ba&&(ba=Ga.length,jn=Ga,ta=bi,Ln=Ha)});var La={},wi={},ii={},Si={},Ai={},Ji={};Object.keys(ht).forEach(function(Ha,bi){Ai[Ha]=[],r&&(Ji[Ha]=[]);var Ga=-1/0,xi=ht[Ha],Li={};xi.forEach(function(ei){var li=I["".concat(Ln.id,"-").concat(ei.id)];if(li&&Ai[Ha].push(li),Ga<li&&(Ga=li),Li["".concat(Ln.id,"-").concat(ei.id)]={start:0,end:ut[ei.id].idx,distance:li},r){var po=I["".concat(ei.id,"-").concat(Ln.id)];po&&Ji[Ha].push(po)}}),Ai[Ha]=Ai[Ha].sort(function(ei,li){return ei-li}),r&&(Ji[Ha]=Ji[Ha].sort(function(ei,li){return ei-li})),wi=gi(Li,te,t,wi);var da=[];if(Object.keys(Li).forEach(function(ei){if(ii[ei]){da.push(ii[ei]);return}var li=wi[ei];ii[ei]=ci(li,gn,o,s),da.push(ii[ei])}),da=da.sort(function(ei,li){return li-ei}),Si["".concat(Ln.id,"-").concat(Ha)]=da,Ha!==ta)for(var $a=(jn==null?void 0:jn.length)||0,Ja=function(li){var po=jn[li],ks=re[H[po.id].idx],Po=ks.nodeLabelCountMap[Ha],hf=ht[Ha].length;if(!Po||Po.count<hf)return jn.splice(li,1),"continue";for(var sd=!1,ms=0;ms<hf;ms++)if(Po.dists[ms]>Ai[Ha][ms]){sd=!0;break}if(sd)return jn.splice(li,1),"continue";var ru={};ks.neighbors.forEach(function(ys){var xu=C["".concat(po.id,"-").concat(ys.id)];ru["".concat(po.id,"-").concat(ys.id)]={start:H[po.id].idx,end:H[ys.id].idx,distance:xu}}),Oe=gi(ru,re,e,Oe);var Hu=[];Object.keys(ru).forEach(function(ys){if(Pn[ys]){Hu.push(Pn[ys]);return}var xu=Oe[ys];Pn[ys]=ci(xu,gn,o,s),Hu.push(Pn[ys])}),Hu=Hu.sort(function(ys,xu){return xu-ys});for(var lc=!1,ms=0;ms<hf;ms++)if(Hu[ms]<da[ms]){lc=!0;break}if(lc)return jn.splice(li,1),"continue"},Ni=$a-1;Ni>=0;Ni--)Ja(Ni)});var Ui=[];jn==null||jn.forEach(function(Ha){for(var bi=H[Ha.id].idx,Ga=oi(e.nodes,c[bi],bi,o,a),xi=Ga.neighbors,Li=xi.length,da=!1,$a=Li-1;$a>=0;$a--){if(xi.length+1<t.nodes.length){da=!0;return}var Ja=xi[$a],Ni=Ja[o];if(!ht[Ni]||!ht[Ni].length){xi.splice($a,1);continue}if(!Ai[Ni]||!Ai[Ni].length){xi.splice($a,1);continue}var ei="".concat(Ha.id,"-").concat(Ja.id),li=C[ei],po=Ai[Ni].length-1,ks=Ai[Ni][po];if(li>ks){xi.splice($a,1);continue}if(r){var Po="".concat(Ja.id,"-").concat(Ha.id),hf=C[Po];po=Ji[Ni].length-1;var sd=Ji[Ni][po];if(hf>sd){xi.splice($a,1);continue}}var ms=Pn[ei]?Pn[ei]:go(e,Ha,Ja,H,li,re,gn,o,s,Pn,Oe),ru="".concat(Ln.id,"-").concat(Ni),Hu=Si[ru][Si[ru].length-1];if(ms<Hu){xi.splice($a,1);continue}var lc=So(La,Ni,ut,ht),ys=lc.minPatternNodeLabelDegree,xu=lc.minPatternNodeLabelInDegree,Ol=lc.minPatternNodeLabelOutDegree;if(H[Ja.id].degree<ys){xi.splice($a,1);continue}}da||Ui.push({nodes:[Ha].concat(xi)})});var tu=Cr(t,Ln.id,!1).length,Wo={};r?(Object.keys(tu).forEach(function(Ha){var bi=ut[Ha].node[o];Wo[bi]?Wo[bi].push(tu[Ha]):Wo[bi]=[tu[Ha]]}),Object.keys(Wo).forEach(function(Ha){Wo[Ha].sort(function(bi,Ga){return bi-Ga})})):Wo=Ai;for(var eu=Ui.length,Yo=function(bi){var Ga=Ui[bi],xi=Ga.nodes[0],Li={},da={};Ga.nodes.forEach(function(fo,Bs){da[fo.id]={idx:Bs,node:fo,degree:0,inDegree:0,outDegree:0};var $o=fo[o];Li[$o]?Li[$o]++:Li[$o]=1});var $a=[],Ja={};e.edges.forEach(function(fo){da[fo.source]&&da[fo.target]&&($a.push(fo),Ja[fo[s]]?Ja[fo[s]]++:Ja[fo[s]]=1,da[fo.source].degree++,da[fo.target].degree++,da[fo.source].outDegree++,da[fo.target].inDegree++)});for(var Ni=Object.keys(_t).length,ei=!1,li=0;li<Ni;li++){var po=Object.keys(_t)[li];if(!Ja[po]||Ja[po]<_t[po].length){ei=!0;break}}if(ei)return Ui.splice(bi,1),"continue";var ks=$a.length;if(ks<t.edges.length)return Ui.splice(bi,1),"break";for(var Po=!1,hf=function(Bs){var $o=$a[Bs],Zu=$o[s],vf=_t[Zu];if(!vf||!vf.length)return Ja[Zu]--,vf&&Ja[Zu]<vf.length?(Po=!0,"break"):($a.splice(Bs,1),da[$o.source].degree--,da[$o.target].degree--,da[$o.source].outDegree--,da[$o.target].inDegree--,"continue");var R0=da[$o.source].node[o],k0=da[$o.target].node[o],Iv=!1;if(vf.forEach(function(B0){var F0=ut[B0.source].node,z0=ut[B0.target].node;F0[o]===R0&&z0[o]===k0&&(Iv=!0),!r&&F0[o]===k0&&z0[o]===R0&&(Iv=!0)}),!Iv)return Ja[Zu]--,vf&&Ja[Zu]<vf.length?(Po=!0,"break"):($a.splice(Bs,1),da[$o.source].degree--,da[$o.target].degree--,da[$o.source].outDegree--,da[$o.target].inDegree--,"continue")},li=ks-1;li>=0;li--){var sd=hf(li);if(sd==="break")break}if(Po)return Ui.splice(bi,1),"continue";Ga.edges=$a;var ms=Cr(Ga,Ga.nodes[0].id,!1).length;if(Object.keys(ms).reverse().forEach(function(fo){if(!(fo===Ga.nodes[0].id||Po)){if(ms[fo]===1/0){var Bs=da[fo].node[o];if(Li[Bs]--,Li[Bs]<ht[Bs].length){Po=!0;return}var $o=Ga.nodes.indexOf(da[fo].node);Ga.nodes.splice($o,1),da[fo]=void 0;return}var Zu=H[fo].node[o];if(!Wo[Zu]||!Wo[Zu].length||ms[fo]>Wo[Zu][Wo[Zu].length-1]){var Bs=da[fo].node[o];if(Li[Bs]--,Li[Bs]<ht[Bs].length){Po=!0;return}var $o=Ga.nodes.indexOf(da[fo].node);Ga.nodes.splice($o,1),da[fo]=void 0}}}),Po)return Ui.splice(bi,1),"continue";for(var ru=!0,Hu=0;ru&&!Po;){ru=!1;var lc=r?da[xi.id].degree<ut[Ln.id].degree||da[xi.id].inDegree<ut[Ln.id].inDegree||da[xi.id].outDegree<ut[Ln.id].outDegree:da[xi.id].degree<ut[Ln.id].degree;if(lc){Po=!0;break}if(Li[xi[o]]<ht[xi[o]].length){Po=!0;break}for(var ys=Ga.nodes.length,xu=ys-1;xu>=0;xu--){var Ol=Ga.nodes[xu],L0=da[Ol.id].degree,FS=da[Ol.id].inDegree,zS=da[Ol.id].outDegree,GS=Ol[o],Ov=So(La,GS,ut,ht),N0=Ov.minPatternNodeLabelDegree,US=Ov.minPatternNodeLabelInDegree,WS=Ov.minPatternNodeLabelOutDegree,YS=r?L0<N0||FS<US||zS<WS:L0<N0;if(YS){if(Li[Ol[o]]--,Li[Ol[o]]<ht[Ol[o]].length){Po=!0;break}Ga.nodes.splice(xu,1),da[Ol.id]=void 0,ru=!0}}if(Po||!ru&&Hu!==0)break;ks=$a.length;for(var Mh=ks-1;Mh>=0;Mh--){var Il=$a[Mh];if(!da[Il.source]||!da[Il.target]){$a.splice(Mh,1);var _h=Il[s];if(Ja[_h]--,da[Il.source]&&(da[Il.source].degree--,da[Il.source].outDegree--),da[Il.target]&&(da[Il.target].degree--,da[Il.target].inDegree--),_t[_h]&&Ja[_h]<_t[_h].length){Po=!0;break}ru=!0}}Hu++}if(Po||Po||Ga.nodes.length<t.nodes.length||$a.length<t.edges.length)return Ui.splice(bi,1),"continue"},Xo=eu-1;Xo>=0;Xo--){var Rs=Yo(Xo);if(Rs==="break")break}for(var as=Ui.length,gs=function(bi){var Ga=Ui[bi],xi={};Ga.edges.forEach(function($a){var Ja="".concat($a.source,"-").concat($a.target,"-").concat($a.label);xi[Ja]?xi[Ja]++:xi[Ja]=1});for(var Li=function(Ja){var Ni=Ui[Ja],ei={};Ni.edges.forEach(function(po){var ks="".concat(po.source,"-").concat(po.target,"-").concat(po.label);ei[ks]?ei[ks]++:ei[ks]=1});var li=!0;Object.keys(ei).length!==Object.keys(xi).length?li=!1:Object.keys(xi).forEach(function(po){ei[po]!==xi[po]&&(li=!1)}),li&&Ui.splice(Ja,1)},da=as-1;da>bi;da--)Li(da);as=Ui.length},Xo=0;Xo<=as-1;Xo++)gs(Xo);return Ui}}},Wi=Mo,eo=function(){function i(e){e===void 0&&(e=10),this.linkedList=new xt,this.maxStep=e}return Object.defineProperty(i.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},i.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},i.prototype.push=function(e){this.linkedList.prepend(e),this.length>this.maxStep&&this.linkedList.deleteTail()},i.prototype.pop=function(){var e=this.linkedList.deleteHead();return e?e.value:null},i.prototype.toArray=function(){return this.linkedList.toArray().map(function(e){return e.value})},i.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},i}(),_o=eo,is=Ar,Oi={getAdjMatrix:rt,breadthFirstSearch:ae,connectedComponent:ue,getDegree:ye,getInDegree:ee,getOutDegree:Ut,detectCycle:Ar,detectDirectedCycle:is,detectAllCycles:Qe,detectAllDirectedCycle:Ze,detectAllUndirectedCycle:Pe,depthFirstSearch:be,dijkstra:Cr,findAllPath:Xe,findShortestPath:Yr,floydWarshall:Ue,labelPropagation:Br,louvain:fe,iLouvain:ft,kCore:O,kMeans:mt,cosineSimilarity:Rt,nodesCosineSimilarity:Le,minimumSpanningTree:kr,pageRank:oe,getNeighbors:Ct,Stack:_o,GADDI:Wi},ro=_(277160),Jn=_(631437),Kt=vt,ce=function(e){return function(t,r){return t[e]-r[e]}},Be=function(e,t,r){return e>=t&&e<=r},cr=function(e,t,r,n){var a=1e-4,o={x:r.x-e.x,y:r.y-e.y},s={x:t.x-e.x,y:t.y-e.y},u={x:n.x-r.x,y:n.y-r.y},l=s.x*u.y-s.y*u.x,c=l*l,d=1/l,C=s.x*s.x+s.y*s.y,I=u.x*u.x+u.y*u.y;if(c>a*C*I){var F=(o.x*u.y-o.y*u.x)*d,H=(o.x*s.y-o.y*s.x)*d;return!Be(F,0,1)||!Be(H,0,1)?null:{x:e.x+F*s.x,y:e.y+F*s.y}}return null},Lr=function(e,t){var r=e.x,n=e.y,a=e.width,o=e.height,s=r+a/2,u=n+o/2,l=[],c={x:s,y:u};l.push({x:r,y:n}),l.push({x:r+a,y:n}),l.push({x:r+a,y:n+o}),l.push({x:r,y:n+o}),l.push({x:r,y:n});for(var d=null,C=1;C<l.length&&(d=cr(l[C-1],l[C],c,t),!d);C++);return d},Ir=function(e,t){var r=e.x,n=e.y,a=e.r,o=t.x,s=t.y,u=o-r,l=s-n;if(u*u+l*l<a*a)return null;var c=Math.atan(l/u);return{x:r+Math.abs(a*Math.cos(c))*Math.sign(u),y:n+Math.abs(a*Math.sin(c))*Math.sign(l)}},Sr=function(e,t){var r=e.rx,n=e.ry,a=e.x,o=e.y,s=t.x-a,u=t.y-o,l=Math.atan2(u/n,s/r);return l<0&&(l+=2*Math.PI),{x:a+r*Math.cos(l),y:o+n*Math.sin(l)}},tn=function(e,t,r){r===void 0&&(r=1);var n=[e.x,e.y,r];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),ro.transformMat3(n,n,t),{x:n[0],y:n[1]}},dn=function(e,t,r){r===void 0&&(r=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var n=q.invert([1,0,0,0,1,0,0,0,1],t);n||(n=[1,0,0,0,1,0,0,0,1]);var a=[e.x,e.y,r];return ro.transformMat3(a,a,n),{x:a[0],y:a[1]}},An=function(e,t,r){var n=e.x-t.x,a=e.y-t.y,o=e.x-r.x,s=e.y-r.y,u=(e.x*e.x-t.x*t.x-t.y*t.y+e.y*e.y)/2,l=(e.x*e.x-r.x*r.x-r.y*r.y+e.y*e.y)/2,c=a*o-n*s;return{x:-(s*u-a*l)/c,y:-(n*l-o*u)/c}},Kn=function(e,t){var r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)},Wn=function(e,t){var r=[];return e.forEach(function(n){var a=[];n.forEach(function(o){a.push(o*t)}),r.push(a)}),r},aa=function(e){for(var t=[],r=e.length,n=0;n<r;n+=1){t[n]=[];for(var a=0;a<r;a+=1)n===a?t[n][a]=0:e[n][a]===0||!e[n][a]?t[n][a]=1/0:t[n][a]=e[n][a]}for(var o=0;o<r;o+=1)for(var n=0;n<r;n+=1)for(var a=0;a<r;a+=1)t[n][a]>t[n][o]+t[o][a]&&(t[n][a]=t[n][o]+t[o][a]);return t},oa=function(e,t){var r=e.nodes,n=e.edges,a=[],o={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach(function(s,u){o[s.id]=u;var l=[];a.push(l)}),n&&n.forEach(function(s){var u=s.source,l=s.target,c=o[u],d=o[l];a[c][d]=1,t||(a[d][c]=1)}),a},Ya=function(e,t){e.translate(t.x,t.y)},ua=function(e,t,r,n){n===void 0&&(n={duration:500});var a=e.getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]);var o=e.getCanvasBBox(),s=t.x-o.minX,u=t.y-o.minY;if(r){var l=s*a[0],c=u*a[4],d=0,C=0,I=0,F=0;e.animate(function(J){return I=l*J,F=c*J,a=Kt(a,[["t",I-d,F-C]]),d=I,C=F,{matrix:a}},n)}else{var H=Kt(a,[["t",s,u]]);e.setMatrix(H)}},qn=function(e,t){var r=e.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var n=t;(0,f.isArray)(t)||(n=[t,t]),(0,f.isArray)(t)&&t.length===1&&(n=[t[0],t[0]]),r=Kt(r,[["s",n[0],n[1]]]),e.setMatrix(r)},za=function(e,t){var r=e.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]),r=Kt(r,[["r",t]]),e.setMatrix(r)},Pa=function(e,t,r){for(var n=[],a=0;a<e;a++)n[a]=0;return r.forEach(function(o){o.source&&(n[t[o.source]]+=1),o.target&&(n[t[o.target]]+=1)}),n};function Ea(i,e,t){return(t[0]-i[0])*(e[1]-i[1])===(e[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],e[0])<=t[0]&&t[0]<=Math.max(i[0],e[0])&&Math.min(i[1],e[1])<=t[1]&&t[1]<=Math.max(i[1],e[1])}var si=function(e,t,r){var n=!1,a=e.length,o=1e-6;function s(d){return Math.abs(d)<o?0:d<0?-1:1}if(a<=2)return!1;for(var u=0;u<a;u++){var l=e[u],c=e[(u+1)%a];if(Ea(l,c,[t,r]))return!0;s(l[1]-r)>0!=s(c[1]-r)>0&&s(t-(r-l[1])*(l[0]-c[0])/(l[1]-c[1])-l[0])<0&&(n=!n)}return n},qa=function(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)},Na=function(e,t){var r=!1;return(0,f.each)(e,function(n){if(cr(n.from,n.to,t.from,t.to))return r=!0,!1}),r},_a=function(e,t){var r=function(C){var I=C.map(function(H){return H[0]}),F=C.map(function(H){return H[1]});return{minX:Math.min.apply(null,I),maxX:Math.max.apply(null,I),minY:Math.min.apply(null,F),maxY:Math.max.apply(null,F)}},n=function(C){for(var I=[],F=C.length,H=0;H<F-1;H++){var J=C[H],st=C[H+1];I.push({from:{x:J[0],y:J[1]},to:{x:st[0],y:st[1]}})}if(I.length>1){var ut=C[0],ht=C[F-1];I.push({from:{x:ht[0],y:ht[1]},to:{x:ut[0],y:ut[1]}})}return I};if(e.length<2||t.length<2)return!1;var a=r(e),o=r(t);if(!qa(a,o))return!1;var s=!1;if((0,f.each)(t,function(d){if(si(e,d[0],d[1]))return s=!0,!1}),s||((0,f.each)(e,function(d){if(si(t,d[0],d[1]))return s=!0,!1}),s))return!0;var u=n(e),l=n(t),c=!1;return(0,f.each)(l,function(d){if(Na(u,d))return c=!0,!1}),c},pa=function(){function i(e,t,r,n){this.x1=e,this.y1=t,this.x2=r,this.y2=n}return i.prototype.getBBox=function(){var e=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),r=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2),a={x:e,y:t,minX:e,minY:t,maxX:r,maxY:n,width:r-e,height:n-t};return a},i}(),fi=function(e,t){var r={top:[e.minX,e.minY,e.maxX,e.minY],left:[e.minX,e.minY,e.minX,e.maxY],bottom:[e.minX,e.maxY,e.maxX,e.maxY],right:[e.maxX,e.minY,e.maxX,e.maxY]};return r[t]},ri=function(e,t){var r=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),n=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),a=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(a){var o=r/a,s=n/a;if(o>=0&&o<=1&&s>=0&&s<=1)return o}return Number.POSITIVE_INFINITY},di=function(e,t){for(var r=["top","left","bottom","right"],n=e.getBBox(),a=0,o=[],s=0;s<4;s++){var u=fi(n,r[s]),l=u[0],c=u[1],d=u[2],C=u[3];o[s]=cr({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:l,y:c},{x:d,y:C}),o[s]&&(a+=1)}return[o,a]},Di=function(e,t){for(var r=["top","left","bottom","right"],n=e.getBBox(),a=Number.POSITIVE_INFINITY,o=0,s=0;s<4;s++){var u=fi(n,r[s]),l=u[0],c=u[1],d=u[2],C=u[3],I=ri(t,new pa(l,c,d,C));I=Math.abs(I-.5),I>=0&&I<=1&&(o+=1,a=I<a?I:a)}return o===0?-1:a},Ci=function(e){var t=0,r=0;if(e.length>0){for(var n=0,a=e;n<a.length;n++){var o=a[n];t+=o.x,r+=o.y}t/=e.length,r/=e.length}return{x:t,y:r}},Ri=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},Eo=function(e,t){var r=t.x1,n=t.y1,a=t.x2-r,o=t.y2-n,s=e.x-r,u=e.y-n,l=s*a+u*o,c;l<=0?c=0:(s=a-s,u=o-u,l=s*a+u*o,l<=0?c=0:c=l*l/(a*a+o*o));var d=s*s+u*u-c;return d<0&&(d=0),d},wo=function(e,t,r){return r===void 0&&(r=.001),Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(r,2)},Ii=function(e,t){var r=e.x<t.x,n=e.x>t.x+t.width,a=e.y>t.y+t.height,o=e.y<t.y,s=r||n||a||o;if(!s)return 0;if(a&&!r&&!n)return Math.pow(t.y+t.height-e.y,2);if(o&&!r&&!n)return Math.pow(e.y-t.y,2);if(r&&!a&&!o)return Math.pow(t.x-e.x,2);if(n&&!a&&!o)return Math.pow(t.x+t.width-e.x,2);var u=Math.min(Math.abs(t.x-e.x),Math.abs(t.x+t.width-e.x)),l=Math.min(Math.abs(t.y-e.y),Math.abs(t.y+t.height-e.y));return u*u+l*l},Ra=function(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],s=t.x,u=t.y,l=[a-r,o-n];if(Jn.exactEquals(l,[0,0]))return NaN;var c=[-l[1],l[0]];Jn.normalize(c,c);var d=[s-r,u-n];return Math.abs(Jn.dot(d,c))},mi=function(e,t,r){return e+(t-e)*r},Pi=function(e,t,r){for(var n=Math.min(e.length,t.length),a=new Array(n),o=0;o<n;o++)a[o]=mi(e[o],t[o],r);return a},Ma="rgb(95, 149, 255)",ki="rgb(255, 255, 255)",no="rgb(0, 0, 0)",Mi="rgb(247, 250, 255)",Co="rgb(239, 244, 255)",yi="rgb(253, 253, 253)",ao="rgb(250, 250, 250)",Ro="rgb(224, 224, 224)",es="rgb(234, 234, 234)",Bi="rgb(245, 245, 245)",ko="rgb(191, 213, 255)",Bo="#4572d9",cs="rgb(223, 234, 255)",va={mainStroke:Ma,mainFill:Co,activeStroke:Ma,activeFill:Mi,inactiveStroke:ko,inactiveFill:Mi,selectedStroke:Ma,selectedFill:ki,highlightStroke:Bo,highlightFill:cs,disableStroke:Ro,disableFill:ao,edgeMainStroke:Ro,edgeActiveStroke:Ma,edgeInactiveStroke:es,edgeSelectedStroke:Ma,edgeHighlightStroke:Ma,edgeDisableStroke:Bi,comboMainStroke:Ro,comboMainFill:yi,comboActiveStroke:Ma,comboActiveFill:Mi,comboInactiveStroke:Ro,comboInactiveFill:yi,comboSelectedStroke:Ma,comboSelectedFill:yi,comboHighlightStroke:Bo,comboHighlightFill:yi,comboDisableStroke:es,comboDisableFill:ao},Bt={version:"0.8.7",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:va.mainStroke,fill:Co},size:20,color:va.mainStroke,linkPoints:{size:8,lineWidth:1,fill:va.activeFill,stroke:va.activeStroke}},nodeStateStyles:{active:{fill:va.activeFill,stroke:va.activeStroke,lineWidth:2,shadowColor:va.mainStroke,shadowBlur:10},selected:{fill:va.selectedFill,stroke:va.selectedStroke,lineWidth:4,shadowColor:va.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:va.highlightFill,stroke:va.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:va.inactiveFill,stroke:va.inactiveStroke,lineWidth:1},disable:{fill:va.disableFill,stroke:va.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:no,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:va.edgeMainStroke,lineAppendWidth:2},color:va.edgeMainStroke},edgeStateStyles:{active:{stroke:va.edgeActiveStroke,lineWidth:1},selected:{stroke:va.edgeSelectedStroke,lineWidth:2,shadowColor:va.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:va.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:va.edgeInactiveStroke,lineWidth:1},disable:{stroke:va.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:no,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:va.comboMainFill,lineWidth:1,stroke:va.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:va.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:va.comboActiveStroke,lineWidth:1,fill:va.comboActiveFill},selected:{stroke:va.comboSelectedStroke,lineWidth:2,fill:va.comboSelectedFill,shadowColor:va.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:va.comboHighlightStroke,lineWidth:2,fill:va.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:va.comboInactiveStroke,fill:va.comboInactiveFill,lineWidth:1},disable:{stroke:va.comboDisableStroke,fill:va.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},windowFontFamily:typeof window!="undefined"&&window.getComputedStyle&&document.body&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},Fe={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},or=Math.PI,Er=Math.sin,qr=Math.cos,hn=Er(or/8),zn=qr(or/8),Da=function(e,t){var r=e.getBBox(),n={x:r.minX,y:r.minY},a={x:r.maxX,y:r.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),n=tn(n,o),a=tn(a,o)}var s=n.x,u=n.y,l=a.x,c=a.y;return{x:s,y:u,minX:s,minY:u,maxX:l,maxY:c,width:l-s,height:c-u}},hi=function(e){var t=e.sourceNode||e.targetNode,r=t.get("group"),n=r.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var a=t.getKeyShape(),o=a.getBBox(),s=e.loopCfg||{},u=s.dist||Math.max(o.width,o.height)*2,l=s.position||Bt.defaultLoopPosition,c=[(o.minX+o.maxX)/2+n[6],(o.minY+o.maxY)/2+n[7]],d=[e.startPoint.x,e.startPoint.y],C=[e.endPoint.x,e.endPoint.y],I=o.height/2,F=o.width/2,H=I,J=I,st=H*hn,ut=H*zn,ht=J*hn,_t=J*zn,Vt=a.get("type"),re=Math.min(I/2,F/2),te=Math.min(I,F),Ee=s!=null&&s.pointPadding?Math.min(te,s==null?void 0:s.pointPadding):re;if(d[0]===C[0]&&d[1]===C[1]){switch(l){case"top":Vt==="circle"?(d=[c[0]-st,c[1]-ut],C=[c[0]+ht,c[1]-_t]):(d=[c[0]-Ee,c[1]-I],C=[c[0]+Ee,c[1]-I]);break;case"top-right":H=I,J=F,Vt==="circle"?(st=H*hn,ut=H*zn,ht=J*hn,_t=J*zn,d=[c[0]+st,c[1]-ut],C=[c[0]+_t,c[1]-ht]):(d=[c[0]+F-Ee,c[1]-I],C=[c[0]+F,c[1]-I+Ee]);break;case"right":H=F,J=F,Vt==="circle"?(st=H*hn,ut=H*zn,ht=J*hn,_t=J*zn,d=[c[0]+ut,c[1]-st],C=[c[0]+_t,c[1]+ht]):(d=[c[0]+F,c[1]-Ee],C=[c[0]+F,c[1]+Ee]);break;case"bottom-right":H=F,J=I,Vt==="circle"?(st=H*hn,ut=H*zn,ht=J*hn,_t=J*zn,d=[c[0]+ut,c[1]+st],C=[c[0]+ht,c[1]+_t]):(d=[c[0]+F,c[1]+I-Ee],C=[c[0]+F-Ee,c[1]+I]);break;case"bottom":H=I,J=I,Vt==="circle"?(st=H*hn,ut=H*zn,ht=J*hn,_t=J*zn,d=[c[0]+st,c[1]+ut],C=[c[0]-ht,c[1]+_t]):(d=[c[0]-Ee,c[1]+I],C=[c[0]+Ee,c[1]+I]);break;case"bottom-left":H=I,J=F,Vt==="circle"?(st=H*hn,ut=H*zn,ht=J*hn,_t=J*zn,d=[c[0]-st,c[1]+ut],C=[c[0]-_t,c[1]+ht]):(d=[c[0]-F,c[1]+I-Ee],C=[c[0]-F+Ee,c[1]+I]);break;case"left":H=F,J=F,Vt==="circle"?(st=H*hn,ut=H*zn,ht=J*hn,_t=J*zn,d=[c[0]-ut,c[1]+st],C=[c[0]-_t,c[1]-ht]):(d=[c[0]-F,c[1]-Ee],C=[c[0]-F,c[1]+Ee]);break;case"top-left":H=F,J=I,Vt==="circle"?(st=H*hn,ut=H*zn,ht=J*hn,_t=J*zn,d=[c[0]-ut,c[1]-st],C=[c[0]-ht,c[1]-_t]):(d=[c[0]-F+Ee,c[1]-I],C=[c[0]-F,c[1]-I+Ee]);break;default:H=F,J=F,st=H*hn,ut=H*zn,ht=J*hn,_t=J*zn,d=[c[0]-st,c[1]-ut],C=[c[0]+ht,c[1]-_t]}if(s.clockwise===!1){var ze=[d[0],d[1]];d=[C[0],C[1]],C=[ze[0],ze[1]]}}var Oe=[d[0]-c[0],d[1]-c[1]],er=(H+u)/H,hr=(J+u)/J;s.clockwise===!1&&(er=(J+u)/J,hr=(H+u)/H);var rn=Jn.scale([0,0],Oe,er),Dn=[c[0]+rn[0],c[1]+rn[1]],yn=[C[0]-c[0],C[1]-c[1]],Kr=Jn.scale([0,0],yn,hr),Un=[c[0]+Kr[0],c[1]+Kr[1]];return e.startPoint={x:d[0],y:d[1]},e.endPoint={x:C[0],y:C[1]},e.controlPoints=[{x:Dn[0],y:Dn[1]},{x:Un[0],y:Un[1]}],e},Hi=function(e,t,r,n,a){var o=1e-4,s=[],u=e==null?void 0:e.getPoint(t);if(!u)return{x:0,y:0,angle:0};if(t<o)s=e.getStartTangent().reverse();else if(t>1-o)s=e.getEndTangent();else{var l=e==null?void 0:e.getPoint(t+o);s.push([u.x,u.y]),s.push([l.x,l.y])}var c=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(c<0&&(c+=or*2),r&&(u.x+=qr(c)*r,u.y+=Er(c)*r),n){var d=c-or/2;c>1/2*or&&c<3*1/2*or&&(d-=or),u.x+=qr(d)*n,u.y+=Er(d)*n}var C={x:u.x,y:u.y,angle:c};return a?(c>.5*or&&c<1.5*or&&(c-=or),(0,m.__assign)({rotate:c},C)):C},mo=function i(e,t,r,n){if(n(e,t,r)===!1)return!1;if(e&&e.children){for(var a=e.children.length-1;a>=0;a--)if(!i(e.children[a],e,a,n))return!1}return!0},fs=function i(e,t,r,n){if(e&&e.children){for(var a=e.children.length-1;a>=0;a--)if(!i(e.children[a],e,a,n))return}return n(e,t,r)!==!1},Ti=function(e,t){typeof t=="function"&&mo(e,null,-1,t)},Zi=function(e,t){typeof t=="function"&&fs(e,null,-1,t)},Fo=function(e,t){return t*(Fe[e]||1)},ds=function(e,t){var r=0,n=new RegExp("[\u4E00-\u9FA5]+");return e.split("").forEach(function(a){n.test(a)?r+=t:r+=Fo(a,t)}),[r,t]},qo=function(e,t){return typeof t!="number"||t<=0||t>=e.length?e:e.substring(0,t)+"..."},bs=function(e,t){var r=[],n={},a={};e.forEach(function(u){a[u.id]=u}),e.forEach(function(u,l){var c=(0,f.clone)(u);c.itemType="combo",c.children=void 0,c.parentId===c.id?(console.warn("The parentId for combo ".concat(c.id," can not be the same as the combo's id")),delete c.parentId):c.parentId&&!a[c.parentId]&&(console.warn("The parent combo for combo ".concat(c.id," does not exist!")),delete c.parentId);var d=n[c.id];if(d){if(c.children=d.children,n[c.id]=c,d=c,!d.parentId){r.push(d);return}var C=n[d.parentId];if(C)C.children?C.children.push(c):C.children=[c];else{var I={id:d.parentId,children:[d]};n[d.parentId]=I,n[c.id]=c}return}if((0,f.isString)(u.parentId)){var F=n[u.parentId];if(F)F.children?F.children.push(c):F.children=[c],n[c.id]=c;else{var H={id:u.parentId,children:[c]};n[H.id]=H,n[c.id]=c}}else r.push(c),n[c.id]=c});var o={};(t||[]).forEach(function(u){o[u.id]=u;var l=n[u.comboId];if(l){var c={id:u.id,comboId:u.comboId};l.children?l.children.push(c):l.children=[c],c.itemType="node",n[u.id]=c}});var s=0;return r.forEach(function(u){u.depth=s+10,Ti(u,function(l){var c,d=n[l.id].itemType;d==="node"?c=n[l.comboId]:c=n[l.parentId],c&&d==="node"?l.depth=s+1:l.depth=s+10,s<l.depth&&(s=l.depth);var C=o[l.id];return C&&(C.depth=l.depth),!0})}),r},Os=function(e,t,r){var n,a=e,o,s={root:{children:e}},u=!1,l="root";(e||[]).forEach(function(F){if(!u){if(F.id===t){o=F,F.itemType==="combo"?o.parentId=r:o.comboId=r,u=!0;return}Ti(F,function(H){var J;return s[H.id]={children:(H==null?void 0:H.children)||[]},a=(J=s[H.parentId||H.comboId||"root"])===null||J===void 0?void 0:J.children,H&&(H.removed||t===H.id)&&a?(l=H.parentId||H.comboId||"root",o=H,H.itemType==="combo"?o.parentId=r:o.comboId=r,u=!0,!1):!0})}}),a=(n=s[l])===null||n===void 0?void 0:n.children;var c=a?a.indexOf(o):-1;if(c>-1&&a.splice(c,1),u||(o={id:t,itemType:"node",comboId:r},s[t]={children:void 0}),t){var d=!1;if(r){var C=0;(e||[]).forEach(function(F){d||Ti(F,function(H){return r===H.id?(d=!0,H.children?H.children.push(o):H.children=[o],C=H.depth,o.itemType==="node"?o.depth=C+2:o.depth=C+1,!1):!0})})}else(!r||!d)&&o.itemType!=="node"&&e.push(o);var I=o.depth;Ti(o,function(F){return F.itemType==="node"?I+=2:I+=1,F.depth=I,!0})}return e},xs=function(e,t,r){var n={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};if(!e||e.length===0){var a=r==null?void 0:r.getModel(),o=a||{},s=o.x,u=o.y,l=o.fixSize,c=o.collapsed,d=o.fixCollapseSize,C=c?d:l,I=(0,f.isArray)(C)?C:[C,C],F=I[0],H=I[1],J=[F/2,H/2];return{minX:s-J[0],minY:u-J[1],maxX:s+J[0],maxY:u+J[1],x:s,y:u,width:F,height:H}}return e.forEach(function(st){var ut=t.findById(st.id);if(!(!ut||!ut.isVisible())){ut.set("bboxCanvasCache",void 0);var ht=ut.getCanvasBBox();ht.x&&n.minX>ht.minX&&(n.minX=ht.minX),ht.y&&n.minY>ht.minY&&(n.minY=ht.minY),ht.x&&n.maxX<ht.maxX&&(n.maxX=ht.maxX),ht.y&&n.maxY<ht.maxY&&(n.maxY=ht.maxY)}}),n.x=(n.minX+n.maxX)/2,n.y=(n.minY+n.maxY)/2,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,(r==null?void 0:r.getKeyShape().get("type"))==="circle"&&(n.width=Math.hypot(n.height,n.width),n.height=n.width),Object.keys(n).forEach(function(st){(n[st]===1/0||n[st]===-1/0)&&(n[st]=void 0)}),n},nu=function(e){var t=(0,f.isNumber)(e.x)||(0,f.isNumber)(e.y)||e.type||e.anchorPoints||e.size;return e.style&&(t=t||(0,f.isNumber)(e.style.r)||(0,f.isNumber)(e.style.width)||(0,f.isNumber)(e.style.height)||(0,f.isNumber)(e.style.rx)||(0,f.isNumber)(e.style.ry)),t},jo=function(e){var t={};return Object.keys(e).forEach(function(r){var n=e[r];if((0,f.isObject)(n)&&!(0,f.isArray)(n)){var a={};Object.keys(n).forEach(function(o){var s=n[o];o==="img"&&!(0,f.isString)(s)||(a[o]=(0,f.clone)(s))}),t[r]=a}else t[r]=(0,f.clone)(n)}),t},os=function(e){var t=e.animateCfg,r=e.callback,n;if(!t)n={duration:500,callback:r};else if(n=(0,f.clone)(t),t.callback){var a=t.callback;n.callback=function(){r(),a()}}else n.callback=r;return n},hs=function(e){if(!e)return console.error("G6 Error Tips: the data must be defined"),!1;var t=e.nodes,r=e.edges,n=e.combos,a=n===void 0?[]:n;if(!t&&!r){var o=!0;return Ti(e,function(C){return(0,f.isString)(C.id)?!0:(o=!1,!1)}),o}var s=(t||[]).find(function(C){return!(0,f.isString)(C.id)});if(s)return console.warn("G6 Warning Tips: missing 'id' property, or %c".concat(s.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1;var u=(t||[]).map(function(C){return C.id}),l=a==null?void 0:a.map(function(C){return C.id}),c=(0,m.__spreadArray)((0,m.__spreadArray)([],u,!0),l,!0),d=(r||[]).find(function(C){return!c.includes(C.source)||!c.includes(C.target)});return d?(console.warn("G6 Warning Tips: The source %c".concat(d.source,"%c or the target %c").concat(d.target,"%c of the edge do not exist in the nodes or combos."),"font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1):!0},To=function(e,t){if(e==="node"||e==="combo"){if(t.id&&!(0,f.isString)(t.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c".concat(t.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1}else if(e==="edge"&&(!t.source||!t.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0},Eu=function(){function i(e){this.graph=e,this.destroyed=!1,this.modes=e.get("modes")||{default:[]},this.formatModes(),this.mode=e.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return i.prototype.formatModes=function(){var e=this.modes;(0,f.each)(e,function(t){(0,f.each)(t,function(r,n){(0,f.isString)(r)&&(t[n]={type:r})})})},i.prototype.setBehaviors=function(e){var t=this.graph,r=this.modes[e],n=[],a;(0,f.each)(r||[],function(o){var s=z.getBehavior(o.type||o);s&&(a=new s(o),a&&(a.bind(t),n.push(a)))}),this.currentBehaves=n},i.mergeBehaviors=function(e,t){return(0,f.each)(t,function(r){e.indexOf(r)<0&&((0,f.isString)(r)&&(r={type:r}),e.push(r))}),e},i.filterBehaviors=function(e,t){var r=[];return e.forEach(function(n){var a="";(0,f.isString)(n)?a=n:a=n.type,t.indexOf(a)<0&&r.push(n)}),r},i.prototype.setMode=function(e){var t=this,r=t.modes,n=t.graph,a=e,o=r[a];o&&(n.emit("beforemodechange",{mode:e}),(0,f.each)(this.currentBehaves,function(s){s.delegate&&s.delegate.remove(),s.unbind(n)}),this.setBehaviors(a),n.emit("aftermodechange",{mode:e}),this.mode=e)},i.prototype.getMode=function(){return this.mode},i.prototype.manipulateBehaviors=function(e,t,r){var n=this,a;if((0,f.isArray)(e)?a=e:a=[e],(0,f.isArray)(t))return(0,f.each)(t,function(s){n.modes[s]?r?n.modes[s]=i.mergeBehaviors(n.modes[s]||[],a):n.modes[s]=i.filterBehaviors(n.modes[s]||[],a):r&&(n.modes[s]=a)}),this;var o=t;return t||(o=this.mode),this.modes[o]||r&&(this.modes[o]=a),r?this.modes[o]=i.mergeBehaviors(this.modes[o]||[],a):this.modes[o]=i.filterBehaviors(this.modes[o]||[],a),this.formatModes(),this.setMode(this.mode),this},i.prototype.updateBehavior=function(e,t,r){(0,f.isString)(e)&&(e={type:e});var n=[];if(!r||r===this.mode||r==="default"){if(n=this.currentBehaves,!n||!n.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var a=n.length,o=0;o<a;o++){var s=n[o];if(s.type===e.type)return s.updateCfg(t),this;o===a-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(n=this.modes[r],!n||!n.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var u=n.length,o=0;o<u;o++){var s=n[o];if(s.type===e.type||s===e.type)return s===e.type&&(s={type:s}),Object.assign(s,t),n[o]=s,this;o===u-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},i.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},i}(),wu=Eu,Fi=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,yo=new RegExp("([a-z])["+Fi+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Fi+"]*,?["+Fi+"]*)+)","ig"),Ao=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Fi+"]*,?["+Fi+"]*","ig"),h=function(i){if(!i)return null;if((0,f.isArray)(i))return i;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(i).replace(yo,function(r,n,a){var o=[],s=n.toLowerCase();if(a.replace(Ao,function(u,l){l&&o.push(+l)}),s==="m"&&o.length>2&&(t.push([n].concat(o.splice(0,2))),s="l",n=n==="m"?"l":"L"),s==="o"&&o.length===1&&t.push([n,o[0]]),s==="r")t.push([n].concat(o));else for(;o.length>=e[s]&&(t.push([n].concat(o.splice(0,e[s]))),!!e[s]););return i}),t},Y=function(i,e){for(var t=[],r=0,n=i.length;n-2*!e>r;r+=2){var a=[{x:+i[r-2],y:+i[r-1]},{x:+i[r],y:+i[r+1]},{x:+i[r+2],y:+i[r+3]},{x:+i[r+4],y:+i[r+5]}];e?r?n-4===r?a[3]={x:+i[0],y:+i[1]}:n-2===r&&(a[2]={x:+i[0],y:+i[1]},a[3]={x:+i[2],y:+i[3]}):a[0]={x:+i[n-2],y:+i[n-1]}:n-4===r?a[3]=a[2]:r||(a[0]={x:+i[r],y:+i[r+1]}),t.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return t},Et=function(i,e,t,r,n){var a=[];if(n===null&&r===null&&(r=t),i=+i,e=+e,t=+t,r=+r,n!==null){var o=Math.PI/180,s=i+t*Math.cos(-r*o),u=i+t*Math.cos(-n*o),l=e+t*Math.sin(-r*o),c=e+t*Math.sin(-n*o);a=[["M",s,l],["A",t,t,0,+(n-r>180),0,u,c]]}else a=[["M",i,e],["m",0,-r],["a",t,r,0,1,1,0,2*r],["a",t,r,0,1,1,0,-2*r],["z"]];return a},Pt=function(i){if(i=h(i),!i||!i.length)return[["M",0,0]];var e=[],t=0,r=0,n=0,a=0,o=0,s,u;i[0][0]==="M"&&(t=+i[0][1],r=+i[0][2],n=t,a=r,o++,e[0]=["M",t,r]);for(var l=i.length===3&&i[0][0]==="M"&&i[1][0].toUpperCase()==="R"&&i[2][0].toUpperCase()==="Z",c=void 0,d=void 0,C=o,I=i.length;C<I;C++){if(e.push(c=[]),d=i[C],s=d[0],s!==s.toUpperCase())switch(c[0]=s.toUpperCase(),c[0]){case"A":c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=+d[6]+t,c[7]=+d[7]+r;break;case"V":c[1]=+d[1]+r;break;case"H":c[1]=+d[1]+t;break;case"R":u=[t,r].concat(d.slice(1));for(var F=2,H=u.length;F<H;F++)u[F]=+u[F]+t,u[++F]=+u[F]+r;e.pop(),e=e.concat(Y(u,l));break;case"O":e.pop(),u=Et(t,r,d[1],d[2]),u.push(u[0]),e=e.concat(u);break;case"U":e.pop(),e=e.concat(Et(t,r,d[1],d[2],d[3])),c=["U"].concat(e[e.length-1].slice(-2));break;case"M":n=+d[1]+t,a=+d[2]+r;break;default:for(var F=1,H=d.length;F<H;F++)c[F]=+d[F]+(F%2?t:r)}else if(s==="R")u=[t,r].concat(d.slice(1)),e.pop(),e=e.concat(Y(u,l)),c=["R"].concat(d.slice(-2));else if(s==="O")e.pop(),u=Et(t,r,d[1],d[2]),u.push(u[0]),e=e.concat(u);else if(s==="U")e.pop(),e=e.concat(Et(t,r,d[1],d[2],d[3])),c=["U"].concat(e[e.length-1].slice(-2));else for(var J=0,st=d.length;J<st;J++)c[J]=d[J];if(s=s.toUpperCase(),s!=="O")switch(c[0]){case"Z":t=+n,r=+a;break;case"H":t=c[1];break;case"V":r=c[1];break;case"M":n=c[c.length-2],a=c[c.length-1];break;default:t=c[c.length-2],r=c[c.length-1]}}return e},Ht=function(i,e,t,r){return[i,e,t,r,t,r]},le=function(i,e,t,r,n,a){var o=.3333333333333333,s=2/3;return[o*i+s*t,o*e+s*r,o*n+s*t,o*a+s*r,n,a]},ve=function(i,e,t,r,n,a,o,s,u,l){t===r&&(t+=1);var c=Math.PI*120/180,d=Math.PI/180*(+n||0),C=[],I,F,H,J,st,ut=function(wi,ii,Si){var Ai=wi*Math.cos(Si)-ii*Math.sin(Si),Ji=wi*Math.sin(Si)+ii*Math.cos(Si);return{x:Ai,y:Ji}};if(l)F=l[0],H=l[1],J=l[2],st=l[3];else{I=ut(i,e,-d),i=I.x,e=I.y,I=ut(s,u,-d),s=I.x,u=I.y,i===s&&e===u&&(s+=1,u+=1);var ht=(i-s)/2,_t=(e-u)/2,Vt=ht*ht/(t*t)+_t*_t/(r*r);Vt>1&&(Vt=Math.sqrt(Vt),t=Vt*t,r=Vt*r);var re=t*t,te=r*r,Ee=(a===o?-1:1)*Math.sqrt(Math.abs((re*te-re*_t*_t-te*ht*ht)/(re*_t*_t+te*ht*ht)));J=Ee*t*_t/r+(i+s)/2,st=Ee*-r*ht/t+(e+u)/2,F=Math.asin(((e-st)/r).toFixed(9)),H=Math.asin(((u-st)/r).toFixed(9)),F=i<J?Math.PI-F:F,H=s<J?Math.PI-H:H,F<0&&(F=Math.PI*2+F),H<0&&(H=Math.PI*2+H),o&&F>H&&(F=F-Math.PI*2),!o&&H>F&&(H=H-Math.PI*2)}var ze=H-F;if(Math.abs(ze)>c){var Oe=H,er=s,hr=u;H=F+c*(o&&H>F?1:-1),s=J+t*Math.cos(H),u=st+r*Math.sin(H),C=ve(s,u,t,r,n,0,o,er,hr,[H,Oe,J,st])}ze=H-F;var rn=Math.cos(F),Dn=Math.sin(F),yn=Math.cos(H),Kr=Math.sin(H),Un=Math.tan(ze/4),Fn=4/3*t*Un,$r=4/3*r*Un,gn=[i,e],Pn=[i+Fn*Dn,e-$r*rn],Ln=[s+Fn*Kr,u-$r*yn],jn=[s,u];if(Pn[0]=2*gn[0]-Pn[0],Pn[1]=2*gn[1]-Pn[1],l)return[Pn,Ln,jn].concat(C);C=[Pn,Ln,jn].concat(C).join().split(",");for(var ta=[],ba=0,La=C.length;ba<La;ba++)ta[ba]=ba%2?ut(C[ba-1],C[ba],d).y:ut(C[ba],C[ba+1],d).x;return ta},Ce=function(i,e){var t=Pt(i),r=e&&Pt(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=[],s=[],u="",l="",c,d=function(ht,_t,Vt){var re,te;if(!ht)return["C",_t.x,_t.y,_t.x,_t.y,_t.x,_t.y];switch(!(ht[0]in{T:1,Q:1})&&(_t.qx=_t.qy=null),ht[0]){case"M":_t.X=ht[1],_t.Y=ht[2];break;case"A":ht=["C"].concat(ve.apply(0,[_t.x,_t.y].concat(ht.slice(1))));break;case"S":Vt==="C"||Vt==="S"?(re=_t.x*2-_t.bx,te=_t.y*2-_t.by):(re=_t.x,te=_t.y),ht=["C",re,te].concat(ht.slice(1));break;case"T":Vt==="Q"||Vt==="T"?(_t.qx=_t.x*2-_t.qx,_t.qy=_t.y*2-_t.qy):(_t.qx=_t.x,_t.qy=_t.y),ht=["C"].concat(le(_t.x,_t.y,_t.qx,_t.qy,ht[1],ht[2]));break;case"Q":_t.qx=ht[1],_t.qy=ht[2],ht=["C"].concat(le(_t.x,_t.y,ht[1],ht[2],ht[3],ht[4]));break;case"L":ht=["C"].concat(Ht(_t.x,_t.y,ht[1],ht[2]));break;case"H":ht=["C"].concat(Ht(_t.x,_t.y,ht[1],_t.y));break;case"V":ht=["C"].concat(Ht(_t.x,_t.y,_t.x,ht[1]));break;case"Z":ht=["C"].concat(Ht(_t.x,_t.y,_t.X,_t.Y));break;default:break}return ht},C=function(ht,_t){if(ht[_t].length>7){ht[_t].shift();for(var Vt=ht[_t];Vt.length;)o[_t]="A",r&&(s[_t]="A"),ht.splice(_t++,0,["C"].concat(Vt.splice(0,6)));ht.splice(_t,1),c=Math.max(t.length,r&&r.length||0)}},I=function(ht,_t,Vt,re,te){ht&&_t&&ht[te][0]==="M"&&_t[te][0]!=="M"&&(_t.splice(te,0,["M",re.x,re.y]),Vt.bx=0,Vt.by=0,Vt.x=ht[te][1],Vt.y=ht[te][2],c=Math.max(t.length,r&&r.length||0))};c=Math.max(t.length,r&&r.length||0);for(var F=0;F<c;F++){t[F]&&(u=t[F][0]),u!=="C"&&(o[F]=u,F&&(l=o[F-1])),t[F]=d(t[F],n,l),o[F]!=="A"&&u==="C"&&(o[F]="C"),C(t,F),r&&(r[F]&&(u=r[F][0]),u!=="C"&&(s[F]=u,F&&(l=s[F-1])),r[F]=d(r[F],a,l),s[F]!=="A"&&u==="C"&&(s[F]="C"),C(r,F)),I(t,r,n,a,F),I(r,t,a,n,F);var H=t[F],J=r&&r[F],st=H.length,ut=r&&J.length;n.x=H[st-2],n.y=H[st-1],n.bx=parseFloat(H[st-4])||n.x,n.by=parseFloat(H[st-3])||n.y,a.bx=r&&(parseFloat(J[ut-4])||a.x),a.by=r&&(parseFloat(J[ut-3])||a.y),a.x=r&&J[ut-2],a.y=r&&J[ut-1]}return r?[t,r]:t},Ne=/,?([a-z]),?/gi,$e=function(i){return i.join(",").replace(Ne,"$1")},fr=function(i,e,t,r,n){var a=-3*e+9*t-9*r+3*n,o=i*a+6*e-12*t+6*r;return i*o-3*e+3*t},zr=function(i,e,t,r,n,a,o,s,u){u===null&&(u=1),u=u>1?1:u<0?0:u;for(var l=u/2,c=12,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],C=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],I=0,F=0;F<c;F++){var H=l*d[F]+l,J=fr(H,i,t,n,o),st=fr(H,e,r,a,s),ut=J*J+st*st;I+=C[F]*Math.sqrt(ut)}return l*I},Wr=function(i,e,t,r,n,a,o,s){for(var u=[],l=[[],[]],c,d,C,I,F=0;F<2;++F){if(F===0?(d=6*i-12*t+6*n,c=-3*i+9*t-9*n+3*o,C=3*t-3*i):(d=6*e-12*r+6*a,c=-3*e+9*r-9*a+3*s,C=3*r-3*e),Math.abs(c)<1e-12){if(Math.abs(d)<1e-12)continue;I=-C/d,I>0&&I<1&&u.push(I);continue}var H=d*d-4*C*c,J=Math.sqrt(H);if(!(H<0)){var st=(-d+J)/(2*c);st>0&&st<1&&u.push(st);var ut=(-d-J)/(2*c);ut>0&&ut<1&&u.push(ut)}}for(var ht=u.length,_t=ht,Vt;ht--;)I=u[ht],Vt=1-I,l[0][ht]=Vt*Vt*Vt*i+3*Vt*Vt*I*t+3*Vt*I*I*n+I*I*I*o,l[1][ht]=Vt*Vt*Vt*e+3*Vt*Vt*I*r+3*Vt*I*I*a+I*I*I*s;return l[0][_t]=i,l[1][_t]=e,l[0][_t+1]=o,l[1][_t+1]=s,l[0].length=l[1].length=_t+2,{min:{x:Math.min.apply(0,l[0]),y:Math.min.apply(0,l[1])},max:{x:Math.max.apply(0,l[0]),y:Math.max.apply(0,l[1])}}},Gr=function(i,e,t,r,n,a,o,s){if(!(Math.max(i,t)<Math.min(n,o)||Math.min(i,t)>Math.max(n,o)||Math.max(e,r)<Math.min(a,s)||Math.min(e,r)>Math.max(a,s))){var u=(i*r-e*t)*(n-o)-(i-t)*(n*s-a*o),l=(i*r-e*t)*(a-s)-(e-r)*(n*s-a*o),c=(i-t)*(a-s)-(e-r)*(n-o);if(c){var d=u/c,C=l/c,I=+d.toFixed(2),F=+C.toFixed(2);if(!(I<+Math.min(i,t).toFixed(2)||I>+Math.max(i,t).toFixed(2)||I<+Math.min(n,o).toFixed(2)||I>+Math.max(n,o).toFixed(2)||F<+Math.min(e,r).toFixed(2)||F>+Math.max(e,r).toFixed(2)||F<+Math.min(a,s).toFixed(2)||F>+Math.max(a,s).toFixed(2)))return{x:d,y:C}}}},xn=function(i,e,t){return e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},Nn=function(i,e,t,r,n){if(n)return[["M",+i+ +n,e],["l",t-n*2,0],["a",n,n,0,0,1,n,n],["l",0,r-n*2],["a",n,n,0,0,1,-n,n],["l",n*2-t,0],["a",n,n,0,0,1,-n,-n],["l",0,n*2-r],["a",n,n,0,0,1,n,-n],["z"]];var a=[["M",i,e],["l",t,0],["l",0,r],["l",-t,0],["z"]];return a.parsePathArray=$e,a},en=function(i,e,t,r){return i===null&&(i=e=t=r=0),e===null&&(e=i.y,t=i.width,r=i.height,i=i.x),{x:i,y:e,width:t,w:t,height:r,h:r,x2:i+t,y2:e+r,cx:i+t/2,cy:e+r/2,r1:Math.min(t,r)/2,r2:Math.max(t,r)/2,r0:Math.sqrt(t*t+r*r)/2,path:Nn(i,e,t,r),vb:[i,e,t,r].join(" ")}},Vn=function(i,e){return i=en(i),e=en(e),xn(e,i.x,i.y)||xn(e,i.x2,i.y)||xn(e,i.x,i.y2)||xn(e,i.x2,i.y2)||xn(i,e.x,e.y)||xn(i,e.x2,e.y)||xn(i,e.x,e.y2)||xn(i,e.x2,e.y2)||(i.x<e.x2&&i.x>e.x||e.x<i.x2&&e.x>i.x)&&(i.y<e.y2&&i.y>e.y||e.y<i.y2&&e.y>i.y)},Ta=function(i,e,t,r,n,a,o,s){(0,f.isArray)(i)||(i=[i,e,t,r,n,a,o,s]);var u=Wr.apply(null,i);return en(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},Oa=function(i,e,t,r,n,a,o,s,u){var l=1-u,c=Math.pow(l,3),d=Math.pow(l,2),C=u*u,I=C*u,F=c*i+d*3*u*t+l*3*u*u*n+I*o,H=c*e+d*3*u*r+l*3*u*u*a+I*s,J=i+2*u*(t-i)+C*(n-2*t+i),st=e+2*u*(r-e)+C*(a-2*r+e),ut=t+2*u*(n-t)+C*(o-2*n+t),ht=r+2*u*(a-r)+C*(s-2*a+r),_t=l*i+u*t,Vt=l*e+u*r,re=l*n+u*o,te=l*a+u*s,Ee=90-Math.atan2(J-ut,st-ht)*180/Math.PI;return{x:F,y:H,m:{x:J,y:st},n:{x:ut,y:ht},start:{x:_t,y:Vt},end:{x:re,y:te},alpha:Ee}},wa=function(i,e,t){var r=Ta(i),n=Ta(e);if(!Vn(r,n))return t?0:[];for(var a=zr.apply(0,i),o=zr.apply(0,e),s=~~(a/8),u=~~(o/8),l=[],c=[],d={},C=t?0:[],I=0;I<s+1;I++){var F=Oa.apply(0,i.concat(I/s));l.push({x:F.x,y:F.y,t:I/s})}for(var I=0;I<u+1;I++){var F=Oa.apply(0,e.concat(I/u));c.push({x:F.x,y:F.y,t:I/u})}for(var I=0;I<s;I++)for(var H=0;H<u;H++){var J=l[I],st=l[I+1],ut=c[H],ht=c[H+1],_t=Math.abs(st.x-J.x)<.001?"y":"x",Vt=Math.abs(ht.x-ut.x)<.001?"y":"x",re=Gr(J.x,J.y,st.x,st.y,ut.x,ut.y,ht.x,ht.y);if(re){if(d[re.x.toFixed(4)]===re.y.toFixed(4))continue;d[re.x.toFixed(4)]=re.y.toFixed(4);var te=J.t+Math.abs((re[_t]-J[_t])/(st[_t]-J[_t]))*(st.t-J.t),Ee=ut.t+Math.abs((re[Vt]-ut[Vt])/(ht[Vt]-ut[Vt]))*(ht.t-ut.t);te>=0&&te<=1&&Ee>=0&&Ee<=1&&(t?C+=1:C.push({x:re.x,y:re.y,t1:te,t2:Ee}))}}return C},ca=function(i,e,t){i=Ce(i),e=Ce(e);for(var r,n,a,o,s,u,l,c,d,C,I=t?0:[],F=0,H=i.length;F<H;F++){var J=i[F];if(J[0]==="M")r=s=J[1],n=u=J[2];else{J[0]==="C"?(d=[r,n].concat(J.slice(1)),r=d[6],n=d[7]):(d=[r,n,r,n,s,u,s,u],r=s,n=u);for(var st=0,ut=e.length;st<ut;st++){var ht=e[st];if(ht[0]==="M")a=l=ht[1],o=c=ht[2];else{ht[0]==="C"?(C=[a,o].concat(ht.slice(1)),a=C[6],o=C[7]):(C=[a,o,a,o,l,c,l,c],a=l,o=c);var _t=wa(d,C,t);if(t)I+=_t;else{for(var Vt=0,re=_t.length;Vt<re;Vt++)_t[Vt].segment1=F,_t[Vt].segment2=st,_t[Vt].bez1=d,_t[Vt].bez2=C;I=I.concat(_t)}}}}}return I},ya=function(i,e){return ca(i,e)};function Ki(i,e){var t=[],r=[];function n(a,o){if(a.length===1)t.push(a[0]),r.push(a[0]);else{for(var s=[],u=0;u<a.length-1;u++)u===0&&t.push(a[0]),u===a.length-2&&r.push(a[u+1]),s[u]=[(1-o)*a[u][0]+o*a[u+1][0],(1-o)*a[u][1]+o*a[u+1][1]];n(s,o)}}return i.length&&n(i,e),{left:t,right:r.reverse()}}function Yi(i,e,t){var r=[[i[1],i[2]]];t=t||2;var n=[];e[0]==="A"?(r.push(e[6]),r.push(e[7])):e[0]==="C"?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):e[0]==="S"||e[0]==="Q"?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var a=r,o=1/t,s=0;s<t-1;s++){var u=o/(1-o*s),l=Ki(a,u);n.push(l.left),a=l.right}n.push(a);var c=n.map(function(d){var C=[];return d.length===4&&(C.push("C"),C=C.concat(d[2])),d.length>=3&&(d.length===3&&C.push("Q"),C=C.concat(d[1])),d.length===2&&C.push("L"),C=C.concat(d[d.length-1]),C});return c}var zi=function(i,e,t){if(t===1)return[[].concat(i)];var r=[];if(e[0]==="L"||e[0]==="C"||e[0]==="Q")r=r.concat(Yi(i,e,t));else{var n=[].concat(i);n[0]==="M"&&(n[0]="L");for(var a=0;a<=t-1;a++)r.push(n)}return r},Xi=function(i,e){if(i.length===1)return i;var t=i.length-1,r=e.length-1,n=t/r,a=[];if(i.length===1&&i[0][0]==="M"){for(var o=0;o<r-t;o++)i.push(i[0]);return i}for(var o=0;o<r;o++){var s=Math.floor(n*o);a[s]=(a[s]||0)+1}var u=a.reduce(function(l,c,d){return d===t?l.concat(i[t]):l.concat(zi(i[d],i[d+1],c))},[]);return u.unshift(i[0]),(e[r]==="Z"||e[r]==="z")&&u.push("Z"),u},ji=function(i,e){if(i.length!==e.length)return!1;var t=!0;return(0,f.each)(i,function(r,n){if(r!==e[n])return t=!1,!1}),t};function io(i,e,t){var r=null,n=t;return e<n&&(n=e,r="add"),i<n&&(n=i,r="del"),{type:r,min:n}}var bo=function(i,e){var t=i.length,r=e.length,n,a,o=0;if(t===0||r===0)return null;for(var s=[],u=0;u<=t;u++)s[u]=[],s[u][0]={min:u};for(var l=0;l<=r;l++)s[0][l]={min:l};for(var u=1;u<=t;u++){n=i[u-1];for(var l=1;l<=r;l++){a=e[l-1],ji(n,a)?o=0:o=1;var c=s[u-1][l].min+1,d=s[u][l-1].min+1,C=s[u-1][l-1].min+o;s[u][l]=io(c,d,C)}}return s},Xa=function(i,e){var t=bo(i,e),r=i.length,n=e.length,a=[],o=1,s=1;if(t[r][n].min!==r){for(var u=1;u<=r;u++){var l=t[u][u].min;s=u;for(var c=o;c<=n;c++)t[u][c].min<l&&(l=t[u][c].min,s=c);o=s,t[u][o].type&&a.push({index:u-1,type:t[u][o].type})}for(var u=a.length-1;u>=0;u--)o=a[u].index,a[u].type==="add"?i.splice(o,0,[].concat(i[o])):i.splice(o,1)}r=i.length;var d=n-r;if(r<n)for(var u=0;u<d;u++)i[r-1][0]==="z"||i[r-1][0]==="Z"?i.splice(r-2,0,i[r-2]):i.push(i[r-1]),r+=1;return i};function vi(i,e,t){for(var r=[].concat(i),n,a=1/(t+1),o=Is(e)[0],s=1;s<=t;s++)a*=s,n=Math.floor(i.length*a),n===0?r.unshift([o[0]*a+i[n][0]*(1-a),o[1]*a+i[n][1]*(1-a)]):r.splice(n,0,[o[0]*a+i[n][0]*(1-a),o[1]*a+i[n][1]*(1-a)]);return r}function Is(i){var e=[];switch(i[0]){case"M":e.push([i[1],i[2]]);break;case"L":e.push([i[1],i[2]]);break;case"A":e.push([i[6],i[7]]);break;case"Q":e.push([i[3],i[4]]),e.push([i[1],i[2]]);break;case"T":e.push([i[1],i[2]]);break;case"C":e.push([i[5],i[6]]),e.push([i[1],i[2]]),e.push([i[3],i[4]]);break;case"S":e.push([i[3],i[4]]),e.push([i[1],i[2]]);break;case"H":e.push([i[1],i[1]]);break;case"V":e.push([i[1],i[1]]);break;default:}return e}var vs=function(i,e){if(i.length<=1)return i;for(var t,r=0;r<e.length;r++)if(i[r][0]!==e[r][0])switch(t=Is(i[r]),e[r][0]){case"M":i[r]=["M"].concat(t[0]);break;case"L":i[r]=["L"].concat(t[0]);break;case"A":i[r]=[].concat(e[r]),i[r][6]=t[0][0],i[r][7]=t[0][1];break;case"Q":if(t.length<2)if(r>0)t=vi(t,i[r-1],1);else{i[r]=e[r];break}i[r]=["Q"].concat(t.reduce(function(n,a){return n.concat(a)},[]));break;case"T":i[r]=["T"].concat(t[0]);break;case"C":if(t.length<3)if(r>0)t=vi(t,i[r-1],2);else{i[r]=e[r];break}i[r]=["C"].concat(t.reduce(function(n,a){return n.concat(a)},[]));break;case"S":if(t.length<2)if(r>0)t=vi(t,i[r-1],1);else{i[r]=e[r];break}i[r]=["S"].concat(t.reduce(function(n,a){return n.concat(a)},[]));break;default:i[r]=e[r]}return i},rs=function(){function i(e,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=e,this.name=e,this.originalEvent=t,this.timeStamp=t.timeStamp}return i.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},i.prototype.stopPropagation=function(){this.propagationStopped=!0},i.prototype.toString=function(){var e=this.type;return"[Event (type="+e+")]"},i.prototype.save=function(){},i.prototype.restore=function(){},i}(),au=rs;function cc(i,e){var t=i.indexOf(e);t!==-1&&i.splice(t,1)}var pf=typeof window!="undefined"&&typeof window.document!="undefined";function gf(i,e){if(i.isCanvas())return!0;for(var t=e.getParent(),r=!1;t;){if(t===i){r=!0;break}t=t.getParent()}return r}function fc(i){return i.cfg.visible&&i.cfg.capture}var ud=function(i){(0,m.__extends)(e,i);function e(t){var r=i.call(this)||this;r.destroyed=!1;var n=r.getDefaultCfg();return r.cfg=(0,f.mix)(n,t),r}return e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,r){this.cfg[t]=r},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(tt),dc=ud,Ku=_(734155),mf=function(i,e,t){if(t||arguments.length===2)for(var r=0,n=e.length,a;r<n;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return i.concat(a||Array.prototype.slice.call(e))},hc=function(){function i(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"}return i}(),yf=function(){function i(e){this.version=e,this.type="node",this.name="node",this.os=Ku.platform}return i}(),ld=function(){function i(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"}return i}(),iu=function(){function i(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return i}(),bf=function(){function i(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return i}(),Yn=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Su=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,ja=3,vc=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Yn]],Dl=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function ou(i){return i?Pl(i):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new bf:typeof navigator!="undefined"?Pl(navigator.userAgent):Ef()}function pc(i){return i!==""&&vc.reduce(function(e,t){var r=t[0],n=t[1];if(e)return e;var a=n.exec(i);return!!a&&[r,a]},!1)}function gc(i){var e=pc(i);return e?e[0]:null}function Pl(i){var e=pc(i);if(!e)return null;var t=e[0],r=e[1];if(t==="searchbot")return new iu;var n=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);n?n.length<ja&&(n=mf(mf([],n,!0),ps(ja-n.length),!0)):n=[];var a=n.join("."),o=xf(i),s=Su.exec(i);return s&&s[1]?new ld(t,a,o,s[1]):new hc(t,a,o)}function xf(i){for(var e=0,t=Dl.length;e<t;e++){var r=Dl[e],n=r[0],a=r[1],o=a.exec(i);if(o)return n}return null}function Ef(){var i=typeof Ku!="undefined"&&Ku.version;return i?new yf(Ku.version.slice(1)):null}function ps(i){for(var e=[],t=0;t<i;t++)e.push("0");return e}function mc(i,e){var t=[],r=i[0],n=i[1],a=i[2],o=i[3],s=i[4],u=i[5],l=i[6],c=i[7],d=i[8],C=e[0],I=e[1],F=e[2],H=e[3],J=e[4],st=e[5],ut=e[6],ht=e[7],_t=e[8];return t[0]=C*r+I*o+F*l,t[1]=C*n+I*s+F*c,t[2]=C*a+I*u+F*d,t[3]=H*r+J*o+st*l,t[4]=H*n+J*s+st*c,t[5]=H*a+J*u+st*d,t[6]=ut*r+ht*o+_t*l,t[7]=ut*n+ht*s+_t*c,t[8]=ut*a+ht*u+_t*d,t}function Fs(i,e){var t=[],r=e[0],n=e[1];return t[0]=i[0]*r+i[3]*n+i[6],t[1]=i[1]*r+i[4]*n+i[7],t}function ho(i){var e=[],t=i[0],r=i[1],n=i[2],a=i[3],o=i[4],s=i[5],u=i[6],l=i[7],c=i[8],d=c*o-s*l,C=-c*a+s*u,I=l*a-o*u,F=t*d+r*C+n*I;return F?(F=1/F,e[0]=d*F,e[1]=(-c*r+n*l)*F,e[2]=(s*r-n*o)*F,e[3]=C*F,e[4]=(c*t-n*u)*F,e[5]=(-s*t+n*a)*F,e[6]=I*F,e[7]=(-l*t+r*u)*F,e[8]=(o*t-r*a)*F,e):null}var zs=vt,Ds="matrix",Ll=["zIndex","capture","visible","type"],yc=["repeat"],wf=":",Sf="*";function Mf(i){for(var e=[],t=0;t<i.length;t++)(0,f.isArray)(i[t])?e.push([].concat(i[t])):e.push(i[t]);return e}function Nl(i,e){var t={},r=e.attrs;for(var n in i)t[n]=r[n];return t}function _f(i,e){var t={},r=e.attr();return(0,f.each)(i,function(n,a){yc.indexOf(a)===-1&&!(0,f.isEqual)(r[a],n)&&(t[a]=n)}),t}function Rl(i,e){if(e.onFrame)return i;var t=e.startTime,r=e.delay,n=e.duration,a=Object.prototype.hasOwnProperty;return(0,f.each)(i,function(o){t+r<o.startTime+o.delay+o.duration&&n>o.delay&&(0,f.each)(e.toAttrs,function(s,u){a.call(o.toAttrs,u)&&(delete o.toAttrs[u],delete o.fromAttrs[u])})}),i}var Cf=function(i){(0,m.__extends)(e,i);function e(t){var r=i.call(this,t)||this;r.attrs={};var n=r.getDefaultAttrs();return(0,f.mix)(n,t.attrs),r.attrs=n,r.initAttrs(n),r.initAnimate(),r}return e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var a=r[0],o=r[1];if(!a)return this.attrs;if((0,f.isObject)(a)){for(var s in a)this.setAttr(s,a[s]);return this.afterAttrsChange(a),this}return r.length===2?(this.setAttr(a,o),this.afterAttrsChange((t={},t[a]=o,t)),this):this.attrs[a]},e.prototype.isClipped=function(t,r){var n=this.getClip();return n&&!n.isHit(t,r)},e.prototype.setAttr=function(t,r){var n=this.attrs[t];n!==r&&(this.attrs[t]=r,this.onAttrChange(t,r,n))},e.prototype.onAttrChange=function(t,r,n){t==="matrix"&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var r=this.cfg.applyTo;r&&r.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var r=this.getParent();return r&&r.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var r=t.getChildren(),n=this.get("el"),a=r.indexOf(this);r.splice(a,1),r.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var r=t.getChildren(),n=this.get("el"),a=r.indexOf(this);r.splice(a,1),r.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){t===void 0&&(t=!0);var r=this.getParent();r?(cc(r.getChildren(),this),r.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(Ds,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(Ds)},e.prototype.setMatrix=function(t){this.attr(Ds,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var r=this.attr("matrix"),n=this.cfg.parentMatrix;n&&r?t=mc(n,r):t=r||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var r=this.attr("matrix"),n=null;t&&r?n=mc(t,r):n=r||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var r=this.attr("matrix");return r?Fs(r,t):t},e.prototype.invertFromMatrix=function(t){var r=this.attr("matrix");if(r){var n=ho(r);if(n)return Fs(n,t)}return t},e.prototype.setClip=function(t){var r=this.getCanvas(),n=null;if(t){var a=this.getShapeBase(),o=(0,f.upperFirst)(t.type),s=a[o];s&&(n=new s({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:r}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,r=this.attrs,n={};(0,f.each)(r,function(s,u){(0,f.isArray)(r[u])?n[u]=Mf(r[u]):n[u]=r[u]});var a=this.constructor,o=new a({attrs:n});return(0,f.each)(Ll,function(s){o.set(s,t.get(s))}),o},e.prototype.destroy=function(){var t=this.destroyed;t||(this.attrs={},i.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var a=this.get("animations")||[];n.timer||n.initTimer();var o=t[0],s=t[1],u=t[2],l=u===void 0?"easeLinear":u,c=t[3],d=c===void 0?f.noop:c,C=t[4],I=C===void 0?0:C,F,H,J,st,ut;(0,f.isFunction)(o)?(F=o,o={}):(0,f.isObject)(o)&&o.onFrame&&(F=o.onFrame,H=o.repeat),(0,f.isObject)(s)?(ut=s,s=ut.duration,l=ut.easing||"easeLinear",I=ut.delay||0,H=ut.repeat||H||!1,d=ut.callback||f.noop,J=ut.pauseCallback||f.noop,st=ut.resumeCallback||f.noop):((0,f.isNumber)(d)&&(I=d,d=null),(0,f.isFunction)(l)?(d=l,l="easeLinear"):l=l||"easeLinear");var ht=_f(o,this),_t={fromAttrs:Nl(ht,this),toAttrs:ht,duration:s,easing:l,repeat:H,callback:d,pauseCallback:J,resumeCallback:st,delay:I,startTime:n.getTime(),id:(0,f.uniqueId)(),onFrame:F,pathFormatted:!1};a.length>0?a=Rl(a,_t):n.addAnimator(this),a.push(_t),this.set("animations",a),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var r=this;t===void 0&&(t=!0);var n=this.get("animations");(0,f.each)(n,function(a){t&&(a.onFrame?r.attr(a.onFrame(1)):r.attr(a.toAttrs)),a.callback&&a.callback()}),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),r=this.get("animations"),n=t.getTime();return(0,f.each)(r,function(a){a._paused=!0,a._pauseTime=n,a.pauseCallback&&a.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline"),r=t.getTime(),n=this.get("animations"),a=this.get("_pause").pauseTime;return(0,f.each)(n,function(o){o.startTime=o.startTime+(r-a),o._paused=!1,o._pauseTime=null,o.resumeCallback&&o.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",n),this},e.prototype.emitDelegation=function(t,r){var n=this,a=r.propagationPath,o=this.getEvents(),s;t==="mouseenter"?s=r.fromShape:t==="mouseleave"&&(s=r.toShape);for(var u=function(C){var I=a[C],F=I.get("name");if(F){if((I.isGroup()||I.isCanvas&&I.isCanvas())&&s&&gf(I,s))return"break";(0,f.isArray)(F)?(0,f.each)(F,function(H){n.emitDelegateEvent(I,H,r)}):l.emitDelegateEvent(I,F,r)}},l=this,c=0;c<a.length;c++){var d=u(c);if(d==="break")break}},e.prototype.emitDelegateEvent=function(t,r,n){var a=this.getEvents(),o=r+wf+n.type;(a[o]||a[Sf])&&(n.name=o,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(o,n))},e.prototype.translate=function(t,r){t===void 0&&(t=0),r===void 0&&(r=0);var n=this.getMatrix(),a=zs(n,[["t",t,r]]);return this.setMatrix(a),this},e.prototype.move=function(t,r){var n=this.attr("x")||0,a=this.attr("y")||0;return this.translate(t-n,r-a),this},e.prototype.moveTo=function(t,r){return this.move(t,r)},e.prototype.scale=function(t,r){var n=this.getMatrix(),a=zs(n,[["s",t,r||t]]);return this.setMatrix(a),this},e.prototype.rotate=function(t){var r=this.getMatrix(),n=zs(r,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var r=this.attr(),n=r.x,a=r.y,o=this.getMatrix(),s=zs(o,[["t",-n,-a],["r",t],["t",n,a]]);return this.setMatrix(s),this},e.prototype.rotateAtPoint=function(t,r,n){var a=this.getMatrix(),o=zs(a,[["t",-t,-r],["r",n],["t",t,r]]);return this.setMatrix(o),this},e}(dc),bc=Cf,$u={},xc="_INDEX";function ss(i,e){if(i.set("canvas",e),i.isGroup()){var t=i.get("children");t.length&&t.forEach(function(r){ss(r,e)})}}function Ec(i,e){if(i.set("timeline",e),i.isGroup()){var t=i.get("children");t.length&&t.forEach(function(r){Ec(r,e)})}}function qu(i,e){var t=i.getChildren();return t.indexOf(e)>=0}function Tf(i,e,t){t===void 0&&(t=!0),t?e.destroy():(e.set("parent",null),e.set("canvas",null)),cc(i.getChildren(),e)}function cd(i){return function(e,t){var r=i(e,t);return r===0?e[xc]-t[xc]:r}}var wc=function(i){(0,m.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,r=-1/0,n=1/0,a=-1/0,o=[],s=[],u=this.getChildren().filter(function(c){return c.get("visible")&&(!c.isGroup()||c.isGroup()&&c.getChildren().length>0)});u.length>0?((0,f.each)(u,function(c){var d=c.getBBox();o.push(d.minX,d.maxX),s.push(d.minY,d.maxY)}),t=(0,f.min)(o),r=(0,f.max)(o),n=(0,f.min)(s),a=(0,f.max)(s)):(t=0,r=0,n=0,a=0);var l={x:t,y:n,minX:t,minY:n,maxX:r,maxY:a,width:r-t,height:a-n};return l},e.prototype.getCanvasBBox=function(){var t=1/0,r=-1/0,n=1/0,a=-1/0,o=[],s=[],u=this.getChildren().filter(function(c){return c.get("visible")&&(!c.isGroup()||c.isGroup()&&c.getChildren().length>0)});u.length>0?((0,f.each)(u,function(c){var d=c.getCanvasBBox();o.push(d.minX,d.maxX),s.push(d.minY,d.maxY)}),t=(0,f.min)(o),r=(0,f.max)(o),n=(0,f.min)(s),a=(0,f.max)(s)):(t=0,r=0,n=0,a=0);var l={x:t,y:n,minX:t,minY:n,maxX:r,maxY:a,width:r-t,height:a-n};return l},e.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.children=[],t},e.prototype.onAttrChange=function(t,r,n){if(i.prototype.onAttrChange.call(this,t,r,n),t==="matrix"){var a=this.getTotalMatrix();this._applyChildrenMarix(a)}},e.prototype.applyMatrix=function(t){var r=this.getTotalMatrix();i.prototype.applyMatrix.call(this,t);var n=this.getTotalMatrix();n!==r&&this._applyChildrenMarix(n)},e.prototype._applyChildrenMarix=function(t){var r=this.getChildren();(0,f.each)(r,function(n){n.applyMatrix(t)})},e.prototype.addShape=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=t[1];(0,f.isObject)(n)?a=n:a.type=n;var o=$u[a.type];o||(o=(0,f.upperFirst)(a.type),$u[a.type]=o);var s=this.getShapeBase(),u=new s[o](a);return this.add(u),u},e.prototype.addGroup=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=t[1],o;if((0,f.isFunction)(n))a?o=new n(a):o=new n({parent:this});else{var s=n||{},u=this.getGroupBase();o=new u(s)}return this.add(o),o},e.prototype.getCanvas=function(){var t;return this.isCanvas()?t=this:t=this.get("canvas"),t},e.prototype.getShape=function(t,r,n){if(!fc(this))return null;var a=this.getChildren(),o;if(this.isCanvas())o=this._findShape(a,t,r,n);else{var s=[t,r,1];s=this.invertFromMatrix(s),this.isClipped(s[0],s[1])||(o=this._findShape(a,s[0],s[1],n))}return o},e.prototype._findShape=function(t,r,n,a){for(var o=null,s=t.length-1;s>=0;s--){var u=t[s];if(fc(u)&&(u.isGroup()?o=u.getShape(r,n,a):u.isHit(r,n)&&(o=u)),o)break}return o},e.prototype.add=function(t){var r=this.getCanvas(),n=this.getChildren(),a=this.get("timeline"),o=t.getParent();o&&Tf(o,t,!1),t.set("parent",this),r&&ss(t,r),a&&Ec(t,a),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var r=this.getTotalMatrix();r&&t.applyMatrix(r)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t=this.getChildren();(0,f.each)(t,function(r,n){return r[xc]=n,r}),t.sort(cd(function(r,n){return r.get("zIndex")-n.get("zIndex")})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),r=t.length-1;r>=0;r--)t[r].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),i.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){var r=this.getChildren();return r[t]},e.prototype.getCount=function(){var t=this.getChildren();return t.length},e.prototype.contain=function(t){var r=this.getChildren();return r.indexOf(t)>-1},e.prototype.removeChild=function(t,r){r===void 0&&(r=!0),this.contain(t)&&t.remove(r)},e.prototype.findAll=function(t){var r=[],n=this.getChildren();return(0,f.each)(n,function(a){t(a)&&r.push(a),a.isGroup()&&(r=r.concat(a.findAll(t)))}),r},e.prototype.find=function(t){var r=null,n=this.getChildren();return(0,f.each)(n,function(a){if(t(a)?r=a:a.isGroup()&&(r=a.find(t)),r)return!1}),r},e.prototype.findById=function(t){return this.find(function(r){return r.get("id")===t})},e.prototype.findByClassName=function(t){return this.find(function(r){return r.get("className")===t})},e.prototype.findAllByName=function(t){return this.findAll(function(r){return r.get("name")===t})},e}(bc),Qu=wc,Mu=0,Ju=0,tl=0,Af=1e3,kl,_u,su=0,uu=0,Bl=0,el=typeof performance=="object"&&performance.now?performance:Date,Sc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function lu(){return uu||(Sc(fd),uu=el.now()+Bl)}function fd(){uu=0}function Mc(){this._call=this._time=this._next=null}Mc.prototype=rl.prototype={constructor:Mc,restart:function(i,e,t){if(typeof i!="function")throw new TypeError("callback is not a function");t=(t==null?lu():+t)+(e==null?0:+e),!this._next&&_u!==this&&(_u?_u._next=this:kl=this,_u=this),this._call=i,this._time=t,Cc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Cc())}};function rl(i,e,t){var r=new Mc;return r.restart(i,e,t),r}function _c(){lu(),++Mu;for(var i=kl,e;i;)(e=uu-i._time)>=0&&i._call.call(null,e),i=i._next;--Mu}function Of(){uu=(su=el.now())+Bl,Mu=Ju=0;try{_c()}finally{Mu=0,dd(),uu=0}}function Fl(){var i=el.now(),e=i-su;e>Af&&(Bl-=e,su=i)}function dd(){for(var i,e=kl,t,r=1/0;e;)e._call?(r>e._time&&(r=e._time),i=e,e=e._next):(t=e._next,e._next=null,e=i?i._next=t:kl=t);_u=i,Cc(r)}function Cc(i){if(!Mu){Ju&&(Ju=clearTimeout(Ju));var e=i-uu;e>24?(i<1/0&&(Ju=setTimeout(Of,i-el.now()-Bl)),tl&&(tl=clearInterval(tl))):(tl||(su=el.now(),tl=setInterval(Fl,Af)),Mu=1,Sc(Of))}}var zl=_(918698);function Tc(i,e,t){i.prototype=e.prototype=t,t.constructor=i}function If(i,e){var t=Object.create(i.prototype);for(var r in e)t[r]=e[r];return t}function Ps(){}var cu=.7,fu=1/cu,Cu="\\s*([+-]?\\d+)\\s*",Es="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Df=/^#([0-9a-f]{3,8})$/,Tu=new RegExp("^rgb\\(".concat(Cu,",").concat(Cu,",").concat(Cu,"\\)$")),Pf=new RegExp("^rgb\\(".concat(Vo,",").concat(Vo,",").concat(Vo,"\\)$")),Au=new RegExp("^rgba\\(".concat(Cu,",").concat(Cu,",").concat(Cu,",").concat(Es,"\\)$")),Ac=new RegExp("^rgba\\(".concat(Vo,",").concat(Vo,",").concat(Vo,",").concat(Es,"\\)$")),Oc=new RegExp("^hsl\\(".concat(Es,",").concat(Vo,",").concat(Vo,"\\)$")),Ic=new RegExp("^hsla\\(".concat(Es,",").concat(Vo,",").concat(Vo,",").concat(Es,"\\)$")),Gl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Tc(Ps,Ou,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Ul,formatHex:Ul,formatHex8:Wl,formatHsl:Lf,formatRgb:Dc,toString:Dc});function Ul(){return this.rgb().formatHex()}function Wl(){return this.rgb().formatHex8()}function Lf(){return al(this).formatHsl()}function Dc(){return this.rgb().formatRgb()}function Ou(i){var e,t;return i=(i+"").trim().toLowerCase(),(e=Df.exec(i))?(t=e[1].length,e=parseInt(e[1],16),t===6?Pc(e):t===3?new Ho(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?nl(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?nl(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Tu.exec(i))?new Ho(e[1],e[2],e[3],1):(e=Pf.exec(i))?new Ho(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Au.exec(i))?nl(e[1],e[2],e[3],e[4]):(e=Ac.exec(i))?nl(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Oc.exec(i))?du(e[1],e[2]/100,e[3]/100,1):(e=Ic.exec(i))?du(e[1],e[2]/100,e[3]/100,e[4]):Gl.hasOwnProperty(i)?Pc(Gl[i]):i==="transparent"?new Ho(NaN,NaN,NaN,0):null}function Pc(i){return new Ho(i>>16&255,i>>8&255,i&255,1)}function nl(i,e,t,r){return r<=0&&(i=e=t=NaN),new Ho(i,e,t,r)}function Lc(i){return i instanceof Ps||(i=Ou(i)),i?(i=i.rgb(),new Ho(i.r,i.g,i.b,i.opacity)):new Ho}function Iu(i,e,t,r){return arguments.length===1?Lc(i):new Ho(i,e,t,r==null?1:r)}function Ho(i,e,t,r){this.r=+i,this.g=+e,this.b=+t,this.opacity=+r}Tc(Ho,Iu,If(Ps,{brighter:function(e){return e=e==null?fu:Math.pow(fu,e),new Ho(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?cu:Math.pow(cu,e),new Ho(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},clamp:function(){return new Ho(tr(this.r),tr(this.g),tr(this.b),Pu(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nc,formatHex:Nc,formatHex8:Nf,formatRgb:Du,toString:Du}));function Nc(){return"#".concat(Gs(this.r)).concat(Gs(this.g)).concat(Gs(this.b))}function Nf(){return"#".concat(Gs(this.r)).concat(Gs(this.g)).concat(Gs(this.b)).concat(Gs((isNaN(this.opacity)?1:this.opacity)*255))}function Du(){var i=Pu(this.opacity);return"".concat(i===1?"rgb(":"rgba(").concat(tr(this.r),", ").concat(tr(this.g),", ").concat(tr(this.b)).concat(i===1?")":", ".concat(i,")"))}function Pu(i){return isNaN(i)?1:Math.max(0,Math.min(1,i))}function tr(i){return Math.max(0,Math.min(255,Math.round(i)||0))}function Gs(i){return i=tr(i),(i<16?"0":"")+i.toString(16)}function du(i,e,t,r){return r<=0?i=e=t=NaN:t<=0||t>=1?i=e=NaN:e<=0&&(i=NaN),new ns(i,e,t,r)}function al(i){if(i instanceof ns)return new ns(i.h,i.s,i.l,i.opacity);if(i instanceof Ps||(i=Ou(i)),!i)return new ns;if(i instanceof ns)return i;i=i.rgb();var e=i.r/255,t=i.g/255,r=i.b/255,n=Math.min(e,t,r),a=Math.max(e,t,r),o=NaN,s=a-n,u=(a+n)/2;return s?(e===a?o=(t-r)/s+(t<r)*6:t===a?o=(r-e)/s+2:o=(e-t)/s+4,s/=u<.5?a+n:2-a-n,o*=60):s=u>0&&u<1?0:o,new ns(o,s,u,i.opacity)}function Rf(i,e,t,r){return arguments.length===1?al(i):new ns(i,e,t,r==null?1:r)}function ns(i,e,t,r){this.h=+i,this.s=+e,this.l=+t,this.opacity=+r}Tc(ns,Rf,If(Ps,{brighter:function(e){return e=e==null?fu:Math.pow(fu,e),new ns(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?cu:Math.pow(cu,e),new ns(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ho(hu(e>=240?e-240:e+120,a,n),hu(e,a,n),hu(e<120?e+240:e-120,a,n),this.opacity)},clamp:function(){return new ns(Rc(this.h),il(this.s),il(this.l),Pu(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=Pu(this.opacity);return"".concat(e===1?"hsl(":"hsla(").concat(Rc(this.h),", ").concat(il(this.s)*100,"%, ").concat(il(this.l)*100,"%").concat(e===1?")":", ".concat(e,")"))}}));function Rc(i){return i=(i||0)%360,i<0?i+360:i}function il(i){return Math.max(0,Math.min(1,i||0))}function hu(i,e,t){return(i<60?e+(t-e)*i/60:i<180?t:i<240?e+(t-e)*(240-i)/60:e)*255}function ol(i,e,t,r,n){var a=i*i,o=a*i;return((1-3*i+3*a-o)*e+(4-6*a+3*o)*t+(1+3*i+3*a-3*o)*r+o*n)/6}function kc(i){var e=i.length-1;return function(t){var r=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),n=i[r],a=i[r+1],o=r>0?i[r-1]:2*n-a,s=r<e-1?i[r+2]:2*a-n;return ol((t-r/e)*e,o,n,a,s)}}function Yl(i){var e=i.length;return function(t){var r=Math.floor(((t%=1)<0?++t:t)*e),n=i[(r+e-1)%e],a=i[r%e],o=i[(r+1)%e],s=i[(r+2)%e];return ol((t-r/e)*e,n,a,o,s)}}var oo=function(i){return function(){return i}};function vu(i,e){return function(t){return i+t*e}}function Bc(i,e,t){return i=Math.pow(i,t),e=Math.pow(e,t)-i,t=1/t,function(r){return Math.pow(i+r*e,t)}}function Xl(i,e){var t=e-i;return t?vu(i,t>180||t<-180?t-360*Math.round(t/360):t):constant(isNaN(i)?e:i)}function ws(i){return(i=+i)==1?pu:function(e,t){return t-e?Bc(e,t,i):oo(isNaN(e)?t:e)}}function pu(i,e){var t=e-i;return t?vu(i,t):oo(isNaN(i)?e:i)}var Us=function i(e){var t=ws(e);function r(n,a){var o=t((n=Iu(n)).r,(a=Iu(a)).r),s=t(n.g,a.g),u=t(n.b,a.b),l=pu(n.opacity,a.opacity);return function(c){return n.r=o(c),n.g=s(c),n.b=u(c),n.opacity=l(c),n+""}}return r.gamma=i,r}(1);function Ls(i){return function(e){var t=e.length,r=new Array(t),n=new Array(t),a=new Array(t),o,s;for(o=0;o<t;++o)s=Iu(e[o]),r[o]=s.r||0,n[o]=s.g||0,a[o]=s.b||0;return r=i(r),n=i(n),a=i(a),s.opacity=1,function(u){return s.r=r(u),s.g=n(u),s.b=a(u),s+""}}}var sl=Ls(kc),Lu=Ls(Yl);function Ws(i,e){e||(e=[]);var t=i?Math.min(e.length,i.length):0,r=e.slice(),n;return function(a){for(n=0;n<t;++n)r[n]=i[n]*(1-a)+e[n]*a;return r}}function Ys(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function jl(i,e){return(Ys(e)?Ws:ul)(i,e)}function ul(i,e){var t=e?e.length:0,r=i?Math.min(t,i.length):0,n=new Array(r),a=new Array(t),o;for(o=0;o<r;++o)n[o]=Nu(i[o],e[o]);for(;o<t;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=n[o](s);return a}}function ll(i,e){var t=new Date;return i=+i,e=+e,function(r){return t.setTime(i*(1-r)+e*r),t}}function cl(i,e){return i=+i,e=+e,function(t){return i*(1-t)+e*t}}function Fc(i,e){var t={},r={},n;(i===null||zl(i)!=="object")&&(i={}),(e===null||zl(e)!=="object")&&(e={});for(n in e)n in i?t[n]=Nu(i[n],e[n]):r[n]=e[n];return function(a){for(n in t)r[n]=t[n](a);return r}}var Xs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qo=new RegExp(Xs.source,"g");function zc(i){return function(){return i}}function kf(i){return function(e){return i(e)+""}}function Vl(i,e){var t=Xs.lastIndex=Qo.lastIndex=0,r,n,a,o=-1,s=[],u=[];for(i=i+"",e=e+"";(r=Xs.exec(i))&&(n=Qo.exec(e));)(a=n.index)>t&&(a=e.slice(t,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,u.push({i:o,x:cl(r,n)})),t=Qo.lastIndex;return t<e.length&&(a=e.slice(t),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?kf(u[0].x):zc(e):(e=u.length,function(l){for(var c=0,d;c<e;++c)s[(d=u[c]).i]=d.x(l);return s.join("")})}function Nu(i,e){var t=zl(e),r;return e==null||t==="boolean"?oo(e):(t==="number"?cl:t==="string"?(r=Ou(e))?(e=r,Us):Vl:e instanceof Ou?Us:e instanceof Date?ll:Ys(e)?Ws:Array.isArray(e)?ul:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Fc:cl)(i,e)}function Gc(i){return+i}function Bf(i){return i*i}function gu(i){return i*(2-i)}function Uc(i){return((i*=2)<=1?i*i:--i*(2-i)+1)/2}function Ff(i){return i*i*i}function hd(i){return--i*i*i+1}function Wc(i){return((i*=2)<=1?i*i*i:(i-=2)*i*i+2)/2}var Hl=3,vd=function i(e){e=+e;function t(r){return Math.pow(r,e)}return t.exponent=i,t}(Hl),zf=function i(e){e=+e;function t(r){return 1-Math.pow(1-r,e)}return t.exponent=i,t}(Hl),Yc=function i(e){e=+e;function t(r){return((r*=2)<=1?Math.pow(r,e):2-Math.pow(2-r,e))/2}return t.exponent=i,t}(Hl),Gf=Math.PI,Xc=Gf/2;function Uf(i){return+i==1?1:1-Math.cos(i*Xc)}function Wf(i){return Math.sin(i*Xc)}function jc(i){return(1-Math.cos(Gf*i))/2}function Ss(i){return(Math.pow(2,-10*i)-.0009765625)*1.0009775171065494}function fl(i){return Ss(1-+i)}function Zl(i){return 1-Ss(i)}function dl(i){return((i*=2)<=1?Ss(1-i):2-Ss(i-1))/2}function Kl(i){return 1-Math.sqrt(1-i*i)}function Vc(i){return Math.sqrt(1- --i*i)}function hl(i){return((i*=2)<=1?1-Math.sqrt(1-i*i):Math.sqrt(1-(i-=2)*i)+1)/2}var Ru=4/11,vl=6/11,Hc=8/11,$l=3/4,ql=9/11,Ql=10/11,pl=15/16,gl=21/22,ku=63/64,js=1/Ru/Ru;function Bu(i){return 1-Fu(1-i)}function Fu(i){return(i=+i)<Ru?js*i*i:i<Hc?js*(i-=vl)*i+$l:i<Ql?js*(i-=ql)*i+pl:js*(i-=gl)*i+ku}function ml(i){return((i*=2)<=1?1-Fu(1-i):Fu(i-1)+1)/2}var Ns=1.70158,Yf=function i(e){e=+e;function t(r){return(r=+r)*r*(e*(r-1)+r)}return t.overshoot=i,t}(Ns),Jl=function i(e){e=+e;function t(r){return--r*r*((r+1)*e+r)+1}return t.overshoot=i,t}(Ns),Xf=function i(e){e=+e;function t(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return t.overshoot=i,t}(Ns),zu=2*Math.PI,Zc=1,Ms=.3,jf=function i(e,t){var r=Math.asin(1/(e=Math.max(1,e)))*(t/=zu);function n(a){return e*Ss(- --a)*Math.sin((r-a)/t)}return n.amplitude=function(a){return i(a,t*zu)},n.period=function(a){return i(e,a)},n}(Zc,Ms),Kc=function i(e,t){var r=Math.asin(1/(e=Math.max(1,e)))*(t/=zu);function n(a){return 1-e*Ss(a=+a)*Math.sin((a+r)/t)}return n.amplitude=function(a){return i(a,t*zu)},n.period=function(a){return i(e,a)},n}(Zc,Ms),Vf=function i(e,t){var r=Math.asin(1/(e=Math.max(1,e)))*(t/=zu);function n(a){return((a=a*2-1)<0?e*Ss(-a)*Math.sin((r-a)/t):2-e*Ss(a)*Math.sin((r+a)/t))/2}return n.amplitude=function(a){return i(a,t*zu)},n.period=function(a){return i(e,a)},n}(Zc,Ms),Hf={};function Zf(i){return Hf[i.toLowerCase()]||P[i]}function Ud(i,e){Hf[i.toLowerCase()]=e}var Oo=function(i){return["fill","stroke","fillStyle","strokeStyle"].includes(i)},Kf=function(i){return/^[r,R,L,l]{1}[\s]*\(/.test(i)},mu=[1,0,0,0,1,0,0,0,1];function Vs(i,e,t){var r={},n=e.fromAttrs,a=e.toAttrs;if(!i.destroyed){var o;for(var s in a)if(!(0,f.isEqual)(n[s],a[s]))if(s==="path"){var u=a[s],l=n[s];u.length>l.length?(u=h(a[s]),l=h(n[s]),l=Xa(l,u),l=vs(l,u),e.fromAttrs.path=l,e.toAttrs.path=u):e.pathFormatted||(u=h(a[s]),l=h(n[s]),l=vs(l,u),e.fromAttrs.path=l,e.toAttrs.path=u,e.pathFormatted=!0),r[s]=[];for(var c=0;c<u.length;c++){for(var d=u[c],C=l[c],I=[],F=0;F<d.length;F++)(0,f.isNumber)(d[F])&&C&&(0,f.isNumber)(C[F])?(o=Nu(C[F],d[F]),I.push(o(t))):I.push(d[F]);r[s].push(I)}}else if(s==="matrix"){var H=jl(n[s]||mu,a[s]||mu),J=H(t);r[s]=J}else Oo(s)&&Kf(a[s])?r[s]=a[s]:(0,f.isFunction)(a[s])||(o=Nu(n[s],a[s]),r[s]=o(t));i.attr(r)}}function $f(i,e,t){var r=e.startTime,n=e.delay;if(t<r+n||e._paused)return!1;var a,o=e.duration,s=e.easing,u=Zf(s);if(t=t-r-e.delay,e.repeat)a=t%o/o,a=u(a);else if(a=t/o,a<1)a=u(a);else return e.onFrame?i.attr(e.onFrame(1)):i.attr(e.toAttrs),!0;if(e.onFrame){var l=e.onFrame(a);i.attr(l)}else Vs(i,e,a);return!1}var $c=function(){function i(e){this.animators=[],this.current=0,this.timer=null,this.canvas=e}return i.prototype.initTimer=function(){var e=this,t=!1,r,n,a;this.timer=rl(function(o){if(e.current=o,e.animators.length>0){for(var s=e.animators.length-1;s>=0;s--){if(r=e.animators[s],r.destroyed){e.removeAnimator(s);continue}if(!r.isAnimatePaused()){n=r.get("animations");for(var u=n.length-1;u>=0;u--)a=n[u],t=$f(r,a,o),t&&(n.splice(u,1),t=!1,a.callback&&a.callback())}n.length===0&&e.removeAnimator(s)}var l=e.canvas.get("autoDraw");l||e.canvas.draw()}})},i.prototype.addAnimator=function(e){this.animators.push(e)},i.prototype.removeAnimator=function(e){this.animators.splice(e,1)},i.prototype.isAnimating=function(){return!!this.animators.length},i.prototype.stop=function(){this.timer&&this.timer.stop()},i.prototype.stopAllAnimations=function(e){e===void 0&&(e=!0),this.animators.forEach(function(t){t.stopAnimate(e)}),this.animators=[],this.canvas.draw()},i.prototype.getTime=function(){return this.current},i}(),tc=$c,qf=40,zo=0,Hs=":",$i=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Zo(i,e){for(var t in i)if(i.hasOwnProperty(t)&&t.indexOf(Hs+e)>=0)return!0;return!1}function yl(i,e,t){t.name=e,t.target=i,t.currentTarget=i,t.delegateTarget=i,i.emit(e,t)}function pd(i,e,t){if(t.bubbles){var r=void 0,n=!1;if(e==="mouseenter"?(r=t.fromShape,n=!0):e==="mouseleave"&&(n=!0,r=t.toShape),i.isCanvas()&&n)return;if(r&&gf(i,r)){t.bubbles=!1;return}t.name=e,t.currentTarget=i,t.delegateTarget=i,i.emit(e,t)}}var Qf=function(){function i(e){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(r){var n=r.type;t._triggerEvent(n,r)},this._onDocumentMove=function(r){var n=t.canvas,a=n.get("el");if(a!==r.target&&(t.dragging||t.currentShape)){var o=t._getPointInfo(r);t.dragging&&t._emitEvent("drag",r,o,t.draggingShape)}},this._onDocumentMouseUp=function(r){var n=t.canvas,a=n.get("el");if(a!==r.target&&t.dragging){var o=t._getPointInfo(r);t.draggingShape&&t._emitEvent("drop",r,o,null),t._emitEvent("dragend",r,o,t.draggingShape),t._afterDrag(t.draggingShape,o,r)}},this.canvas=e.canvas}return i.prototype.init=function(){this._bindEvents()},i.prototype._bindEvents=function(){var e=this,t=this.canvas.get("el");(0,f.each)($i,function(r){t.addEventListener(r,e._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},i.prototype._clearEvents=function(){var e=this,t=this.canvas.get("el");(0,f.each)($i,function(r){t.removeEventListener(r,e._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},i.prototype._getEventObj=function(e,t,r,n,a,o){var s=new au(e,t);return s.fromShape=a,s.toShape=o,s.x=r.x,s.y=r.y,s.clientX=r.clientX,s.clientY=r.clientY,s.propagationPath.push(n),s},i.prototype._getShape=function(e,t){return this.canvas.getShape(e.x,e.y,t)},i.prototype._getPointInfo=function(e){var t=this.canvas,r=t.getClientByEvent(e),n=t.getPointByEvent(e);return{x:n.x,y:n.y,clientX:r.x,clientY:r.y}},i.prototype._triggerEvent=function(e,t){var r=this._getPointInfo(t),n=this._getShape(r,t),a=this["_on"+e],o=!1;if(a)a.call(this,r,n,t);else{var s=this.currentShape;e==="mouseenter"||e==="dragenter"||e==="mouseover"?(this._emitEvent(e,t,r,null,null,n),n&&this._emitEvent(e,t,r,n,null,n),e==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",t,r,null)):e==="mouseleave"||e==="dragleave"||e==="mouseout"?(o=!0,s&&this._emitEvent(e,t,r,s,s,null),this._emitEvent(e,t,r,null,s,null),e==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",t,r,null)):this._emitEvent(e,t,r,n,null,null)}if(o||(this.currentShape=n),n&&!n.get("destroyed")){var u=this.canvas,l=u.get("el");l.style.cursor=n.attr("cursor")||u.get("cursor")}},i.prototype._onmousedown=function(e,t,r){r.button===zo&&(this.mousedownShape=t,this.mousedownPoint=e,this.mousedownTimeStamp=r.timeStamp),this._emitEvent("mousedown",r,e,t,null,null)},i.prototype._emitMouseoverEvents=function(e,t,r,n){var a=this.canvas.get("el");r!==n&&(r&&(this._emitEvent("mouseout",e,t,r,r,n),this._emitEvent("mouseleave",e,t,r,r,n),(!n||n.get("destroyed"))&&(a.style.cursor=this.canvas.get("cursor"))),n&&(this._emitEvent("mouseover",e,t,n,r,n),this._emitEvent("mouseenter",e,t,n,r,n)))},i.prototype._emitDragoverEvents=function(e,t,r,n,a){n?(n!==r&&(r&&this._emitEvent("dragleave",e,t,r,r,n),this._emitEvent("dragenter",e,t,n,r,n)),a||this._emitEvent("dragover",e,t,n)):r&&this._emitEvent("dragleave",e,t,r,r,n),a&&this._emitEvent("dragover",e,t,n)},i.prototype._afterDrag=function(e,t,r){e&&(e.set("capture",!0),this.draggingShape=null),this.dragging=!1;var n=this._getShape(t,r);n!==e&&this._emitMouseoverEvents(r,t,e,n),this.currentShape=n},i.prototype._onmouseup=function(e,t,r){if(r.button===zo){var n=this.draggingShape;this.dragging?(n&&this._emitEvent("drop",r,e,t),this._emitEvent("dragend",r,e,n),this._afterDrag(n,e,r)):(this._emitEvent("mouseup",r,e,t),t===this.mousedownShape&&this._emitEvent("click",r,e,t),this.mousedownShape=null,this.mousedownPoint=null)}},i.prototype._ondragover=function(e,t,r){r.preventDefault();var n=this.currentShape;this._emitDragoverEvents(r,e,n,t,!0)},i.prototype._onmousemove=function(e,t,r){var n=this.canvas,a=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(r,e,a,t,!1),this._emitEvent("drag",r,e,o);else{var s=this.mousedownPoint;if(s){var u=this.mousedownShape,l=r.timeStamp,c=l-this.mousedownTimeStamp,d=s.clientX-e.clientX,C=s.clientY-e.clientY,I=d*d+C*C;c>120||I>qf?u&&u.get("draggable")?(o=this.mousedownShape,o.set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",r,e,o),this.mousedownShape=null,this.mousedownPoint=null):!u&&n.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",r,e,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(r,e,a,t),this._emitEvent("mousemove",r,e,t)):(this._emitMouseoverEvents(r,e,a,t),this._emitEvent("mousemove",r,e,t))}else this._emitMouseoverEvents(r,e,a,t),this._emitEvent("mousemove",r,e,t)}},i.prototype._emitEvent=function(e,t,r,n,a,o){var s=this._getEventObj(e,t,r,n,a,o);if(n){s.shape=n,yl(n,e,s);for(var u=n.getParent();u;)u.emitDelegation(e,s),s.propagationStopped||pd(u,e,s),s.propagationPath.push(u),u=u.getParent()}else{var l=this.canvas;yl(l,e,s)}},i.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},i}(),gd=Qf,Jf="px",qc=ou(),md=qc&&qc.name==="firefox",yd=function(i){(0,m.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.initContainer(),r.initDom(),r.initEvents(),r.initTimeline(),r}return e.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},e.prototype.initContainer=function(){var t=this.get("container");(0,f.isString)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t);var r=this.get("container");r.appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new gd({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new tc(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,r){var n=this.get("el");pf&&(n.style.width=t+Jf,n.style.height=r+Jf)},e.prototype.changeSize=function(t,r){this.setDOMSize(t,r),this.set("width",t),this.set("height",r),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var r=this.get("el");pf&&r&&(r.style.cursor=t)},e.prototype.getPointByEvent=function(t){var r=this.get("supportCSSTransform");if(r){if(md&&!(0,f.isNil)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!(0,f.isNil)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var n=this.getClientByEvent(t),a=n.x,o=n.y;return this.getPointByClient(a,o)},e.prototype.getClientByEvent=function(t){var r=t;return t.touches&&(t.type==="touchend"?r=t.changedTouches[0]:r=t.touches[0]),{x:r.clientX,y:r.clientY}},e.prototype.getPointByClient=function(t,r){var n=this.get("el"),a=n.getBoundingClientRect();return{x:t-a.left,y:r-a.top}},e.prototype.getClientByPoint=function(t,r){var n=this.get("el"),a=n.getBoundingClientRect();return{x:t+a.left,y:r+a.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){var t=this.get("eventController");t.destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),i.prototype.destroy.call(this))},e}(Qu),td=yd,bd=function(i){(0,m.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var t=i.prototype.clone.call(this),r=this.getChildren(),n=0;n<r.length;n++){var a=r[n];t.add(a.clone())}return t},e}(Qu),Qc=bd,Jc=function(i){(0,m.__extends)(e,i);function e(t){return i.call(this,t)||this}return e.prototype._isInBBox=function(t,r){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=r&&n.maxY>=r},e.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(t){i.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),r=this.getTotalMatrix(),n=t.minX,a=t.minY,o=t.maxX,s=t.maxY;if(r){var u=Fs(r,[t.minX,t.minY]),l=Fs(r,[t.maxX,t.minY]),c=Fs(r,[t.minX,t.maxY]),d=Fs(r,[t.maxX,t.maxY]);n=Math.min(u[0],l[0],c[0],d[0]),o=Math.max(u[0],l[0],c[0],d[0]),a=Math.min(u[1],l[1],c[1],d[1]),s=Math.max(u[1],l[1],c[1],d[1])}var C=this.attrs;if(C.shadowColor){var I=C.shadowBlur,F=I===void 0?0:I,H=C.shadowOffsetX,J=H===void 0?0:H,st=C.shadowOffsetY,ut=st===void 0?0:st,ht=n-F+J,_t=o+F+J,Vt=a-F+ut,re=s+F+ut;n=Math.min(n,ht),o=Math.max(o,_t),a=Math.min(a,Vt),s=Math.max(s,re)}return{x:n,y:a,minX:n,minY:a,maxX:o,maxY:s,width:o-n,height:s-a}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,r){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,r){var n=this.get("startArrowShape"),a=this.get("endArrowShape"),o=[t,r,1];o=this.invertFromMatrix(o);var s=o[0],u=o[1],l=this._isInBBox(s,u);return this.isOnlyHitBox()?l:!!(l&&!this.isClipped(s,u)&&(this.isInShape(s,u)||n&&n.isHit(s,u)||a&&a.isHit(s,u)))},e}(bc),bl=Jc,tf=new Map;function _s(i,e){tf.set(i,e)}function ef(i){return tf.get(i)}function rf(i){var e=i.attr(),t=e.x,r=e.y,n=e.width,a=e.height;return{x:t,y:r,width:n,height:a}}function xl(i){var e=i.attr(),t=e.x,r=e.y,n=e.r;return{x:t-n,y:r-n,width:n*2,height:n*2}}function At(i,e,t,r){var n=i-t,a=e-r;return Math.sqrt(n*n+a*a)}function Se(i,e){return Math.abs(i-e)<.001}function je(i,e){var t=(0,f.min)(i),r=(0,f.min)(e),n=(0,f.max)(i),a=(0,f.max)(e);return{x:t,y:r,width:n-t,height:a-r}}function Nr(i,e,t,r){return{minX:(0,f.min)([i,t]),maxX:(0,f.max)([i,t]),minY:(0,f.min)([e,r]),maxY:(0,f.max)([e,r])}}function Qr(i){return(i+Math.PI*2)%(Math.PI*2)}var _r={box:function(i,e,t,r){return je([i,t],[e,r])},length:function(i,e,t,r){return At(i,e,t,r)},pointAt:function(i,e,t,r,n){return{x:(1-n)*i+n*t,y:(1-n)*e+n*r}},pointDistance:function(i,e,t,r,n,a){var o=(t-i)*(n-i)+(r-e)*(a-e);if(o<0)return At(i,e,n,a);var s=(t-i)*(t-i)+(r-e)*(r-e);return o>s?At(t,r,n,a):this.pointToLine(i,e,t,r,n,a)},pointToLine:function(i,e,t,r,n,a){var o=[t-i,r-e];if(Jn.exactEquals(o,[0,0]))return Math.sqrt((n-i)*(n-i)+(a-e)*(a-e));var s=[-o[1],o[0]];Jn.normalize(s,s);var u=[n-i,a-e];return Math.abs(Jn.dot(u,s))},tangentAngle:function(i,e,t,r){return Math.atan2(r-e,t-i)}},Ur=1e-4;function vn(i,e,t,r,n,a){var o,s=1/0,u=[t,r],l=20;a&&a>200&&(l=a/10);for(var c=1/l,d=c/10,C=0;C<=l;C++){var I=C*c,F=[n.apply(null,i.concat([I])),n.apply(null,e.concat([I]))],H=At(u[0],u[1],F[0],F[1]);H<s&&(o=I,s=H)}if(o===0)return{x:i[0],y:e[0]};if(o===1){var J=i.length;return{x:i[J-1],y:e[J-1]}}s=1/0;for(var C=0;C<32&&!(d<Ur);C++){var st=o-d,ut=o+d,F=[n.apply(null,i.concat([st])),n.apply(null,e.concat([st]))],H=At(u[0],u[1],F[0],F[1]);if(st>=0&&H<s)o=st,s=H;else{var ht=[n.apply(null,i.concat([ut])),n.apply(null,e.concat([ut]))],_t=At(u[0],u[1],ht[0],ht[1]);ut<=1&&_t<s?(o=ut,s=_t):d*=.5}}return{x:n.apply(null,i.concat([o])),y:n.apply(null,e.concat([o]))}}function Mn(i,e){for(var t=0,r=i.length,n=0;n<r;n++){var a=i[n],o=e[n],s=i[(n+1)%r],u=e[(n+1)%r];t+=At(a,o,s,u)}return t/2}function pn(i,e,t,r){var n=1-r;return n*n*i+2*r*n*e+r*r*t}function En(i,e,t){var r=i+t-2*e;if(Se(r,0))return[.5];var n=(i-e)/r;return n<=1&&n>=0?[n]:[]}function On(i,e,t,r){return 2*(1-r)*(e-i)+2*r*(t-e)}function v(i,e,t,r,n,a,o){var s=pn(i,t,n,o),u=pn(e,r,a,o),l=_r.pointAt(i,e,t,r,o),c=_r.pointAt(t,r,n,a,o);return[[i,e,l.x,l.y,s,u],[s,u,c.x,c.y,n,a]]}function N(i,e,t,r,n,a,o){if(o===0)return(At(i,e,t,r)+At(t,r,n,a)+At(i,e,n,a))/2;var s=v(i,e,t,r,n,a,.5),u=s[0],l=s[1];return u.push(o-1),l.push(o-1),N.apply(null,u)+N.apply(null,l)}var Z={box:function(i,e,t,r,n,a){var o=En(i,t,n)[0],s=En(e,r,a)[0],u=[i,n],l=[e,a];return o!==void 0&&u.push(pn(i,t,n,o)),s!==void 0&&l.push(pn(e,r,a,s)),je(u,l)},length:function(i,e,t,r,n,a){return N(i,e,t,r,n,a,3)},nearestPoint:function(i,e,t,r,n,a,o,s){return vn([i,t,n],[e,r,a],o,s,pn)},pointDistance:function(i,e,t,r,n,a,o,s){var u=this.nearestPoint(i,e,t,r,n,a,o,s);return At(u.x,u.y,o,s)},interpolationAt:pn,pointAt:function(i,e,t,r,n,a,o){return{x:pn(i,t,n,o),y:pn(e,r,a,o)}},divide:function(i,e,t,r,n,a,o){return v(i,e,t,r,n,a,o)},tangentAngle:function(i,e,t,r,n,a,o){var s=On(i,t,n,o),u=On(e,r,a,o),l=Math.atan2(u,s);return Qr(l)}};function nt(i,e,t,r,n){var a=1-n;return a*a*a*i+3*e*n*a*a+3*t*n*n*a+r*n*n*n}function dt(i,e,t,r,n){var a=1-n;return 3*(a*a*(e-i)+2*a*n*(t-e)+n*n*(r-t))}function yt(i,e,t,r){var n=-3*i+9*e-9*t+3*r,a=6*i-12*e+6*t,o=3*e-3*i,s=[],u,l,c;if(Se(n,0))Se(a,0)||(u=-o/a,u>=0&&u<=1&&s.push(u));else{var d=a*a-4*n*o;Se(d,0)?s.push(-a/(2*n)):d>0&&(c=Math.sqrt(d),u=(-a+c)/(2*n),l=(-a-c)/(2*n),u>=0&&u<=1&&s.push(u),l>=0&&l<=1&&s.push(l))}return s}function Tt(i,e,t,r,n,a,o,s,u){var l=nt(i,t,n,o,u),c=nt(e,r,a,s,u),d=_r.pointAt(i,e,t,r,u),C=_r.pointAt(t,r,n,a,u),I=_r.pointAt(n,a,o,s,u),F=_r.pointAt(d.x,d.y,C.x,C.y,u),H=_r.pointAt(C.x,C.y,I.x,I.y,u);return[[i,e,d.x,d.y,F.x,F.y,l,c],[l,c,H.x,H.y,I.x,I.y,o,s]]}function It(i,e,t,r,n,a,o,s,u){if(u===0)return Mn([i,t,n,o],[e,r,a,s]);var l=Tt(i,e,t,r,n,a,o,s,.5),c=l[0],d=l[1];return c.push(u-1),d.push(u-1),It.apply(null,c)+It.apply(null,d)}var jt={extrema:yt,box:function(i,e,t,r,n,a,o,s){for(var u=[i,o],l=[e,s],c=yt(i,t,n,o),d=yt(e,r,a,s),C=0;C<c.length;C++)u.push(nt(i,t,n,o,c[C]));for(var C=0;C<d.length;C++)l.push(nt(e,r,a,s,d[C]));return je(u,l)},length:function(i,e,t,r,n,a,o,s){return It(i,e,t,r,n,a,o,s,3)},nearestPoint:function(i,e,t,r,n,a,o,s,u,l,c){return vn([i,t,n,o],[e,r,a,s],u,l,nt,c)},pointDistance:function(i,e,t,r,n,a,o,s,u,l,c){var d=this.nearestPoint(i,e,t,r,n,a,o,s,u,l,c);return At(d.x,d.y,u,l)},interpolationAt:nt,pointAt:function(i,e,t,r,n,a,o,s,u){return{x:nt(i,t,n,o,u),y:nt(e,r,a,s,u)}},divide:function(i,e,t,r,n,a,o,s,u){return Tt(i,e,t,r,n,a,o,s,u)},tangentAngle:function(i,e,t,r,n,a,o,s,u){var l=dt(i,t,n,o,u),c=dt(e,r,a,s,u);return Qr(Math.atan2(c,l))}};function ne(i,e){var t=Math.abs(i);return e>0?t:t*-1}var we={box:function(i,e,t,r){return{x:i-t,y:e-r,width:t*2,height:r*2}},length:function(i,e,t,r){return Math.PI*(3*(t+r)-Math.sqrt((3*t+r)*(t+3*r)))},nearestPoint:function(i,e,t,r,n,a){var o=t,s=r;if(o===0||s===0)return{x:i,y:e};for(var u=n-i,l=a-e,c=Math.abs(u),d=Math.abs(l),C=o*o,I=s*s,F=Math.PI/4,H,J,st=0;st<4;st++){H=o*Math.cos(F),J=s*Math.sin(F);var ut=(C-I)*Math.pow(Math.cos(F),3)/o,ht=(I-C)*Math.pow(Math.sin(F),3)/s,_t=H-ut,Vt=J-ht,re=c-ut,te=d-ht,Ee=Math.hypot(Vt,_t),ze=Math.hypot(te,re),Oe=Ee*Math.asin((_t*te-Vt*re)/(Ee*ze)),er=Oe/Math.sqrt(C+I-H*H-J*J);F+=er,F=Math.min(Math.PI/2,Math.max(0,F))}return{x:i+ne(H,u),y:e+ne(J,l)}},pointDistance:function(i,e,t,r,n,a){var o=this.nearestPoint(i,e,t,r,n,a);return At(o.x,o.y,n,a)},pointAt:function(i,e,t,r,n){var a=2*Math.PI*n;return{x:i+t*Math.cos(a),y:e+r*Math.sin(a)}},tangentAngle:function(i,e,t,r,n){var a=2*Math.PI*n,o=Math.atan2(r*Math.cos(a),-t*Math.sin(a));return Qr(o)}};function ge(i,e,t,r,n,a,o,s){return-1*t*Math.cos(n)*Math.sin(s)-r*Math.sin(n)*Math.cos(s)}function Ye(i,e,t,r,n,a,o,s){return-1*t*Math.sin(n)*Math.sin(s)+r*Math.cos(n)*Math.cos(s)}function ur(i,e,t){return Math.atan(-e/i*Math.tan(t))}function Xr(i,e,t){return Math.atan(e/(i*Math.tan(t)))}function mr(i,e,t,r,n,a){return t*Math.cos(n)*Math.cos(a)-r*Math.sin(n)*Math.sin(a)+i}function br(i,e,t,r,n,a){return t*Math.sin(n)*Math.cos(a)+r*Math.cos(n)*Math.sin(a)+e}function xr(i,e,t,r){var n=Math.atan2(r*i,t*e);return(n+Math.PI*2)%(Math.PI*2)}function wn(i,e,t){return{x:i*Math.cos(t),y:e*Math.sin(t)}}function Rn(i,e,t){var r=Math.cos(t),n=Math.sin(t);return[i*r-e*n,i*n+e*r]}var In={box:function(i,e,t,r,n,a,o){for(var s=ur(t,r,n),u=1/0,l=-1/0,c=[a,o],d=-Math.PI*2;d<=Math.PI*2;d+=Math.PI){var C=s+d;a<o?a<C&&C<o&&c.push(C):o<C&&C<a&&c.push(C)}for(var d=0;d<c.length;d++){var I=mr(i,e,t,r,n,c[d]);I<u&&(u=I),I>l&&(l=I)}for(var F=Xr(t,r,n),H=1/0,J=-1/0,st=[a,o],d=-Math.PI*2;d<=Math.PI*2;d+=Math.PI){var ut=F+d;a<o?a<ut&&ut<o&&st.push(ut):o<ut&&ut<a&&st.push(ut)}for(var d=0;d<st.length;d++){var ht=br(i,e,t,r,n,st[d]);ht<H&&(H=ht),ht>J&&(J=ht)}return{x:u,y:H,width:l-u,height:J-H}},length:function(i,e,t,r,n,a,o){},nearestPoint:function(i,e,t,r,n,a,o,s,u){var l=Rn(s-i,u-e,-n),c=l[0],d=l[1],C=we.nearestPoint(0,0,t,r,c,d),I=xr(t,r,C.x,C.y);I<a?C=wn(t,r,a):I>o&&(C=wn(t,r,o));var F=Rn(C.x,C.y,n);return{x:F[0]+i,y:F[1]+e}},pointDistance:function(i,e,t,r,n,a,o,s,u){var l=this.nearestPoint(i,e,t,r,s,u);return At(l.x,l.y,s,u)},pointAt:function(i,e,t,r,n,a,o,s){var u=(o-a)*s+a;return{x:mr(i,e,t,r,n,u),y:br(i,e,t,r,n,u)}},tangentAngle:function(i,e,t,r,n,a,o,s){var u=(o-a)*s+a,l=ge(i,e,t,r,n,a,o,u),c=Ye(i,e,t,r,n,a,o,u);return Qr(Math.atan2(c,l))}};function Qn(i){for(var e=0,t=[],r=0;r<i.length-1;r++){var n=i[r],a=i[r+1],o=At(n[0],n[1],a[0],a[1]),s={from:n,to:a,length:o};t.push(s),e+=o}return{segments:t,totalLength:e}}function Hn(i){if(i.length<2)return 0;for(var e=0,t=0;t<i.length-1;t++){var r=i[t],n=i[t+1];e+=At(r[0],r[1],n[0],n[1])}return e}function ia(i,e){if(e>1||e<0||i.length<2)return null;var t=Qn(i),r=t.segments,n=t.totalLength;if(n===0)return{x:i[0][0],y:i[0][1]};for(var a=0,o=null,s=0;s<r.length;s++){var u=r[s],l=u.from,c=u.to,d=u.length/n;if(e>=a&&e<=a+d){var C=(e-a)/d;o=_r.pointAt(l[0],l[1],c[0],c[1],C);break}a+=d}return o}function ga(i,e){if(e>1||e<0||i.length<2)return 0;for(var t=Qn(i),r=t.segments,n=t.totalLength,a=0,o=0,s=0;s<r.length;s++){var u=r[s],l=u.from,c=u.to,d=u.length/n;if(e>=a&&e<=a+d){o=Math.atan2(c[1]-l[1],c[0]-l[0]);break}a+=d}return o}function fa(i,e,t){for(var r=1/0,n=0;n<i.length-1;n++){var a=i[n],o=i[n+1],s=_r.pointDistance(a[0],a[1],o[0],o[1],e,t);s<r&&(r=s)}return r}var Ei={box:function(i){for(var e=[],t=[],r=0;r<i.length;r++){var n=i[r];e.push(n[0]),t.push(n[1])}return je(e,t)},length:function(i){return Hn(i)},pointAt:function(i,e){return ia(i,e)},pointDistance:function(i,e,t){return fa(i,e,t)},tangentAngle:function(i,e){return ga(i,e)}};function ma(i){var e=i.slice(0);return i.length&&e.push(i[0]),e}var qi={box:function(i){return Ei.box(i)},length:function(i){return Hn(ma(i))},pointAt:function(i,e){return ia(ma(i),e)},pointDistance:function(i,e,t){return fa(ma(i),e,t)},tangentAngle:function(i,e){return ga(ma(i),e)}};function pi(i,e){return!i||!e?i||e:{minX:Math.min(i.minX,e.minX),minY:Math.min(i.minY,e.minY),maxX:Math.max(i.maxX,e.maxX),maxY:Math.max(i.maxY,e.maxY)}}function ka(i,e){var t=i.get("startArrowShape"),r=i.get("endArrowShape"),n=null,a=null;return t&&(n=t.getCanvasBBox(),e=pi(e,n)),r&&(a=r.getCanvasBBox(),e=pi(e,a)),e}function Gi(i){for(var e=i.attr(),t=e.points,r=[],n=[],a=0;a<t.length;a++){var o=t[a];r.push(o[0]),n.push(o[1])}var s=je(r,n),u=s.x,l=s.y,c=s.width,d=s.height,C={minX:u,minY:l,maxX:u+c,maxY:l+d};return C=ka(i,C),{x:C.minX,y:C.minY,width:C.maxX-C.minX,height:C.maxY-C.minY}}function Vi(i){for(var e=i.attr(),t=e.points,r=[],n=[],a=0;a<t.length;a++){var o=t[a];r.push(o[0]),n.push(o[1])}return je(r,n)}var so=null;function Io(){if(!so){var i=document.createElement("canvas");i.width=1,i.height=1,so=i.getContext("2d")}return so}function uo(i,e,t){var r=1;if((0,f.isString)(i)&&(r=i.split(`
`).length),r>1){var n=Aa(e,t);return e*r+n*(r-1)}return e}function Aa(i,e){return e?e-i:i*.14}function Go(i,e){var t=Io(),r=0;if((0,f.isNil)(i)||i==="")return r;if(t.save(),t.font=e,(0,f.isString)(i)&&i.includes(`
`)){var n=i.split(`
`);(0,f.each)(n,function(a){var o=t.measureText(a).width;r<o&&(r=o)})}else r=t.measureText(i).width;return t.restore(),r}function ni(i){var e=i.fontSize,t=i.fontFamily,r=i.fontWeight,n=i.fontStyle,a=i.fontVariant;return[n,a,r,e+"px",t].join(" ").trim()}function sa(i){var e=i.attr(),t=e.x,r=e.y,n=e.text,a=e.fontSize,o=e.lineHeight,s=e.font;s||(s=ni(e));var u=Go(n,s),l;if(!u)l={x:t,y:r,width:0,height:0};else{var c=e.textAlign,d=e.textBaseline,C=uo(n,a,o),I={x:t,y:r-C};c&&(c==="end"||c==="right"?I.x-=u:c==="center"&&(I.x-=u/2)),d&&(d==="top"?I.y+=C:d==="middle"&&(I.y+=C/2)),l={x:I.x,y:I.y,width:u,height:C}}return l}var Ba=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,Za=/[^\s\,]+/ig;function vo(i){var e=i||[];if((0,f.isArray)(e))return e;if((0,f.isString)(e))return e=e.match(Ba),(0,f.each)(e,function(t,r){if(t=t.match(Za),t[0].length>1){var n=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=n}(0,f.each)(t,function(a,o){isNaN(a)||(t[o]=+a)}),e[r]=t}),e}var Zs=vo;function El(i,e,t,r){var n=[],a=!!r,o,s,u,l,c,d,C;if(a){u=r[0],l=r[1];for(var I=0,F=i.length;I<F;I+=1){var H=i[I];u=Jn.min([0,0],u,H),l=Jn.max([0,0],l,H)}}for(var I=0,J=i.length;I<J;I+=1){var H=i[I];if(I===0&&!t)C=H;else if(I===J-1&&!t)d=H,n.push(C),n.push(d);else{var st=[I?I-1:J-1,I-1][t?0:1];o=i[st],s=i[t?(I+1)%J:I+1];var ut=[0,0];ut=Jn.sub(ut,s,o),ut=Jn.scale(ut,ut,e);var ht=Jn.distance(H,o),_t=Jn.distance(H,s),Vt=ht+_t;Vt!==0&&(ht/=Vt,_t/=Vt);var re=Jn.scale([0,0],ut,-ht),te=Jn.scale([0,0],ut,_t);d=Jn.add([0,0],H,re),c=Jn.add([0,0],H,te),c=Jn.min([0,0],c,Jn.max([0,0],s,H)),c=Jn.max([0,0],c,Jn.min([0,0],s,H)),re=Jn.sub([0,0],c,H),re=Jn.scale([0,0],re,-ht/_t),d=Jn.add([0,0],H,re),d=Jn.min([0,0],d,Jn.max([0,0],o,H)),d=Jn.max([0,0],d,Jn.min([0,0],o,H)),te=Jn.sub([0,0],H,d),te=Jn.scale([0,0],te,_t/ht),c=Jn.add([0,0],H,te),a&&(d=Jn.max([0,0],d,u),d=Jn.min([0,0],d,l),c=Jn.max([0,0],c,u),c=Jn.min([0,0],c,l)),n.push(C),n.push(d),C=c}}return t&&n.push(n.shift()),n}function We(i,e,t){e===void 0&&(e=!1),t===void 0&&(t=[[0,0],[1,1]]);for(var r=!!e,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=El(n,.4,r,t),u=n.length,l=[],c,d,C,a=0;a<u-1;a+=1)c=s[a*2],d=s[a*2+1],C=n[a+1],l.push(["C",c[0],c[1],d[0],d[1],C[0],C[1]]);return r&&(c=s[u],d=s[u+1],C=n[0],l.push(["C",c[0],c[1],d[0],d[1],C[0],C[1]])),l}var Fr=We;function Dr(i,e,t){var r=null,n=t;return e<n&&(n=e,r="add"),i<n&&(n=i,r="del"),{type:r,min:n}}var Xn=function(i,e){var t=i.length,r=e.length,n,a,o=0;if(t===0||r===0)return null;for(var s=[],u=0;u<=t;u++)s[u]=[],s[u][0]={min:u};for(var l=0;l<=r;l++)s[0][l]={min:l};for(var u=1;u<=t;u++){n=i[u-1];for(var l=1;l<=r;l++){a=e[l-1],isEqual(n,a)?o=0:o=1;var c=s[u-1][l].min+1,d=s[u][l-1].min+1,C=s[u-1][l-1].min+o;s[u][l]=Dr(c,d,C)}}return s};function Fa(i,e){var t=Xn(i,e),r=i.length,n=e.length,a=[],o=1,s=1;if(t[r][n]!==r){for(var u=1;u<=r;u++){var l=t[u][u].min;s=u;for(var c=o;c<=n;c++)t[u][c].min<l&&(l=t[u][c].min,s=c);o=s,t[u][o].type&&a.push({index:u-1,type:t[u][o].type})}for(var u=a.length-1;u>=0;u--)o=a[u].index,a[u].type==="add"?i.splice(o,0,[].concat(i[o])):i.splice(o,1)}if(r=i.length,r<n)for(var u=0;u<n-r;u++)i[r-1][0]==="z"||i[r-1][0]==="Z"?i.splice(r-2,0,i[r-2]):i.push(i[r-1]);return i}var Ie=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,me=new RegExp("([a-z])["+Ie+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Ie+"]*,?["+Ie+"]*)+)","ig"),nr=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Ie+"]*,?["+Ie+"]*","ig");function wr(i){if(!i)return null;if((0,f.isArray)(i))return i;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(i).replace(me,function(r,n,a){var o=[],s=n.toLowerCase();if(a.replace(nr,function(u,l){l&&o.push(+l)}),s==="m"&&o.length>2&&(t.push([n].concat(o.splice(0,2))),s="l",n=n==="m"?"l":"L"),s==="o"&&o.length===1&&t.push([n,o[0]]),s==="r")t.push([n].concat(o));else for(;o.length>=e[s]&&(t.push([n].concat(o.splice(0,e[s]))),!!e[s]););return""}),t}var Mr=/[a-z]/;function sr(i,e){return[e[0]+(e[0]-i[0]),e[1]+(e[1]-i[1])]}function ar(i){var e=wr(i);if(!e||!e.length)return[["M",0,0]];for(var t=!1,r=0;r<e.length;r++){var n=e[r][0];if(Mr.test(n)||["V","H","T","S"].indexOf(n)>=0){t=!0;break}}if(!t)return e;var a=[],o=0,s=0,u=0,l=0,c=0,d,C,I=e[0];(I[0]==="M"||I[0]==="m")&&(o=+I[1],s=+I[2],u=o,l=s,c++,a[0]=["M",o,s]);for(var r=c,F=e.length;r<F;r++){var H=e[r],J=a[r-1],st=[],n=H[0],ut=n.toUpperCase();if(n!==ut)switch(st[0]=ut,ut){case"A":st[1]=H[1],st[2]=H[2],st[3]=H[3],st[4]=H[4],st[5]=H[5],st[6]=+H[6]+o,st[7]=+H[7]+s;break;case"V":st[1]=+H[1]+s;break;case"H":st[1]=+H[1]+o;break;case"M":u=+H[1]+o,l=+H[2]+s,st[1]=u,st[2]=l;break;default:for(var ht=1,_t=H.length;ht<_t;ht++)st[ht]=+H[ht]+(ht%2?o:s)}else st=e[r];switch(ut){case"Z":o=+u,s=+l;break;case"H":o=st[1],st=["L",o,s];break;case"V":s=st[1],st=["L",o,s];break;case"T":o=st[1],s=st[2];var Vt=sr([J[1],J[2]],[J[3],J[4]]);st=["Q",Vt[0],Vt[1],o,s];break;case"S":o=st[st.length-2],s=st[st.length-1];var re=J.length,te=sr([J[re-4],J[re-3]],[J[re-2],J[re-1]]);st=["C",te[0],te[1],st[1],st[2],o,s];break;case"M":u=st[st.length-2],l=st[st.length-1];break;default:o=st[st.length-2],s=st[st.length-1]}a.push(st)}return a}var dr=Math.PI*2,De=function(i,e,t,r,n,a,o){var s=i.x,u=i.y;s*=e,u*=t;var l=r*s-n*u,c=n*s+r*u;return{x:l+a,y:c+o}},rr=function(i,e){var t=e===1.5707963267948966?.551915024494:e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),r=Math.cos(i),n=Math.sin(i),a=Math.cos(i+e),o=Math.sin(i+e);return[{x:r-n*t,y:n+r*t},{x:a+o*t,y:o-a*t},{x:a,y:o}]},Te=function(i,e,t,r){var n=i*r-e*t<0?-1:1,a=i*t+e*r;return a>1&&(a=1),a<-1&&(a=-1),n*Math.acos(a)},yr=function(i,e,t,r,n,a,o,s,u,l,c,d){var C=Math.pow(n,2),I=Math.pow(a,2),F=Math.pow(c,2),H=Math.pow(d,2),J=C*I-C*H-I*F;J<0&&(J=0),J/=C*H+I*F,J=Math.sqrt(J)*(o===s?-1:1);var st=J*n/a*d,ut=J*-a/n*c,ht=l*st-u*ut+(i+t)/2,_t=u*st+l*ut+(e+r)/2,Vt=(c-st)/n,re=(d-ut)/a,te=(-c-st)/n,Ee=(-d-ut)/a,ze=Te(1,0,Vt,re),Oe=Te(Vt,re,te,Ee);return s===0&&Oe>0&&(Oe-=dr),s===1&&Oe<0&&(Oe+=dr),[ht,_t,ze,Oe]},Tr=function(i){var e=i.px,t=i.py,r=i.cx,n=i.cy,a=i.rx,o=i.ry,s=i.xAxisRotation,u=s===void 0?0:s,l=i.largeArcFlag,c=l===void 0?0:l,d=i.sweepFlag,C=d===void 0?0:d,I=[];if(a===0||o===0)return[{x1:0,y1:0,x2:0,y2:0,x:r,y:n}];var F=Math.sin(u*dr/360),H=Math.cos(u*dr/360),J=H*(e-r)/2+F*(t-n)/2,st=-F*(e-r)/2+H*(t-n)/2;if(J===0&&st===0)return[{x1:0,y1:0,x2:0,y2:0,x:r,y:n}];a=Math.abs(a),o=Math.abs(o);var ut=Math.pow(J,2)/Math.pow(a,2)+Math.pow(st,2)/Math.pow(o,2);ut>1&&(a*=Math.sqrt(ut),o*=Math.sqrt(ut));var ht=yr(e,t,r,n,a,o,c,C,F,H,J,st),_t=ht[0],Vt=ht[1],re=ht[2],te=ht[3],Ee=Math.abs(te)/(dr/4);Math.abs(1-Ee)<1e-7&&(Ee=1);var ze=Math.max(Math.ceil(Ee),1);te/=ze;for(var Oe=0;Oe<ze;Oe++)I.push(rr(re,te)),re+=te;return I.map(function(er){var hr=De(er[0],a,o,H,F,_t,Vt),rn=hr.x,Dn=hr.y,yn=De(er[1],a,o,H,F,_t,Vt),Kr=yn.x,Un=yn.y,Fn=De(er[2],a,o,H,F,_t,Vt),$r=Fn.x,gn=Fn.y;return{x1:rn,y1:Dn,x2:Kr,y2:Un,x:$r,y:gn}})};function nn(i,e,t,r,n,a,o,s,u){var l=Tr({px:i,py:e,cx:s,cy:u,rx:t,ry:r,xAxisRotation:n,largeArcFlag:a,sweepFlag:o});return l.reduce(function(c,d){var C=d.x1,I=d.y1,F=d.x2,H=d.y2,J=d.x,st=d.y;return c.push(C,I,F,H,J,st),c},[])}function on(i,e){"TQ".indexOf(i[0])<0&&(e.qx=null,e.qy=null);var t=i.slice(1),r=t[0],n=t[1];switch(i[0]){case"M":return e.x=r,e.y=n,i;case"A":return["C"].concat(arcToCubic.apply(0,[e.x1,e.y1].concat(i.slice(1))));case"Q":return e.qx=r,e.qy=n,["C"].concat(quadToCubic.apply(0,[e.x1,e.y1].concat(i.slice(1))));case"L":return["C"].concat(lineToCubic(e.x1,e.y1,i[1],i[2]));case"H":return["C"].concat(lineToCubic(e.x1,e.y1,i[1],e.y1));case"V":return["C"].concat(lineToCubic(e.x1,e.y1,e.x1,i[1]));case"Z":return["C"].concat(lineToCubic(e.x1,e.y1,e.x,e.y));default:}return i}function Vr(i,e){e===void 0&&(e=!1);for(var t=path2Absolute(i),r={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},n=[],a="",o=t.length,s,u,l=[],c=0;c<o;c+=1)t[c]&&(a=t[c][0]),n[c]=a,t[c]=segmentToCubic(t[c],r),_n(t,n,c),o=t.length,a==="Z"&&l.push(c),s=t[c],u=s.length,r.x1=+s[u-2],r.y1=+s[u-1],r.x2=+s[u-4]||r.x1,r.y2=+s[u-3]||r.y1;return e?[t,l]:t}function _n(i,e,t){if(i[t].length>7){i[t].shift();for(var r=i[t],n=t;r.length;)e[t]="A",i.splice(n+=1,0,["C"].concat(r.splice(0,6)));i.splice(t,1)}}var ea=function(i,e,t,r,n){var a=-3*e+9*t-9*r+3*n,o=i*a+6*e-12*t+6*r;return i*o-3*e+3*t},Ca=function(i,e,t,r,n,a,o,s,u){u===null&&(u=1),u=u>1?1:u<0?0:u;for(var l=u/2,c=12,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],C=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],I=0,F=0;F<c;F++){var H=l*d[F]+l,J=ea(H,i,t,n,o),st=ea(H,e,r,a,s),ut=J*J+st*st;I+=C[F]*Math.sqrt(ut)}return l*I},$n=function(i,e,t,r,n,a,o,s){for(var u=[],l=[[],[]],c,d,C,I,F=0;F<2;++F){if(F===0?(d=6*i-12*t+6*n,c=-3*i+9*t-9*n+3*o,C=3*t-3*i):(d=6*e-12*r+6*a,c=-3*e+9*r-9*a+3*s,C=3*r-3*e),Math.abs(c)<1e-12){if(Math.abs(d)<1e-12)continue;I=-C/d,I>0&&I<1&&u.push(I);continue}var H=d*d-4*C*c,J=Math.sqrt(H);if(!(H<0)){var st=(-d+J)/(2*c);st>0&&st<1&&u.push(st);var ut=(-d-J)/(2*c);ut>0&&ut<1&&u.push(ut)}}for(var ht=u.length,_t=ht,Vt;ht--;)I=u[ht],Vt=1-I,l[0][ht]=Vt*Vt*Vt*i+3*Vt*Vt*I*t+3*Vt*I*I*n+I*I*I*o,l[1][ht]=Vt*Vt*Vt*e+3*Vt*Vt*I*r+3*Vt*I*I*a+I*I*I*s;return l[0][_t]=i,l[1][_t]=e,l[0][_t+1]=o,l[1][_t+1]=s,l[0].length=l[1].length=_t+2,{min:{x:Math.min.apply(0,l[0]),y:Math.min.apply(0,l[1])},max:{x:Math.max.apply(0,l[0]),y:Math.max.apply(0,l[1])}}},la=function(i,e,t,r,n,a,o,s){if(!(Math.max(i,t)<Math.min(n,o)||Math.min(i,t)>Math.max(n,o)||Math.max(e,r)<Math.min(a,s)||Math.min(e,r)>Math.max(a,s))){var u=(i*r-e*t)*(n-o)-(i-t)*(n*s-a*o),l=(i*r-e*t)*(a-s)-(e-r)*(n*s-a*o),c=(i-t)*(a-s)-(e-r)*(n-o);if(c){var d=u/c,C=l/c,I=+d.toFixed(2),F=+C.toFixed(2);if(!(I<+Math.min(i,t).toFixed(2)||I>+Math.max(i,t).toFixed(2)||I<+Math.min(n,o).toFixed(2)||I>+Math.max(n,o).toFixed(2)||F<+Math.min(e,r).toFixed(2)||F>+Math.max(e,r).toFixed(2)||F<+Math.min(a,s).toFixed(2)||F>+Math.max(a,s).toFixed(2)))return{x:d,y:C}}}},ha=function(i,e,t){return e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},Ka=function(i,e,t,r){return i===null&&(i=e=t=r=0),e===null&&(e=i.y,t=i.width,r=i.height,i=i.x),{x:i,y:e,width:t,w:t,height:r,h:r,x2:i+t,y2:e+r,cx:i+t/2,cy:e+r/2,r1:Math.min(t,r)/2,r2:Math.max(t,r)/2,r0:Math.sqrt(t*t+r*r)/2,path:rectPath(i,e,t,r),vb:[i,e,t,r].join(" ")}},lo=function(i,e){return i=Ka(i),e=Ka(e),ha(e,i.x,i.y)||ha(e,i.x2,i.y)||ha(e,i.x,i.y2)||ha(e,i.x2,i.y2)||ha(i,e.x,e.y)||ha(i,e.x2,e.y)||ha(i,e.x,e.y2)||ha(i,e.x2,e.y2)||(i.x<e.x2&&i.x>e.x||e.x<i.x2&&e.x>i.x)&&(i.y<e.y2&&i.y>e.y||e.y<i.y2&&e.y>i.y)},Jo=function(i,e,t,r,n,a,o,s){isArray(i)||(i=[i,e,t,r,n,a,o,s]);var u=$n.apply(null,i);return Ka(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},ed=function(i,e,t,r,n,a,o,s,u){var l=1-u,c=Math.pow(l,3),d=Math.pow(l,2),C=u*u,I=C*u,F=c*i+d*3*u*t+l*3*u*u*n+I*o,H=c*e+d*3*u*r+l*3*u*u*a+I*s,J=i+2*u*(t-i)+C*(n-2*t+i),st=e+2*u*(r-e)+C*(a-2*r+e),ut=t+2*u*(n-t)+C*(o-2*n+t),ht=r+2*u*(a-r)+C*(s-2*a+r),_t=l*i+u*t,Vt=l*e+u*r,re=l*n+u*o,te=l*a+u*s,Ee=90-Math.atan2(J-ut,st-ht)*180/Math.PI;return{x:F,y:H,m:{x:J,y:st},n:{x:ut,y:ht},start:{x:_t,y:Vt},end:{x:re,y:te},alpha:Ee}},Cs=function(i,e,t){var r=Jo(i),n=Jo(e);if(!lo(r,n))return t?0:[];for(var a=Ca.apply(0,i),o=Ca.apply(0,e),s=~~(a/8),u=~~(o/8),l=[],c=[],d={},C=t?0:[],I=0;I<s+1;I++){var F=ed.apply(0,i.concat(I/s));l.push({x:F.x,y:F.y,t:I/s})}for(var I=0;I<u+1;I++){var F=ed.apply(0,e.concat(I/u));c.push({x:F.x,y:F.y,t:I/u})}for(var I=0;I<s;I++)for(var H=0;H<u;H++){var J=l[I],st=l[I+1],ut=c[H],ht=c[H+1],_t=Math.abs(st.x-J.x)<.001?"y":"x",Vt=Math.abs(ht.x-ut.x)<.001?"y":"x",re=la(J.x,J.y,st.x,st.y,ut.x,ut.y,ht.x,ht.y);if(re){if(d[re.x.toFixed(4)]===re.y.toFixed(4))continue;d[re.x.toFixed(4)]=re.y.toFixed(4);var te=J.t+Math.abs((re[_t]-J[_t])/(st[_t]-J[_t]))*(st.t-J.t),Ee=ut.t+Math.abs((re[Vt]-ut[Vt])/(ht[Vt]-ut[Vt]))*(ht.t-ut.t);te>=0&&te<=1&&Ee>=0&&Ee<=1&&(t?C++:C.push({x:re.x,y:re.y,t1:te,t2:Ee}))}}return C},Wd=function(i,e,t){i=path2Curve(i),e=path2Curve(e);for(var r,n,a,o,s,u,l,c,d,C,I=t?0:[],F=0,H=i.length;F<H;F++){var J=i[F];if(J[0]==="M")r=s=J[1],n=u=J[2];else{J[0]==="C"?(d=[r,n].concat(J.slice(1)),r=d[6],n=d[7]):(d=[r,n,r,n,s,u,s,u],r=s,n=u);for(var st=0,ut=e.length;st<ut;st++){var ht=e[st];if(ht[0]==="M")a=l=ht[1],o=c=ht[2];else{ht[0]==="C"?(C=[a,o].concat(ht.slice(1)),a=C[6],o=C[7]):(C=[a,o,a,o,l,c,l,c],a=l,o=c);var _t=Cs(d,C,t);if(t)I+=_t;else{for(var Vt=0,re=_t.length;Vt<re;Vt++)_t[Vt].segment1=F,_t[Vt].segment2=st,_t[Vt].bez1=d,_t[Vt].bez2=C;I=I.concat(_t)}}}}}return I};function Ks(i,e){return Wd(i,e)}function nf(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function Ah(i,e){return nf(i)*nf(e)?(i[0]*e[0]+i[1]*e[1])/(nf(i)*nf(e)):1}function Pv(i,e){return(i[0]*e[1]<i[1]*e[0]?-1:1)*Math.acos(Ah(i,e))}function Oh(i,e){return i[0]===e[0]&&i[1]===e[1]}function X0(i,e){var t=e[1],r=e[2],n=(0,f.mod)((0,f.toRadian)(e[3]),Math.PI*2),a=e[4],o=e[5],s=i[0],u=i[1],l=e[6],c=e[7],d=Math.cos(n)*(s-l)/2+Math.sin(n)*(u-c)/2,C=-1*Math.sin(n)*(s-l)/2+Math.cos(n)*(u-c)/2,I=d*d/(t*t)+C*C/(r*r);I>1&&(t*=Math.sqrt(I),r*=Math.sqrt(I));var F=t*t*(C*C)+r*r*(d*d),H=F?Math.sqrt((t*t*(r*r)-F)/F):1;a===o&&(H*=-1),isNaN(H)&&(H=0);var J=r?H*t*C/r:0,st=t?H*-r*d/t:0,ut=(s+l)/2+Math.cos(n)*J-Math.sin(n)*st,ht=(u+c)/2+Math.sin(n)*J+Math.cos(n)*st,_t=[(d-J)/t,(C-st)/r],Vt=[(-1*d-J)/t,(-1*C-st)/r],re=Pv([1,0],_t),te=Pv(_t,Vt);return Ah(_t,Vt)<=-1&&(te=Math.PI),Ah(_t,Vt)>=1&&(te=0),o===0&&te>0&&(te=te-2*Math.PI),o===1&&te<0&&(te=te+2*Math.PI),{cx:ut,cy:ht,rx:Oh(i,[l,c])?0:t,ry:Oh(i,[l,c])?0:r,startAngle:re,endAngle:re+te,xRotation:n,arcFlag:a,sweepFlag:o}}function Lv(i,e){return[e[0]+(e[0]-i[0]),e[1]+(e[1]-i[1])]}function Nv(i){i=Zs(i);for(var e=[],t=null,r=null,n=null,a=0,o=i.length,s=0;s<o;s++){var u=i[s];r=i[s+1];var l=u[0],c={command:l,prePoint:t,params:u,startTangent:null,endTangent:null};switch(l){case"M":n=[u[1],u[2]],a=s;break;case"A":var d=X0(t,u);c.arcParams=d;break;default:break}if(l==="Z")t=n,r=i[a+1];else{var C=u.length;t=[u[C-2],u[C-1]]}r&&r[0]==="Z"&&(r=i[a],e[a]&&(e[a].prePoint=t)),c.currentPoint=t,e[a]&&Oh(t,e[a].currentPoint)&&(e[a].prePoint=c.prePoint);var I=r?[r[r.length-2],r[r.length-1]]:null;c.nextPoint=I;var F=c.prePoint;if(["L","H","V"].includes(l))c.startTangent=[F[0]-t[0],F[1]-t[1]],c.endTangent=[t[0]-F[0],t[1]-F[1]];else if(l==="Q"){var H=[u[1],u[2]];c.startTangent=[F[0]-H[0],F[1]-H[1]],c.endTangent=[t[0]-H[0],t[1]-H[1]]}else if(l==="T"){var J=e[s-1],H=Lv(J.currentPoint,F);J.command==="Q"?(c.command="Q",c.startTangent=[F[0]-H[0],F[1]-H[1]],c.endTangent=[t[0]-H[0],t[1]-H[1]]):(c.command="TL",c.startTangent=[F[0]-t[0],F[1]-t[1]],c.endTangent=[t[0]-F[0],t[1]-F[1]])}else if(l==="C"){var st=[u[1],u[2]],ut=[u[3],u[4]];c.startTangent=[F[0]-st[0],F[1]-st[1]],c.endTangent=[t[0]-ut[0],t[1]-ut[1]],c.startTangent[0]===0&&c.startTangent[1]===0&&(c.startTangent=[st[0]-ut[0],st[1]-ut[1]]),c.endTangent[0]===0&&c.endTangent[1]===0&&(c.endTangent=[ut[0]-st[0],ut[1]-st[1]])}else if(l==="S"){var J=e[s-1],st=Lv(J.currentPoint,F),ut=[u[1],u[2]];J.command==="C"?(c.command="C",c.startTangent=[F[0]-st[0],F[1]-st[1]],c.endTangent=[t[0]-ut[0],t[1]-ut[1]]):(c.command="SQ",c.startTangent=[F[0]-ut[0],F[1]-ut[1]],c.endTangent=[t[0]-ut[0],t[1]-ut[1]])}else if(l==="A"){var ht=.001,_t=c.arcParams||{},Vt=_t.cx,re=Vt===void 0?0:Vt,te=_t.cy,Ee=te===void 0?0:te,ze=_t.rx,Oe=ze===void 0?0:ze,er=_t.ry,hr=er===void 0?0:er,rn=_t.sweepFlag,Dn=rn===void 0?0:rn,yn=_t.startAngle,Kr=yn===void 0?0:yn,Un=_t.endAngle,Fn=Un===void 0?0:Un;Dn===0&&(ht*=-1);var $r=Oe*Math.cos(Kr-ht)+re,gn=hr*Math.sin(Kr-ht)+Ee;c.startTangent=[$r-n[0],gn-n[1]];var Pn=Oe*Math.cos(Kr+Fn+ht)+re,Ln=hr*Math.sin(Kr+Fn-ht)+Ee;c.endTangent=[F[0]-Pn,F[1]-Ln]}e.push(c)}return e}function Rv(i){for(var e=[],t=i.length,r=0;r<t-1;r++){var n=i[r],a=i[r+1];e.push({from:{x:n[0],y:n[1]},to:{x:a[0],y:a[1]}})}if(e.length>1){var o=i[0],s=i[t-1];e.push({from:{x:s[0],y:s[1]},to:{x:o[0],y:o[1]}})}return e}function j0(i,e){var t=!1;return each(i,function(r){if(getLineIntersect(r.from,r.to,e.from,e.to))return t=!0,!1}),t}function kv(i){var e=i.map(function(r){return r[0]}),t=i.map(function(r){return r[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,t),maxY:Math.max.apply(null,t)}}function V0(i,e){return!(e.minX>i.maxX||e.maxX<i.minX||e.minY>i.maxY||e.maxY<i.minY)}function HS(i,e){if(i.length<2||e.length<2)return!1;var t=kv(i),r=kv(e);if(!V0(t,r))return!1;var n=!1;if(each(e,function(u){if(isPointInPolygon(i,u[0],u[1]))return n=!0,!1}),n||(each(i,function(u){if(isPointInPolygon(e,u[0],u[1]))return n=!0,!1}),n))return!0;var a=Rv(i),o=Rv(e),s=!1;return each(o,function(u){if(j0(a,u))return s=!0,!1}),s}function H0(i,e){for(var t=[],r=[],n=[],a=0;a<i.length;a++){var o=i[a],s=o.currentPoint,u=o.params,l=o.prePoint,c=void 0;switch(o.command){case"Q":c=Z.box(l[0],l[1],u[1],u[2],u[3],u[4]);break;case"C":c=jt.box(l[0],l[1],u[1],u[2],u[3],u[4],u[5],u[6]);break;case"A":var d=o.arcParams;c=In.box(d.cx,d.cy,d.rx,d.ry,d.xRotation,d.startAngle,d.endAngle);break;default:t.push(s[0]),r.push(s[1]);break}c&&(o.box=c,t.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height)),e&&(o.command==="L"||o.command==="M")&&o.prePoint&&o.nextPoint&&n.push(o)}t=t.filter(function(st){return!Number.isNaN(st)&&st!==1/0&&st!==-1/0}),r=r.filter(function(st){return!Number.isNaN(st)&&st!==1/0&&st!==-1/0});var C=(0,f.min)(t),I=(0,f.min)(r),F=(0,f.max)(t),H=(0,f.max)(r);if(n.length===0)return{x:C,y:I,width:F-C,height:H-I};for(var a=0;a<n.length;a++){var o=n[a],s=o.currentPoint,J=void 0;s[0]===C?(J=Yd(o,e),C=C-J.xExtra):s[0]===F&&(J=Yd(o,e),F=F+J.xExtra),s[1]===I?(J=Yd(o,e),I=I-J.yExtra):s[1]===H&&(J=Yd(o,e),H=H+J.yExtra)}return{x:C,y:I,width:F-C,height:H-I}}function Yd(i,e){var t=i.prePoint,r=i.currentPoint,n=i.nextPoint,a=Math.pow(r[0]-t[0],2)+Math.pow(r[1]-t[1],2),o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),s=Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2),u=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!u||Math.sin(u)===0||(0,f.isNumberEqual)(u,0))return{xExtra:0,yExtra:0};var l=Math.abs(Math.atan2(n[1]-r[1],n[0]-r[0])),c=Math.abs(Math.atan2(n[0]-r[0],n[1]-r[1]));l=l>Math.PI/2?Math.PI-l:l,c=c>Math.PI/2?Math.PI-c:c;var d={xExtra:Math.cos(u/2-l)*(e/2*(1/Math.sin(u/2)))-e/2||0,yExtra:Math.cos(c-u/2)*(e/2*(1/Math.sin(u/2)))-e/2||0};return d}function Z0(i){var e=i.attr(),t=e.path,r=e.stroke,n=r?e.lineWidth:0,a=i.get("segments")||Nv(t),o=H0(a,n),s=o.x,u=o.y,l=o.width,c=o.height,d={minX:s,minY:u,maxX:s+l,maxY:u+c};return d=ka(i,d),{x:d.minX,y:d.minY,width:d.maxX-d.minX,height:d.maxY-d.minY}}function K0(i){var e=i.attr(),t=e.x1,r=e.y1,n=e.x2,a=e.y2,o=Math.min(t,n),s=Math.max(t,n),u=Math.min(r,a),l=Math.max(r,a),c={minX:o,maxX:s,minY:u,maxY:l};return c=ka(i,c),{x:c.minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}}function $0(i){var e=i.attr(),t=e.x,r=e.y,n=e.rx,a=e.ry;return{x:t-n,y:r-a,width:n*2,height:a*2}}_s("rect",rf),_s("image",rf),_s("circle",xl),_s("marker",xl),_s("polyline",Gi),_s("polygon",Vi),_s("text",sa),_s("path",Z0),_s("line",K0),_s("ellipse",$0);var ZS="0.5.11",q0=function(i){(0,m.__extends)(e,i);function e(t,r){var n=i.call(this,t,r)||this;return n.item=r.item,n.canvasX=r.canvasX,n.canvasY=r.canvasY,n.wheelDelta=r.wheelDelta,n.detail=r.detail,n}return e}(au),Ih=function(e){return"".concat(e,"-").concat(Math.random()).concat(Date.now())},Dh=function(e){if((0,f.isArray)(e))switch(e.length){case 4:return e;case 3:return e.push(e[1]),e;case 2:return e.concat(e);case 1:return[e[0],e[0],e[0],e[0]];default:return[0,0,0,0]}if((0,f.isNumber)(e))return[e,e,e,e];if((0,f.isString)(e)){var t=parseInt(e,10);return[t,t,t,t]}return[0,0,0,0]},Q0=function(e){var t=new q0(e.type,e);return t.clientX=e.clientX,t.clientY=e.clientY,t.x=e.x,t.y=e.y,t.target=e.target,t.currentTarget=e.currentTarget,t.bubbles=!0,t.item=e.item,t},J0=function(e){if(!e)return!1;for(var t=9,r=[1,0,0,0,1,0,0,0,1],n=0;n<t;n++)if(e[n]!==r[n])return!0;return!1},Gu=function(e){return Number.isNaN(Number(e))},Bv=function(e){for(var t=1/0,r=-1/0,n=1/0,a=-1/0,o=0;o<e.length;o++){var s=e[o],u=s.getBBox(),l=u.minX,c=u.minY,d=u.maxX,C=u.maxY;l<t&&(t=l),c<n&&(n=c),d>r&&(r=d),C>a&&(a=C)}var I=Math.floor(t),F=Math.floor(n),H=Math.ceil(r)-Math.floor(t),J=Math.ceil(a)-Math.floor(n);return{x:I,y:F,width:H,height:J,minX:t,minY:n,maxX:r,maxY:a}},tm=function(e,t,r,n,a){t===void 0&&(t=15),r===void 0&&(r="quadratic"),n===void 0&&(n=void 0),a===void 0&&(a=void 0);for(var o=e.length,s=t*2,u=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],l={},c=[],d={},C=0;C<o;C++){var I=e[C],F=I.source,H=I.target,J="".concat(F,"-").concat(H);if(!c[C]){l[J]||(l[J]=[]),c[C]=!0,l[J].push(I);for(var st=0;st<o;st++)if(C!==st){var ut=e[st],ht=ut.source,_t=ut.target;c[st]||(F===_t&&H===ht?(l[J].push(ut),c[st]=!0,d["".concat(ht,"|").concat(_t,"|").concat(l[J].length-1)]=!0):F===ht&&H===_t&&(l[J].push(ut),c[st]=!0))}}}for(var Vt in l)for(var re=l[Vt],te=re.length,Ee=0;Ee<te;Ee++){var ze=re[Ee];if(ze.source===ze.target){a&&(ze.type=a),ze.loopCfg={position:u[Ee%8],dist:Math.floor(Ee/8)*20+50};continue}if(te===1&&n&&ze.source!==ze.target){ze.type=n;continue}ze.type=r;var Oe=(Ee%2===0?1:-1)*(d["".concat(ze.source,"|").concat(ze.target,"|").concat(Ee)]?-1:1);te%2===1?ze.curveOffset=Oe*Math.ceil(Ee/2)*s:ze.curveOffset=Oe*(Math.floor(Ee/2)*s+t)}return e},Fv=_(731278),em=function(){function i(e){this.destroyed=!1,this.graph=e,this.destroyed=!1}return i.prototype.getViewCenter=function(){var e=this.getFormatPadding(),t=this.graph,r=this.graph.get("width"),n=t.get("height");return{x:(r-e[1]-e[3])/2+e[3],y:(n-e[0]-e[2])/2+e[0]}},i.prototype.fitCenter=function(e,t){var r=this.graph,n=r.get("group"),a,o=r.getNodes();if(o.length>r.get("optimizeThreshold")){var s=1/0,u=1/0,l=-1/0,c=-1/0;o.forEach(function(_t){var Vt=_t.getModel(),re=Vt.x,te=Vt.y;s>re&&(s=re),u>te&&(u=te),l<re&&(l=re),c<te&&(c=te)});var d=n.getMatrix()||[1,0,0,0,1,0,0,0,1],C=tn({x:s,y:u},d),I=C.x,F=C.y,H=tn({x:l,y:c},d),J=H.x,st=H.y;a={minX:I,maxX:J,minY:F,maxY:st,width:J-I,height:st-F,x:I,y:F}}else a=n.getCanvasBBox();if(!(a.width===0||a.height===0)){var ut=this.getViewCenter(),ht={x:a.x+a.width/2,y:a.y+a.height/2};r.translate(ut.x-ht.x,ut.y-ht.y,e,t)}},i.prototype.animatedFitView=function(e,t,r,n,a,o,s,u){var l=this.graph;r=r||{duration:500,easing:"easeCubic"};var c=[1,0,0,0,1,0,0,0,1],d=n.x+a.x-o.x-n.minX,C=n.y+a.y-o.y-n.minY;if(!(Gu(d)||Gu(C))){var I=(0,Fv.vs)(c,[["t",d,C]]);if(!u){var F=os({animateCfg:r,callback:function(){l.emit("viewportchange",{action:"translate",matrix:I})}});e.animate(function(_t){return{matrix:Pi(t,I,_t)}},F);return}var H=l.get("minZoom"),J=l.get("maxZoom"),st=s;H&&s<H?(st=H,console.warn("fitview failed, ratio out of range, ratio: %f",s,"graph minzoom has been used instead")):J&&s>J&&(st=J,console.warn("fitview failed, ratio out of range, ratio: %f",s,"graph maxzoom has been used instead"));var ut=(0,Fv.vs)(I,[["t",-a.x,-a.y],["s",st,st],["t",a.x,a.y]]),ht=os({animateCfg:r,callback:function(){e.setMatrix(ut),l.emit("viewportchange",{action:"translate",matrix:I}),l.emit("viewportchange",{action:"zoom",matrix:ut})}});e.stopAnimate(),e.setMatrix(t),e.animate(function(_t){return{matrix:Pi(t,ut,_t)}},ht)}},i.prototype.fitView=function(e,t){var r=this.graph,n=this.getFormatPadding(),a=r.get("width"),o=r.get("height"),s=r.get("group"),u=s.getMatrix()||[1,0,0,0,1,0,0,0,1];s.resetMatrix();var l,c=r.getNodes();if(c.length>r.get("optimizeThreshold")){var d=1/0,C=1/0,I=-1/0,F=-1/0;c.forEach(function(re){var te=re.getModel(),Ee=te.x,ze=te.y;d>Ee&&(d=Ee),C>ze&&(C=ze),I<Ee&&(I=Ee),F<ze&&(F=ze)}),l={minX:d,maxX:I,minY:C,maxY:F,width:I-d,height:F-C,x:d,y:C}}else l=s.getCanvasBBox();if(!(l.width===0||l.height===0)){var H=this.getViewCenter(),J={x:l.x+l.width/2,y:l.y+l.height/2},st=(a-n[1]-n[3])/l.width,ut=(o-n[0]-n[2])/l.height,ht=st;if(st>ut&&(ht=ut),e)this.animatedFitView(s,u,t,l,H,J,ht,!0);else{var _t=H.x-J.x,Vt=H.y-J.y;if(Gu(_t)||Gu(Vt))return;r.translate(_t,Vt),r.zoom(ht,H)||console.warn("zoom failed, ratio out of range, ratio: %f",ht)}}},i.prototype.fitViewByRules=function(e,t,r){var n=e.onlyOutOfViewPort,a=n===void 0?!1:n,o=e.direction,s=o===void 0?"both":o,u=e.ratioRule,l=u===void 0?"min":u,c=this.graph,d=this.getFormatPadding(),C=c.get("width"),I=c.get("height"),F=c.get("group"),H=F.getMatrix()||[1,0,0,0,1,0,0,0,1];F.resetMatrix();var J,st=c.getNodes();if(st.length>c.get("optimizeThreshold")){var ut=1/0,ht=1/0,_t=-1/0,Vt=-1/0;st.forEach(function(Dn){var yn=Dn.getModel(),Kr=yn.x,Un=yn.y;ut>Kr&&(ut=Kr),ht>Un&&(ht=Un),_t<Kr&&(_t=Kr),Vt<Un&&(Vt=Un)}),J={minX:ut,maxX:_t,minY:ht,maxY:Vt,width:_t-ut,height:Vt-ht,x:ut,y:ht}}else J=F.getCanvasBBox();if(!(J.width===0||J.height===0)){var re=this.getViewCenter(),te={x:J.x+J.width/2,y:J.y+J.height/2},Ee=(C-d[1]-d[3])/J.width,ze=(I-d[0]-d[2])/J.height,Oe;if(s==="x"?Oe=Ee:s==="y"?Oe=ze:Oe=l==="max"?Math.max(Ee,ze):Math.min(Ee,ze),a&&(Oe=Oe<1?Oe:1),t)this.animatedFitView(F,H,r,J,re,te,Oe,!0);else{var er=c.getZoom(),hr=er*Oe,rn=c.get("minZoom");hr<rn&&(hr=rn,console.warn("fitview failed, ratio out of range, ratio: %f",Oe,"graph minzoom has been used instead")),c.translate(re.x-te.x,re.y-te.y),c.zoomTo(hr,re)}}},i.prototype.getFormatPadding=function(){var e=this.graph.get("fitViewPadding");return Dh(e)},i.prototype.focusPoint=function(e,t,r){var n=this,a=this.getViewCenter(),o=this.getPointByCanvas(a.x,a.y),s=this.graph.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),t){var u=(o.x-e.x)*s[0],l=(o.y-e.y)*s[4],c=0,d=0,C=0,I=0;this.graph.get("canvas").animate(function(F){C=u*F,I=l*F,n.graph.translate(C-c,I-d),c=C,d=I},(0,m.__assign)({},r))}else this.graph.translate((o.x-e.x)*s[0],(o.y-e.y)*s[4])},i.prototype.getPointByCanvas=function(e,t){var r=this.graph.get("group").getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var n=dn({x:e,y:t},r);return n},i.prototype.getPointByClient=function(e,t){var r=this.graph.get("canvas"),n=r.getPointByClient(e,t);return this.getPointByCanvas(n.x,n.y)},i.prototype.getClientByPoint=function(e,t){var r=this.graph.get("canvas"),n=this.getCanvasByPoint(e,t),a=r.getClientByPoint(n.x,n.y);return{x:a.x,y:a.y}},i.prototype.getCanvasByPoint=function(e,t){var r=this.graph.get("group").getMatrix();return r||(r=[1,0,0,0,1,0,0,0,1]),tn({x:e,y:t},r)},i.prototype.focus=function(e,t,r){if((0,f.isString)(e)&&(e=this.graph.findById(e)),e){var n=0,a=0;if(e.getType&&e.getType()==="edge"){var o=e.getSource().get("group").getMatrix(),s=e.getTarget().get("group").getMatrix();o&&s?(n=(o[6]+s[6])/2,a=(o[7]+s[7])/2):(o||s)&&(n=o?o[6]:s[6],a=o?o[7]:s[7])}else{var u=e.get("group"),l=u.getMatrix();l||(l=[1,0,0,0,1,0,0,0,1]),n=l[6],a=l[7]}this.focusPoint({x:n,y:a},t,r)}},i.prototype.focusItems=function(e,t,r,n){if(e.length){var a=this.graph,o=this.getFormatPadding(),s=a.get("width"),u=a.get("height"),l=a.get("group"),c=l.getMatrix()||[1,0,0,0,1,0,0,0,1];l.resetMatrix();for(var d={x:0,y:0,minX:Number.MAX_SAFE_INTEGER,minY:Number.MAX_SAFE_INTEGER,maxX:Number.MIN_SAFE_INTEGER,maxY:Number.MIN_SAFE_INTEGER,width:0,height:0},C=0,I=e;C<I.length;C++){var F=I[C],H=F.getBBox();H.minX<d.minX&&(d.minX=H.minX),H.minY<d.minY&&(d.minY=H.minY),H.maxX>d.maxX&&(d.maxX=H.maxX),H.maxY>d.maxY&&(d.maxY=H.maxY)}if(d.x=d.minX,d.y=d.minY,d.width=d.maxX-d.minX,d.height=d.maxY-d.minY,!(d.width===0||d.height===0)){var J=this.getViewCenter(),st={x:d.x+d.width/2,y:d.y+d.height/2},ut=(s-o[1]-o[3])/d.width,ht=(u-o[0]-o[2])/d.height,_t=ut;ut>ht&&(_t=ht),r?this.animatedFitView(l,c,n,d,J,st,_t,t):(a.translate(J.x-st.x,J.y-st.y),t&&!a.zoom(_t,J)&&console.warn("zoom failed, ratio out of range, ratio: %f",_t))}}},i.prototype.changeSize=function(e,t){var r=this.graph;if(!(0,f.isNumber)(e)||!(0,f.isNumber)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");r.set({width:e,height:t});var n=r.get("canvas");n.changeSize(e,t);var a=r.get("plugins");a.forEach(function(o){o.get("gridContainer")&&o.positionInit()})},i.prototype.destroy=function(){this.graph=null,this.destroyed=!1},i}(),rm=em;function Ph(i){return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(i)}function zv(i){if(typeof i!="string")return i;var e=function(te){if(typeof te!="string")return te;try{return JSON.parse(te.trim())}catch(Ee){return te.trim()}},t=e(i);if(typeof t!="string")return t;for(var r=function(te){return te[te.length-1]},n=i.trim(),a=[],o=[],s=function(){for(var te=[],Ee=0;Ee<arguments.length;Ee++)te[Ee]=arguments[Ee];return te.some(function(ze){return r(o)===ze})},u=function(){return r(a)},l=null,c=0,d="";c<n.length;){var C=n[c],I=s('"',"'");if(!I&&!C.trim()){c+=1;continue}var F=n[c-1]==="\\",H=s("}"),J=s("]"),st=s(","),ut=u();if(I)if(r(o)===C&&!F){o.pop();var ht=e(d);ut.push(ht),l=ht,d=""}else d+=C;else if(J&&C===",")d&&(ut.push(e(d)),d="");else if(H&&C===":")o.push(","),d&&(ut.push(d),d="");else if(st&&C===",")d&&(ut.push(e(d)),d=""),o.pop();else if(C==="}"&&(H||st)){d&&(ut.push(e(d)),d=""),st&&o.pop();for(var _t={},Vt=1;Vt<ut.length;Vt+=2)_t[ut[Vt-1]]=ut[Vt];a.pop(),a.length&&r(a).push(_t),o.pop(),l=_t}else C==="]"&&J?(d&&(ut.push(e(d)),d=""),a.pop(),a.length&&r(a).push(ut),o.pop(),l=ut):C==="{"?(a.push([]),o.push("}")):C==="["?(a.push([]),o.push("]")):C==='"'?o.push('"'):C==="'"?o.push("'"):d+=C;c+=1}return l||d}var nm=function(e){return e.split("-").reduce(function(t,r){return t+r.charAt(0).toUpperCase()+r.slice(1)})},am=function(e){return function(t){for(var r=e.length,n=[],a=0,o="";a<r;)if(e[a]==="{"&&e[a+1]==="{")n.push(o),o="",a+=2;else if(e[a]==="}"&&e[a+1]==="}"){if(n.length){var s=n.pop();o=(0,f.get)(t,o,s.endsWith("=")?'"{'.concat(o,'}"'):o),n.push(s+o)}a+=2,o=""}else o+=e[a],a+=1;return n.push(o),n.map(function(u,l){return n[l-1]&&n[l-1].endsWith("=")?'"{'.concat(u,'}"'):u}).join("")}};function Gv(i,e){var t={},r=i.getAttributeNames&&i.getAttributeNames()||[],n=i.children&&Array.from(i.children).map(function(s){return Gv(s,e)}),a={},o=i.tagName?i.tagName.toLowerCase():"group";return o==="text"&&(t.text=i.innerText),a.type=o,o==="img"&&(a.type="image"),Array.from(r).forEach(function(s){var u=nm(s),l=i.getAttribute(s);try{if(u==="style"||u==="attrs"){var c=zv(l);t=(0,m.__assign)((0,m.__assign)({},t),c)}else a[u]=zv(l)}catch(d){if(u==="style")throw d;a[u]=l}}),a.attrs=t,e&&e.style&&a.name&&Ph(e.style[a.name])==="object"&&(a.attrs=(0,m.__assign)((0,m.__assign)({},a.attrs),e.style[a.name])),e&&e.style&&a.keyshape&&(a.attrs=(0,m.__assign)((0,m.__assign)({},a.attrs),e.style)),n.length&&(a.children=n),a}function im(i,e,t){var r=i.attrs,n=r===void 0?{}:r,a={x:e.x||0,y:e.y||0,width:t.width||0,height:t.height||0},o,s;switch(i.type){case"maker":case"circle":n.r&&(s=2*n.r,o=2*n.r);break;case"text":n.text&&(s=ds(n.text,n.fontSize||12)[0],o=16,a.y+=o,a.height=o,a.width=s,i.attrs=(0,m.__assign)({fontSize:12,fill:"#000"},n));break;default:n.width&&(s=n.width),n.height&&(o=n.height)}return o>=0&&(a.height=o),s>=0&&(a.width=s),n.marginTop&&(a.y+=n.marginTop),n.marginLeft&&(a.x+=n.marginLeft),a}function Uv(i,e){var t;e===void 0&&(e={x:0,y:0});var r=(0,m.__assign)({x:0,y:0,width:0,height:0},e);if(!((t=i.children)===null||t===void 0)&&t.length){var n=i.attrs,a=n===void 0?{}:n,o=a.marginTop,s=(0,m.__assign)({},e);o&&(s.y+=o);for(var u=0;u<i.children.length;u++){i.children[u].attrs.key="".concat(a.key||"root"," -").concat(u," ");var l=Uv(i.children[u],s);if(l.bbox){var c=l.bbox;l.attrs.next==="inline"?s.x+=l.bbox.width:s.y+=l.bbox.height,c.width+c.x>r.width&&(r.width=c.width+c.x),c.height+c.y>r.height&&(r.height=c.height+c.y)}}}return i.bbox=im(i,e,r),i.attrs=(0,m.__assign)((0,m.__assign)({},i.attrs),i.bbox),i}function Wv(i,e){var t,r,n,a,o=(i||{}).type,s=((e==null?void 0:e.attrs)||{}).key;if(s&&i&&(i.attrs.key=s),!i&&e)return{action:"delete",val:e,type:o,key:s};if(i&&!e)return{action:"add",val:i,type:o};if(!i&&!e)return{action:"same",type:o};var u=[];if(((t=i.children)===null||t===void 0?void 0:t.length)>0||((r=e.children)===null||r===void 0?void 0:r.length)>0)for(var l=Math.max((n=i.children)===null||n===void 0?void 0:n.length,(a=e.children)===null||a===void 0?void 0:a.length),c=e.children||[],d=i.children||[],C=0;C<l;C+=1)u.push(Wv(d[C],c[C]));var I=Object.keys(e.attrs),F=Object.keys(i.attrs);return e.type!==i.type?{action:"restructure",nowTarget:i,formerTarget:e,key:s,children:u}:I.filter(function(H){return H!=="children"}).some(function(H){return i.attrs[H]!==e.attrs[H]||!F.includes(H)})?{action:"change",val:i,children:u,type:o,key:s}:{action:"same",children:u,type:o,key:s}}function Yv(i){var e={},t=function(n){var a=typeof i=="function"?i(n):i,o=am(a)(n),s=document.createElement("div");s.innerHTML=o;var u=s.children[0],l=Uv(Gv(u,n));return s.remove(),l};return{draw:function(n,a){var o=t(n),s=a,u=function l(c){var d=c.attrs,C=d===void 0?{}:d,I=c.bbox,F=c.type,H=c.children,J=(0,m.__rest)(c,["attrs","bbox","type","children"]);if(c.type!=="group"){var st=a.addShape(c.type,(0,m.__assign)({attrs:C,origin:{bbox:I,type:F,children:H}},J));c.keyshape&&(s=st)}c.children&&c.children.forEach(function(ut){return l(ut)})};return u(o),e[n.id]=[o],s},update:function(n,a){e[n.id]||(e[n.id]=[]);var o=a.getContainer(),s=o.get("children"),u=t(n),l=e[n.id].pop(),c=Wv(u,l),d=function F(H){var J;H.type!=="group"&&o.addShape(H.type,{attrs:H.attrs}),!((J=H.children)===null||J===void 0)&&J.length&&H.children.map(function(st){return F(st)})},C=function F(H){var J,st=s.find(function(ut){return ut.attrs.key===H.attrs.key});st&&o.removeChild(st),!((J=H.children)===null||J===void 0)&&J.length&&H.children.map(function(ut){return F(ut)})},I=function F(H){var J=H.key;if(H.type!=="group"){var st=s.find(function(ht){return ht.attrs.key===J});switch(H.action){case"change":if(st){var ut=H.val.keyshape?a.getOriginStyle():{};st.attr((0,m.__assign)((0,m.__assign)({},ut),H.val.attrs))}break;case"add":d(H.val);break;case"delete":C(H.val);break;case"restructure":C(H.formerTarget),d(H.nowTarget);break;default:break}}H.children&&H.children.forEach(function(ht){return F(ht)})};I(c),e[n.id].push(u)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Lh={};function Xv(i){return Lh[i]||(Lh[i]=(0,f.upperFirst)(i)),Lh[i]}var om={defaultShapeType:"defaultType",className:null,getShape:function(e){var t=this,r=t[e]||t[t.defaultShapeType]||t["simple-circle"];return r},draw:function(e,t,r){var n=this.getShape(e);r.shapeMap={};var a=n.draw(t,r);return n.afterDraw&&n.afterDraw(t,r,a),a},baseUpdate:function(e,t,r,n){var a,o,s=this.getShape(e);s.update&&(s.mergeStyle=(a=s.getOptions)===null||a===void 0?void 0:a.call(s,t,n),(o=s.update)===null||o===void 0||o.call(s,t,r,n)),s.afterUpdate&&s.afterUpdate(t,r)},setState:function(e,t,r,n){var a=this.getShape(e);a.setState(t,r,n)},shouldUpdate:function(e){var t=this.getShape(e);return!!t.update},getControlPoints:function(e,t){var r=this.getShape(e);return r.getControlPoints(t)},getAnchorPoints:function(e,t){var r=this.getShape(e);return r.getAnchorPoints(t)}},Nh={options:{},draw:function(e,t){return this.drawShape(e,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t=this.options.anchorPoints,r=e.anchorPoints||t;return r}},Xd=function(){function i(){}return i.registerFactory=function(e,t){var r=Xv(e),n=om,a=(0,m.__assign)((0,m.__assign)({},n),t);return i[r]=a,a.className=r,a},i.getFactory=function(e){var t=Xv(e);return i[t]},i.registerNode=function(e,t,r){var n=i.Node,a;if(typeof t=="string"||typeof t=="function"){var o=Yv(t);a=(0,m.__assign)((0,m.__assign)({},n.getShape("single-node")),o)}else if(t.jsx){var s=t.jsx,o=Yv(s);a=(0,m.__assign)((0,m.__assign)((0,m.__assign)({},n.getShape("single-node")),o),t)}else{n.getShape(r);var u=r?n.getShape(r):Nh;a=(0,m.__assign)((0,m.__assign)({},u),t)}return a.type=e,a.itemType="node",n[e]=a,a},i.registerEdge=function(e,t,r){var n=i.Edge,a=r?n.getShape(r):Nh,o=(0,m.__assign)((0,m.__assign)({},a),t);return o.type=e,o.itemType="edge",n[e]=o,o},i.registerCombo=function(e,t,r){var n=i.Combo,a=r?n.getShape(r):Nh,o=(0,m.__assign)((0,m.__assign)({},a),t);return o.type=e,o.itemType="combo",n[e]=o,o},i}(),ts=Xd;Xd.registerFactory("node",{defaultShapeType:"circle"}),Xd.registerFactory("edge",{defaultShapeType:"line"}),Xd.registerFactory("combo",{defaultShapeType:"circle"});var Rh="bboxCache",kh="bboxCanvasCache",KS=null,sm=function(){function i(e){this._cfg={},this.destroyed=!1,this.optimize=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),e);var r=this.get("model"),n=r.id,a=this.get("type");typeof n=="undefined"?n=Ih(a):typeof n!="string"&&(n=String(n)),this.get("model").id=n,this.set("id",n);var o=e.group;o&&(o.set("item",this),o.set("id",n)),this.init(),this.draw();var s=r.shape||r.type||(a==="edge"?"line":"circle"),u=this.get("shapeFactory");if(u&&u[s]){var l=u[s].options;if(l&&l.stateStyles){var c=this.get("styles")||r.stateStyles;c=(0,f.deepMix)({},l.stateStyles,c),this.set("styles",c)}}}return i.prototype.calculateBBox=function(){var e=this.get("keyShape"),t=this.get("group"),r=Da(e,t);return r.x=r.minX,r.y=r.minY,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,r},i.prototype.calculateCanvasBBox=function(){var e=this.get("keyShape"),t=this.get("group"),r=Da(e,t);return r.x=r.minX,r.y=r.minY,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,r},i.prototype.drawInner=function(){var e=this,t=e.get("shapeFactory"),r=e.get("group"),n=e.get("model");r.clear();var a=n.visible;if(a!==void 0&&!a&&e.changeVisibility(a),!!t){e.updatePosition(n);var o=e.getShapeCfg(n),s=o.type,u=t.draw(s,o,r);u&&(e.set("keyShape",u),u.set("isKeyShape",!0),u.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",s),this.restoreStates(t,s)}},i.prototype.setOriginStyle=function(){var e=this.get("group"),t=e.get("children"),r=this.getKeyShape(),n=this,a=r.get("name");if(this.get("originStyle")){var I=this.get("originStyle");a&&!I[a]&&(I[a]={});for(var F=this.getCurrentStatesStyle(),H=function(st){var ut=t[st],ht=ut.get("name"),_t=ut.attr();if(ht&&ht!==a){var Vt=F[ht];I[ht]||(I[ht]={}),Vt?Object.keys(_t).forEach(function(Ee){var ze=_t[Ee];ze!==Vt[Ee]&&(I[ht][Ee]=ze)}):I[ht]=ut.get("type")!=="image"?(0,f.clone)(_t):n.getShapeStyleByName(ht)}else{var re=ut.attr(),te={};Object.keys(F).forEach(function(Ee){var ze=F[Ee];(Ee===a||!(0,f.isPlainObject)(ze))&&(te[Ee]=ze)}),Object.keys(re).forEach(function(Ee){var ze=re[Ee];te[Ee]!==ze&&(a?I[a][Ee]=ze:I[Ee]=ze)})}},s=0;s<t.length;s++)H(s);delete I.path,delete I.matrix,delete I.x,delete I.y,I[a]&&(delete I[a].x,delete I[a].y,delete I[a].matrix,delete I[a].path),n.set("originStyle",I)}else{for(var o={},s=0;s<t.length;s++){var u=t[s],l=u.get("type"),c=u.get("name");if(c&&c!==a)o[c]=l!=="image"?(0,f.clone)(u.attr()):n.getShapeStyleByName(c),l==="text"&&o[c]&&(delete o[c].x,delete o[c].y,delete o[c].matrix);else{var d=n.getShapeStyleByName();if(delete d.path,delete d.matrix,!a)Object.assign(o,d);else if(c)o[a]=d;else{var C=Ih("shape");u.set("name",C),e.shapeMap[C]=u,o[C]=l!=="image"?(0,f.clone)(u.attr()):n.getShapeStyleByName(c)}}}n.set("originStyle",o)}},i.prototype.restoreStates=function(e,t){var r=this,n=r.get("states");(0,f.each)(n,function(a){e.setState(t,a,!0,r)})},i.prototype.init=function(){var e=ts.getFactory(this.get("type"));this.set("shapeFactory",e)},i.prototype.get=function(e){return this._cfg[e]},i.prototype.set=function(e,t){(0,f.isPlainObject)(e)?this._cfg=(0,m.__assign)((0,m.__assign)({},this._cfg),e):this._cfg[e]=t},i.prototype.getDefaultCfg=function(){return{}},i.prototype.clearCache=function(){this.set(Rh,null),this.set(kh,null)},i.prototype.beforeDraw=function(){},i.prototype.afterDraw=function(){},i.prototype.afterUpdate=function(){},i.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},i.prototype.getShapeStyleByName=function(e){var t=this.get("group"),r;if(e?r=t.shapeMap[e]:r=this.getKeyShape(),r){var n={};return(0,f.each)(r.attr(),function(a,o){(o!=="img"||(0,f.isString)(a))&&(n[o]=a)}),n}return{}},i.prototype.getShapeCfg=function(e,t){var r=this.get("styles");if(r){var n=e;return n.style=(0,m.__assign)((0,m.__assign)({},r),e.style),n}return e},i.prototype.getStateStyle=function(e){var t=this.get("styles"),r=t&&t[e];return r},i.prototype.getOriginStyle=function(){return this.get("originStyle")},i.prototype.getCurrentStatesStyle=function(){var e=this,t={},r=e.getStates();return!r||!r.length?this.get("originStyle"):((0,f.each)(e.getStates(),function(n){t=Object.assign(t,e.getStateStyle(n))}),t)},i.prototype.setState=function(e,t){var r=this.get("states"),n=this.get("shapeFactory"),a=e,o=e;(0,f.isString)(t)&&(a="".concat(e,":").concat(t),o="".concat(e,":"));var s=r;if((0,f.isBoolean)(t)){var u=r.indexOf(o);if(t){if(u>-1)return;r.push(a)}else u>-1&&r.splice(u,1)}else if((0,f.isString)(t)){var l=r.filter(function(C){return C.includes(o)});l.length>0&&this.clearStates(l),s=s.filter(function(C){return!C.includes(o)}),s.push(a),this.set("states",s)}if(n){var c=this.get("model"),d=c.type;n.setState(d,e,t,this)}},i.prototype.clearStates=function(e){var t=this,r=t.getStates(),n=t.get("shapeFactory"),a=t.get("model"),o=a.type;e||(e=r),(0,f.isString)(e)&&(e=[e]);var s=r.filter(function(u){return e.indexOf(u)===-1});t.set("states",s),e.forEach(function(u){n.setState(o,u,!1,t)})},i.prototype.setOptimize=function(e){this.optimize=e},i.prototype.getContainer=function(){return this.get("group")},i.prototype.getKeyShape=function(){return this.get("keyShape")},i.prototype.getModel=function(){return this.get("model")},i.prototype.getType=function(){return this.get("type")},i.prototype.getID=function(){return this.get("id")},i.prototype.isItem=function(){return!0},i.prototype.getStates=function(){return this.get("states")},i.prototype.hasState=function(e){var t=this.getStates();return t.indexOf(e)>=0},i.prototype.refresh=function(e){var t=this.get("model");this.updatePosition(t),this.updateShape(e),this.afterUpdate(),this.clearCache()},i.prototype.getUpdateType=function(e){},i.prototype.update=function(e,t){t===void 0&&(t=void 0);var r=this.get("model");if(t==="move")this.updatePosition(e);else{var n=r.visible,a=e.visible;n!==a&&a!==void 0&&this.changeVisibility(a);var o={x:r.x,y:r.y};e.x=isNaN(+e.x)?r.x:+e.x,e.y=isNaN(+e.y)?r.y:+e.y;var s=this.get("styles");if(e.stateStyles){var u=e.stateStyles;(0,f.mix)(s,u),delete e.stateStyles}Object.assign(r,e),(o.x!==e.x||o.y!==e.y)&&this.updatePosition(e),this.updateShape(t)}this.afterUpdate(),this.clearCache()},i.prototype.updateShape=function(e){var t=this.get("shapeFactory"),r=this.get("model"),n=r.type;if(t.shouldUpdate(n)&&n===this.get("currentShape")){var a=this.getShapeCfg(r,e);t.baseUpdate(n,a,this,e),e!=="move"&&this.setOriginStyle()}else this.draw();this.restoreStates(t,n)},i.prototype.updatePosition=function(e){var t=this.get("model"),r=isNaN(+e.x)?+t.x:+e.x,n=isNaN(+e.y)?+t.y:+e.y,a=this.get("group");if(isNaN(r)||isNaN(n))return!1;t.x=r,t.y=n;var o=a.getMatrix();return o&&o[6]===r&&o[7]===n?!1:(a.resetMatrix(),Ya(a,{x:r,y:n}),this.clearCache(),!0)},i.prototype.getBBox=function(){var e=this.get(Rh);return e||(e=this.calculateBBox(),this.set(Rh,e)),e},i.prototype.getCanvasBBox=function(){var e=this.get(kh);return e||(e=this.calculateCanvasBBox(),this.set(kh,e)),e},i.prototype.toFront=function(){var e=this.get("group");e.toFront()},i.prototype.toBack=function(){var e=this.get("group");e.toBack()},i.prototype.show=function(){this.changeVisibility(!0)},i.prototype.hide=function(){this.changeVisibility(!1)},i.prototype.changeVisibility=function(e){var t=this.get("group");e?t.show():t.hide(),this.set("visible",e)},i.prototype.isVisible=function(){return this.get("visible")},i.prototype.enableCapture=function(e){var t=this.get("group");t&&t.set("capture",e)},i.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),t.shapeMap={},this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},i}(),jv=sm,jd={source:"start",target:"end"},Uu="Node",rd="Point",um="Anchor",lm=function(i){(0,m.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},e.prototype.setEnd=function(t,r){var n=jd[t]+rd,a=t+Uu,o=this.get(a);o&&!o.destroyed&&o.removeEdge(this),(0,f.isPlainObject)(r)?(this.set(n,r),this.set(a,null)):r&&(r.addEdge(this),this.set(a,r),this.set(n,null))},e.prototype.getLinkPoint=function(t,r,n){var a=jd[t]+rd,o=t+Uu,s=this.get(a);if(!s){var u=this.get(o),l=t+um,c=this.getPrePoint(t,n),d=r[l];(0,f.isNil)(d)||(s=u.getLinkPointByAnchor(d)),s=s||u.getLinkPoint(c),(0,f.isNil)(s.index)||this.set("".concat(t,"AnchorIndex"),s.index)}return s},e.prototype.getPrePoint=function(t,r){if(r&&r.length){var n=t==="source"?0:r.length-1;return r[n]}var a=t==="source"?"target":"source";return this.getEndPoint(a)},e.prototype.getEndPoint=function(t){var r=t+Uu,n=jd[t]+rd,a=this.get(r);return a&&!a.destroyed?a.get("model"):this.get(n)},e.prototype.getControlPointsByCenter=function(t){var r=this.getEndPoint("source"),n=this.getEndPoint("target"),a=this.get("shapeFactory"),o=t.type;return a.getControlPoints(o,{startPoint:r,endPoint:n})},e.prototype.getEndCenter=function(t){var r=t+Uu,n=jd[t]+rd,a=this.get(r);if(a){var o=a.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(n)},e.prototype.init=function(){i.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},e.prototype.getShapeCfg=function(t,r){var n=this,a=n.get("linkCenter"),o=r!=null&&r.includes("move")?t:i.prototype.getShapeCfg.call(this,t);if(a)o.startPoint=n.getEndCenter("source"),o.endPoint=n.getEndCenter("target");else{var s=o.controlPoints||n.getControlPointsByCenter(o);o.startPoint=n.getLinkPoint("source",t,s),o.endPoint=n.getLinkPoint("target",t,s)}return o.sourceNode=n.get("sourceNode"),o.targetNode=n.get("targetNode"),o},e.prototype.getModel=function(){var t=this.get("model"),r=this.get("source".concat(Uu)),n=this.get("target".concat(Uu));return r?delete t["source".concat(Uu)]:t.source=this.get("start".concat(rd)),n?delete t["target".concat(Uu)]:t.target=this.get("end".concat(rd)),!(0,f.isString)(t.source)&&!(0,f.isPlainObject)(t.source)&&(t.source=t.source.getID()),!(0,f.isString)(t.target)&&!(0,f.isPlainObject)(t.target)&&(t.target=t.target.getID()),t},e.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},e.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},e.prototype.getSource=function(){return this.get("source")},e.prototype.getTarget=function(){return this.get("target")},e.prototype.updatePosition=function(){return!1},e.prototype.update=function(t,r){r===void 0&&(r=void 0);var n=this.get("model"),a=n.visible,o=t.visible;a!==o&&o!==void 0&&this.changeVisibility(o);var s=this.get("source"),u=this.get("target");if(!(!s||s.destroyed||!u||u.destroyed)){var l=this.get("styles");if(t.stateStyles){var c=t.stateStyles;(0,f.mix)(l,c),delete t.stateStyles}Object.assign(n,t),this.updateShape(r),this.afterUpdate(),this.clearCache()}},e.prototype.destroy=function(){var t=this.get("source".concat(Uu)),r=this.get("target".concat(Uu));t&&!t.destroyed&&t.removeEdge(this),r&&!r.destroyed&&r.removeEdge(this),i.prototype.destroy.call(this)},e}(jv),Vv=lm,Bh="anchorPointsCache",cm="bboxCache",fm=function(i){(0,m.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getNearestPoint=function(t,r){for(var n=0,a=t[0],o=Kn(t[0],r),s=0;s<t.length;s++){var u=t[s],l=Kn(u,r);l<o&&(a=u,o=l,n=s)}return a.anchorIndex=n,a},e.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(r){return r.get("target")===t})},e.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(r){return r.get("source")===t})},e.prototype.getNeighbors=function(t){var r=this,n=this.get("edges");if(t==="target"){var a=function(l){return l.getSource()===r};return n.filter(a).map(function(u){return u.getTarget()})}if(t==="source"){var o=function(l){return l.getTarget()===r};return n.filter(o).map(function(u){return u.getSource()})}var s=function(l){return l.getSource()===r?l.getTarget():l.getSource()};return n.map(s)},e.prototype.getLinkPointByAnchor=function(t){var r=this.getAnchorPoints();return r[t]},e.prototype.getLinkPoint=function(t){var r=this.get("keyShape"),n=r.get("type"),a=this.get("type"),o,s,u=this.getBBox();a==="combo"?(o=u.centerX||(u.maxX+u.minX)/2,s=u.centerY||(u.maxY+u.minY)/2):(o=u.centerX,s=u.centerY);var l=this.getAnchorPoints(),c;switch(n){case"circle":c=Ir({x:o,y:s,r:u.width/2},t);break;case"ellipse":c=Sr({x:o,y:s,rx:u.width/2,ry:u.height/2},t);break;default:c=Lr(u,t)}var d=c;return l.length&&(d||(d=t),d=this.getNearestPoint(l,d)),d||(d={x:o,y:s}),d},e.prototype.getAnchorPoints=function(){var t=this.get(Bh);if(!t){t=[];var r=this.get("shapeFactory"),n=this.getBBox(),a=this.get("model"),o=this.getShapeCfg(a),s=a.type,u=r.getAnchorPoints(s,o)||[];(0,f.each)(u,function(l,c){var d={x:n.minX+l[0]*n.width,y:n.minY+l[1]*n.height,anchorIndex:c};t.push(d)}),this.set(Bh,t)}return t},e.prototype.addEdge=function(t){this.get("edges").push(t)},e.prototype.lock=function(){this.set("locked",!0)},e.prototype.unlock=function(){this.set("locked",!1)},e.prototype.hasLocked=function(){return this.get("locked")},e.prototype.removeEdge=function(t){var r=this.getEdges(),n=r.indexOf(t);n>-1&&r.splice(n,1)},e.prototype.clearCache=function(){this.set(cm,null),this.set(Bh,null)},e.prototype.getUpdateType=function(t){var r,n,a,o,s;if(t){var u=!(0,f.isNil)(t.x),l=!(0,f.isNil)(t.y),c=Object.keys(t);if(c.length===1&&(u||l)||c.length===2&&u&&l)return"move";if((0,f.isNumber)(t.x)||(0,f.isNumber)(t.y)||t.type||t.anchorPoints||t.size||t!=null&&t.style&&(!((r=t==null?void 0:t.style)===null||r===void 0)&&r.r||!((n=t==null?void 0:t.style)===null||n===void 0)&&n.width||!((a=t==null?void 0:t.style)===null||a===void 0)&&a.height||!((o=t==null?void 0:t.style)===null||o===void 0)&&o.rx||!((s=t==null?void 0:t.style)===null||s===void 0)&&s.ry))return"bbox|label";var d=c.includes("label")||c.includes("labelCfg");return d?"style|label":"style"}},e.prototype.setState=function(t,r){var n=this;if(this.optimize){i.prototype.setState.call(this,t,r);return}this.runWithBBoxAffected(function(){return i.prototype.setState.call(n,t,r)})},e.prototype.clearStates=function(t){var r=this;if(this.optimize){i.prototype.clearStates.call(this,t);return}this.runWithBBoxAffected(function(){return i.prototype.clearStates.call(r,t)})},e.prototype.runWithBBoxAffected=function(t){var r=["r","width","height","rx","ry","lineWidth"],n=this.getKeyShape().attr(),a={};Object.keys(this.getKeyShape().attr()).forEach(function(l){r.includes(l)&&(a[l]=n[l])}),t();for(var o=this.getKeyShape().attr(),s=0;s<r.length;s++){var u=r[s];if(o[u]!==a[u]){this.clearCache(),this.getEdges().forEach(function(l){return l.refresh()});break}}},e}(jv),Fh=fm,Hv="bboxCache",Zv="bboxCanvasCache",Kv="sizeCache",$v="anchorPointsCache",dm=function(i){(0,m.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},e.prototype.getShapeCfg=function(t){var r=this.get("styles"),n=this.get("bbox");if(r&&n){var a=t,o=(0,f.isNumber)(t.size)?[t.size,t.size]:t.size,s=(0,f.isNumber)(t.fixSize)?[t.fixSize,t.fixSize]:t.fixSize,u=o||s||Bt.defaultCombo.size,l={r:(Math.max(n.width,n.height)||Math.max(u[0],u[1]))/2,width:n.width||u[0],height:n.height||u[1]};a.style=(0,m.__assign)((0,m.__assign)((0,m.__assign)({},r),t.style),l);var c=t.padding||Bt.defaultCombo.padding;return(0,f.isNumber)(c)?(l.r+=c,l.width+=c*2,l.height+=c*2):(l.r=l.r+Math.max.apply(Math,c),l.width+=c[1]+c[3]||c[1]*2,l.height+=c[0]+c[2]||c[0]*2),this.set(Kv,l),a}return t},e.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var t=this.get("keyShape"),r=this.get("group"),n=Da(t,r);n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var a=this.get(Hv)||{},o=a.x,s=a.x;return n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n.x=n.minX,n.y=n.minY,(n.x!==o||n.y!==s)&&this.set($v,null),n}},e.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},e.prototype.getNodes=function(){var t=this;return t.get("nodes")},e.prototype.getCombos=function(){var t=this;return t.get("combos")},e.prototype.addChild=function(t){var r=this,n=t.getType();switch(n){case"node":r.addNode(t);break;case"combo":r.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.addCombo=function(t){var r=this;return r.get("combos").push(t),!0},e.prototype.addNode=function(t){var r=this;return r.get("nodes").push(t),!0},e.prototype.removeChild=function(t){var r=this,n=t.getType();switch(n){case"node":r.removeNode(t);break;case"combo":r.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.removeCombo=function(t){if(t){var r=this.getCombos(),n=r.indexOf(t);return n>-1?(r.splice(n,1),!0):!1}},e.prototype.removeNode=function(t){if(t){var r=this.getNodes(),n=r.indexOf(t);return n>-1?(r.splice(n,1),!0):!1}},e.prototype.getUpdateType=function(t){},e.prototype.getBBox=function(){this.set(Zv,null);var t=this.calculateCanvasBBox();return t},e.prototype.clearCache=function(){this.set(Hv,null),this.set(Zv,null),this.set($v,null)},e.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),r=this.get("group");t&&r.stopAnimate(),r.shapeMap={},this.clearCache(),this.set(Kv,null),this.set("bbox",null),r.remove(),this._cfg=null,this.destroyed=!0}},e}(Fh),qv=dm,Vd="node",Hd="edge",Qv="vedge",xd="combo",hm="default",Jv="Mapper",wl="stateStyles",vm=function(){function i(e){var t=this;this.edgeToBeUpdateMap={},this.throttleRefresh=(0,f.throttle)(function(r){var n=t.graph;if(!(!n||n.get("destroyed"))){var a=t.edgeToBeUpdateMap;if(a){var o=Object.values(a);o.length&&(o.forEach(function(s){var u=s.edge;if(!(!u||u.destroyed)){var l=u.getSource(),c=u.getTarget();!l||l.destroyed||!c||c.destroyed||u.refresh(s.updateType)}}),t.edgeToBeUpdateMap={})}}},16,{trailing:!0,leading:!0}),this.graph=e,this.destroyed=!1}return i.prototype.addItem=function(e,t){var r=this.graph,n=e===Qv?Hd:e,a=r.get("".concat(n,"Group"))||r.get("group"),o=(0,f.upperFirst)(n),s=null,u=r.get(n+(0,f.upperFirst)(wl))||{},l=r.get(hm+o);t[wl]&&(u=t[wl]),l&&(0,f.each)(l,function(re,te){(0,f.isObject)(re)&&!(0,f.isArray)(re)?t[te]=(0,f.deepMix)({},re,t[te]):(0,f.isArray)(re)?t[te]=t[te]||(0,f.clone)(l[te]):t[te]=t[te]||l[te]});var c=r.get(n+Jv);if(c){var d=c(t);d[wl]&&(u=d[wl],delete d[wl]),(0,f.each)(d,function(re,te){(0,f.isObject)(re)&&!(0,f.isArray)(re)?t[te]=(0,f.deepMix)({},t[te],re):t[te]=d[te]||t[te]})}if(r.emit("beforeadditem",{type:e,model:t}),e===Hd||e===Qv){var C=void 0,I=void 0;if(C=t.source,I=t.target,C&&(0,f.isString)(C)&&(C=r.findById(C)),I&&(0,f.isString)(I)&&(I=r.findById(I)),!C||!I){console.warn("The source or target node of edge ".concat(t.id," does not exist!"));return}C.getType&&C.getType()==="combo"&&(t.isComboEdge=!0),I.getType&&I.getType()==="combo"&&(t.isComboEdge=!0),s=new Vv({model:t,source:C,target:I,styles:u,linkCenter:r.get("linkCenter"),group:a.addGroup()})}else if(e===Vd)s=new Fh({model:t,styles:u,group:a.addGroup()});else if(e===xd){var F=t.children,H=xs(F,r),J=void 0,st=void 0;if(isNaN(H.x)?isNaN(t.x)&&(J=Math.random()*100):J=H.x,isNaN(H.y)?isNaN(t.y)&&(st=Math.random()*100):st=H.y,isNaN(t.x)||isNaN(t.y))t.x=J,t.y=st;else{var ut=t.x-J,ht=t.y-st;this.updateComboSucceeds(t.id,ut,ht,F)}var _t=a.addGroup();_t.setZIndex(t.depth),s=new qv({model:t,styles:u,animate:r.get("animate"),bbox:t.collapsed?xs([],r):H,group:_t}),!t.collapsed&&s.getKeyShape().get("type")==="circle"&&(H.width=Math.hypot(H.height,H.width),H.height=H.width,s.set("bbox",H),s.refresh());var Vt=s.getModel();(F||[]).forEach(function(re){var te=r.findById(re.id);s.addChild(te),re.depth=Vt.depth+2})}if(s)return s.setOptimize(r.getNodes().length>r.get("optimizeThreshold")),r.get("".concat(e,"s")).push(s),r.get("itemMap")[s.get("id")]=s,r.emit("afteradditem",{item:s,model:t}),s},i.prototype.updateItem=function(e,t){var r=this,n,a,o=this.graph;if((0,f.isString)(e)&&(e=o.findById(e)),!(!e||e.destroyed)){var s="";e.getType&&(s=e.getType());var u=o.get(s+Jv),l=e.getModel(),c=l.x,d=l.y,C=e.getUpdateType(t);if(u){var I=(0,f.deepMix)({},l,t),F=u(I),H=(0,f.deepMix)({},l,F,t);F[wl]&&(e.set("styles",H[wl]),delete H[wl]),(0,f.each)(H,function(Oe,er){t[er]=Oe})}else(0,f.each)(t,function(Oe,er){l[er]&&(0,f.isObject)(Oe)&&!(0,f.isArray)(Oe)&&(t[er]=(0,m.__assign)((0,m.__assign)({},l[er]),t[er]))});if(o.emit("beforeupdateitem",{item:e,cfg:t}),s===Hd){if(t.source){var J=t.source;(0,f.isString)(J)&&(J=o.findById(J)),e.setSource(J)}if(t.target){var st=t.target;(0,f.isString)(st)&&(st=o.findById(st)),e.setTarget(st)}e.update(t)}else if(s===Vd){e.update(t,C);var ut=e.getEdges();C==="move"?(0,f.each)(ut,function(Oe){r.edgeToBeUpdateMap[Oe.getID()]={edge:Oe,updateType:C},r.throttleRefresh()}):C!=null&&C.includes("bbox")&&(0,f.each)(ut,function(Oe){Oe.refresh(C)})}else if(s===xd){if(e.update(t,C),!isNaN(t.x)||!isNaN(t.y)){var ht=t.x-c||0,_t=t.y-d||0;this.updateComboSucceeds(l.id,ht,_t)}var Vt=e.getEdges(),re=(C==null?void 0:C.includes("bbox"))||C==="move";if(re&&s===xd){var te=e.get("shapeFactory"),Ee=l.type||"circle",ze=l.animate===void 0||t.animate===void 0?(a=(n=te[Ee])===null||n===void 0?void 0:n.options)===null||a===void 0?void 0:a.animate:l.animate||t.animate;ze?setTimeout(function(){if(!(!e||e.destroyed)){var Oe=e.getKeyShape();!Oe||Oe.destroyed||(0,f.each)(Vt,function(er){er&&!er.destroyed&&er.refresh()})}},201):(0,f.each)(Vt,function(Oe){Oe.refresh()})}}e.setOptimize(o.getNodes().length>o.get("optimizeThreshold")),o.emit("afterupdateitem",{item:e,cfg:t})}},i.prototype.updateCombo=function(e,t,r){var n=this,a,o,s=this.graph;if((0,f.isString)(e)&&(e=s.findById(e)),!(!e||e.destroyed)){var u=e.getModel(),l=xs(t,s,e),c=l.x,d=l.y;e.set("bbox",l);var C=c,I=d;r?(C=isNaN(u.x)?c:u.x,I=isNaN(u.y)?d:u.y):(C=isNaN(c)?u.x:c,I=isNaN(d)?u.y:d),e.update({x:C,y:I});var F=e.get("shapeFactory"),H=u.type||"circle",J=u.animate===void 0?(o=(a=F[H])===null||a===void 0?void 0:a.options)===null||o===void 0?void 0:o.animate:u.animate;J?setTimeout(function(){if(!(!e||e.destroyed)){var st=e.getKeyShape();!st||st.destroyed||(e.getShapeCfg(u),n.updateComboEdges(e))}},201):this.updateComboEdges(e)}},i.prototype.updateComboEdges=function(e){for(var t,r,n=e.getEdges()||[],a=0;a<n.length;a++){var o=n[a];!(o!=null&&o.destroyed)&&!(!((t=o==null?void 0:o.getSource())===null||t===void 0)&&t.destroyed)&&!(!((r=o==null?void 0:o.getTarget())===null||r===void 0)&&r.destroyed)&&o.refresh()}},i.prototype.collapseCombo=function(e,t){t===void 0&&(t=!0);var r=this.graph;(0,f.isString)(e)&&(e=r.findById(e));var n=e.getChildren();n.nodes.forEach(function(a){r.hideItem(a,t)}),n.combos.forEach(function(a){r.hideItem(a,t)})},i.prototype.updateComboSucceeds=function(e,t,r,n){var a=this;n===void 0&&(n=[]);var o=this.graph;if(!(!t&&!r)){var s=n;if(!(s!=null&&s.length)){var u=o.get("comboTrees");u==null||u.forEach(function(l){Ti(l,function(c){return c.id===e?(s=c.children,!1):!0})})}s==null||s.forEach(function(l){var c=o.findById(l.id);if(c){var d=c.getModel();a.updateItem(l.id,{x:(d.x||0)+t,y:(d.y||0)+r})}})}},i.prototype.expandCombo=function(e,t){t===void 0&&(t=!0);var r=this.graph;(0,f.isString)(e)&&(e=r.findById(e));var n=e.getChildren(),a=new Set;n.nodes.forEach(function(o){r.showItem(o,t),o.getEdges().forEach(function(s){return a.add(s)})}),n.combos.forEach(function(o){o.getModel().collapsed?o.show():r.showItem(o,t),o.getEdges().forEach(function(s){return a.add(s)})}),a.forEach(function(o){return o.refresh()})},i.prototype.removeItem=function(e){var t=this,r=this.graph;if((0,f.isString)(e)&&(e=r.findById(e)),!(!e||e.destroyed)){var n=(0,f.clone)(e.getModel()),a="";e.getType&&(a=e.getType()),r.emit("beforeremoveitem",{item:n,type:a});var o=r.get("".concat(a,"s")),s=o.indexOf(e);if(s>-1&&o.splice(s,1),a===Hd){var u=r.get("v".concat(a,"s")),l=u.indexOf(e);l>-1&&u.splice(l,1)}var c=e.get("id"),d=r.get("itemMap");delete d[c];var C=r.get("comboTrees"),I=e.get("id");if(a===Vd){var F=e.getModel().comboId;if(C&&F){var H=C,J=!1;C.forEach(function(re){J||Ti(re,function(te){if(te.id===I&&H){var Ee=H.indexOf(te);return H.splice(Ee,1),J=!0,!1}return H=te.children,!0})})}for(var st=e.getEdges(),ut=st.length-1;ut>=0;ut--)r.removeItem(st[ut],!1);F&&r.updateCombo(F)}else if(a===xd){var ht=e.getModel().parentId,_t,Vt=!1;(C||[]).forEach(function(te){Vt||Ti(te,function(Ee){return Ee.id===I?(_t=Ee,Vt=!0,!1):!0})}),_t.removed=!0,_t&&_t.children&&_t.children.forEach(function(te){t.removeItem(te.id)});for(var st=e.getEdges(),ut=st.length;ut>=0;ut--)r.removeItem(st[ut],!1);ht&&r.updateCombo(ht)}e.destroy(),r.emit("afterremoveitem",{item:n,type:a})}},i.prototype.setItemState=function(e,t,r){var n=this.graph,a=t;(0,f.isString)(r)&&(a="".concat(t,":").concat(r)),!(e.hasState(a)===r&&r||(0,f.isString)(r)&&e.hasState(a))&&(n.emit("beforeitemstatechange",{item:e,state:a,enabled:r}),e.setState(t,r),n.autoPaint(),n.emit("afteritemstatechange",{item:e,state:a,enabled:r}))},i.prototype.priorityState=function(e,t){var r=this.graph,n=e;(0,f.isString)(e)&&(n=r.findById(e)),this.setItemState(n,t,!1),this.setItemState(n,t,!0)},i.prototype.clearItemStates=function(e,t){var r=this.graph;(0,f.isString)(e)&&(e=r.findById(e)),r.emit("beforeitemstatesclear",{item:e,states:t}),e.clearStates(t),r.emit("afteritemstatesclear",{item:e,states:t})},i.prototype.refreshItem=function(e){var t=this.graph;(0,f.isString)(e)&&(e=t.findById(e)),t.emit("beforeitemrefresh",{item:e}),e.refresh(),t.emit("afteritemrefresh",{item:e})},i.prototype.addCombos=function(e,t){var r=this,n=this.graph;(e||[]).forEach(function(o){Zi(o,function(s){var u;return t.forEach(function(l){l.id===s.id&&(l.children=s.children,l.depth=s.depth,u=l)}),u&&r.addItem("combo",u),!0})});var a=n.get("comboGroup");a&&a.sort()},i.prototype.changeItemVisibility=function(e,t){var r=this,n=this.graph;if((0,f.isString)(e)&&(e=n.findById(e)),!e){console.warn("The item to be shown or hidden does not exist!");return}if(n.emit("beforeitemvisibilitychange",{item:e,visible:t}),e.changeVisibility(t),e.getType&&e.getType()===Vd){var a=e.getEdges();(0,f.each)(a,function(c){t&&!(c.get("source").isVisible()&&c.get("target").isVisible())||r.changeItemVisibility(c,t)})}else if(e.getType&&e.getType()===xd){var o=n.get("comboTrees"),s=e.get("id"),u=[],l=!1;(o||[]).forEach(function(d){l||!d.children||d.children.length===0||Ti(d,function(C){return C.id===s?(u=C.children,l=!0,!1):!0})}),u&&(!t||t&&!e.getModel().collapsed)&&u.forEach(function(d){var C=n.findById(d.id);r.changeItemVisibility(C,t)});var a=e.getEdges();(0,f.each)(a,function(d){t&&!(d.get("source").isVisible()&&d.get("target").isVisible())||r.changeItemVisibility(d,t)})}return n.emit("afteritemvisibilitychange",{item:e,visible:t}),e},i.prototype.destroy=function(){this.graph=null,this.destroyed=!0},i}(),pm=vm,gm=function(){function i(e){this.graph=e,this.destroyed=!1}return i.prototype.updateState=function(e,t,r){var n=this.graph.get("states"),a=t;(0,f.isString)(r)&&(a="".concat(t,":").concat(r)),n[a]||(n[a]=[]),r?n[a].push(e):n[a]=n[a].filter(function(o){return o!==e}),this.graph.set("states",n),this.graph.emit("graphstatechange",{states:n})},i.prototype.updateStates=function(e,t,r){var n=this.graph.get("states"),a=(0,f.isString)(t)?[t]:t;a.forEach(function(o){var s=o;n[s]||(n[s]=[]),(0,f.isString)(r)&&(s="".concat(o,":").concat(r)),r?n[s].push(e):n[s]=n[s].filter(function(u){return u!==e})}),this.graph.set("states",n),this.graph.emit("graphstatechange",{states:t})},i.prototype.destroy=function(){this.graph=null,this.destroyed=!0},i}(),mm=gm,ym=function(e,t){return!e||!t?e:e.replace(/\\?\{([^{}]+)\}/g,function(r,n){if(r.charAt(0)==="\\")return r.slice(1);var a=t[n];return a===0&&(a="0"),a||""})},tp=function(e){var t=[];if(e.length<2)throw new Error("point length must largn than 2, now it's ".concat(e.length));for(var r=0,n=e;r<n.length;r++){var a=n[r],o=a.x,s=a.y;t.push(o),t.push(s)}var u=Fr(t);return u.unshift(["M",e[0].x,e[0].y]),u},Zd=function(e,t,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var a={x:(1-r)*e.x+r*t.x,y:(1-r)*e.y+r*t.y},o=[0,0];Jn.normalize(o,[t.x-e.x,t.y-e.y]),(!o||!o[0]&&!o[1])&&(o=[0,0]);var s=[-o[1]*n,o[0]*n];return a.x+=s[0],a.y+=s[1],a},bm=function(e,t){var r=e.length;if(!r)return"";for(var n="",a="",o=0;o<r;o++){var s=e[o];o===0?a="M{x} {y}":a="L{x} {y}",n+=ym(a,s)}return t&&(n+="Z"),n},zh=function(e){var t=[];return e.forEach(function(r){var n=r[0];if(n!=="A")for(var a=1;a<r.length;a=a+2)t.push([r[a],r[a+1]]);else{var o=r.length;t.push([r[o-2],r[o-1]])}}),t},Gh=function(e){if(e.length<2)throw new Error("point length must largn than 2, now it's ".concat(e.length));var t=e[0],r=e[1],n=e[e.length-1],a=e[e.length-2];e.unshift(n),e.unshift(a),e.push(t),e.push(r);for(var o=[],s=1;s<e.length-2;s+=1){var u=e[s-1].x,l=e[s-1].y,c=e[s].x,d=e[s].y,C=e[s+1].x,I=e[s+1].y,F=s!==e.length-2?e[s+2].x:C,H=s!==e.length-2?e[s+2].y:I,J=c+(C-u)/6,st=d+(I-l)/6,ut=C-(F-c)/6,ht=I-(H-d)/6;o.push(["C",J,st,ut,ht,C,I])}return o.unshift(["M",n.x,n.y]),o},ep=function(e,t){return Jn.scale([0,0],Jn.normalize([0,0],e),t)},rp=function(e,t){var r=[e[1]-t[1],t[0]-e[0]],n=Math.sqrt(r[0]*r[0]+r[1]*r[1]);if(n===0)throw new Error("p0 should not be equal to p1");return[r[0]/n,r[1]/n]},np=function(e,t){return[t[0]-e[0],t[1]-e[1]]};function Uh(i,e){var t=function(d){var C=[d[0][0],d[0][1]-e],I=[d[0][0],d[0][1]+e];return"M ".concat(C," A ").concat(e,",").concat(e,",0,0,0,").concat(I," A ").concat(e,",").concat(e,",0,0,0,").concat(C)},r=function(d){var C=Jn.scale([0,0],rp(d[0],d[1]),e),I=Jn.scale([0,0],C,-1),F=Jn.add([0,0],d[0],C),H=Jn.add([0,0],d[1],C),J=Jn.add([0,0],d[1],I),st=Jn.add([0,0],d[0],I);return"M ".concat(F," L ").concat(H," A ").concat([e,e,"0,0,0",J].join(",")," L ").concat(st," A ").concat([e,e,"0,0,0",F].join(","))};if(!i||i.length<1)return"";if(i.length===1)return t(i);if(i.length===2)return r(i);for(var n=new Array(i.length),a=0;a<n.length;++a){var o=a===0?i[i.length-1]:i[a-1],s=i[a],u=Jn.scale([0,0],rp(o,s),e);n[a]=[Jn.add([0,0],o,u),Jn.add([0,0],s,u)]}var l="A ".concat([e,e,"0,0,0,"].join(","));return n=n.map(function(c,d){var C="";return d===0&&(C="M ".concat(n[n.length-1][1]," ")),C+="".concat(l+c[0]," L ").concat(c[1]),C}),n.join(" ")}function ap(i,e){var t=i.length,r=function(c){var d=[c[0][0],c[0][1]-e],C=[c[0][0],c[0][1]+e];return"M ".concat(d," A ").concat([e,e,"0,0,0",C].join(",")," A ").concat([e,e,"0,0,0",d].join(","))},n=function(c){var d=np(c[0],c[1]),C=ep(d,e),I=Jn.add([0,0],c[0],Jn.scale([0,0],C,-1)),F=Jn.add([0,0],c[1],C),H=1.2*e,J=ep(Jn.normalize([0,0],d),H),st=Jn.scale([0,0],J,-1),ut=Jn.add([0,0],I,st),ht=Jn.add([0,0],F,st),_t=Jn.add([0,0],I,J);return"M ".concat(I," C ").concat([ut,ht,F].join(",")," S ").concat([_t,I].join(",")," Z")};if(!i||t<1)return"";if(t===1)return r(i);if(t===2)return n(i);for(var a=i.map(function(l,c){var d=i[(c+1)%t];return{p:l,v:Jn.normalize([0,0],np(l,d))}}),o=0;o<a.length;++o){var s=o>0?o-1:t-1,u=Jn.normalize([0,0],Jn.add([0,0],a[s].v,Jn.scale([0,0],a[o].v,-1)));a[o].p=Jn.add([0,0],a[o].p,Jn.scale([0,0],u,e))}return a.map(function(l){var c=l.p;return{x:c[0],y:c[1]}})}var xm=function(e,t){for(var r=[],n=0;n<5;n++){var a=Math.cos((18+72*n)/180*Math.PI)*e,o=Math.sin((18+72*n)/180*Math.PI)*e,s=Math.cos((54+72*n)/180*Math.PI)*t,u=Math.sin((54+72*n)/180*Math.PI)*t;n===0?r.push(["M",a,-o]):r.push(["L",a,-o]),r.push(["L",s,-u])}return r.push(["Z"]),r},ip=function(e,t,r){return(e.y-r.y)*(t.x-r.x)-(e.x-r.x)*(t.y-r.y)},op=function(e){var t=e.map(function(d){return{x:d.getModel().x,y:d.getModel().y}});t.sort(function(d,C){return d.x===C.x?d.y-C.y:d.x-C.x});for(var r={},n=t.length-1;n>=0;n--){var a=t[n],o=a.x,s=a.y;r["".concat(o,"-").concat(s)]&&t.splice(n,1),r["".concat(o,"-").concat(s)]=!0}if(t.length===1)return t;for(var u=[],n=0;n<t.length;n++){for(;u.length>=2&&ip(u[u.length-2],u[u.length-1],t[n])<=0;)u.pop();u.push(t[n])}for(var l=[],n=t.length-1;n>=0;n--){for(;l.length>=2&&ip(l[l.length-2],l[l.length-1],t[n])<=0;)l.pop();l.push(t[n])}l.pop(),u.pop();var c=u.concat(l);return c},Em={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function wm(i,e,t){var r=!1,n=function(u,l){return e.cells[u+l*e.width]},a=function(u,l){var c=0;return n(u-1,l-1)>=t&&(c+=1),n(u,l-1)>t&&(c+=2),n(u-1,l)>t&&(c+=4),n(u,l)>t&&(c+=8),c},o=function(u,l){for(var c=u,d=l,C,I,F=0;F<e.width*e.height;F++){if(C=c,I=d,i.findIndex(function(J){return J.x===c&&J.y===d})>-1){if(!(i[0].x!==c||i[0].y!==d))return!0}else i.push({x:c,y:d});var H=a(c,d);switch(H){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:c++;break;case 12:case 14:case 4:c--;break;case 6:C===0&&(I===-1?c-=1:c+=1);break;case 1:case 13:case 5:d--;break;case 9:C===1&&(I===0?d-=1:d+=1);break;case 10:case 8:case 11:d++;break;default:return console.warn("Marching squares invalid state: ".concat(H)),!0}}};this.march=function(){for(var s=0;s<e.width&&!r;s+=1)for(var u=0;u<e.height&&!r;u+=1)n(s,u)>t&&a(s,u)!==15&&(r=o(s,u));return r}}var Sm=function(e,t,r){var n=Math.ceil(e/r),a=Math.ceil(t/r),o=new Float32Array(Math.max(0,n*a)).fill(0);return{cells:o,width:n,height:a}},Mm=function(e,t,r){var n=null,a=Number.POSITIVE_INFINITY;return t.forEach(function(o){var s={x:e.getModel().x,y:e.getModel().y},u={x:o.getModel().x,y:o.getModel().y},l=Ri(s,u),c=new pa(s.x,s.y,u.x,u.y),d=r.reduce(function(C,I){return Di(I,c)>0?C+1:C},0);l*Math.pow(d+1,2)<a&&(n=o,a=l*Math.pow(d+1,2))}),n},sp=function(e,t){var r=Number.POSITIVE_INFINITY,n=null;return e.forEach(function(a){var o=Di(a,t);o>=0&&o<r&&(n=a,r=o)}),n},_m=function(e,t,r,n){var a=[],o=[];o.push(e);for(var s=!0,u=0,l=function(I,F){var H=!1;return F.forEach(function(J){H||(wo(I,{x:J.x1,y:J.y1})||wo(I,{x:J.x2,y:J.y2}))&&(H=!0)}),H},c=function(I,F){for(var H=0,J=F;H<J.length;H++){var st=J[H],ut=st.getBBox(),ht=[[ut.x,ut.y],[ut.x+ut.width,ut.y],[ut.x,ut.y+ut.height],[ut.x+ut.width,ut.y+ut.height]];if(si(ht,I.x,I.y))return!0}return!1};s&&u<r;){s=!1;for(var d=function(){var I=o.pop(),F=sp(t,I);if(F){var H=di(F,I),J=H[0],st=H[1];if(st===2){var ut=function(_t){for(var Vt=n,re=up(F,Vt,J,_t),te=l(re,o)||l(re,a),Ee=c(re,t);!te&&Ee&&Vt>=1;)Vt/=1.5,re=up(F,Vt,J,_t),te=l(re,o)||l(re,a),Ee=c(re,t);re&&!te&&(!_t||!Ee)&&(o.push(new pa(I.x1,I.y1,re.x,re.y)),o.push(new pa(re.x,re.y,I.x2,I.y2)),s=!0)};ut(!0),s||ut(!1)}}s||a.push(I),u+=1};!s&&o.length;)d()}for(;o.length;)a.push(o.pop());return a};function Cm(i,e,t,r,n){var a=Mm(i,t,e);if(a===null)return[];var o=function(d){for(var C=[];d.length>0;){var I=d.pop();if(d.length===0){C.push(I);break}var F=d.pop(),H=new pa(I.x1,I.y1,F.x2,F.y2),J=sp(e,H);J?(C.push(I),d.push(F)):d.push(H)}return C},s=new pa(i.getModel().x,i.getModel().y,a.getModel().x,a.getModel().y),u=_m(s,e,r,n),l=o(u);return l}var Tm=function(e,t,r){var n=Object.assign(Em,r),a=Ci(e.map(function(ut){return{x:ut.getModel().x,y:ut.getModel().y}}));e=e.sort(function(ut,ht){return Ri({x:ut.getModel().x,y:ut.getModel().y},a)-Ri({x:ht.getModel().x,y:ht.getModel().y},a)});var o=[],s=[];e.forEach(function(ut){var ht=Cm(ut,t,o,n.maxRoutingIterations,n.morphBuffer);ht.forEach(function(_t){s.push(_t)}),o.push(ut)});for(var u=Am(e,s,n.nodeR0),l=Sm(u.width,u.height,n.pixelGroupSize),c=[],d=[],C=0;C<n.maxMarchingIterations;C++)if(Om(e,t,s,u,l,n),c=[],d=[],!!new wm(c,l,n.threshold).march()){var I=c.map(function(ut){return{x:Math.round(ut.x*n.pixelGroupSize+u.minX),y:Math.round(ut.y*n.pixelGroupSize+u.minY)}});if(I){var F=I.length;if(n.skip>1)for(F=Math.floor(I.length/n.skip);F<3&&n.skip>1;)n.skip-=1,F=Math.floor(I.length/n.skip);for(var H=0,J=0;J<F;J+=1,H+=n.skip)d.push({x:I[H].x,y:I[H].y})}var st=function(){for(var ht=0,_t=e;ht<_t.length;ht++){var Vt=_t[ht],re=d.map(function(te){return[te.x,te.y]});if(!si(re,Vt.getBBox().centerX,Vt.getBBox().centerY))return!1}return!0};if(d&&st())return d;if(n.threshold*=.9,C<=n.maxMarchingIterations*.5)n.memberInfluenceFactor*=1.2,n.edgeInfluenceFactor*=1.2;else if(n.nonMemberInfluenceFactor!==0&&t.length>0)n.nonMemberInfluenceFactor*=.8;else break}return d};function Am(i,e,t){var r={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},n=[];i.forEach(function(u){n.push(u.getBBox())}),e.forEach(function(u){n.push(u.getBBox())});for(var a=0,o=n;a<o.length;a++){var s=o[a];r.minX=(s.minX<r.minX?s.minX:r.minX)-t,r.minY=(s.minY<r.minY?s.minY:r.minY)-t,r.maxX=(s.maxX>r.maxX?s.maxX:r.maxX)+t,r.maxY=(s.maxY>r.maxY?s.maxY:r.maxY)+t}return r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.x=r.minX,r.y=r.minY,r}function Om(i,e,t,r,n,a){function o(I,F){var H=Math.floor((I-F)/a.pixelGroupSize);return H<0?0:H}function s(I,F){return I*a.pixelGroupSize+F}var u=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),l=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1),c=function(F,H){var J=Math.min(o(F.minX,H+r.minX),n.width),st=Math.min(o(F.minY,H+r.minY),n.height),ut=Math.min(o(F.maxX,-H+r.minX),n.width),ht=Math.min(o(F.maxY,-H+r.minY),n.height);return[J,st,ut,ht]},d=function(F,H){for(var J=F.getBBox(),st=c(J,a.nodeR1),ut=st[0],ht=st[1],_t=st[2],Vt=st[3],re=ht;re<Vt;re+=1)for(var te=ut;te<_t;te+=1)if(!(H<0&&n[te+re*n.width]<=0)){var Ee=s(te,r.minX),ze=s(re,r.minY),Oe=Ii({x:Ee,y:ze},{x:J.minX,y:J.minY,width:J.width,height:J.height});if(Oe<Math.pow(a.nodeR1,2)){var er=Math.sqrt(Oe)-a.nodeR1;n.cells[te+re*n.width]+=H*er*er}}},C=function(F,H){for(var J=F.getBBox(),st=c(J,a.edgeR1),ut=st[0],ht=st[1],_t=st[2],Vt=st[3],re=ht;re<Vt;re+=1)for(var te=ut;te<_t;te+=1)if(!(H<0&&n.cells[te+re*n.width]<=0)){var Ee=s(te,r.minX),ze=s(re,r.minY),Oe=Eo({x:Ee,y:ze},F);if(Oe<Math.pow(a.edgeR1,2)){var er=Math.sqrt(Oe)-a.edgeR1;n.cells[te+re*n.width]+=H*er*er}}};a.nodeInfluenceFactor&&i.forEach(function(I){d(I,a.nodeInfluenceFactor/u)}),a.edgeInfluenceFactor&&t.forEach(function(I){C(I,a.edgeInfluenceFactor/l)}),a.negativeNodeInfluenceFactor&&e.forEach(function(I){d(I,a.negativeNodeInfluenceFactor/u)})}function up(i,e,t,r){var n=i.getBBox(),a=t[0],o=t[1],s=t[2],u=t[3],l={topLeft:{x:n.minX-e,y:n.minY-e},topRight:{x:n.maxX+e,y:n.minY-e},bottomLeft:{x:n.minX-e,y:n.maxY+e},bottomRight:{x:n.maxX+e,y:n.maxY+e}},c=n.height*n.width;function d(F,H){return n.width*((F.y-n.minY+(H.y-n.minY))*.5)}if(o){if(a)return r?l.topLeft:l.bottomRight;if(s)return r?l.bottomLeft:l.topRight;var C=d(o,u);return C<c*.5?o.y>u.y?r?l.topLeft:l.bottomRight:r?l.topRight:l.bottomLeft:o.y<u.y?r?l.bottomLeft:l.topRight:r?l.bottomRight:l.topLeft}if(u){if(a)return r?l.topRight:l.bottomLeft;if(s)return r?l.bottomRight:l.topLeft}var I=d(a,s);return I<c*.5?a.x>s.x?r?l.topLeft:l.bottomRight:r?l.bottomLeft:l.topRight:a.x<s.x?r?l.topRight:l.bottomLeft:r?l.bottomRight:l.topLeft}var Im=function(){function i(e,t){this.cfg=(0,f.deepMix)(this.getDefaultCfg(),t),this.graph=e,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(r){return(0,f.isString)(r)?e.findById(r):r}),this.nonMembers=this.cfg.nonMembers.map(function(r){return(0,f.isString)(r)?e.findById(r):r}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return i.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},i.prototype.setPadding=function(){var e=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+e:10+e,this.cfg.bubbleCfg={nodeR0:this.padding-e,nodeR1:this.padding-e,morphBuffer:this.padding-e}},i.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},i.prototype.calcPath=function(e,t){var r,n,a;switch(this.type){case"round-convex":r=op(e),a=Uh(r.map(function(o){return[o.x,o.y]}),this.padding),n=wr(a);break;case"smooth-convex":r=op(e),r.length===2?(a=Uh(r.map(function(o){return[o.x,o.y]}),this.padding),n=wr(a)):r.length>2&&(a=ap(r.map(function(o){return[o.x,o.y]}),this.padding),n=Gh(a));break;case"bubble":r=Tm(e,t,this.cfg.bubbleCfg),n=r.length>=2&&Gh(r);break;default:}return n},i.prototype.render=function(){this.group.addShape("path",{attrs:(0,m.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id,capture:!1}),this.group.toBack()},i.prototype.addMember=function(e){if(e){(0,f.isString)(e)&&(e=this.graph.findById(e)),this.members.push(e);var t=this.nonMembers.indexOf(e);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.addNonMember=function(e){if(e){(0,f.isString)(e)&&(e=this.graph.findById(e)),this.nonMembers.push(e);var t=this.members.indexOf(e);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.removeMember=function(e){if(e){(0,f.isString)(e)&&(e=this.graph.findById(e));var t=this.members.indexOf(e);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.removeNonMember=function(e){if(e){(0,f.isString)(e)&&(e=this.graph.findById(e));var t=this.nonMembers.indexOf(e);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.updateData=function(e,t){var r=this;this.group.findById(this.id).remove(),e&&(this.members=e.map(function(n){return(0,f.isString)(n)?r.graph.findById(n):n})),t&&(this.nonMembers=t.map(function(n){return(0,f.isString)(n)?r.graph.findById(n):n})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.updateStyle=function(e){var t=this.group.findById(this.id);t.attr((0,m.__assign)({},e))},i.prototype.updateCfg=function(e){var t=this;this.cfg=(0,f.deepMix)(this.cfg,e),this.id=this.cfg.id,this.group=this.cfg.group,e.members&&(this.members=this.cfg.members.map(function(r){return(0,f.isString)(r)?t.graph.findById(r):r})),e.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(r){return(0,f.isString)(r)?t.graph.findById(r):r})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.contain=function(e){var t=this,r;(0,f.isString)(e)?r=this.graph.findById(e):r=e;var n,a=r.getKeyShape();if(r.get("type")==="path")n=zh(a.attr("path"));else{var o=a.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map(function(s){var u=t.graph.getPointByCanvas(s[0],s[1]);return[u.x,u.y]}),_a(n,zh(this.path))},i.prototype.destroy=function(){this.group.remove(),this.cfg=null},i}(),lp=Im,Ed=vt,Dm="node",Pm=function(i){(0,m.__extends)(e,i);function e(t){var r=i.call(this)||this;return r.sortCombos=(0,f.debounce)(function(){var n=r.get("comboSorted");if(!(!r||r.destroyed||n)){r.set("comboSorted",!0);var a=[],o={},s=r.get("comboTrees");(s||[]).forEach(function(l){Ti(l,function(c){return a[c.depth]?a[c.depth].push(c.id):a[c.depth]=[c.id],o[c.id]=c.depth,!0})});var u=r.getEdges().concat(r.get("vedges"));(u||[]).forEach(function(l){var c=l.getModel(),d=o[c.source]||0,C=o[c.target]||0,I=Math.max(d,C);a[I]?a[I].push(c.id):a[I]=[c.id]}),a.forEach(function(l){if(!(!l||!l.length))for(var c=l.length-1;c>=0;c--){var d=r.findById(l[c]);d&&d.toFront()}})}},500,!1),r.cfg=(0,f.deepMix)(r.getDefaultCfg(),t),r.init(),r.animating=!1,r.destroyed=!1,r.cfg.enabledStack&&(r.undoStack=new _o(r.cfg.maxStep),r.redoStack=new _o(r.cfg.maxStep)),r}return e.prototype.init=function(){this.initCanvas();var t=new rm(this),r=new wu(this),n=new pm(this),a=new mm(this);this.set({viewController:t,modeController:r,itemController:n,stateController:a}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},e.prototype.initGroups=function(){var t=this.get("canvas");if(t){var r=t.get("el"),n=(r||{}).id,a=n===void 0?"g6":n,o=t.addGroup({id:"".concat(a,"-root"),className:Bt.rootContainerClassName});if(this.get("groupByTypes")){var s=o.addGroup({id:"".concat(a,"-edge"),className:Bt.edgeContainerClassName}),u=o.addGroup({id:"".concat(a,"-node"),className:Bt.nodeContainerClassName}),l=o.addGroup({id:"".concat(a,"-combo"),className:Bt.comboContainerClassName});l.toBack(),this.set({nodeGroup:u,edgeGroup:s,comboGroup:l})}var c=o.addGroup({id:"".concat(a,"-delegate"),className:Bt.delegateContainerClassName});this.set({delegateGroup:c}),this.set("group",o)}},e.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.02,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[],optimizeThreshold:1e3}},e.prototype.set=function(t,r){return(0,f.isPlainObject)(t)?this.cfg=(0,m.__assign)((0,m.__assign)({},this.cfg),t):this.cfg[t]=r,t==="enabledStack"&&r&&!this.undoStack&&!this.redoStack&&(this.undoStack=new _o(this.cfg.maxStep),this.redoStack=new _o(this.cfg.maxStep)),this},e.prototype.get=function(t){var r;return(r=this.cfg)===null||r===void 0?void 0:r[t]},e.prototype.getGroup=function(){return this.get("group")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.setMinZoom=function(t){return this.set("minZoom",t)},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},e.prototype.getWidth=function(){return this.get("width")},e.prototype.getHeight=function(){return this.get("height")},e.prototype.clearItemStates=function(t,r){(0,f.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");r||(r=t.get("states")),n.clearItemStates(t,r);var a=this.get("stateController");a.updateStates(t,r,!1)},e.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},e.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},e.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},e.prototype.findById=function(t){return this.get("itemMap")[t]},e.prototype.find=function(t,r){var n,a=this.get("".concat(t,"s"));return(0,f.each)(a,function(o,s){if(r(o,s))return n=o,n}),n},e.prototype.findAll=function(t,r){var n=[];return(0,f.each)(this.get("".concat(t,"s")),function(a,o){r(a,o)&&n.push(a)}),n},e.prototype.findAllByState=function(t,r,n){return n?this.findAll(t,function(a){return a.hasState(r)&&n(a)}):this.findAll(t,function(a){return a.hasState(r)})},e.prototype.translate=function(t,r,n,a){var o=this,s=this.get("group"),u=(0,f.clone)(s.getMatrix());if(u||(u=[1,0,0,0,1,0,0,0,1]),n){var l=os({animateCfg:a,callback:function(){return o.emit("viewportchange",{action:"translate",matrix:s.getMatrix()})}});ua(s,{x:s.getCanvasBBox().x+t,y:s.getCanvasBBox().y+r},n,l||{duration:500,easing:"easeCubic"})}else u=Ed(u,[["t",t,r]]),s.setMatrix(u),this.emit("viewportchange",{action:"translate",matrix:u}),this.autoPaint()},e.prototype.moveTo=function(t,r,n,a){var o=this.get("group");ua(o,{x:t,y:r},n,a||{duration:500,easing:"easeCubic"}),this.emit("viewportchange",{action:"move",matrix:o.getMatrix()})},e.prototype.fitView=function(t,r,n,a){t&&this.set("fitViewPadding",t);var o=this.get("viewController");r?o.fitViewByRules(r,n,a):o.fitView(n,a),this.autoPaint()},e.prototype.fitCenter=function(t,r){var n=this.get("viewController");n.fitCenter(t,r),this.autoPaint()},e.prototype.addBehaviors=function(t,r){var n=this.get("modeController");return n.manipulateBehaviors(t,r,!0),this},e.prototype.removeBehaviors=function(t,r){var n=this.get("modeController");return n.manipulateBehaviors(t,r,!1),this},e.prototype.updateBehavior=function(t,r,n){var a=this.get("modeController");return a.updateBehavior(t,r,n),this},e.prototype.zoom=function(t,r,n,a){var o=this,s=this.get("group"),u=(0,f.clone)(s.getMatrix())||[1,0,0,0,1,0,0,0,1],l=this.get("minZoom"),c=this.get("maxZoom"),d=this.getZoom()||1,C=d*t,I=t,F=!1;if(l&&C<l?(I=l/d,F=!0):c&&C>c&&(I=c/d,F=!0),r?u=Ed(u,[["t",-r.x,-r.y],["s",I,I],["t",r.x,r.y]]):u=Ed(u,[["s",I,I]]),n){var H=(0,f.clone)(s.getMatrix());H||(H=[1,0,0,0,1,0,0,0,1]);var J=H[0],st=J*I,ut=os({animateCfg:a,callback:function(){return o.emit("viewportchange",{action:"zoom",matrix:s.getMatrix()})}});s.animate(function(ht){if(ht===1)H=u;else{var _t=mi(J,st,ht)/H[0];r?H=Ed(H,[["t",-r.x,-r.y],["s",_t,_t],["t",r.x,r.y]]):H=Ed(H,[["s",_t,_t]])}return{matrix:H}},ut)}else s.setMatrix(u),this.emit("viewportchange",{action:"zoom",matrix:u}),this.autoPaint();return!F},e.prototype.zoomTo=function(t,r,n,a){var o=t/this.getZoom();return this.zoom(o,r,n,a)},e.prototype.focusItem=function(t,r,n){var a=this.get("viewController"),o=!1;r?o=!0:r===void 0&&(o=this.get("animate"));var s={};n?s=n:n===void 0&&(s=this.get("animateCfg")),a.focus(t,o,s),this.autoPaint()},e.prototype.focusItems=function(t,r,n,a){var o=this.get("viewController");o.focusItems(t,r,n,a)},e.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},e.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},e.prototype.getPointByClient=function(t,r){var n=this.get("viewController");return n.getPointByClient(t,r)},e.prototype.getClientByPoint=function(t,r){var n=this.get("viewController");return n.getClientByPoint(t,r)},e.prototype.getPointByCanvas=function(t,r){var n=this.get("viewController");return n.getPointByCanvas(t,r)},e.prototype.getCanvasByPoint=function(t,r){var n=this.get("viewController");return n.getCanvasByPoint(t,r)},e.prototype.getGraphCenterPoint=function(){var t=this.get("group").getCanvasBBox();return{x:(t.minX+t.maxX)/2,y:(t.minY+t.maxY)/2}},e.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},e.prototype.showItem=function(t,r){r===void 0&&(r=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!0);if(r&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),u={},l={};switch(s){case"node":u.nodes=[{id:o,visible:!1}],l.nodes=[{id:o,visible:!0}];break;case"edge":u.nodes=[{id:o,visible:!1}],l.edges=[{id:o,visible:!0}];break;case"combo":u.nodes=[{id:o,visible:!1}],l.combos=[{id:o,visible:!0}];break;default:break}this.pushStack("visible",{before:u,after:l})}},e.prototype.hideItem=function(t,r){r===void 0&&(r=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!1);if(r&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),u={},l={};switch(s){case"node":u.nodes=[{id:o,visible:!0}],l.nodes=[{id:o,visible:!1}];break;case"edge":u.nodes=[{id:o,visible:!0}],l.edges=[{id:o,visible:!1}];break;case"combo":u.nodes=[{id:o,visible:!0}],l.combos=[{id:o,visible:!1}];break;default:break}this.pushStack("visible",{before:u,after:l})}},e.prototype.refreshItem=function(t){var r=this.get("itemController");r.refreshItem(t)},e.prototype.setAutoPaint=function(t){var r=this;r.set("autoPaint",t);var n=r.get("canvas");n.set("autoDraw",t)},e.prototype.remove=function(t,r){r===void 0&&(r=!0),this.removeItem(t,r)},e.prototype.removeItem=function(t,r){r===void 0&&(r=!0);var n=t;if((0,f.isString)(t)&&(n=this.findById(t)),!n&&(0,f.isString)(t))console.warn("The item ".concat(t," to be removed does not exist!"));else if(n){var a="";if(n.getType&&(a=n.getType()),r&&this.get("enabledStack")){var o=(0,m.__assign)((0,m.__assign)({},n.getModel()),{itemType:a}),s={};switch(a){case"node":{s.nodes=[o],s.edges=[];for(var u=n.getEdges(),l=u.length-1;l>=0;l--)s.edges.push((0,m.__assign)((0,m.__assign)({},u[l].getModel()),{itemType:"edge"}));break}case"edge":s.edges=[o];break;case"combo":s.combos=[o];break;default:break}this.pushStack("delete",{before:s,after:{}})}if(a==="node"){var c=n.getModel();c.comboId&&this.updateComboTree(n,void 0,!1)}var d=this.get("itemController");if(d.removeItem(n),a==="combo"){var C=Os(this.get("comboTrees"));this.set("comboTrees",C)}}},e.prototype.innerAddItem=function(t,r,n){if(!To(t,r))return!1;if(r.id&&this.findById(r.id)){console.warn("This item exists already. Be sure the id %c".concat(r.id,"%c is unique."),"font-size: 20px; color: red;","");return}var a,o=this.get("comboTrees")||[];if(t==="combo"){var s=this.get("itemMap"),u=!1;if(o.forEach(function(F){u||Zi(F,function(H){if(r.parentId===H.id){u=!0;var J=(0,m.__assign)({id:r.id,depth:H.depth+2},r);H.children?H.children.push(J):H.children=[J],r.depth=J.depth,a=n.addItem(t,r)}var st=s[H.id];return u&&st&&st.getType&&st.getType()==="combo"&&n.updateCombo(st,H.children),!0})}),!u){var l=(0,m.__assign)({id:r.id,depth:0},r);r.depth=l.depth,o.push(l),a=n.addItem(t,r)}this.set("comboTrees",o),r.collapsed&&(this.collapseCombo(a,!1),this.updateCombo(a))}else if(t==="node"&&(0,f.isString)(r.comboId)&&o){var c=this.findById(r.comboId);c&&c.getType&&c.getType()!=="combo"&&console.warn("'".concat(r.comboId,"' is not a id of a combo in the graph, the node will be added without combo.")),a=n.addItem(t,r);var d=this.get("itemMap"),C=!1,I=!1;o.forEach(function(F){I||C||Zi(F,function(H){if(H.id===r.id)return I=!0,!1;if(r.comboId===H.id&&!I){C=!0;var J=(0,f.clone)(r);J.itemType="node",H.children?H.children.push(J):H.children=[J],J.depth=H.depth+1}return C&&d[H.id].getType&&d[H.id].getType()==="combo"&&n.updateCombo(d[H.id],H.children),!0})})}else a=n.addItem(t,r);if(t==="node"&&r.comboId||t==="combo"&&r.parentId){var c=this.findById(r.comboId||r.parentId);c&&c.getType&&c.getType()==="combo"&&c.addChild(a)}return a},e.prototype.addItem=function(t,r,n,a){n===void 0&&(n=!0),a===void 0&&(a=!0);var o=this.get("comboSorted");this.set("comboSorted",o&&!a);var s=this.get("itemController"),u=this.innerAddItem(t,r,s);if(u===!1||u===!0)return u;var l=this.get("combos");if(l&&l.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var c=(0,m.__assign)((0,m.__assign)({},u.getModel()),{itemType:t}),d={};switch(t){case"node":d.nodes=[c];break;case"edge":d.edges=[c];break;case"combo":d.combos=[c];break;default:break}this.pushStack("add",{before:{},after:d})}return u},e.prototype.addItems=function(t,r,n){t===void 0&&(t=[]),r===void 0&&(r=!0),n===void 0&&(n=!0);var a=this.get("comboSorted");this.set("comboSorted",a&&!n);for(var o=this.get("itemController"),s=[],u=0;u<t.length;u++){var l=t[u];l.type!=="edge"&&l.type!=="vedge"?s.push(this.innerAddItem(l.type,l.model,o)):s.push(void 0)}for(var u=0;u<t.length;u++){var l=t[u];(l.type==="edge"||l.type==="vedge")&&(s[u]=this.innerAddItem(l.type,l.model,o))}if(n){var c=this.get("combos");c&&c.length>0&&this.sortCombos()}if(this.autoPaint(),r&&this.get("enabledStack")){for(var d={nodes:[],edges:[],combos:[]},u=0;u<t.length;u++){var C=t[u].type,I=s[u];if(I&&I!==!0){var F=(0,m.__assign)((0,m.__assign)({},I.getModel()),{itemType:C});switch(C){case"node":d.nodes.push(F);break;case"edge":d.edges.push(F);break;case"combo":d.combos.push(F);break;default:break}}}this.pushStack("addItems",{before:{},after:d})}return s},e.prototype.add=function(t,r,n,a){return n===void 0&&(n=!0),a===void 0&&(a=!0),this.addItem(t,r,n,a)},e.prototype.updateItem=function(t,r,n){var a=this;n===void 0&&(n=!0);var o=this.get("itemController"),s;(0,f.isString)(t)?s=this.findById(t):s=t;var u=n&&this.get("enabledStack"),l;u&&(l=(0,f.clone)(s.getModel()));var c="";s.getType&&(c=s.getType());var d=(0,m.__spreadArray)([],s.getStates(),!0);if(c==="combo"&&(0,f.each)(d,function(H){return a.setItemState(s,H,!1)}),o.updateItem(s,r),c==="combo"&&(0,f.each)(d,function(H){return a.setItemState(s,H,!0)}),u){var C={nodes:[],edges:[],combos:[]},I={nodes:[],edges:[],combos:[]},F=(0,m.__assign)({id:l.id},r);switch(c){case"node":C.nodes.push(l),I.nodes.push(F);break;case"edge":C.edges.push(l),I.edges.push(F);break;case"combo":C.combos.push(l),I.combos.push(F);break;default:break}this.pushStack("update",{before:C,after:I})}},e.prototype.update=function(t,r,n){n===void 0&&(n=!0),this.updateItem(t,r,n)},e.prototype.setItemState=function(t,r,n){(0,f.isString)(t)&&(t=this.findById(t));var a=this.get("itemController");a.setItemState(t,r,n);var o=this.get("stateController");o.updateState(t,r,n)},e.prototype.priorityState=function(t,r){var n=this.get("itemController");n.priorityState(t,r)},e.prototype.data=function(t){hs(t),this.set("data",t)},e.prototype.render=function(){var t=this;this.set("comboSorted",!1);var r=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!r)throw new Error("data must be defined first");var n=r.nodes,a=n===void 0?[]:n,o=r.edges,s=o===void 0?[]:o,u=r.combos,l=u===void 0?[]:u;if(this.clear(!0),this.emit("beforerender"),t.addItems(a.map(function(J){return{type:"node",model:J}}),!1,!1),(l==null?void 0:l.length)!==0){var c=bs(l,a);this.set("comboTrees",c),t.addCombos(l)}t.addItems(s.map(function(J){return{type:"edge",model:J}}),!1,!1);var d=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var C=t.get("layoutController");if(C){if(C.layout(I),this.destroyed)return}else I();function I(){(t.get("comboTrees")||[]).forEach(function(J){Zi(J,function(st){var ut=t.findById(st.id);return ut.getType()==="combo"&&st.collapsed&&(t.collapseCombo(st.id,!1),t.updateCombo(ut)),!0})}),t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",d),setTimeout(function(){var J;(J=t.getCombos())===null||J===void 0||J.forEach(function(st){st.set("animate",!0)})},0)}if(!this.get("groupByTypes"))if(l&&l.length!==0)this.sortCombos();else if(r.nodes&&r.edges&&r.nodes.length<r.edges.length){var F=this.getNodes();F.forEach(function(J){J.toFront()})}else{var H=this.getEdges();H.forEach(function(J){J.toBack()})}},e.prototype.read=function(t){this.data(t),this.render()},e.prototype.diffItems=function(t,r,n){var a=this,o,s=this.get("itemMap");(0,f.each)(n,function(u){if(o=s[u.id],o){if(a.get("animate")&&t===Dm){var l=o.getContainer().getMatrix();l||(l=[1,0,0,0,1,0,0,0,1]),o.set("originAttrs",{x:l[6],y:l[7]})}a.updateItem(o,u,!1)}else o=a.addItem(t,u,!1);o&&r["".concat(t,"s")].push(o)})},e.prototype.changeData=function(t,r){var n=this,a;r===void 0&&(r=!0);var o=this,s=t||o.get("data");if(!hs(s))return this;this.emit("beforechangedata"),r&&this.get("enabledStack")&&this.pushStack("changedata",{before:o.save(),after:s}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map(function(ut){return o.clearItemStates(ut)}),this.getEdges().map(function(ut){return o.clearItemStates(ut)});var u=this.get("canvas"),l=u.get("localRefresh");u.set("localRefresh",!1),o.get("data")||(o.data(s),o.render());var c=this.get("itemMap"),d={nodes:[],edges:[]},C=s.combos;if(C){var I=bs(C,s.nodes);this.set("comboTrees",I)}else this.set("comboTrees",[]);this.diffItems("node",d,s.nodes),(0,f.each)(c,function(ut,ht){c[ht].getModel().depth=0,!(ut.getType&&ut.getType()==="edge")&&(ut.getType&&ut.getType()==="combo"?(delete c[ht],ut.destroy()):d.nodes.indexOf(ut)<0&&(delete c[ht],o.remove(ut,!1)))});for(var F=this.getCombos(),H=F.length,J=H-1;J>=0;J--)F[J].destroyed&&F.splice(J,1);C&&(o.addCombos(C),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",d,s.edges),(0,f.each)(c,function(ut,ht){ut.getType&&(ut.getType()==="node"||ut.getType()==="combo")||d.edges.indexOf(ut)<0&&(delete c[ht],o.remove(ut,!1))}),(this.get("comboTrees")||[]).forEach(function(ut){Zi(ut,function(ht){var _t=n.findById(ht.id);return _t.getType()==="combo"&&ht.collapsed&&n.collapseCombo(ht.id,!1),!0})}),this.set({nodes:d.nodes,edges:d.edges});var st=this.get("layoutController");return st&&(st.changeData(function(){setTimeout(function(){var ut;(ut=o.getCombos())===null||ut===void 0||ut.forEach(function(ht){ht.set("animate",!0)})},0)}),o.get("animate")&&!st.getLayoutType()?(o.positionsAnimate(),(a=o.getCombos())===null||a===void 0||a.forEach(function(ut){return ut.set("animate",!0)})):o.autoPaint()),setTimeout(function(){u.set("localRefresh",l)},16),this.set("data",s),this.emit("afterchangedata"),this},e.prototype.addCombos=function(t){var r=this,n=r.get("comboTrees"),a=this.get("itemController");a.addCombos(n,t)},e.prototype.createCombo=function(t,r,n){var a=this;n===void 0&&(n=!0);var o=this.get("itemController");this.set("comboSorted",!1);var s="",u;if(t){if((0,f.isString)(t))s=t,u={id:t};else{if(s=t.id,!s){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}u=t}var l=n&&this.get("enabledStack"),c={nodes:[],combos:[]};l&&r.forEach(function(J){var st=a.findById(J),ut=st.getType();if(!(ut!=="node"&&ut!=="combo")){var ht=st.getModel();c["".concat(ut,"s")].push({id:J,parentId:ut==="node"?ht.comboId:ht.parentId})}});var d=this.get("comboTrees"),C=new Set(r),I=new Map;d&&(d.forEach(function(J){Zi(J,function(st,ut,ht){if(C.has(st.id)){if(ut){var _t=a.findById(ut.id),Vt=a.findById(st.id);ut.children.splice(ht,1),_t.removeChild(Vt),o.updateCombo(_t,ut.children)}st.itemType==="combo"&&I.set(st.id,st)}return!0})}),d=d.filter(function(J){return!C.has(J.id)}),this.set("comboTrees",d));var F={nodes:[],combos:[]},H=r.map(function(J){var st=a.findById(J),ut=st.getModel(),ht="";st.getType&&(ht=st.getType());var _t=I.get(J)||{id:st.getID(),itemType:ht};return ht==="combo"?(_t.parentId=s,ut.parentId=s):ht==="node"&&(_t.comboId=s,ut.comboId=s),l&&F["".concat(ht,"s")].push({id:ut.id,parentId:s}),_t});u.children=H,this.addItem("combo",u,!1),this.set("comboSorted",!1),d&&(d.forEach(function(J){Ti(J,function(st){return st.id===s?(st.itemType="combo",st.children=H,!1):!0})}),this.sortCombos()),l&&(F.combos.push(u),this.pushStack("createCombo",{before:c,after:F}))}},e.prototype.uncombo=function(t,r){var n=this,a,o;r===void 0&&(r=!0);var s=this,u=t;if((0,f.isString)(t)&&(u=this.findById(t)),!u||u.getType&&u.getType()!=="combo"){console.warn("The item is not a combo!");return}var l=u.getModel(),c=u.getModel().parentId,d=s.get("comboTrees");d||(d=[]);var C=this.get("itemMap"),I=u.get("id"),F,H=[],J=this.get("combos"),st=this.findById(c),ut=r&&this.get("enabledStack"),ht={};if(ut&&(ht=(0,f.clone)(l),ht.children=[]),d.forEach(function(te){F||Zi(te,function(Ee){var ze;if(Ee.id===I){F=Ee;var Oe=u.getEdges().map(function(rn){return rn.getID()});Oe.forEach(function(rn){n.removeItem(rn,!1)});var er=J.indexOf(u);J.splice(er,1),delete C[I];var hr=(0,f.clone)(u.getModel());u.destroy(),n.emit("afterremoveitem",{item:hr,type:"combo"})}if(c&&F&&Ee.id===c){st.removeCombo(u),H=Ee.children;var er=H.indexOf(F);return er!==-1&&H.splice(er,1),(ze=F.children)===null||ze===void 0||ze.forEach(function(Dn){var yn=n.findById(Dn.id),Kr=yn.getModel();yn.getType&&yn.getType()==="combo"?(Dn.parentId=c,delete Dn.comboId,Kr.parentId=c,delete Kr.comboId):yn.getType&&yn.getType()==="node"&&(Dn.comboId=c,Kr.comboId=c),st.addChild(yn),H.push(Dn)}),n.updateCombo(st),!1}return!0})}),!c&&F){var _t=d.indexOf(F);d.splice(_t,1),(a=F.children)===null||a===void 0||a.forEach(function(te){te.parentId=void 0;var Ee=n.findById(te.id).getModel();delete Ee.parentId,delete Ee.comboId,te.itemType!=="node"&&d.push(te)})}if(ut){var Vt={nodes:[],combos:[]},re={nodes:[],combos:[]};(o=F.children)===null||o===void 0||o.forEach(function(te){var Ee=n.findById(te.id),ze=Ee.getType();ze!=="node"&&ze!=="combo"||(Vt["".concat(ze,"s")].push({id:te.id,parentId:I}),re["".concat(ze,"s")].push({id:te.id,parentId:c}))}),Vt.combos.push(ht),this.pushStack("uncombo",{before:Vt,after:re})}},e.prototype.updateCombos=function(t){var r=this;t===void 0&&(t=!1);var n=this,a=this.get("comboTrees"),o=n.get("itemController"),s=n.get("itemMap");(a||[]).forEach(function(u){Zi(u,function(l){var c;if(!l)return!0;var d=s[l.id];if(((c=d==null?void 0:d.getType)===null||c===void 0?void 0:c.call(d))==="combo"){var C=(0,m.__spreadArray)([],d.getStates(),!0);(0,f.each)(C,function(I){return r.setItemState(d,I,!1)}),o.updateCombo(d,l.children,t),(0,f.each)(C,function(I){return r.setItemState(d,I,!0)})}return!0})}),n.sortCombos()},e.prototype.updateCombo=function(t){var r=this,n=this,a=t,o;if((0,f.isString)(t)&&(a=this.findById(t)),!a||a.getType&&a.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}o=a.get("id");var s=this.get("comboTrees"),u=n.get("itemController"),l=n.get("itemMap");(s||[]).forEach(function(c){Zi(c,function(d){if(!d)return!0;var C=l[d.id];if(o===d.id&&C&&C.getType&&C.getType()==="combo"){var I=(0,m.__spreadArray)([],C.getStates(),!0);(0,f.each)(I,function(F){C.getStateStyle(F)&&r.setItemState(C,F,!1)}),u.updateCombo(C,d.children),(0,f.each)(I,function(F){C.getStateStyle(F)&&r.setItemState(C,F,!0)}),o&&(o=d.parentId)}return!0})})},e.prototype.updateComboTree=function(t,r,n){n===void 0&&(n=!0);var a=this;this.set("comboSorted",!1);var o;(0,f.isString)(t)?o=a.findById(t):o=t;var s=o.getModel(),u=s.comboId||s.parentId,l="";if(o.getType&&(l=o.getType()),r&&l==="combo"){var c=this.get("comboTrees"),d=!0,C;if((c||[]).forEach(function(ut){C||Ti(ut,function(ht){if(!C)return ht.id===o.getID()&&(C=ht),!0})}),Ti(C,function(ut){return ut.id===r?(d=!1,!1):!0}),!d){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(n&&this.get("enabledStack")){var I={},F={};l==="combo"?(I.combos=[{id:s.id,parentId:s.parentId}],F.combos=[{id:s.id,parentId:r}]):l==="node"&&(I.nodes=[{id:s.id,parentId:s.comboId}],F.nodes=[{id:s.id,parentId:r}]),this.pushStack("updateComboTree",{before:I,after:F})}if(s.parentId||s.comboId){var H=this.findById(s.parentId||s.comboId);H&&H.removeChild(o)}if(l==="combo"?s.parentId=r:l==="node"&&(s.comboId=r),r){var J=this.findById(r);J&&J.addChild(o)}if(u){var J=this.findById(u);J&&J.removeChild(o)}var st=Os(this.get("comboTrees"),s.id,r);this.set("comboTrees",st),this.updateCombos()},e.prototype.save=function(){var t=[],r=[],n=[];return(0,f.each)(this.get("nodes"),function(a){t.push(a.getModel())}),(0,f.each)(this.get("edges"),function(a){r.push(a.getModel())}),(0,f.each)(this.get("combos"),function(a){n.push(a.getModel())}),{nodes:t,edges:r,combos:n}},e.prototype.changeSize=function(t,r){var n=this.get("viewController");return n.changeSize(t,r),this},e.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var r=t.get("nodes"),n=t.get("edges"),a=t.get("edges");(0,f.each)(r,function(o){o.refresh()}),(0,f.each)(n,function(o){o.refresh()}),(0,f.each)(a,function(o){o.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.getComboChildren=function(t){if((0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},e.prototype.positionsAnimate=function(t){var r=this;r.emit("beforeanimate");var n=r.get("animateCfg"),a=n.onFrame,o=t?r.getNodes().concat(r.getCombos()):r.getNodes(),s=o.map(function(l){var c=l.getModel();return{id:c.id,x:c.x,y:c.y}});r.stopAnimate();var u=r.get("canvas");r.animating=!0,u.animate(function(l){(0,f.each)(s,function(c){var d=r.findById(c.id);if(!(!d||d.destroyed)){var C=d.get("originAttrs"),I=d.get("model"),F=d.getContainer().getMatrix();if(C==null&&(F&&(C={x:F[6],y:F[7]}),d.set("originAttrs",C||0)),a){var H=a(d,l,c,C||{x:0,y:0});d.set("model",Object.assign(I,H))}else C?(I.x=C.x+(c.x-C.x)*l,I.y=C.y+(c.y-C.y)*l):(I.x=c.x,I.y=c.y)}}),r.refreshPositions(t)},{duration:n.duration,easing:n.easing,callback:function(){(0,f.each)(o,function(c){c.set("originAttrs",null)}),n.callback&&n.callback(),r.emit("afteranimate"),r.animating=!1}})},e.prototype.refreshPositions=function(t){var r=this;r.emit("beforegraphrefreshposition");var n=r.get("nodes"),a=r.get("edges"),o=r.get("vedges"),s=r.get("combos"),u,l={},c=function(C){(0,f.each)(C,function(I){u=I.getModel();var F=I.get("originAttrs");if(!(F&&u.x===F.x&&u.y===F.y)){var H=I.updatePosition({x:u.x,y:u.y});l[u.id]=H,u.comboId&&(l[u.comboId]=l[u.comboId]||H),u.parentId&&(l[u.parentId]=l[u.parentId]||H)}})};c(s),c(n),s&&s.length!==0&&(t&&c(s),r.updateCombos()),(0,f.each)(a,function(d){var C=d.getSource().getModel(),I=d.getTarget();if(!(0,f.isPlainObject)(I)){var F=I.getModel();(l[C.id]||l[F.id]||d.getModel().isComboEdge)&&d.refresh()}}),(0,f.each)(o,function(d){d.refresh()}),r.emit("aftergraphrefreshposition"),r.autoPaint()},e.prototype.stopAnimate=function(){this.isAnimating()&&this.get("canvas").stopAnimate()},e.prototype.isAnimating=function(){return this.animating},e.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},e.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},e.prototype.setMode=function(t){var r=this.get("modeController");return r.setMode(t),this},e.prototype.clear=function(t){var r;return t===void 0&&(t=!1),(r=this.get("canvas"))===null||r===void 0||r.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],vedges:[],groups:[],combos:[],comboTrees:[]}),t||this.emit("afterrender"),this},e.prototype.updateLayout=function(t,r,n,a){var o=this;t===void 0&&(t={}),a===void 0&&(a=!0);var s=this.get("layoutController");if((0,f.isString)(t)&&(t={type:t}),r){var u=n;u||(r==="begin"?u={x:0,y:0}:u={x:this.getWidth()/2,y:this.getHeight()/2}),u=this.getPointByCanvas(u.x,u.y);var l=["force","gForce","fruchterman","force2"];l.includes(t.type)||!t.type&&l.includes(s==null?void 0:s.layoutType)?t.center=[u.x,u.y]:this.once("afterlayout",function(C){var I=o.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];u.x=u.x*I[0]+I[6],u.y=u.y*I[0]+I[7];var F=o.getGroup().getCanvasBBox(),H=F.minX,J=F.maxX,st=F.minY,ut=F.maxY,ht={x:(H+J)/2,y:(st+ut)/2};r==="begin"&&(ht.x=H,ht.y=st),o.translate(u.x-ht.x,u.y-ht.y)})}var c=(0,m.__assign)({},this.get("layout")),d={};Object.assign(d,c,t),t.pipes&&!t.type?delete d.type:!t.pipes&&d.type&&delete d.pipes,this.set("layout",d),s&&(s.isLayoutTypeSame(d)&&d.gpuEnabled===c.gpuEnabled?s.updateLayoutCfg(d):s.changeLayout(d),a&&this.get("enabledStack")&&this.pushStack("layout",{before:c,after:d}))},e.prototype.destroyLayout=function(){var t=this.get("layoutController");t==null||t.destroyLayout()},e.prototype.layout=function(){var t,r=this.get("layoutController"),n=this.get("layout");if(!(!n||!r)){if(n.workerEnabled){r.layout();return}!((t=r.layoutMethods)===null||t===void 0)&&t.length?r.relayout(!0):r.layout()}},e.prototype.collapseCombo=function(t,r){var n=this;if(r===void 0&&(r=!0),!this.destroyed){if((0,f.isString)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var a=t.getModel(),o=this.get("itemController");o.collapseCombo(t,r),a.collapsed=!0;var s=this.getEdges().concat(this.get("vedges")),u=[],l=this.get("comboTrees"),c=!1;(l||[]).forEach(function(C){c||Ti(C,function(I){if(c&&I.depth<=a.depth)return!1;if(a.id===I.id&&(c=!0),c){var F=n.findById(I.id);F&&F.getType&&F.getType()==="combo"&&(u=u.concat(F.getNodes()),u=u.concat(F.getCombos()))}return!0})});var d={};s.forEach(function(C){var I=C.getModel(),F=I.isVEdge,H=I.size,J=H===void 0?1:H;if(!(C.isVisible()&&!F)){var st=C.getSource(),ut=C.getTarget(),ht=null,_t;if(st.getModel().id===a.id||u.includes(st)&&!u.includes(ut)?(ht=ut,_t=!1):(ut.getModel().id===a.id||!u.includes(st)&&u.includes(ut))&&(ht=st,_t=!0),ht){if(F){n.removeItem(C,!1);return}for(var Vt=ht.getModel();!ht.isVisible();){var re=Vt.parentId,te=Vt.comboId,Ee=re||te;if(ht=n.findById(Ee),!ht||!Ee)return;Vt=ht.getModel()}var ze=Vt.id,Oe=_t?{source:ze,target:a.id,size:J,isVEdge:!0}:{source:a.id,target:ze,size:J,isVEdge:!0},er="".concat(Oe.source,"-").concat(Oe.target);if(d[er]){d[er].size+=J;return}d[er]=Oe}}}),this.addItems(Object.values(d).map(function(C){return{type:"vedge",model:C}}),!1),this.emit("aftercollapseexpandcombo",{action:"collapse",item:t})}},e.prototype.expandCombo=function(t,r){var n=this;if(r===void 0&&(r=!0),(0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var a=t.getModel(),o=this.get("itemController");o.expandCombo(t,r),a.collapsed=!1;var s=this.getEdges().concat(this.get("vedges")),u=[],l=this.get("comboTrees"),c=!1;(l||[]).forEach(function(C){c||Ti(C,function(I){if(c&&I.depth<=a.depth)return!1;if(a.id===I.id&&(c=!0),c){var F=n.findById(I.id);F&&F.getType&&F.getType()==="combo"&&(u=u.concat(F.getNodes()),u=u.concat(F.getCombos()))}return!0})});var d={};s.forEach(function(C){if(!(C.isVisible()&&!C.getModel().isVEdge)){var I=C.getSource(),F=C.getTarget(),H=I.get("id"),J=F.get("id"),st=null,ut;if(H===a.id||u.includes(I)&&!u.includes(F)?(st=F,ut=!1):J===a.id||!u.includes(I)&&u.includes(F)?(st=I,ut=!0):u.includes(I)&&u.includes(F)&&I.isVisible()&&F.isVisible()&&C.show(),st){var ht=C.getModel(),_t=ht.isVEdge,Vt=ht.size,re=Vt===void 0?1:Vt;if(_t){n.removeItem(C,!1);return}for(var te=st.getModel();!st.isVisible();){var Ee=te.parentId,ze=te.comboId,Oe=Ee||ze;if(st=n.findById(Oe),!st||!Oe)return;te=st.getModel()}for(var er=te.id,hr=ut?F:I,rn=hr.getModel();!hr.isVisible();){var Dn=rn.parentId,yn=rn.comboId,Kr=Dn||yn;if(hr=n.findById(Kr),!hr||!Kr)return;if(rn.comboId===a.id||rn.parentId===a.id)break;rn=hr.getModel()}var Un=rn.id;if(er){var Fn=ut?{source:er,target:Un,isVEdge:!0,size:re}:{source:Un,target:er,isVEdge:!0,size:re},$r="".concat(Fn.source,"-").concat(Fn.target);if(d[$r]){d[$r].size+=re;return}d[$r]=Fn}}}}),this.addItems(Object.values(d).map(function(C){return{type:"vedge",model:C}}),!1),this.emit("aftercollapseexpandcombo",{action:"expand",item:t})},e.prototype.collapseExpandCombo=function(t,r){if(r===void 0&&(r=!0),(0,f.isString)(t)&&(t=this.findById(t)),!(!t||t.getType&&t.getType()!=="combo")){for(var n=t.getModel(),a=this.findById(n.parentId);a;){var o=a.getModel();if(o.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),a=void 0;return}a=this.findById(o.parentId)}var s=n.collapsed;s?this.expandCombo(t,r):this.collapseCombo(t,r),this.updateCombo(t)}},e.prototype.getNeighbors=function(t,r){var n=t;return(0,f.isString)(t)&&(n=this.findById(t)),n.getNeighbors(r)},e.prototype.getNodeDegree=function(t,r,n){r===void 0&&(r=void 0),n===void 0&&(n=!1);var a=t;(0,f.isString)(t)&&(a=this.findById(t));var o=this.get("degrees");(!o||n)&&(o=ye(this.save()),this.set("degrees",o));var s=o[a.getID()],u=0;if(!s)return 0;switch(r){case"in":u=s.inDegree;break;case"out":u=s.outDegree;break;case"all":u=s;break;default:u=s.degree;break}return u},e.prototype.getUndoStack=function(){return this.undoStack},e.prototype.getRedoStack=function(){return this.redoStack},e.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},e.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear(),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack}))},e.prototype.pushStack=function(t,r,n){if(t===void 0&&(t="update"),n===void 0&&(n="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var a=r?(0,f.clone)(r):{before:{},after:(0,f.clone)(this.save())};n==="redo"?this.redoStack.push({action:t,data:a}):this.undoStack.push({action:t,data:a}),this.emit("stackchange",{action:t,stackType:n,undoStack:this.undoStack,redoStack:this.redoStack})},e.prototype.getAdjMatrix=function(t,r){t===void 0&&(t=!0),r===void 0&&(r=this.get("directed"));var n=this.get("adjMatrix");return(!n||!t)&&(n=rt(this.save(),r),this.set("adjMatrix",n)),n},e.prototype.getShortestPathMatrix=function(t,r){t===void 0&&(t=!0),r===void 0&&(r=this.get("directed"));var n=this.get("adjMatrix"),a=this.get("shortestPathMatrix");return(!n||!t)&&(n=rt(this.save(),r),this.set("adjMatrix",n)),(!a||!t)&&(a=Ue(this.save(),r),this.set("shortestPathMatrix",a)),a},e.prototype.on=function(t,r,n){return i.prototype.on.call(this,t,r,n)},e.prototype.destroy=function(){var t,r,n,a,o;this.clear(),this.clearStack(),(t=this.get("itemController"))===null||t===void 0||t.destroy(),(r=this.get("modeController"))===null||r===void 0||r.destroy(),(n=this.get("viewController"))===null||n===void 0||n.destroy(),(a=this.get("stateController"))===null||a===void 0||a.destroy(),(o=this.get("canvas"))===null||o===void 0||o.destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},e.prototype.createHull=function(t){if(!t.members||t.members.length<1){console.warn("Create hull failed! The members is empty.");return}var r=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),(!r||r.get("destroyed"))&&(r=this.get("group").addGroup({id:"hullGroup"}),r.toBack(),this.set("hullGroup",r)),n[t.id])return console.warn("Existed hull id."),n[t.id];var a=r.addGroup({id:"".concat(t.id,"-container")}),o=new lp(this,(0,m.__assign)((0,m.__assign)({},t),{group:a})),s=o.id;return n[s]=o,o},e.prototype.getHulls=function(){return this.get("hullMap")},e.prototype.getHullById=function(t){return this.get("hullMap")[t]},e.prototype.removeHull=function(t){var r,n;(0,f.isString)(t)?n=this.getHullById(t):n=t,(r=this.get("hullMap"))===null||r===void 0||delete r[n.id],n.destroy()},e.prototype.removeHulls=function(){var t=this.getHulls();!t||!Object.keys(t).length||(Object.keys(t).forEach(function(r){var n=t[r];n.destroy()}),this.set("hullMap",{}))},e}(tt),cp=Pm;function Wh(i){return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(i)}var nd=vt,fp="-shape",Yh="-label",Kd=["startArrow","endArrow"],dp={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},Lm={lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},$d={edge:Lm,node:dp,combo:dp},Xh="-label-bg",jh={options:{labelCfg:{style:{fontFamily:Bt.windowFontFamily}},descriptionCfg:{style:{fontFamily:Bt.windowFontFamily}}},itemType:"",type:"",getCustomConfig:function(e){return{}},getOptions:function(e,t){return t==="move"||t!=null&&t.includes("bbox")?e:(0,f.deepMix)({},this.options,this.getCustomConfig(e)||{},e)},draw:function(e,t){t.shapeMap={},this.mergeStyle=this.getOptions(e);var r=this.drawShape(e,t);if(r.set("className",this.itemType+fp),t.shapeMap[this.itemType+fp]=r,e.label){var n=this.drawLabel(e,t);n.set("className",this.itemType+Yh),t.shapeMap[this.itemType+Yh]=n}return r},afterDraw:function(e,t,r){},drawShape:function(e,t){return null},drawLabel:function(e,t){var r=(this.mergeStyle||this.getOptions(e)||{}).labelCfg,n=r||{},a=this.getLabelStyle(e,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,draggable:!0,className:"text-shape",name:"text-shape",labelRelated:!0});if(t.shapeMap["text-shape"]=s,!isNaN(o)&&o!==""){var u=s.getBBox(),l=[1,0,0,0,1,0,0,0,1];if(a.rotateCenter)switch(a.rotateCenter){case"center":l=nd(l,[["t",-u.width/2,-u.height/2],["r",o],["t",u.width/2,u.height/2]]);break;case"lefttop":l=nd(l,[["t",-a.x,-a.y],["r",o],["t",a.x,a.y]]);break;case"leftcenter":l=nd(l,[["t",-a.x,-a.y-u.height/2],["r",o],["t",a.x,a.y+u.height/2]]);break;default:l=nd(l,[["t",-u.width/2,-u.height/2],["r",o],["t",u.width/2,u.height/2]]);break}else l=nd(l,[["t",-a.x,-a.y-u.height/2],["r",o],["t",a.x,a.y+u.height/2]]);s.setMatrix(l)}if(a.background){var c=this.drawLabelBg(e,t,s),d=this.itemType+Xh;c.set("classname",d),t.shapeMap[d]=c,s.toFront()}return s},drawLabelBg:function(e,t,r){var n=this.options.labelCfg,a=(0,f.mix)({},n,e.labelCfg),o=this.getLabelBgStyleByPosition(r,a),s=t.addShape("rect",{name:"text-bg-shape",attrs:o,labelRelated:!0});return t.shapeMap["text-bg-shape"]=s,s},getLabelStyleByPosition:function(e,t,r){return{text:e.label}},getLabelBgStyleByPosition:function(e,t){return{}},getLabelStyle:function(e,t,r){var n=this.getLabelStyleByPosition(e,t,r),a="".concat(this.itemType,"Label"),o=Bt[a]?Bt[a].style:null;return(0,m.__assign)((0,m.__assign)((0,m.__assign)({},o),n),t.style)},getShapeStyle:function(e){return e.style},update:function(e,t,r){this.updateShapeStyle(e,t,r),this.updateLabel(e,t,r)},updateShapeStyle:function(e,t,r){var n,a=t.getContainer(),o=t.getKeyShape(),s=(0,f.mix)({},o.attr(),e.style),u=function(d){var C,I=s[d];if((0,f.isPlainObject)(I)){var F=((n=a.shapeMap)===null||n===void 0?void 0:n[d])||a.find(function(H){return H.get("name")===d});F==null||F.attr(I)}else o.attr((C={},C[d]=I,C))};for(var l in s)u(l)},updateLabel:function(e,t,r){var n,a;if(e.label||e.label===""){var o=t.getContainer(),s=(this.mergeStyle||this.getOptions({},r)||{}).labelCfg,u=s===void 0?{}:s,l=this.itemType+Yh,c=o.shapeMap[l]||o.find(function(_t){return _t.get("className")===l}),d=this.itemType+Xh,C=o.shapeMap[d]||o.find(function(_t){return _t.get("className")===d});if(c){(!r||r==="bbox|label"||this.itemType==="edge"&&r!=="style")&&(u=(0,f.deepMix)(u,e.labelCfg));var F=this.getLabelStyleByPosition(e,u,o),H=(n=e.labelCfg)===null||n===void 0?void 0:n.style,J=(0,m.__assign)((0,m.__assign)({},F),H),st=J.rotate;if(delete J.rotate,!isNaN(st)&&st!==""){var ut=[1,0,0,0,1,0,0,0,1];ut=nd(ut,[["t",-J.x,-J.y],["r",st],["t",J.x,J.y]]),J.matrix=ut,c.attr(J)}else((a=c.getMatrix())===null||a===void 0?void 0:a[4])!==1&&c.resetMatrix(),c.attr(J);if(!C)J.background&&(C=this.drawLabelBg(e,o,c),C.set("classname",d),o.shapeMap[d]=C,c.toFront());else if(J.background){var ht=this.getLabelBgStyleByPosition(c,u);C.attr(ht)}else o.removeChild(C)}else{var I=this.drawLabel(e,o);I.set("className",l),o.shapeMap[l]=I}}},afterUpdate:function(e,t){},setState:function(e,t,r){var n,a,o,s=r.get("keyShape");if(!(!s||s.destroyed)){var u=r.getType(),l=(0,f.isBoolean)(t)?e:"".concat(e,":").concat(t),c=this.getStateStyle(l,r),d=r.getStateStyle(l);if(!(!d&&!c)){var C=(0,f.mix)({},d||c),I=r.getContainer(),F={x:1,y:1,cx:1,cy:1,matrix:1};if(u==="combo"&&(F.r=1,F.width=1,F.height=1),t){var H=function(Kr){var Un,Fn=C[Kr];if((0,f.isPlainObject)(Fn)&&!Kd.includes(Kr)){var $r=((o=I.shapeMap)===null||o===void 0?void 0:o[Kr])||I.find(function(gn){return gn.get("name")===Kr});$r==null||$r.attr(Fn)}else s.attr((Un={},Un[Kr]=Fn,Un))};for(var J in C)H(J)}else{var st=jo(r.getCurrentStatesStyle()),ut=r.getModel(),ht=(0,f.mix)({},ut.style,jo(r.getOriginStyle())),_t=s.get("name"),Vt=s.attr(),re={};Object.keys(Vt).forEach(function(yn){if(yn!=="img"){var Kr=Vt[yn];Kr&&Wh(Kr)==="object"?re[yn]=(0,f.clone)(Kr):re[yn]=Kr}});var te={},Ee=function(Kr){var Un=C[Kr];if((0,f.isPlainObject)(Un)&&!Kd.includes(Kr)){var Fn=I.shapeMap[Kr]||I.find(function(Pn){return Pn.get("name")===Kr});if(Fn){var $r=jo(Fn.attr());(0,f.each)(Un,function(Pn,Ln){if(Kr===_t&&re[Ln]&&!F[Ln]){delete re[Ln];var jn=ht[Kr][Ln]||$d[u][Ln];s.attr(Ln,jn)}else if($r[Ln]||$r[Ln]===0){delete $r[Ln];var ta=ht[Kr][Ln]||$d[u][Ln];Fn.attr(Ln,ta)}}),te[Kr]=$r}}else if(re[Kr]&&!F[Kr]){delete re[Kr];var gn=ht[Kr]||(ht[_t]?ht[_t][Kr]:void 0)||$d[u][Kr];s.attr(Kr,gn)}};for(var ze in C)Ee(ze);_t?te[_t]=re:(0,f.mix)(te,re);for(var J in st)if(!F[J]){var Oe=st[J];(!(0,f.isPlainObject)(Oe)||Kd.includes(J))&&(_t?((0,f.mix)(ht[_t],(a={},a[J]=Oe,a)),delete ht[J]):(0,f.mix)(ht,(n={},n[J]=Oe,n)),delete st[J])}var er={};(0,f.deepMix)(er,ht,te,st);var hr=!1,rn=function(Kr){var Un,Fn,$r=er[Kr];if((0,f.isPlainObject)($r)&&!Kd.includes(Kr)){var gn=I.shapeMap[Kr]||I.find(function(Ln){return Ln.get("name")===Kr});gn&&((gn.get("type")==="text"||gn.get("labelRelated"))&&(delete $r.x,delete $r.y,delete $r.matrix),Kr===_t&&(u==="combo"&&(delete $r.r,delete $r.width,delete $r.height),hr=!0),gn.attr($r))}else if(!hr){var Pn=$r||$d[u][Kr];u==="combo"?_t||s.attr((Un={},Un[Kr]=Pn,Un)):s.attr((Fn={},Fn[Kr]=Pn,Fn))}};for(var Dn in er)rn(Dn)}}}},getStateStyle:function(e,t){var r=t.getModel(),n=t.getType(),a=this.getOptions(r),o=a.stateStyles,s=a.style,u=s===void 0?{}:s,l=r.stateStyles?r.stateStyles[e]:o&&o[e];return n==="combo"?(0,f.clone)(l):(0,f.mix)({},u,l)},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t,r,n=(e==null?void 0:e.anchorPoints)||((t=this.getCustomConfig(e))===null||t===void 0?void 0:t.anchorPoints)||((r=this.options)===null||r===void 0?void 0:r.anchorPoints);return n}},Nm={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:Bt.nodeLabel.offset,getSize:function(e){var t,r=((t=this.mergeStyle)===null||t===void 0?void 0:t.size)||e.size||this.getOptions({}).size||Bt.defaultNode.size;return(0,f.isArray)(r)&&r.length===1&&(r=[r[0],r[0]]),(0,f.isArray)(r)||(r=[r,r]),r},getLabelStyleByPosition:function(e,t){var r=t.maxLength,n=e.label;r&&(n=qo(n,r));var a=t.position||this.labelPosition;if(a==="center")return{x:0,y:0,text:n,textBaseline:"middle",textAlign:"center"};var o=t.offset;(0,f.isNil)(o)&&(o=this.offset);var s=this.getSize(e),u;switch(a){case"top":u={x:0,y:-s[1]/2-o,textBaseline:"bottom",textAlign:"center"};break;case"bottom":u={x:0,y:s[1]/2+o,textBaseline:"top",textAlign:"center"};break;case"left":u={x:-s[0]/2-o,y:0,textBaseline:"middle",textAlign:"right"};break;default:u={x:s[0]/2+o,y:0,textBaseline:"middle",textAlign:"left"};break}return u.text=n,u},getLabelBgStyleByPosition:function(e,t){var r;if(!e)return{};var n=(r=t.style)===null||r===void 0?void 0:r.background;if(!n)return{};var a=e.getBBox(),o=Dh(n.padding),s=a.width+o[1]+o[3],u=a.height+o[0]+o[2];return(0,m.__assign)((0,m.__assign)({x:a.minX-o[3],y:a.minY-o[0]},n),{width:s,height:u})},drawShape:function(e,t){var r=this.shapeType,n=this.getShapeStyle(e),a=t.addShape(r,{attrs:n,draggable:!0,name:"node-shape"});return t.shapeMap["node-shape"]=a,a},updateLinkPoints:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).linkPoints,n=t.shapeMap["link-point-left"]||t.find(function(er){return er.get("className")==="link-point-left"}),a=t.shapeMap["link-point-right"]||t.find(function(er){return er.get("className")==="link-point-right"}),o=t.shapeMap["link-point-top"]||t.find(function(er){return er.get("className")==="link-point-top"}),s=t.shapeMap["link-point-bottom"]||t.find(function(er){return er.get("className")==="link-point-bottom"}),u;n&&(u=n.attr()),a&&!u&&(u=a.attr()),o&&!u&&(u=o.attr()),s&&!u&&(u=s.attr()),u||(u=r);var l=(0,f.mix)({},u,e.linkPoints),c=l.fill,d=l.stroke,C=l.lineWidth,I=l.size/2;I||(I=l.r);var F=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},H=F.left,J=F.right,st=F.top,ut=F.bottom,ht=this.getSize(e),_t=ht[0],Vt=ht[1],re={r:I,fill:c,stroke:d,lineWidth:C};if(n)!H&&H!==void 0?(n.remove(),delete t.shapeMap["link-point-left"]):n.attr((0,m.__assign)((0,m.__assign)({},re),{x:-_t/2,y:0}));else if(H){var te="link-point-left";t.shapeMap[te]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},re),{x:-_t/2,y:0}),className:te,name:te,isAnchorPoint:!0})}if(a)!J&&J!==void 0&&(a.remove(),delete t.shapeMap["link-point-right"]),a.attr((0,m.__assign)((0,m.__assign)({},re),{x:_t/2,y:0}));else if(J){var Ee="link-point-right";t.shapeMap[Ee]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},re),{x:_t/2,y:0}),className:Ee,name:Ee,isAnchorPoint:!0})}if(o)!st&&st!==void 0&&(o.remove(),delete t.shapeMap["link-point-top"]),o.attr((0,m.__assign)((0,m.__assign)({},re),{x:0,y:-Vt/2}));else if(st){var ze="link-point-top";t.shapeMap[ze]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},re),{x:0,y:-Vt/2}),className:ze,name:ze,isAnchorPoint:!0})}if(s)!ut&&ut!==void 0?(s.remove(),delete t.shapeMap["link-point-bottom"]):s.attr((0,m.__assign)((0,m.__assign)({},re),{x:0,y:Vt/2}));else if(ut){var Oe="link-point-bottom";t.shapeMap[Oe]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},re),{x:0,y:Vt/2}),className:Oe,name:Oe,isAnchorPoint:!0})}},updateShape:function(e,t,r,n,a){var o=t.get("keyShape");o.attr((0,m.__assign)({},r)),this.updateLabel(e,t,a),n&&this.updateIcon(e,t)},updateIcon:function(e,t){var r=this,n=t.getContainer(),a=(this.mergeStyle||this.getOptions(e)).icon,o=e.icon?e.icon:{show:void 0,text:void 0},s=o.show,u=o.text,l=n.shapeMap["".concat(this.type,"-icon")]||n.find(function(st){return st.get("name")==="".concat(r.type,"-icon")});if(l)if(s||s===void 0){var c=(0,f.mix)({},l.attr(),a),d=c.width,C=d===void 0?20:d,I=c.height,F=I===void 0?20:I;(c.fontFamily==="iconfont"||c.hasOwnProperty("text"))&&(C=0,F=0),l.attr((0,m.__assign)((0,m.__assign)({},c),{x:-C/2,y:-F/2}))}else l.remove(),delete n.shapeMap["".concat(this.type,"-icon")];else if(s){var H="".concat(this.type,"-icon");if(u)n.shapeMap[H]=n.addShape("text",{attrs:(0,m.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},a),className:H,name:H});else{var C=a.width,F=a.height;n.shapeMap[H]=n.addShape("image",{attrs:(0,m.__assign)((0,m.__assign)({},a),{x:-C/2,y:-F/2}),className:H,name:H})}var J=n.shapeMap["node-label"]||n.find(function(st){return st.get("name")==="node-label"});J&&J.toFront()}}},Rm=(0,m.__assign)((0,m.__assign)({},jh),Nm);ts.registerNode("single-node",Rm);var qd="edge-shape";function km(i){var e=i;return i==="start"?e="end":i==="end"&&(e="start"),e}var Bm={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:Bt.defaultEdge.size,style:{x:0,y:0,stroke:Bt.defaultEdge.style.stroke,lineAppendWidth:Bt.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Bt.edgeLabel.style.fill,fontSize:Bt.edgeLabel.style.fontSize,fontFamily:Bt.windowFontFamily}},stateStyles:(0,m.__assign)({},Bt.edgeStateStyles)},getPath:function(e){var t=[];return(0,f.each)(e,function(r,n){n===0?t.push(["M",r.x,r.y]):t.push(["L",r.x,r.y])}),t},getShapeStyle:function(e){var t=this.options.style,r={stroke:e.color},n=(0,f.mix)({},t,r,e.style),a=e.size||Bt.defaultEdge.size;e=this.getPathPoints(e);var o=e.startPoint,s=e.endPoint,u=this.getControlPoints(e),l=[o];u&&(l=l.concat(u)),l.push(s);var c=this.getPath(l),d=(0,f.mix)({},Bt.defaultEdge.style,{stroke:Bt.defaultEdge.color,lineWidth:a,path:c},n);return d},updateShapeStyle:function(e,t,r){var n,a=t.getContainer(),o=((n=t.getKeyShape)===null||n===void 0?void 0:n.call(t))||a.shapeMap["edge-shape"],s=e.size;e=this.getPathPoints(e);var u=e.startPoint,l=e.endPoint,c=this.getControlPoints(e),d=[u];c&&(d=d.concat(c)),d.push(l);var C=o.attr(),I=e.style||{};I.stroke===void 0&&(I.stroke=e.color);var F=e.sourceNode,H=e.targetNode,J={radius:I.radius};c||(J={source:F,target:H,offset:I.offset,radius:I.radius});var st=this.getPath(d,J),ut={};r==="move"?ut={path:st}:(C.endArrow&&I.endArrow===!1&&(e.style.endArrow={path:""}),C.startArrow&&I.startArrow===!1&&(e.style.startArrow={path:""}),ut=(0,m.__assign)({},e.style),ut.lineWidth===void 0&&(ut.lineWdith=((0,f.isNumber)(s)?s:s==null?void 0:s[0])||C.lineWidth),ut.path===void 0&&(ut.path=st),ut.stroke===void 0&&(ut.stroke=C.stroke||e.color)),o&&o.attr(ut)},getLabelStyleByPosition:function(e,t,r){var n=t.position||this.labelPosition,a={},o=r==null?void 0:r.shapeMap[qd],s;n==="start"?s=0:n==="end"?s=1:s=.5;var u=t.refX||this.refX,l=t.refY||this.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return a.x=e.startPoint.x+u,a.y=e.startPoint.y+l,a.text=e.label,a;var c;(0,f.isNil)(t.autoRotate)?c=this.labelAutoRotate:c=t.autoRotate;var d=Hi(o,s,u,l,c);return a.x=d.x,a.y=d.y,a.rotate=d.rotate,a.textAlign=this._getTextAlign(n,d.angle),a.text=e.label,a},getLabelBgStyleByPosition:function(e,t){if(!e)return{};var r=e.getBBox(),n=t.style&&t.style.background;if(!n)return{};var a=n.padding,o=r.width+a[1]+a[3],s=r.height+a[0]+a[2],u=(0,m.__assign)((0,m.__assign)({},n),{width:o,height:s,x:r.minX-a[3],y:r.minY-a[0],matrix:[1,0,0,0,1,0,0,0,1]}),l;return(0,f.isNil)(t.autoRotate)?l=this.labelAutoRotate:l=t.autoRotate,l&&(u.matrix=e.attr("matrix")||[1,0,0,0,1,0,0,0,1]),u},_getTextAlign:function(e,t){var r="center";return t?(t=t%(Math.PI*2),e!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?r=e:r=km(e)),r):e},getControlPoints:function(e){return e.controlPoints},getPathPoints:function(e){return e},drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("path",{className:qd,name:qd,attrs:r});return t.shapeMap[qd]=n,n},drawLabel:function(e,t){var r=this.options.labelCfg,n=(0,f.deepMix)({},r,e.labelCfg),a=this.getLabelStyle(e,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,name:"text-shape",labelRelated:!0});if(t.shapeMap["text-shape"]=s,!isNaN(o)&&o!==""&&s.rotateAtStart(o),a.background){var u=this.drawLabelBg(e,t,s,a,o),l=this.itemType+Xh;u.set("classname",l),t.shapeMap[l]=u,s.toFront()}return s},drawLabelBg:function(e,t,r,n,a){var o=this.options.labelCfg,s=(0,f.deepMix)({},o,e.labelCfg),u=this.getLabelBgStyleByPosition(r,s),l=t.addShape("rect",{name:"text-bg-shape",attrs:u,labelRelated:!0});return t.shapeMap["text-bg-shape"]=l,l}},Fm=(0,m.__assign)((0,m.__assign)({},jh),Bm);ts.registerEdge("single-edge",Fm),ts.registerEdge("line",{getControlPoints:function(){}},"single-edge"),ts.registerEdge("spline",{getPath:function(e){var t=tp(e);return t}},"single-edge"),ts.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(e){var t=e.startPoint,r=e.endPoint,n={x:(t.x+r.x)/2,y:(t.y+r.y)/2},a,o;if(e.controlPoints!==void 0){if(o=e.controlPoints[0],a=An(t,o,r),t.x<=r.x&&t.y>r.y?this.clockwise=a.x>o.x?0:1:t.x<=r.x&&t.y<r.y?this.clockwise=a.x>o.x?1:0:t.x>r.x&&t.y<=r.y?this.clockwise=a.y<o.y?0:1:this.clockwise=a.y<o.y?1:0,(o.x-t.x)/(o.y-t.y)===(r.x-t.x)/(r.y-t.y))return[]}else{e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),(0,f.isArray)(e.curveOffset)&&(e.curveOffset=e.curveOffset[0]),e.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:r.x-t.x,y:r.y-t.y},u=Math.atan2(s.y,s.x);o={x:e.curveOffset*Math.cos(-Math.PI/2+u)+n.x,y:e.curveOffset*Math.sin(-Math.PI/2+u)+n.y},a=An(t,o,r)}var l=Kn(t,a),c=[{x:l,y:l}];return c},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),e.length===2?t.push(["L",e[1].x,e[1].y]):t.push(["A",e[1].x,e[1].y,0,0,this.clockwise,e[2].x,e[2].y]),t}},"single-edge"),ts.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(e){var t=e.controlPoints;if(!t||!t.length){var r=e.startPoint,n=e.endPoint;e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),(0,f.isArray)(this.curveOffset)&&(e.curveOffset=e.curveOffset[0]),(0,f.isArray)(this.curvePosition)&&(e.curvePosition=e.curveOffset[0]);var a=Zd(r,n,e.curvePosition,e.curveOffset);t=[a]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["Q",e[1].x,e[1].y,e[2].x,e[2].y]),t}},"single-edge"),ts.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(e){var t=e.controlPoints;if(e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),(0,f.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,f.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]),!t||!t.length||t.length<2){var r=e.startPoint,n=e.endPoint,a=Zd(r,n,e.curvePosition[0],e.curveOffset[0]),o=Zd(r,n,e.curvePosition[1],e.curveOffset[1]);t=[a,o]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y]),t}},"single-edge"),ts.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,r=e.endPoint;e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.minCurveOffset===void 0&&(e.minCurveOffset=this.minCurveOffset),(0,f.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,f.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),(0,f.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var n=r.y-t.y,a=[0,0];e.curveOffset?a=e.curveOffset:Math.abs(n)<Math.abs(e.minCurveOffset[0])&&(a=e.minCurveOffset);var o={x:t.x,y:t.y+n*this.curvePosition[0]+a[0]},s={x:r.x,y:r.y-n*this.curvePosition[1]+a[1]};return[o,s]}},"cubic"),ts.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,r=e.endPoint;e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.minCurveOffset===void 0&&(e.minCurveOffset=this.minCurveOffset),(0,f.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,f.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),(0,f.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var n=r.x-t.x,a=[0,0];e.curveOffset?a=e.curveOffset:Math.abs(n)<Math.abs(e.minCurveOffset[0])&&(a=e.minCurveOffset);var o={x:t.x+n*this.curvePosition[0]+a[0],y:t.y},s={x:r.x-n*this.curvePosition[1]+a[1],y:r.y},u=[o,s];return u}},"cubic"),ts.registerEdge("loop",{getPathPoints:function(e){return hi(e)},getControlPoints:function(e){return e.controlPoints},afterDraw:function(e){e.controlPoints=void 0},afterUpdate:function(e){e.controlPoints=void 0}},"cubic");var zm={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:Bt.comboLabel.refX,refY:Bt.comboLabel.refY,options:{style:{stroke:Bt.defaultCombo.style.stroke,fill:Bt.defaultCombo.style.fill,lineWidth:Bt.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Bt.comboLabel.style.fill,fontSize:Bt.comboLabel.style.fontSize,fontFamily:Bt.windowFontFamily}},stateStyles:(0,m.__assign)({},Bt.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},getSize:function(e){var t=(0,f.clone)(e.size||this.options.size||Bt.defaultCombo.size);return(0,f.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,f.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var r=t.position||this.labelPosition,n=e.style,a=e.padding||this.options.padding;(0,f.isArray)(a)&&(a=Math.max.apply(Math,a));var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var u=this.getSize(e),l=Math.max(n.r,u[0]/2)||u[0]/2,c=l+a,d;switch(r){case"top":d={x:0,y:-c-s,textBaseline:"bottom",textAlign:"center"};break;case"bottom":d={x:0,y:c+s,textBaseline:"bottom",textAlign:"center"};break;case"left":d={x:-c+o,y:0,textAlign:"left"};break;case"center":d={x:0,y:0,text:e.label,textAlign:"center"};break;default:d={x:c+o,y:0,textAlign:"right"};break}return d.text=e.label,d},drawShape:function(e,t){var r=this.shapeType,n=this.getShapeStyle(e),a=t.addShape(r,{attrs:n,draggable:!0,name:"combo-shape"});return a},updateCollapsedIcon:function(e,t,r){var n=e.collapsed,a=e.collapsedSubstituteIcon,o=a===void 0?{}:a,s=Object.assign({},this.options.collapsedSubstituteIcon,o),u=s.show,l=s.img,c=s.width,d=s.height,C=t.getContainer(),I=C.find(function(st){return st.get("name")==="combo-collapsed-substitute-icon"}),F=I&&!I.destroyed,H=t.get("keyShape");if(n&&u){if(F)I.show();else{var J={width:c||r.r*2||r.width,height:d||r.r*2||r.height};I=C.addShape("image",{attrs:(0,m.__assign)({img:l,x:-J.width/2,y:-J.height/2},J),name:"combo-collapsed-substitute-icon",draggable:!0})}H.hide()}else F&&(I.hide(),H.show())},updateShape:function(e,t,r){var n=this,a=t.get("keyShape"),o=t.get("animate"),s=o&&(e.animate===void 0?this.options.animate:e.animate);s&&a.animate?(e.collapsed||this.updateCollapsedIcon(e,t,r),a.animate(r,{duration:200,easing:"easeLinear",callback:function(){e.collapsed&&n.updateCollapsedIcon(e,t,r)}})):(a.attr((0,m.__assign)({},r)),this.updateCollapsedIcon(e,t,r)),this.updateLabel(e,t)}},Gm=(0,m.__assign)((0,m.__assign)({},jh),zm);ts.registerCombo("single-combo",Gm),ts.registerCombo("circle",{options:{size:[Bt.defaultCombo.size[0],Bt.defaultCombo.size[0]],padding:Math.max.apply(Math,Bt.defaultCombo.padding),animate:!0,style:{stroke:Bt.defaultCombo.style.stroke,fill:Bt.defaultCombo.style.fill,lineWidth:Bt.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Bt.comboLabel.style.fill,fontSize:Bt.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:(0,m.__assign)({},Bt.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},shapeType:"circle",labelPosition:"top",drawShape:function(e,t){var r=this.getShapeStyle(e);delete r.height,delete r.width;var n=t.addShape("circle",{attrs:r,className:"circle-combo",name:"circle-combo",draggable:!0});return n},getShapeStyle:function(e){var t=this.options.style,r=e.padding||this.options.padding;(0,f.isArray)(r)&&(r=Math.max.apply(Math,r));var n={stroke:e.color},a=(0,f.mix)({},t,n,e.style),o=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize,s;if(o)s=(0,f.isNumber)(o)?o/2:o[0]/2;else{var u=this.getSize(e);!(0,f.isNumber)(a.r)||isNaN(a.r)?s=u[0]/2||Bt.defaultCombo.style.r:s=Math.max(a.r,u[0]/2)||u[0]/2}a.r=s+r;var l=(0,m.__assign)({x:0,y:0},a);return e.style?e.style.r=s:e.style={r:s},l},update:function(e,t){var r=this.getSize(e),n=e.padding||this.options.padding;(0,f.isArray)(n)&&(n=Math.max.apply(Math,n));var a=(0,f.clone)(e.style),o=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize,s;o?s=(0,f.isNumber)(o)?o/2:o[0]/2:s=Math.max(a.r,r[0]/2)||r[0]/2,a.r=s+n;var u=t.get("sizeCache");u&&(u.r=a.r);var l={stroke:e.color},c=t.get("keyShape"),d=(0,f.mix)({},c.attr(),l,a);e.style?e.style.r=s:e.style={r:s},this.updateShape(e,t,d,!0)}},"single-combo"),ts.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:Bt.defaultCombo.style.stroke,fill:Bt.defaultCombo.style.fill,lineWidth:Bt.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Bt.comboLabel.style.fill,fontSize:Bt.comboLabel.style.fontSize,fontFamily:Bt.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,m.__assign)({},Bt.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},shapeType:"rect",labelPosition:"top",drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("rect",{attrs:r,className:"rect-combo",name:"rect-combo",draggable:!0});return n},getLabelStyleByPosition:function(e,t){var r=t.position||this.labelPosition,n=e.style,a=e.padding||this.options.padding;(0,f.isNumber)(a)&&(a=[a,a,a,a]);var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var u=-n.width/2-a[3],l=n.width/2+a[1],c=-n.height/2-a[0],d=n.height/2+a[2],C;switch(r){case"top":C={x:u+o,y:c+s,textBaseline:"top",textAlign:"left"};break;case"bottom":C={x:0,y:d+s,textBaseline:"top",textAlign:"center"};break;case"left":C={x:u+s,y:0,textAlign:"left"};break;case"center":C={x:0,y:0,text:e.label,textAlign:"center"};break;case"top-center":C={x:0,y:c+s,textBaseline:"top",textAlign:"center"};break;default:C={x:l+o,y:0,textAlign:"right"};break}return C.text=e.label,C},getShapeStyle:function(e){var t=this.options.style,r=e.padding||this.options.padding;(0,f.isNumber)(r)&&(r=[r,r,r,r]);var n={stroke:e.color},a=(0,f.mix)({},t,n,e.style),o=this.getSize(e),s,u,l=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;l?(0,f.isNumber)(l)?(s=l,u=l):(s=l[0],u=l[1]):(!(0,f.isNumber)(a.width)||isNaN(a.width)?s=o[0]||Bt.defaultCombo.style.width:s=Math.max(a.width,o[0])||o[0],!(0,f.isNumber)(a.height)||isNaN(a.height)?u=o[1]||Bt.defaultCombo.style.height:u=Math.max(a.height,o[1])||o[1]);var c=-s/2-r[3],d=-u/2-r[0];a.width=s+r[1]+r[3],a.height=u+r[0]+r[2];var C=(0,m.__assign)({x:c,y:d},a);return e.style?(e.style.width=s,e.style.height=u):e.style={width:s,height:u},C},update:function(e,t){var r=this.getSize(e),n=e.padding||this.options.padding;(0,f.isNumber)(n)&&(n=[n,n,n,n]);var a=(0,f.clone)(e.style),o,s,u=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;u?(0,f.isNumber)(u)?(o=u,s=u):(o=u[0],s=u[1]):(o=Math.max(a.width,r[0])||r[0],s=Math.max(a.height,r[1])||r[1]),a.width=o+n[1]+n[3],a.height=s+n[0]+n[2];var l=t.get("sizeCache");l&&(l.width=a.width,l.height=a.height),a.x=-o/2-n[3],a.y=-s/2-n[0];var c={stroke:e.color},d=t.get("keyShape"),C=(0,f.mix)({},d.attr(),c,a);e.style?(e.style.width=o,e.style.height=s):e.style={width:o,height:s},this.updateShape(e,t,C,!1)}},"single-combo"),ts.registerNode("simple-circle",{options:{size:Bt.defaultNode.size,style:{x:0,y:0,stroke:Bt.defaultNode.style.stroke,fill:Bt.defaultNode.style.fill,lineWidth:Bt.defaultNode.style.lineWidth},labelCfg:{style:{fill:Bt.nodeLabel.style.fill,fontSize:Bt.nodeLabel.style.fontSize,fontFamily:Bt.windowFontFamily}},stateStyles:(0,m.__assign)({},Bt.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",shapeMap:{},drawShape:function(e,t){var r=this.getShapeStyle(e),n="".concat(this.type,"-keyShape"),a=t.addShape("circle",{attrs:r,className:"".concat(this.type,"-keyShape"),name:n,draggable:!0});return t.shapeMap[n]=a,a},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.deepMix)({},t,r),a=this.getSize(e),o=a[0]/2,s=(0,m.__assign)({x:0,y:0,r:o},n);return s},update:function(e,t,r){var n=this.getSize(e),a={stroke:e.color,r:n[0]/2},o=t.get("keyShape"),s=(0,f.deepMix)({},o.attr(),a,e.style);this.updateShape(e,t,s,!0,r)}},"single-node"),ts.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:Bt.defaultNode.style.stroke,fill:Bt.defaultNode.style.fill,lineWidth:Bt.defaultNode.style.lineWidth},labelCfg:{style:{fill:Bt.nodeLabel.style.fill,fontSize:Bt.nodeLabel.style.fontSize,fontFamily:Bt.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,m.__assign)({},Bt.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("rect",{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return n},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.mix)({},t,r),a=this.getSize(e),o=n.width||a[0],s=n.height||a[1],u=(0,m.__assign)({x:-o/2,y:-s/2,width:o,height:s},n);return u},update:function(e,t,r){var n=t.getContainer(),a=(this.mergeStyle||this.getOptions(e)).style,o=this.getSize(e),s=t.get("keyShape");e.size||(o[0]=s.attr("width")||a.width,o[1]=s.attr("height")||a.height);var u={stroke:e.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},l=(0,f.mix)({},a,s.attr(),u);l=(0,f.mix)(l,e.style),this.updateShape(e,t,l,!1,r)}},"single-node"),ts.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,labelCfg:{style:{fontFamily:Bt.windowFontFamily}},clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(e,t){var r=this.shapeType,n=this.getShapeStyle(e);delete n.fill;var a=t.addShape(r,{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return this.drawClip(e,a),a},drawClip:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).clipCfg;if(r.show){var n=r.type,a=r.x,o=r.y,s=r.style;if(n==="circle"){var u=r.r;t.setClip({type:"circle",attrs:(0,m.__assign)({r:u,x:a,y:o},s)})}else if(n==="rect"){var l=r.width,c=r.height,d=a-l/2,C=o-c/2;t.setClip({type:"rect",attrs:(0,m.__assign)({x:d,y:C,width:l,height:c},s)})}else if(n==="ellipse"){var I=r.rx,F=r.ry;t.setClip({type:"ellipse",attrs:(0,m.__assign)({x:a,y:o,rx:I,ry:F},s)})}else if(n==="polygon"){var H=r.points;t.setClip({type:"polygon",attrs:(0,m.__assign)({points:H},s)})}else if(n==="path"){var J=r.path;t.setClip({type:"path",attrs:(0,m.__assign)({path:J},s)})}}},getShapeStyle:function(e){var t=this.mergeStyle||this.getOptions(e),r=t.style,n=t.img,a=this.getSize(e),o=a[0],s=a[1];r&&(o=r.width||a[0],s=r.height||a[1]);var u=(0,m.__assign)({x:-o/2,y:-s/2,width:o,height:s,img:n},r);return u},updateShapeStyle:function(e,t){var r=t.getContainer(),n="".concat(this.itemType,"-shape"),a=r.shapeMap[n]||r.find(function(s){return s.get("className")===n})||t.getKeyShape(),o=this.getShapeStyle(e);a&&!a.destroyed&&a.attr(o)}},"single-node");var hp={triangle:function(e,t,r){e===void 0&&(e=10),t===void 0&&(t=15),r===void 0&&(r=0);var n=r*2,a="M ".concat(n,",0 L ").concat(n+t,",-").concat(e/2," L ").concat(n+t,",").concat(e/2," Z");return a},vee:function(e,t,r){e===void 0&&(e=15),t===void 0&&(t=20),r===void 0&&(r=0);var n=r*2,a="M ".concat(n,",0 L ").concat(n+t,",-").concat(e/2,`
        L `).concat(n+2*t/3,",0 L ").concat(n+t,",").concat(e/2," Z");return a},circle:function(e,t){e===void 0&&(e=5),t===void 0&&(t=0);var r=t*2,n="M ".concat(r,`, 0
            a `).concat(e,",").concat(e," 0 1,0 ").concat(e*2,`,0
            a `).concat(e,",").concat(e," 0 1,0 ").concat(-e*2,",0");return n},rect:function(e,t,r){e===void 0&&(e=10),t===void 0&&(t=10),r===void 0&&(r=0);var n=r*2,a="M ".concat(n,",").concat(-e/2,` 
        L `).concat(n+t,",").concat(-e/2,` 
        L `).concat(n+t,",").concat(e/2,` 
        L `).concat(n,",").concat(e/2," Z");return a},diamond:function(e,t,r){e===void 0&&(e=15),t===void 0&&(t=15),r===void 0&&(r=0);var n=r*2,a="M ".concat(n,`,0 
        L `).concat(n+t/2,",").concat(-e/2,` 
        L `).concat(n+t,`,0 
        L `).concat(n+t/2,",").concat(e/2," Z");return a},triangleRect:function(e,t,r,n,a,o){e===void 0&&(e=15),t===void 0&&(t=15),r===void 0&&(r=15),n===void 0&&(n=3),a===void 0&&(a=5),o===void 0&&(o=0);var s=o*2,u=s+t+a,l="M ".concat(s,",0 L ").concat(s+t,",-").concat(e/2," L ").concat(s+t,",").concat(e/2,` Z
            M `).concat(u,", -").concat(r/2,`
            L `).concat(u+n," -").concat(r/2,`
            L `).concat(u+n," ").concat(r/2,`
            L `).concat(u," ").concat(r/2,`
            Z`);return l}},vp={collapse:function(e,t,r){return[["M",e-r,t],["a",r,r,0,1,0,r*2,0],["a",r,r,0,1,0,-r*2,0],["M",e-r+4,t],["L",e+r-4,t]]},expand:function(e,t,r){return[["M",e-r,t],["a",r,r,0,1,0,r*2,0],["a",r,r,0,1,0,-r*2,0],["M",e-r+4,t],["L",e-r+2*r-4,t],["M",e-r+r,t-r+4],["L",e,t+r-4]]},upTriangle:function(e,t,r){var n=r*Math.cos(Math.PI/6),a=r*Math.sin(Math.PI/6);return[["M",e-n,t+a],["L",e+n,t+a],["L",e,t-r],["Z"]]},downTriangle:function(e,t,r){var n=r*Math.cos(Math.PI/6),a=r*Math.sin(Math.PI/6);return[["M",e-n,t-a],["L",e+n,t-a],["L",e,t+r],["Z"]]}},ec=ts,Um=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],pp=function(e){return e==="force"||e==="g6force"||e==="gForce"||e==="force2"},Wm=vt,Ym=(0,m.__assign)((0,m.__assign)((0,m.__assign)((0,m.__assign)((0,m.__assign)((0,m.__assign)((0,m.__assign)({},L),w),p),R),g),S),{transform:Wm,mat3:q}),us=Ym,Xm=function(){function i(e){this.graph=e,this.layoutCfg=e.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return i.prototype.initLayout=function(){},i.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},i.prototype.getLayoutCfgType=function(e){var t=e.type;if(t)return t;var r=e.pipes;return Array.isArray(r)?r.map(function(n){return(n==null?void 0:n.type)||""}):null},i.prototype.isLayoutTypeSame=function(e){var t=this.getLayoutCfgType(e),r=Array.isArray(this.layoutType),n=Array.isArray(t);return r&&n?this.layoutType.every(function(a,o){return a===t[o]}):Array.isArray(t)||Array.isArray(this.layoutType)?!1:(e==null?void 0:e.type)===this.layoutType},i.prototype.refreshLayout=function(){var e=this,t=e.graph,r=e.layoutType,n=e.layoutCfg,a=n===void 0?{}:n;if(t){var o=a.animate,s=o===void 0&&(r==="force"||r==="force2"),u=pp(r)&&(o||s);t.get("animate")&&!u?t.positionsAnimate(r==="comboCombined"):t.refreshPositions(r==="comboCombined")}},i.prototype.changeLayout=function(e){var t=e.disableTriggerLayout,r=(0,m.__rest)(e,["disableTriggerLayout"]);this.layoutCfg=r,this.layoutType=r.type||this.layoutType,!t&&this.layout()},i.prototype.changeData=function(e){this.layout(e)},i.prototype.destoryLayoutMethods=function(){var e=this.layoutMethods,t=[];return e==null||e.forEach(function(r){var n,a=(n=r.getType)===null||n===void 0?void 0:n.call(r);a&&t.push(a),r.destroy()}),this.layoutMethods=[],t},i.prototype.destroyLayout=function(){this.destoryLayoutMethods();var e=this.graph;e&&!e.get("destroyed")&&e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},i.prototype.setDataFromGraph=function(){for(var e,t=[],r=[],n=[],a=[],o=[],s=[],u=[],l=this.graph.getNodes(),c=this.graph.getEdges(),d=this.graph.getCombos(),C=l.length,I=0;I<C;I++){var F=l[I];if(!(!F||F.destroyed)){var H=F.getModel();if(!F.isVisible()){r.push(H);continue}t.push(H)}}for(var J=c.length,I=0;I<J;I++){var st=c[I];if(!(!st||st.destroyed)){var H=st.getModel();if(!st.isVisible()){a.push(H);continue}H.isComboEdge?o.push(H):n.push(H)}}for(var ut=d.length,I=0;I<ut;I++){var ht=d[I];if(!ht.destroyed){var H=ht.getModel();if(!ht.isVisible()){u.push(H);continue}s.push(H)}}return{nodes:t,hiddenNodes:r,edges:n,hiddenEdges:a,combos:s,hiddenCombos:u,comboEdges:o,vedges:(e=this.graph.get("vedges"))===null||e===void 0?void 0:e.map(function(_t){return _t.getModel()})}},i.prototype.relayout=function(e){var t=this,r=this,n=r.graph,a=r.layoutMethods,o=r.layoutCfg;if(!(!n||n.get("destroyed"))){if(e){this.data=this.setDataFromGraph();var s=this.data.nodes;if(!s)return!1;this.initPositions(o.center,s)}n.emit("beforelayout");var u=Promise.resolve();a==null||a.forEach(function(l,c){var d=o[c]||o;u=u.then(function(){var C,I=t.execLayoutMethod(d,c);return c===a.length-1&&((C=o.onAllLayoutEnd)===null||C===void 0||C.call(o)),I})})}},i.prototype.filterLayoutData=function(e,t){var r=e.nodes,n=e.edges,a=(0,m.__rest)(e,["nodes","edges"]);if(!r)return e;var o,s;(0,f.isFunction)(t==null?void 0:t.nodesFilter)?o=t.nodesFilter:o=function(){return!0};var u=r.filter(o);if((0,f.isFunction)(t==null?void 0:t.edgesFilter))s=t.edgesFilter;else{var l=u.reduce(function(c,d){return c[d.id]=!0,c},{});s=function(d){return l[d.source]&&l[d.target]}}return(0,m.__assign)({nodes:u,edges:n.filter(s)},a)},i.prototype.getLayoutBBox=function(e){var t=this.graph,r=(0,f.groupBy)(t.getNodes(),function(o){return o.getModel().layoutOrder}),n=Object.values(r).map(function(o){var s=Bv(o);return s.size=[s.width,s.height],s}),a=Object.values((0,f.groupBy)(e,"layoutOrder"));return{groupNodes:a,layoutNodes:n}},i.prototype.layoutAnimate=function(){},i.prototype.moveToZero=function(){var e=this.graph,t=e.get("data"),r=t.nodes;if(!(r[0].x===void 0||r[0].x===null||Gu(r[0].x))){for(var n=[0,0],a=r.length,o=0;o<a;o++){var s=r[o];n[0]+=s.x,n[1]+=s.y}n[0]/=r.length,n[1]/=r.length;for(var o=0;o<a;o++){var s=r[o];s.x-=n[0],s.y-=n[1]}}},i.prototype.initPositions=function(e,t){var r,n=this.graph;if(!t)return!1;var a=t.filter(function(ht){return Gu(ht.x)||Gu(ht.y)}),o=a?a.length:0;if(o){var s=(r=this.initWithPreset)===null||r===void 0?void 0:r.call(this);if(s)return!1;var u=n.get("width")*.85,l=n.get("height")*.85,c=Math.ceil(Math.sqrt(o)*(u/l)),d=Math.ceil(o/c),C=u/(c-1),I=l/(d-1);(!isFinite(C)||!C)&&(C=0),(!isFinite(I)||!C)&&(I=0);for(var F=e[0]-u/2,H=e[1]-l/2,J=!0,st=0;st<o;st++){var ut=a[st];Gu(+ut.x)&&(J=!1,ut.x=st%c*C+F),Gu(+ut.y)&&(J=!1,ut.y=Math.floor(st/c)*I+H)}return J}},i.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},i}(),gp=Xm,jm=function(){function i(e){this.graph=e,this.destroyed=!1,this.initEvents()}return i}(),mp=jm,Sl=ec.registerNode,yp=ec.registerEdge,Vm=ec.registerCombo,bp=k.registerBehavior,Gn=Bt,$S={version:Bt.version,AbstractGraph:cp,BaseGlobal:Gn,Util:us,Shape:ec,Node:Fh,Edge:Vv,Combo:qv,Hull:lp,registerNode:ec.registerNode,registerEdge:ec.registerEdge,registerCombo:ec.registerCombo,registerBehavior:k.registerBehavior,Arrow:hp,Marker:vp,AbstractLayout:gp,AbstractEvent:mp},Hm=_(810369);function Zm(){return window?window.devicePixelRatio:1}function xp(i,e,t,r){var n=i-t,a=e-r;return Math.sqrt(n*n+a*a)}function af(i,e,t,r,n,a){return n>=i&&n<=i+t&&a>=e&&a<=e+r}function wd(i,e){return!(e.minX>i.maxX||e.maxX<i.minX||e.minY>i.maxY||e.maxY<i.minY)}function Km(i,e){return!i||!e?i||e:{minX:Math.min(i.minX,e.minX),minY:Math.min(i.minY,e.minY),maxX:Math.max(i.maxX,e.maxX),maxY:Math.max(i.maxY,e.maxY)}}function Ep(i,e){return i[0]===e[0]&&i[1]===e[1]}var $m=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,qm=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Qm=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,wp=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Sp(i,e){var t=i.match(wp);(0,f.each)(t,function(r){var n=r.split(":");e.addColorStop(n[0],n[1])})}function Jm(i,e,t){var r=$m.exec(t),n=parseFloat(r[1])%360*(Math.PI/180),a=r[2],o=e.getBBox(),s,u;n>=0&&n<1/2*Math.PI?(s={x:o.minX,y:o.minY},u={x:o.maxX,y:o.maxY}):1/2*Math.PI<=n&&n<Math.PI?(s={x:o.maxX,y:o.minY},u={x:o.minX,y:o.maxY}):Math.PI<=n&&n<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},u={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},u={x:o.maxX,y:o.minY});var l=Math.tan(n),c=l*l,d=(u.x-s.x+l*(u.y-s.y))/(c+1)+s.x,C=l*(u.x-s.x+l*(u.y-s.y))/(c+1)+s.y,I=i.createLinearGradient(s.x,s.y,d,C);return Sp(a,I),I}function ty(i,e,t){var r=qm.exec(t),n=parseFloat(r[1]),a=parseFloat(r[2]),o=parseFloat(r[3]),s=r[4];if(o===0){var u=s.match(wp);return u[u.length-1].split(":")[1]}var l=e.getBBox(),c=l.maxX-l.minX,d=l.maxY-l.minY,C=Math.sqrt(c*c+d*d)/2,I=i.createRadialGradient(l.minX+c*n,l.minY+d*a,0,l.minX+c/2,l.minY+d/2,o*C);return Sp(s,I),I}function ey(i,e,t){if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var r,n,a=Qm.exec(t),o=a[1],s=a[2];function u(){r=i.createPattern(n,o),e.set("pattern",r),e.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return n=new Image,s.match(/^data:/i)||(n.crossOrigin="Anonymous"),n.src=s,n.complete?u():(n.onload=u,n.src=n.src),r}function ry(i,e,t){var r=e.getBBox();if(isNaN(r.x)||isNaN(r.y)||isNaN(r.width)||isNaN(r.height))return t;if((0,f.isString)(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return Jm(i,e,t);if(t[0]==="r")return ty(i,e,t);if(t[0]==="p")return ey(i,e,t)}return t}if(t instanceof CanvasPattern)return t}function ny(i){var e=0,t=0,r=0,n=0;return(0,f.isArray)(i)?i.length===1?e=t=r=n=i[0]:i.length===2?(e=r=i[0],t=n=i[1]):i.length===3?(e=i[0],t=n=i[1],r=i[2]):(e=i[0],t=i[1],r=i[2],n=i[3]):e=t=r=n=i,[e,t,r,n]}function Qd(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function Vh(i,e){return Qd(i)*Qd(e)?(i[0]*e[0]+i[1]*e[1])/(Qd(i)*Qd(e)):1}function Mp(i,e){return(i[0]*e[1]<i[1]*e[0]?-1:1)*Math.acos(Vh(i,e))}function _p(i,e){var t=e[1],r=e[2],n=(0,f.mod)((0,f.toRadian)(e[3]),Math.PI*2),a=e[4],o=e[5],s=i[0],u=i[1],l=e[6],c=e[7],d=Math.cos(n)*(s-l)/2+Math.sin(n)*(u-c)/2,C=-1*Math.sin(n)*(s-l)/2+Math.cos(n)*(u-c)/2,I=d*d/(t*t)+C*C/(r*r);I>1&&(t*=Math.sqrt(I),r*=Math.sqrt(I));var F=t*t*(C*C)+r*r*(d*d),H=F?Math.sqrt((t*t*(r*r)-F)/F):1;a===o&&(H*=-1),isNaN(H)&&(H=0);var J=r?H*t*C/r:0,st=t?H*-r*d/t:0,ut=(s+l)/2+Math.cos(n)*J-Math.sin(n)*st,ht=(u+c)/2+Math.sin(n)*J+Math.cos(n)*st,_t=[(d-J)/t,(C-st)/r],Vt=[(-1*d-J)/t,(-1*C-st)/r],re=Mp([1,0],_t),te=Mp(_t,Vt);return Vh(_t,Vt)<=-1&&(te=Math.PI),Vh(_t,Vt)>=1&&(te=0),o===0&&te>0&&(te=te-2*Math.PI),o===1&&te<0&&(te=te+2*Math.PI),{cx:ut,cy:ht,rx:Ep(i,[l,c])?0:t,ry:Ep(i,[l,c])?0:r,startAngle:re,endAngle:re+te,xRotation:n,arcFlag:a,sweepFlag:o}}var Jd=Math.sin,th=Math.cos,Hh=Math.atan2,eh=Math.PI;function Cp(i,e,t,r,n,a,o){var s=e.stroke,u=e.lineWidth,l=t-n,c=r-a,d=Hh(c,l),C=new tv({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*th(eh/6)+","+10*Jd(eh/6)+" L0,0 L"+10*th(eh/6)+",-"+10*Jd(eh/6),stroke:s,lineWidth:u}});C.translate(n,a),C.rotateAtPoint(n,a,d),i.set(o?"startArrowShape":"endArrowShape",C)}function Tp(i,e,t,r,n,a,o){var s=e.startArrow,u=e.endArrow,l=e.stroke,c=e.lineWidth,d=o?s:u,C=d.d,I=d.fill,F=d.stroke,H=d.lineWidth,J=(0,m.__rest)(d,["d","fill","stroke","lineWidth"]),st=t-n,ut=r-a,ht=Hh(ut,st);C&&(n=n-th(ht)*C,a=a-Jd(ht)*C);var _t=new tv({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:(0,m.__assign)((0,m.__assign)({},J),{stroke:F||l,lineWidth:H||c,fill:I})});_t.translate(n,a),_t.rotateAtPoint(n,a,ht),i.set(o?"startArrowShape":"endArrowShape",_t)}function of(i,e,t,r,n){var a=Hh(r-e,t-i);return{dx:th(a)*n,dy:Jd(a)*n}}function Zh(i,e,t,r,n,a){typeof e.startArrow=="object"?Tp(i,e,t,r,n,a,!0):e.startArrow?Cp(i,e,t,r,n,a,!0):i.set("startArrowShape",null)}function Kh(i,e,t,r,n,a){typeof e.endArrow=="object"?Tp(i,e,t,r,n,a,!1):e.endArrow?Cp(i,e,t,r,n,a,!1):i.set("startArrowShape",null)}var Ap={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function ad(i,e){var t=e.attr();for(var r in t){var n=t[r],a=Ap[r]?Ap[r]:r;a==="matrix"&&n?i.transform(n[0],n[1],n[3],n[4],n[6],n[7]):a==="lineDash"&&i.setLineDash?(0,f.isArray)(n)&&i.setLineDash(n):(a==="strokeStyle"||a==="fillStyle"?n=ry(i,e,n):a==="globalAlpha"&&(n=n*i.globalAlpha),i[a]=n)}}function $h(i,e,t){for(var r=0;r<e.length;r++){var n=e[r];n.cfg.visible?n.draw(i,t):n.skipDraw()}}function ay(i,e,t){var r=i.get("refreshElements");(0,f.each)(r,function(n){if(n!==i)for(var a=n.cfg.parent;a&&a!==i&&!a.cfg.refresh;)a.cfg.refresh=!0,a=a.cfg.parent}),r[0]===i?Qh(e,t):qh(e,t)}function qh(i,e){for(var t=0;t<i.length;t++){var r=i[t];if(r.cfg.visible)if(r.cfg.hasChanged)r.cfg.refresh=!0,r.isGroup()&&Qh(r.cfg.children,e);else if(r.cfg.refresh)r.isGroup()&&qh(r.cfg.children,e);else{var n=iy(r,e);r.cfg.refresh=n,n&&r.isGroup()&&qh(r.cfg.children,e)}}}function Op(i){for(var e=0;e<i.length;e++){var t=i[e];t.cfg.hasChanged=!1,t.isGroup()&&!t.destroyed&&Op(t.cfg.children)}}function Qh(i,e){for(var t=0;t<i.length;t++){var r=i[t];r.cfg.refresh=!0,r.isGroup()&&Qh(r.get("children"),e)}}function iy(i,e){var t=i.cfg.cacheCanvasBBox,r=i.cfg.isInView&&t&&wd(t,e);return r}function Ip(i,e,t,r){var n=t.path,a=t.startArrow,o=t.endArrow;if(n){var s=[0,0],u=[0,0],l={dx:0,dy:0};e.beginPath();for(var c=0;c<n.length;c++){var d=n[c],C=d[0];if(c===0&&a&&a.d){var I=i.getStartTangent();l=of(I[0][0],I[0][1],I[1][0],I[1][1],a.d)}else if(c===n.length-2&&n[c+1][0]==="Z"&&o&&o.d){var F=n[c+1];if(F[0]==="Z"){var I=i.getEndTangent();l=of(I[0][0],I[0][1],I[1][0],I[1][1],o.d)}}else if(c===n.length-1&&o&&o.d&&n[0]!=="Z"){var I=i.getEndTangent();l=of(I[0][0],I[0][1],I[1][0],I[1][1],o.d)}var H=l.dx,J=l.dy;switch(C){case"M":e.moveTo(d[1]-H,d[2]-J),u=[d[1],d[2]];break;case"L":e.lineTo(d[1]-H,d[2]-J);break;case"Q":e.quadraticCurveTo(d[1],d[2],d[3]-H,d[4]-J);break;case"C":e.bezierCurveTo(d[1],d[2],d[3],d[4],d[5]-H,d[6]-J);break;case"A":{var st=void 0;r?(st=r[c],st||(st=_p(s,d),r[c]=st)):st=_p(s,d);var ut=st.cx,ht=st.cy,_t=st.rx,Vt=st.ry,re=st.startAngle,te=st.endAngle,Ee=st.xRotation,ze=st.sweepFlag;if(e.ellipse)e.ellipse(ut,ht,_t,Vt,Ee,re,te,1-ze);else{var Oe=_t>Vt?_t:Vt,er=_t>Vt?1:_t/Vt,hr=_t>Vt?Vt/_t:1;e.translate(ut,ht),e.rotate(Ee),e.scale(er,hr),e.arc(0,0,Oe,re,te,1-ze),e.scale(1/er,1/hr),e.rotate(-Ee),e.translate(-ut,-ht)}break}case"Z":e.closePath();break;default:break}if(C==="Z")s=u;else{var rn=d.length;s=[d[rn-2],d[rn-1]]}}}}function Dp(i,e){var t=i.get("canvas");t&&(e==="remove"&&(i._cacheCanvasBBox=i.get("cacheCanvasBBox")),i.get("hasChanged")||(i.set("hasChanged",!0),i.cfg.parent&&i.cfg.parent.get("hasChanged")||(t.refreshElement(i,e,t),t.get("autoDraw")&&t.draw())))}function oy(i){var e;if(i.destroyed)e=i._cacheCanvasBBox;else{var t=i.get("cacheCanvasBBox"),r=t&&!!(t.width&&t.height),n=i.getCanvasBBox(),a=n&&!!(n.width&&n.height);r&&a?e=Km(t,n):r?e=t:a&&(e=n)}return e}function sy(i){if(!i.length)return null;var e=[],t=[],r=[],n=[];return(0,f.each)(i,function(a){var o=oy(a);o&&(e.push(o.minX),t.push(o.minY),r.push(o.maxX),n.push(o.maxY))}),{minX:(0,f.min)(e),minY:(0,f.min)(t),maxX:(0,f.max)(r),maxY:(0,f.max)(n)}}function uy(i,e){return!i||!e||!wd(i,e)?null:{minX:Math.max(i.minX,e.minX),minY:Math.max(i.minY,e.minY),maxX:Math.min(i.maxX,e.maxX),maxY:Math.min(i.maxY,e.maxY)}}var ly=function(i){(0,m.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.onCanvasChange=function(t){Dp(this,t)},e.prototype.getShapeBase=function(){return E},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,r){r&&(t.save(),ad(t,r),r.createPath(t),t.restore(),t.clip(),r._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,r=[],n=[];(0,f.each)(t,function(C){var I=C.cfg.cacheCanvasBBox;I&&C.cfg.isInView&&(r.push(I.minX,I.maxX),n.push(I.minY,I.maxY))});var a=null;if(r.length){var o=(0,f.min)(r),s=(0,f.max)(r),u=(0,f.min)(n),l=(0,f.max)(n);a={minX:o,minY:u,x:o,y:u,maxX:s,maxY:l,width:s-o,height:l-u};var c=this.cfg.canvas;if(c){var d=c.getViewRange();this.set("isInView",wd(a,d))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",a)},e.prototype.draw=function(t,r){var n=this.cfg.children,a=r?this.cfg.refresh:!0;n.length&&a&&(t.save(),ad(t,this),this._applyClip(t,this.getClip()),$h(t,n,r),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(Qc),Pp=ly,cy=function(i){(0,m.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,m.__assign)((0,m.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return E},e.prototype.getGroupBase=function(){return Pp},e.prototype.onCanvasChange=function(t){Dp(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),r=this.getHitLineWidth(),n=ef(t),a=n(this),o=r/2,s=a.x-o,u=a.y-o,l=a.x+a.width+o,c=a.y+a.height+o;return{x:s,minX:s,y:u,minY:u,width:a.width+r,height:a.height+r,maxX:l,maxY:c}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,r){r&&(t.save(),ad(t,r),r.createPath(t),t.restore(),t.clip(),r._afterDraw())},e.prototype.draw=function(t,r){var n=this.cfg.clipShape;if(r){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var a=this.getCanvasBBox();if(!wd(r,a)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}t.save(),ad(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var r=this.getCanvasBBox(),n=wd(r,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",r):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var r=this.attrs,n=r.lineWidth,a=r.opacity,o=r.strokeOpacity,s=r.fillOpacity;this.isFill()&&(!(0,f.isNil)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.isStroke()&&n>0&&(!(0,f.isNil)(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,r){var n=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,r,n,a,o)},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(bl),yu=cy,fy=function(i){(0,m.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,m.__assign)((0,m.__assign)({},t),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.attr(),u=s.x,l=s.y,c=s.r,d=o/2,C=xp(u,l,t,r);return a&&n?C<=c+d:a?C<=c:n?C>=c-d&&C<=c+d:!1},e.prototype.createPath=function(t){var r=this.attr(),n=r.x,a=r.y,o=r.r;t.beginPath(),t.arc(n,a,o,0,Math.PI*2,!1),t.closePath()},e}(yu),dy=fy;function rh(i,e,t,r){return i/(t*t)+e/(r*r)}var hy=function(i){(0,m.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,m.__assign)((0,m.__assign)({},t),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.attr(),u=o/2,l=s.x,c=s.y,d=s.rx,C=s.ry,I=(t-l)*(t-l),F=(r-c)*(r-c);return a&&n?rh(I,F,d+u,C+u)<=1:a?rh(I,F,d,C)<=1:n?rh(I,F,d-u,C-u)>=1&&rh(I,F,d+u,C+u)<=1:!1},e.prototype.createPath=function(t){var r=this.attr(),n=r.x,a=r.y,o=r.rx,s=r.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,a,o,s,0,0,Math.PI*2,!1);else{var u=o>s?o:s,l=o>s?1:o/s,c=o>s?s/o:1;t.save(),t.translate(n,a),t.scale(l,c),t.arc(0,0,u,0,Math.PI*2),t.restore(),t.closePath()}},e}(yu),vy=hy;function Lp(i){return i instanceof HTMLElement&&(0,f.isString)(i.nodeName)&&i.nodeName.toUpperCase()==="CANVAS"}var py=function(i){(0,m.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,m.__assign)((0,m.__assign)({},t),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var r=this,n=this.attrs;if((0,f.isString)(t)){var a=new Image;a.onload=function(){if(r.destroyed)return!1;r.attr("img",a),r.set("loading",!1),r._afterLoading();var o=r.get("callback");o&&o.call(r)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):Lp(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),t==="img"&&this._setImage(r)},e.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var r=this.attr(),n=r.x,a=r.y,o=r.width,s=r.height,u=r.sx,l=r.sy,c=r.swidth,d=r.sheight,C=r.img;(C instanceof Image||Lp(C))&&(!(0,f.isNil)(u)&&!(0,f.isNil)(l)&&!(0,f.isNil)(c)&&!(0,f.isNil)(d)?t.drawImage(C,u,l,c,d,n,a,o,s):t.drawImage(C,n,a,o,s))},e}(yu),gy=py;function rc(i,e,t,r,n,a,o){var s=Math.min(i,t),u=Math.max(i,t),l=Math.min(e,r),c=Math.max(e,r),d=n/2;return a>=s-d&&a<=u+d&&o>=l-d&&o<=c+d?_r.pointToLine(i,e,t,r,a,o)<=n/2:!1}var my=function(i){(0,m.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,m.__assign)((0,m.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),r=t.x1,n=t.y1,a=t.x2,o=t.y2,s=t.startArrow,u=t.endArrow;s&&Zh(this,t,a,o,r,n),u&&Kh(this,t,r,n,a,o)},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){if(!n||!o)return!1;var s=this.attr(),u=s.x1,l=s.y1,c=s.x2,d=s.y2;return rc(u,l,c,d,o,t,r)},e.prototype.createPath=function(t){var r=this.attr(),n=r.x1,a=r.y1,o=r.x2,s=r.y2,u=r.startArrow,l=r.endArrow,c={dx:0,dy:0},d={dx:0,dy:0};u&&u.d&&(c=of(n,a,o,s,r.startArrow.d)),l&&l.d&&(d=of(n,a,o,s,r.endArrow.d)),t.beginPath(),t.moveTo(n+c.dx,a+c.dy),t.lineTo(o-d.dx,s-d.dy)},e.prototype.afterDrawPath=function(t){var r=this.get("startArrowShape"),n=this.get("endArrowShape");r&&r.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),r=t.x1,n=t.y1,a=t.x2,o=t.y2;return _r.length(r,n,a,o)},e.prototype.getPoint=function(t){var r=this.attr(),n=r.x1,a=r.y1,o=r.x2,s=r.y2;return _r.pointAt(n,a,o,s,t)},e}(yu),yy=my,by={circle:function(i,e,t){return[["M",i-t,e],["A",t,t,0,1,0,i+t,e],["A",t,t,0,1,0,i-t,e]]},square:function(i,e,t){return[["M",i-t,e-t],["L",i+t,e-t],["L",i+t,e+t],["L",i-t,e+t],["Z"]]},diamond:function(i,e,t){return[["M",i-t,e],["L",i,e-t],["L",i+t,e],["L",i,e+t],["Z"]]},triangle:function(i,e,t){var r=t*Math.sin(.3333333333333333*Math.PI);return[["M",i-t,e+r],["L",i,e-r],["L",i+t,e+r],["Z"]]},"triangle-down":function(i,e,t){var r=t*Math.sin(.3333333333333333*Math.PI);return[["M",i-t,e-r],["L",i+t,e-r],["L",i,e+r],["Z"]]}},xy=function(i){(0,m.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return(0,f.isNil)(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t=this.attr(),r=t.x,n=t.y,a=t.symbol||"circle",o=this._getR(t),s,u;if((0,f.isFunction)(a))s=a,u=s(r,n,o),u=ar(u);else{if(s=e.Symbols[a],!s)return console.warn(a+" marker is not supported."),null;u=s(r,n,o)}return u},e.prototype.createPath=function(t){var r=this._getPath(),n=this.get("paramsCache");Ip(this,t,{path:r},n)},e.Symbols=by,e}(yu),Ey=xy;function Np(i,e,t){var r=Io();return i.createPath(r),r.isPointInPath(e,t)}var wy=1e-6;function Jh(i){return Math.abs(i)<wy?0:i<0?-1:1}function Sy(i,e,t){return(t[0]-i[0])*(e[1]-i[1])===(e[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],e[0])<=t[0]&&t[0]<=Math.max(i[0],e[0])&&Math.min(i[1],e[1])<=t[1]&&t[1]<=Math.max(i[1],e[1])}function Rp(i,e,t){var r=!1,n=i.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=i[a],s=i[(a+1)%n];if(Sy(o,s,[e,t]))return!0;Jh(o[1]-t)>0!=Jh(s[1]-t)>0&&Jh(e-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(r=!r)}return r}function Sd(i,e,t,r,n,a,o,s){var u=(Math.atan2(s-e,o-i)+Math.PI*2)%(Math.PI*2);if(u<r||u>n)return!1;var l={x:i+t*Math.cos(u),y:e+t*Math.sin(u)};return xp(l.x,l.y,o,s)<=a/2}var My=vt;function _y(i){for(var e=!1,t=i.length,r=0;r<t;r++){var n=i[r],a=n[0];if(a==="C"||a==="A"||a==="Q"){e=!0;break}}return e}function Cy(i,e,t,r,n){for(var a=!1,o=e/2,s=0;s<i.length;s++){var u=i[s],l=u.currentPoint,c=u.params,d=u.prePoint,C=u.box;if(!(C&&!af(C.x-o,C.y-o,C.width+e,C.height+e,t,r))){switch(u.command){case"L":case"Z":a=rc(d[0],d[1],l[0],l[1],e,t,r);break;case"Q":var I=Z.pointDistance(d[0],d[1],c[1],c[2],c[3],c[4],t,r);a=I<=e/2;break;case"C":var F=jt.pointDistance(d[0],d[1],c[1],c[2],c[3],c[4],c[5],c[6],t,r,n);a=F<=e/2;break;case"A":var H=u.arcParams,J=H.cx,st=H.cy,ut=H.rx,ht=H.ry,_t=H.startAngle,Vt=H.endAngle,re=H.xRotation,te=[t,r,1],Ee=ut>ht?ut:ht,ze=ut>ht?1:ut/ht,Oe=ut>ht?ht/ut:1,er=My(null,[["t",-J,-st],["r",-re],["s",1/ze,1/Oe]]);ro.transformMat3(te,te,er),a=Sd(0,0,Ee,_t,Vt,e,te[0],te[1]);break;default:break}if(a)break}}return a}function Ty(i){for(var e=i.length,t=[],r=[],n=[],a=0;a<e;a++){var o=i[a],s=o[0];s==="M"?(n.length&&(r.push(n),n=[]),n.push([o[1],o[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([o[1],o[2]])}return n.length>0&&r.push(n),{polygons:t,polylines:r}}var nh=(0,m.__assign)({hasArc:_y,extractPolygons:Ty,isPointInStroke:Cy},M);function kp(i,e,t){for(var r=!1,n=0;n<i.length;n++){var a=i[n];if(r=Rp(a,e,t),r)break}return r}var Ay=function(i){(0,m.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,m.__assign)((0,m.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),t==="path"&&this._setPathArr(r),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=ar(t);var r=nh.hasArc(t);this.set("hasArc",r),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=Nv(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),r=t.startArrow,n=t.endArrow;if(r){var a=this.getStartTangent();Zh(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}if(n){var a=this.getEndTangent();Kh(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.getSegments(),u=this.get("hasArc"),l=!1;if(n){var c=this.getTotalLength();l=nh.isPointInStroke(s,o,t,r,c)}if(!l&&a)if(u)l=Np(this,t,r);else{var d=this.attr("path"),C=nh.extractPolygons(d);l=kp(C.polygons,t,r)||kp(C.polylines,t,r)}return l},e.prototype.createPath=function(t){var r=this.attr(),n=this.get("paramsCache");Ip(this,t,r,n)},e.prototype.afterDrawPath=function(t){var r=this.get("startArrowShape"),n=this.get("endArrowShape");r&&r.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,f.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var n,a,o=this.get("curve");if(!r||r.length===0)return o?{x:o[0][1],y:o[0][2]}:null;(0,f.each)(r,function(c,d){t>=c[0]&&t<=c[1]&&(n=(t-c[0])/(c[1]-c[0]),a=d)});var s=o[a];if((0,f.isNil)(s)||(0,f.isNil)(a))return null;var u=s.length,l=o[a+1];return jt.pointAt(s[u-2],s[u-1],l[1],l[2],l[3],l[4],l[5],l[6],n)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",nh.pathToCurve(t))},e.prototype._setTcache=function(){var t=0,r=0,n=[],a,o,s,u,l=this.get("curve");if(l){if((0,f.each)(l,function(c,d){s=l[d+1],u=c.length,s&&(t+=jt.length(c[u-2],c[u-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}(0,f.each)(l,function(c,d){s=l[d+1],u=c.length,s&&(a=[],a[0]=r/t,o=jt.length(c[u-2],c[u-1],s[1],s[2],s[3],s[4],s[5],s[6]),r+=o||0,a[1]=r/t,n.push(a))}),this.set("tCache",n)}},e.prototype.getStartTangent=function(){var t=this.getSegments(),r;if(t.length>1){var n=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;r=[],o?(r.push([n[0]-o[0],n[1]-o[1]]),r.push([n[0],n[1]])):(r.push([a[0],a[1]]),r.push([n[0],n[1]]))}return r},e.prototype.getEndTangent=function(){var t=this.getSegments(),r=t.length,n;if(r>1){var a=t[r-2].currentPoint,o=t[r-1].currentPoint,s=t[r-1].endTangent;n=[],s?(n.push([o[0]-s[0],o[1]-s[1]]),n.push([o[0],o[1]])):(n.push([a[0],a[1]]),n.push([o[0],o[1]]))}return n},e}(yu),tv=Ay;function Bp(i,e,t,r,n){var a=i.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=i[o][0],u=i[o][1],l=i[o+1][0],c=i[o+1][1];if(rc(s,u,l,c,e,t,r))return!0}if(n){var d=i[0],C=i[a-1];if(rc(d[0],d[1],C[0],C[1],e,t,r))return!0}return!1}var Oy=function(i){(0,m.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.attr().points,u=!1;return n&&(u=Bp(s,o,t,r,!0)),!u&&a&&(u=Rp(s,t,r)),u},e.prototype.createPath=function(t){var r=this.attr(),n=r.points;if(!(n.length<2)){t.beginPath();for(var a=0;a<n.length;a++){var o=n[a];a===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},e}(yu),Iy=Oy,Dy=function(i){(0,m.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,m.__assign)((0,m.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),r=this.attrs,n=r.points,a=r.startArrow,o=r.endArrow,s=n.length,u=n[0][0],l=n[0][1],c=n[s-1][0],d=n[s-1][1];a&&Zh(this,t,n[1][0],n[1][1],u,l),o&&Kh(this,t,n[s-2][0],n[s-2][1],c,d)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){if(!n||!o)return!1;var s=this.attr().points;return Bp(s,o,t,r,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var r=this.attr(),n=r.points,a=r.startArrow,o=r.endArrow,s=n.length;if(!(n.length<2)){var u=n[0][0],l=n[0][1],c=n[s-1][0],d=n[s-1][1];if(a&&a.d){var C=of(u,l,n[1][0],n[1][1],a.d);u+=C.dx,l+=C.dy}if(o&&o.d){var C=of(n[s-2][0],n[s-2][1],c,d,o.d);c-=C.dx,d-=C.dy}t.beginPath(),t.moveTo(u,l);for(var I=0;I<s-1;I++){var F=n[I];t.lineTo(F[0],F[1])}t.lineTo(c,d)}},e.prototype.afterDrawPath=function(t){var r=this.get("startArrowShape"),n=this.get("endArrowShape");r&&r.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,r=this.get("totalLength");return(0,f.isNil)(r)?(this.set("totalLength",Ei.length(t)),this.get("totalLength")):r},e.prototype.getPoint=function(t){var r=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,u){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=u)}),_r.pointAt(r[o][0],r[o][1],r[o+1][0],r[o+1][1],a)},e.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var r=this.getTotalLength();if(!(r<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(u,l){t[l+1]&&(o=[],o[0]=n/r,s=_r.length(u[0],u[1],t[l+1][0],t[l+1][1]),n+=s,o[1]=n/r,a.push(o))}),this.set("tCache",a)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,r=[];return r.push([t[1][0],t[1][1]]),r.push([t[0][0],t[0][1]]),r},e.prototype.getEndTangent=function(){var t=this.attr().points,r=t.length-1,n=[];return n.push([t[r-1][0],t[r-1][1]]),n.push([t[r][0],t[r][1]]),n},e}(yu),Py=Dy;function Ly(i,e,t,r,n,a,o){var s=n/2;return af(i-s,e-s,t,n,a,o)||af(i+t-s,e-s,n,r,a,o)||af(i+s,e+r-s,t,n,a,o)||af(i-s,e+s,n,r,a,o)}function Ny(i,e,t,r,n,a,o,s){var u=a/2;return rc(i+n,e,i+t-n,e,a,o,s)||rc(i+t,e+n,i+t,e+r-n,a,o,s)||rc(i+t-n,e+r,i+n,e+r,a,o,s)||rc(i,e+r-n,i,e+n,a,o,s)||Sd(i+t-n,e+n,n,1.5*Math.PI,2*Math.PI,a,o,s)||Sd(i+t-n,e+r-n,n,0,.5*Math.PI,a,o,s)||Sd(i+n,e+r-n,n,.5*Math.PI,Math.PI,a,o,s)||Sd(i+n,e+n,n,Math.PI,1.5*Math.PI,a,o,s)}var Ry=function(i){(0,m.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,m.__assign)((0,m.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.attr(),u=s.x,l=s.y,c=s.width,d=s.height,C=s.radius;if(C){var F=!1;return n&&(F=Ny(u,l,c,d,C,o,t,r)),!F&&a&&(F=Np(this,t,r)),F}else{var I=o/2;if(a&&n)return af(u-I,l-I,c+I,d+I,t,r);if(a)return af(u,l,c,d,t,r);if(n)return Ly(u,l,c,d,o,t,r)}},e.prototype.createPath=function(t){var r=this.attr(),n=r.x,a=r.y,o=r.width,s=r.height,u=r.radius;if(t.beginPath(),u===0)t.rect(n,a,o,s);else{var l=ny(u),c=l[0],d=l[1],C=l[2],I=l[3];t.moveTo(n+c,a),t.lineTo(n+o-d,a),d!==0&&t.arc(n+o-d,a+d,d,-Math.PI/2,0),t.lineTo(n+o,a+s-C),C!==0&&t.arc(n+o-C,a+s-C,C,0,Math.PI/2),t.lineTo(n+I,a+s),I!==0&&t.arc(n+I,a+s-I,I,Math.PI/2,Math.PI),t.lineTo(n,a+c),c!==0&&t.arc(n+c,a+c,c,Math.PI,Math.PI*1.5),t.closePath()}},e}(yu),ky=Ry,By=function(i){(0,m.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,m.__assign)((0,m.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=ni(t)},e.prototype._setText=function(t){var r=null;(0,f.isString)(t)&&t.indexOf(`
`)!==-1&&(r=t.split(`
`)),this.set("textArr",r)},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(r)},e.prototype._getSpaceingY=function(){var t=this.attrs,r=t.lineHeight,n=t.fontSize*1;return r?r-n:n*.14},e.prototype._drawTextArr=function(t,r,n){var a=this.attrs,o=a.textBaseline,s=a.x,u=a.y,l=a.fontSize*1,c=this._getSpaceingY(),d=uo(a.text,a.fontSize,a.lineHeight),C;(0,f.each)(r,function(I,F){C=u+F*(c+l)-d+l,o==="middle"&&(C+=d-l-(d-l)/2),o==="top"&&(C+=d-l),(0,f.isNil)(I)||(n?t.fillText(I,s,C):t.strokeText(I,s,C))})},e.prototype._drawText=function(t,r){var n=this.attr(),a=n.x,o=n.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,r);else{var u=n.text;(0,f.isNil)(u)||(r?t.fillText(u,a,o):t.strokeText(u,a,o))}},e.prototype.strokeAndFill=function(t){var r=this.attrs,n=r.lineWidth,a=r.opacity,o=r.strokeOpacity,s=r.fillOpacity;this.isStroke()&&n>0&&(!(0,f.isNil)(o)&&o!==1&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&(!(0,f.isNil)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(yu),Fy=By;function zy(i,e){if(e){var t=ho(e);return Fs(t,i)}return i}function Fp(i,e,t){var r=i.getTotalMatrix();if(r){var n=zy([e,t,1],r),a=n[0],o=n[1];return[a,o]}return[e,t]}function zp(i,e,t){if(i.isCanvas&&i.isCanvas())return!0;if(!fc(i)||i.cfg.isInView===!1)return!1;if(i.cfg.clipShape){var r=Fp(i,e,t),n=r[0],a=r[1];if(i.isClipped(n,a))return!1}var o=i.cfg.cacheCanvasBBox||i.getCanvasBBox();return e>=o.minX&&e<=o.maxX&&t>=o.minY&&t<=o.maxY}function Gp(i,e,t){if(!zp(i,e,t))return null;for(var r=null,n=i.getChildren(),a=n.length,o=a-1;o>=0;o--){var s=n[o];if(s.isGroup())r=Gp(s,e,t);else if(zp(s,e,t)){var u=s,l=Fp(s,e,t),c=l[0],d=l[1];u.isInShape(c,d)&&(r=s)}if(r)break}return r}var Gy=function(i){(0,m.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},e.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return E},e.prototype.getGroupBase=function(){return Pp},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Zm();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),r=t.getContext("2d");return this.set("context",r),t},e.prototype.setDOMSize=function(t,r){i.prototype.setDOMSize.call(this,t,r);var n=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*r,o>1&&n.scale(o,o)},e.prototype.clear=function(){i.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),r=this.get("el");t.clearRect(0,0,r.width,r.height)},e.prototype.getShape=function(t,r){var n;return this.get("quickHit")?n=Gp(this,t,r):n=i.prototype.getShape.call(this,t,r,null),n},e.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),r=this.getViewRange(),n;if(t.length&&t[0]===this)n=r;else if(n=sy(t),n){n.minX=Math.floor(n.minX),n.minY=Math.floor(n.minY),n.maxX=Math.ceil(n.maxX),n.maxY=Math.ceil(n.maxY),n.maxY+=1;var a=this.get("clipView");a&&(n=uy(n,r))}return n},e.prototype.refreshElement=function(t){var r=this.get("refreshElements");r.push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,f.clearAnimationFrame)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),r=this.get("el"),n=this.getChildren();t.clearRect(0,0,r.width,r.height),ad(t,this),$h(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),r=this.get("refreshElements"),n=this.getChildren(),a=this._getRefreshRegion();a?(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),ad(t,this),ay(this,n,a),$h(t,n,a),t.restore()):r.length&&Op(r),(0,f.each)(r,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,r=this.get("drawFrame");r||(r=(0,f.requestAnimationFrame)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",r))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(td),Ml=Gy,qS="0.5.12",ev={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},ui={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},QS=null;function $s(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Up(i){var e=ev[i.type],t=i.getParent();if(!e)throw new Error("the type "+i.type+" is not supported by svg");var r=$s(e);if(i.get("id")&&(r.id=i.get("id")),i.set("el",r),i.set("attrs",{}),t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(r)}return r}function Wp(i,e){var t=i.get("el"),r=(0,f.toArray)(t.children).sort(e),n=document.createDocumentFragment();r.forEach(function(a){n.appendChild(a)}),t.appendChild(n)}function Uy(i,e){var t=i.parentNode,r=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),n=r[e],a=r.indexOf(i);if(n){if(a>e)t.insertBefore(i,n);else if(a<e){var o=r[e+1];o?t.insertBefore(i,o):t.appendChild(i)}}else t.appendChild(i)}function Wy(i,e){var t=i.cfg.el,r=i.attr(),n={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(!n.dx&&!n.dy&&!n.blur&&!n.color)t.removeAttribute("filter");else{var a=e.find("filter",n);a||(a=e.addShadow(n)),t.setAttribute("filter","url(#"+a+")")}}function Md(i){var e=i.attr().matrix;if(e){for(var t=i.cfg.el,r=[],n=0;n<9;n+=3)r.push(e[n]+","+e[n+1]);r=r.join(","),r.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",e)}}function _d(i,e){var t=i.getClip(),r=i.get("el");if(!t)r.removeAttribute("clip-path");else if(t&&!r.hasAttribute("clip-path")){Up(t),t.createPath(e);var n=e.addClip(t);r.setAttribute("clip-path","url(#"+n+")")}}function Yp(i,e){e.forEach(function(t){t.draw(i)})}function Xp(i,e){var t=i.get("canvas");if(t&&t.get("autoDraw")){var r=t.get("context"),n=i.getParent(),a=n?n.getChildren():[t],o=i.get("el");if(e==="remove"){var s=i.get("isClipShape");if(s){var u=o&&o.parentNode,l=u&&u.parentNode;u&&l&&l.removeChild(u)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(e==="show")o.setAttribute("visibility","visible");else if(e==="hide")o.setAttribute("visibility","hidden");else if(e==="zIndex")Uy(o,a.indexOf(i));else if(e==="sort"){var c=i.get("children");c&&c.length&&Wp(i,function(d,C){return c.indexOf(d)-c.indexOf(C)?1:0})}else e==="clear"?o&&(o.innerHTML=""):e==="matrix"?Md(i):e==="clip"?_d(i,r):e==="attr"||e==="add"&&i.draw(r)}}var Yy=function(i){(0,m.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=$s("g");this.set("el",t);var r=this.getParent();if(r){var n=r.get("el");n||(n=r.createDom(),r.set("el",n)),n.appendChild(t)}return t},e.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var r=this.get("canvas");if(r&&r.get("autoDraw")){var n=r.get("context");this.createPath(n,t)}},e.prototype.onCanvasChange=function(t){Xp(this,t)},e.prototype.getShapeBase=function(){return b},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var r=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),_d(this,t),this.createPath(t),r.length&&Yp(t,r))},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,f.each)(r||n,function(o,s){ui[s]&&a.setAttribute(ui[s],o)}),Md(this)},e}(Qc),jp=Yy,Xy=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,m.__assign)((0,m.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var r=this.get("canvas");if(r&&r.get("autoDraw")){var n=r.get("context");this.draw(n,t)}},e.prototype.getShapeBase=function(){return b},e.prototype.getGroupBase=function(){return jp},e.prototype.onCanvasChange=function(t){Xp(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),r=null;if(t)r=t.getBBox();else{var n=ef(this.get("type"));n&&(r=n(this))}if(r){var a=r.x,o=r.y,s=r.width,u=r.height,l=this.getHitLineWidth(),c=l/2,d=a-c,C=o-c,I=a+s+c,F=o+u+c;return{x:d,y:C,minX:d,minY:C,maxX:I,maxY:F,width:s+l,height:u+l}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),r=t.fill,n=t.fillStyle;return(r||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),r=t.stroke,n=t.strokeStyle;return(r||n)&&this.canStroke},e.prototype.draw=function(t,r){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||Up(this),_d(this,t),this.createPath(t,r),this.shadow(t,r),this.strokeAndFill(t,r),this.transform(r))},e.prototype.createPath=function(t,r){},e.prototype.strokeAndFill=function(t,r){var n=r||this.attr(),a=n.fill,o=n.fillStyle,s=n.stroke,u=n.strokeStyle,l=n.fillOpacity,c=n.strokeOpacity,d=n.lineWidth,C=this.get("el");this.canFill&&(r?"fill"in n?this._setColor(t,"fill",a):"fillStyle"in n&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),l&&C.setAttribute(ui.fillOpacity,l)),this.canStroke&&d>0&&(r?"stroke"in n?this._setColor(t,"stroke",s):"strokeStyle"in n&&this._setColor(t,"stroke",u):this._setColor(t,"stroke",s||u),c&&C.setAttribute(ui.strokeOpacity,c),d&&C.setAttribute(ui.lineWidth,d))},e.prototype._setColor=function(t,r,n){var a=this.get("el");if(!n){a.setAttribute(ui[r],"none");return}if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=t.find("gradient",n);o||(o=t.addGradient(n)),a.setAttribute(ui[r],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=t.find("pattern",n);o||(o=t.addPattern(n)),a.setAttribute(ui[r],"url(#"+o+")")}else a.setAttribute(ui[r],n)},e.prototype.shadow=function(t,r){var n=this.attr(),a=r||n,o=a.shadowOffsetX,s=a.shadowOffsetY,u=a.shadowBlur,l=a.shadowColor;(o||s||u||l)&&Wy(this,t)},e.prototype.transform=function(t){var r=this.attr(),n=(t||r).matrix;n&&Md(this)},e.prototype.isInShape=function(t,r){return this.isPointInPath(t,r)},e.prototype.isPointInPath=function(t,r){var n=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=t+o.left,u=r+o.top,l=document.elementFromPoint(s,u);return!!(l&&l.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,r=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?r+n:0},e}(bl),qs=Xy,jy=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,m.__assign)((0,m.__assign)({},t),{x:0,y:0,r:0})},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,f.each)(r||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):ui[s]&&a.setAttribute(ui[s],o)})},e}(qs),Vy=jy,Hy=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");if((0,f.each)(r||n,function(l,c){ui[c]&&a.setAttribute(ui[c],l)}),typeof n.html=="function"){var o=n.html.call(this,n);if(o instanceof Element||o instanceof HTMLDocument){for(var s=a.childNodes,u=s.length-1;u>=0;u--)a.removeChild(s[u]);a.appendChild(o)}else a.innerHTML=o}else a.innerHTML=n.html},e}(qs),Zy=Hy,Ky=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,m.__assign)((0,m.__assign)({},t),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,f.each)(r||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):ui[s]&&a.setAttribute(ui[s],o)})},e}(qs),$y=Ky,qy=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,m.__assign)((0,m.__assign)({},t),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,r){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(r||a,function(s,u){u==="img"?n._setImage(a.img):ui[u]&&o.setAttribute(ui[u],s)})},e.prototype.setAttr=function(t,r){this.attrs[t]=r,t==="img"&&this._setImage(r)},e.prototype._setImage=function(t){var r=this.attr(),n=this.get("el");if((0,f.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)r.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),r.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,f.isString)(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),r.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),r.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",a.toDataURL())}},e}(qs),Qy=qy,Jy=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,m.__assign)((0,m.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,f.each)(r||n,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var u=(0,f.isObject)(o)?t.addArrow(n,ui[s]):t.getDefaultArrow(n,ui[s]);a.setAttribute(ui[s],"url(#"+u+")")}else a.removeAttribute(ui[s]);else ui[s]&&a.setAttribute(ui[s],o)})},e.prototype.getTotalLength=function(){var t=this.attr(),r=t.x1,n=t.y1,a=t.x2,o=t.y2;return _r.length(r,n,a,o)},e.prototype.getPoint=function(t){var r=this.attr(),n=r.x1,a=r.y1,o=r.x2,s=r.y2;return _r.pointAt(n,a,o,s,t)},e}(qs),t1=Jy,ah={circle:function(i,e,t){return[["M",i,e],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(i,e,t){return[["M",i-t,e-t],["L",i+t,e-t],["L",i+t,e+t],["L",i-t,e+t],["Z"]]},diamond:function(i,e,t){return[["M",i-t,e],["L",i,e-t],["L",i+t,e],["L",i,e+t],["Z"]]},triangle:function(i,e,t){var r=t*Math.sin(.3333333333333333*Math.PI);return[["M",i-t,e+r],["L",i,e-r],["L",i+t,e+r],["z"]]},triangleDown:function(i,e,t){var r=t*Math.sin(.3333333333333333*Math.PI);return[["M",i-t,e-r],["L",i+t,e-r],["L",i,e+r],["Z"]]}},Vp={get:function(i){return ah[i]},register:function(i,e){ah[i]=e},remove:function(i){delete ah[i]},getAll:function(){return ah}},e1=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return e.prototype.createPath=function(t){var r=this.get("el");r.setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return(0,f.isArray)(t)?t.map(function(r){return r.join(" ")}).join(""):t},e.prototype._getPath=function(){var t=this.attr(),r=t.x,n=t.y,a=t.r||t.radius,o=t.symbol||"circle",s;return(0,f.isFunction)(o)?s=o:s=Vp.get(o),s?s(r,n,a):(console.warn(s+" symbol is not exist."),null)},e.symbolsFactory=Vp,e}(qs),r1=e1,n1=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,m.__assign)((0,m.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,r){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(r||a,function(s,u){if(u==="path"&&(0,f.isArray)(s))o.setAttribute("d",n._formatPath(s));else if(u==="startArrow"||u==="endArrow")if(s){var l=(0,f.isObject)(s)?t.addArrow(a,ui[u]):t.getDefaultArrow(a,ui[u]);o.setAttribute(ui[u],"url(#"+l+")")}else o.removeAttribute(ui[u]);else ui[u]&&o.setAttribute(ui[u],s)})},e.prototype._formatPath=function(t){var r=t.map(function(n){return n.join(" ")}).join("");return~r.indexOf("NaN")?"":r},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var r=this.get("el"),n=this.getTotalLength();if(n===0)return null;var a=r?r.getPointAtLength(t*n):null;return a?{x:a.x,y:a.y}:null},e}(qs),a1=n1,i1=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,f.each)(r||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(u){return u[0]+","+u[1]}).join(" ")):ui[s]&&a.setAttribute(ui[s],o)})},e}(qs),o1=i1,s1=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,m.__assign)((0,m.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),["points"].indexOf(t)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,f.each)(r||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(u){return u[0]+","+u[1]}).join(" ")):ui[s]&&a.setAttribute(ui[s],o)})},e.prototype.getTotalLength=function(){var t=this.attr().points,r=this.get("totalLength");return(0,f.isNil)(r)?(this.set("totalLength",Ei.length(t)),this.get("totalLength")):r},e.prototype.getPoint=function(t){var r=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,u){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=u)}),_r.pointAt(r[o][0],r[o][1],r[o+1][0],r[o+1][1],a)},e.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var r=this.getTotalLength();if(!(r<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(u,l){t[l+1]&&(o=[],o[0]=n/r,s=_r.length(u[0],u[1],t[l+1][0],t[l+1][1]),n+=s,o[1]=n/r,a.push(o))}),this.set("tCache",a)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,r=[];return r.push([t[1][0],t[1][1]]),r.push([t[0][0],t[0][1]]),r},e.prototype.getEndTangent=function(){var t=this.attr().points,r=t.length-1,n=[];return n.push([t[r-1][0],t[r-1][1]]),n.push([t[r][0],t[r][1]]),n},e}(qs),u1=s1,l1=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,c1=/[^\s,]+/gi;function f1(i){var e=0,t=0,r=0,n=0;return(0,f.isArray)(i)?i.length===1?e=t=r=n=i[0]:i.length===2?(e=r=i[0],t=n=i[1]):i.length===3?(e=i[0],t=n=i[1],r=i[2]):(e=i[0],t=i[1],r=i[2],n=i[3]):e=t=r=n=i,{r1:e,r2:t,r3:r,r4:n}}function JS(i){if(i=i||[],isArray(i))return i;if(isString(i))return i=i.match(l1),each(i,function(e,t){if(e=e.match(c1),e[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}each(e,function(n,a){isNaN(n)||(e[a]=+n)}),i[t]=e}),i}var d1=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,m.__assign)((0,m.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,r){var n=this,a=this.attr(),o=this.get("el"),s=!1,u=["x","y","width","height","radius"];(0,f.each)(r||a,function(l,c){u.indexOf(c)!==-1&&!s?(o.setAttribute("d",n._assembleRect(a)),s=!0):u.indexOf(c)===-1&&ui[c]&&o.setAttribute(ui[c],l)})},e.prototype._assembleRect=function(t){var r=t.x,n=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+r+","+n+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var u=f1(s);(0,f.isArray)(s)?s.length===1?u.r1=u.r2=u.r3=u.r4=s[0]:s.length===2?(u.r1=u.r3=s[0],u.r2=u.r4=s[1]):s.length===3?(u.r1=s[0],u.r2=u.r4=s[1],u.r3=s[2]):(u.r1=s[0],u.r2=s[1],u.r3=s[2],u.r4=s[3]):u.r1=u.r2=u.r3=u.r4=s;var l=[["M "+(r+u.r1)+","+n],["l "+(a-u.r1-u.r2)+",0"],["a "+u.r2+","+u.r2+",0,0,1,"+u.r2+","+u.r2],["l 0,"+(o-u.r2-u.r3)],["a "+u.r3+","+u.r3+",0,0,1,"+-u.r3+","+u.r3],["l "+(u.r3+u.r4-a)+",0"],["a "+u.r4+","+u.r4+",0,0,1,"+-u.r4+","+-u.r4],["l 0,"+(u.r4+u.r1-o)],["a "+u.r1+","+u.r1+",0,0,1,"+u.r1+","+-u.r1],["z"]];return l.join(" ")},e}(qs),h1=d1,Hp=.3,v1={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},p1={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},g1={left:"left",start:"left",center:"middle",right:"end",end:"end"},m1=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,m.__assign)((0,m.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,r){var n=this,a=this.attr(),o=this.get("el");this._setFont(),(0,f.each)(r||a,function(s,u){u==="text"?n._setText(""+s):u==="matrix"&&s?Md(n):ui[u]&&o.setAttribute(ui[u],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),r=this.attr(),n=r.textBaseline,a=r.textAlign,o=ou();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",p1[n]||"alphabetic"):t.setAttribute("alignment-baseline",v1[n]||"baseline"),t.setAttribute("text-anchor",g1[a]||"left")},e.prototype._setText=function(t){var r=this.get("el"),n=this.attr(),a=n.x,o=n.textBaseline,s=o===void 0?"bottom":o;if(!t)r.innerHTML="";else if(~t.indexOf(`
`)){var u=t.split(`
`),l=u.length-1,c="";(0,f.each)(u,function(d,C){C===0?s==="alphabetic"?c+='<tspan x="'+a+'" dy="'+-l+'em">'+d+"</tspan>":s==="top"?c+='<tspan x="'+a+'" dy="0.9em">'+d+"</tspan>":s==="middle"?c+='<tspan x="'+a+'" dy="'+-(l-1)/2+'em">'+d+"</tspan>":s==="bottom"?c+='<tspan x="'+a+'" dy="-'+(l+Hp)+'em">'+d+"</tspan>":s==="hanging"&&(c+='<tspan x="'+a+'" dy="'+(-(l-1)-Hp)+'em">'+d+"</tspan>"):c+='<tspan x="'+a+'" dy="1em">'+d+"</tspan>"}),r.innerHTML=c}else r.innerHTML=t},e}(qs),y1=m1,b1=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,x1=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,E1=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function Zp(i){var e=i.match(E1);if(!e)return"";var t="";return e.sort(function(r,n){return r=r.split(":"),n=n.split(":"),Number(r[0])-Number(n[0])}),(0,f.each)(e,function(r){r=r.split(":"),t+='<stop offset="'+r[0]+'" stop-color="'+r[1]+'"></stop>'}),t}function w1(i,e){var t=b1.exec(i),r=(0,f.mod)((0,f.toRadian)(parseFloat(t[1])),Math.PI*2),n=t[2],a,o;r>=0&&r<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=r&&r<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=r&&r<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(r),u=s*s,l=(o.x-a.x+s*(o.y-a.y))/(u+1)+a.x,c=s*(o.x-a.x+s*(o.y-a.y))/(u+1)+a.y;e.setAttribute("x1",a.x),e.setAttribute("y1",a.y),e.setAttribute("x2",l),e.setAttribute("y2",c),e.innerHTML=Zp(n)}function S1(i,e){var t=x1.exec(i),r=parseFloat(t[1]),n=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];e.setAttribute("cx",r),e.setAttribute("cy",n),e.setAttribute("r",a),e.innerHTML=Zp(o)}var M1=function(){function i(e){this.cfg={};var t=null,r=(0,f.uniqueId)("gradient_");return e.toLowerCase()[0]==="l"?(t=$s("linearGradient"),w1(e,t)):(t=$s("radialGradient"),S1(e,t)),t.setAttribute("id",r),this.el=t,this.id=r,this.cfg=e,this}return i.prototype.match=function(e,t){return this.cfg===t},i}(),_1=M1,C1={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},T1={x:"-40%",y:"-40%",width:"200%",height:"200%"},A1=function(){function i(e){this.type="filter",this.cfg={},this.type="filter";var t=$s("filter");return(0,f.each)(T1,function(r,n){t.setAttribute(n,r)}),this.el=t,this.id=(0,f.uniqueId)("filter_"),this.el.id=this.id,this.cfg=e,this._parseShadow(e,t),this}return i.prototype.match=function(e,t){if(this.type!==e)return!1;var r=!0,n=this.cfg;return(0,f.each)(Object.keys(n),function(a){if(n[a]!==t[a])return r=!1,!1}),r},i.prototype.update=function(e,t){var r=this.cfg;return r[C1[e]]=t,this._parseShadow(r,this.el),this},i.prototype._parseShadow=function(e,t){var r=`<feDropShadow
      dx="`+(e.dx||0)+`"
      dy="`+(e.dy||0)+`"
      stdDeviation="`+(e.blur?e.blur/10:0)+`"
      flood-color="`+(e.color?e.color:"#000")+`"
      flood-opacity="`+(e.opacity?e.opacity:1)+`"
      />`;t.innerHTML=r},i}(),O1=A1,I1=function(){function i(e,t){this.cfg={};var r=$s("marker"),n=(0,f.uniqueId)("marker_");r.setAttribute("id",n);var a=$s("path");a.setAttribute("stroke",e.stroke||"none"),a.setAttribute("fill",e.fill||"none"),r.appendChild(a),r.setAttribute("overflow","visible"),r.setAttribute("orient","auto-start-reverse"),this.el=r,this.child=a,this.id=n;var o=e[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=e.stroke||"#000",o===!0?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(e.lineWidth,a)),this}return i.prototype.match=function(){return!1},i.prototype._setDefaultPath=function(e,t){var r=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),r.setAttribute("refX",""+10*Math.cos(Math.PI/6)),r.setAttribute("refY",""+5)},i.prototype._setMarker=function(e,t){var r=this.el,n=this.cfg.path,a=this.cfg.d;(0,f.isArray)(n)&&(n=n.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",n),r.appendChild(t),a&&r.setAttribute("refX",""+a/e)},i.prototype.update=function(e){var t=this.child;t.attr?t.attr("fill",e):t.setAttribute("fill",e)},i}(),Kp=I1,D1=function(){function i(e){this.type="clip",this.cfg={};var t=$s("clipPath");this.el=t,this.id=(0,f.uniqueId)("clip_"),t.id=this.id;var r=e.cfg.el;return t.appendChild(r),this.cfg=e,this}return i.prototype.match=function(){return!1},i.prototype.remove=function(){var e=this.el;e.parentNode.removeChild(e)},i}(),P1=D1,L1=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,N1=function(){function i(e){this.cfg={};var t=$s("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var r=$s("image");t.appendChild(r);var n=(0,f.uniqueId)("pattern_");t.id=n,this.el=t,this.id=n,this.cfg=e;var a=L1.exec(e),o=a[2];r.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function u(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?u():(s.onload=u,s.src=s.src),this}return i.prototype.match=function(e,t){return this.cfg===t},i}(),R1=N1,k1=function(){function i(e){var t=$s("defs"),r=(0,f.uniqueId)("defs_");t.id=r,e.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=e}return i.prototype.find=function(e,t){for(var r=this.children,n=null,a=0;a<r.length;a++)if(r[a].match(e,t)){n=r[a].id;break}return n},i.prototype.findById=function(e){for(var t=this.children,r=null,n=0;n<t.length;n++)if(t[n].id===e){r=t[n];break}return r},i.prototype.add=function(e){this.children.push(e),e.canvas=this.canvas,e.parent=this},i.prototype.getDefaultArrow=function(e,t){var r=e.stroke||e.strokeStyle;if(this.defaultArrow[r])return this.defaultArrow[r].id;var n=new Kp(e,t);return this.defaultArrow[r]=n,this.el.appendChild(n.el),this.add(n),n.id},i.prototype.addGradient=function(e){var t=new _1(e);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addArrow=function(e,t){var r=new Kp(e,t);return this.el.appendChild(r.el),this.add(r),r.id},i.prototype.addShadow=function(e){var t=new O1(e);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addPattern=function(e){var t=new R1(e);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addClip=function(e){var t=new P1(e);return this.el.appendChild(t.el),this.add(t),t.id},i}(),B1=k1,F1=function(i){(0,m.__extends)(e,i);function e(t){return i.call(this,(0,m.__assign)((0,m.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return e.prototype.getShapeBase=function(){return b},e.prototype.getGroupBase=function(){return jp},e.prototype.getShape=function(t,r,n){var a=n.target||n.srcElement;if(!ev[a.tagName]){for(var o=a.parentNode;o&&!ev[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},e.prototype.createDom=function(){var t=$s("svg"),r=new B1(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",r),t},e.prototype.onCanvasChange=function(t){var r=this.get("context"),n=this.get("el");if(t==="sort"){var a=this.get("children");a&&a.length&&Wp(this,function(s,u){return a.indexOf(s)-a.indexOf(u)?1:0})}else if(t==="clear"){if(n){n.innerHTML="";var o=r.el;o.innerHTML="",n.appendChild(o)}}else t==="matrix"?Md(this):t==="clip"?_d(this,r):t==="changeSize"&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),r=this.getChildren();_d(this,t),r.length&&Yp(t,r)},e}(td),Cd=F1,tM="0.5.6",z1=_(6767),Td=_.n(z1),ih=_(697234),oh=2,$p=.16,G1=.05,U1=.05,W1=.15,qp=5,Qp=4,Y1=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Jp(i,e,t){var r;return Math.round(i.h)>=60&&Math.round(i.h)<=240?r=t?Math.round(i.h)-oh*e:Math.round(i.h)+oh*e:r=t?Math.round(i.h)+oh*e:Math.round(i.h)-oh*e,r<0?r+=360:r>=360&&(r-=360),r}function tg(i,e,t){if(i.h===0&&i.s===0)return i.s;var r;return t?r=i.s-$p*e:e===Qp?r=i.s+$p:r=i.s+G1*e,r>1&&(r=1),t&&e===qp&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function eg(i,e,t){var r;return t?r=i.v+U1*e:r=i.v-W1*e,r>1&&(r=1),Number(r.toFixed(2))}function sh(i){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],r=(0,ih.Z)(i),n=qp;n>0;n-=1){var a=r.toHsv(),o=(0,ih.Z)({h:Jp(a,n,!0),s:tg(a,n,!0),v:eg(a,n,!0)}).toHexString();t.push(o)}t.push(r.toHexString());for(var s=1;s<=Qp;s+=1){var u=r.toHsv(),l=(0,ih.Z)({h:Jp(u,s),s:tg(u,s),v:eg(u,s)}).toHexString();t.push(l)}return e.theme==="dark"?Y1.map(function(c){var d=c.index,C=c.opacity,I=ih.Z.mix(e.backgroundColor||"#141414",t[d],C*100).toHexString();return I}):t}var rv={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},ls={},nv={};Object.keys(rv).forEach(function(i){ls[i]=sh(rv[i]),ls[i].primary=ls[i][5],nv[i]=sh(rv[i],{theme:"dark",backgroundColor:"#141414"}),nv[i].primary=nv[i][5]});var eM=ls.red,rM=ls.volcano,nM=ls.gold,aM=ls.orange,iM=ls.yellow,oM=ls.lime,sM=ls.green,uM=ls.cyan,lM=ls.blue,cM=ls.geekblue,fM=ls.purple,dM=ls.magenta,hM=ls.grey,Ko=function(e,t,r){var n=Td()(e),a=Td()(t);return Td()([(1-r)*n.red()+r*a.red(),(1-r)*n.green()+r*a.green(),(1-r)*n.blue()+r*a.blue()]).rgb()},X1=function(e,t,r){t===void 0&&(t="#fff"),r===void 0&&(r="rgb(150, 150, 150)");var n=Ko(t,e,.05).rgb().toString(),a=Ko(t,e,.1).rgb().toString(),o=Ko(t,e,.2).rgb().toString(),s=Ko(t,e,.4).rgb().toString(),u=Ko(t,r,.02).rgb().toString(),l=Ko(t,r,.05).rgb().toString(),c=Ko(t,r,.1).rgb().toString(),d=Ko(t,r,.2).rgb().toString(),C=Ko(t,r,.3).rgb().toString(),I=sh(e,{theme:"default",backgroundColor:t}),F=Td()(e).hex().toLowerCase(),H=I.indexOf(F),J=e;return H!==-1&&(J=I[H+1]),{mainStroke:e,mainFill:a,activeStroke:e,activeFill:n,inactiveStroke:s,inactiveFill:n,selectedStroke:e,selectedFill:t,highlightStroke:J,highlightFill:o,disableStroke:C,disableFill:l,edgeMainStroke:C,edgeActiveStroke:e,edgeInactiveStroke:d,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:c,comboMainStroke:C,comboMainFill:u,comboActiveStroke:e,comboActiveFill:n,comboInactiveStroke:C,comboInactiveFill:u,comboSelectedStroke:e,comboSelectedFill:u,comboHighlightStroke:J,comboHighlightFill:u,comboDisableStroke:d,comboDisableFill:l}},j1=function(e,t,r){t===void 0&&(t="#fff"),r===void 0&&(r="#777");var n=Ko(t,e,.2).rgb().toString(),a=Ko(t,e,.3).rgb().toString(),o=Ko(t,e,.6).rgb().toString(),s=Ko(t,e,.8).rgb().toString(),u=Ko(t,r,.2).rgb().toString(),l=Ko(t,r,.25).rgb().toString(),c=Ko(t,r,.3).rgb().toString(),d=Ko(t,r,.4).rgb().toString(),C=Ko(t,r,.5).rgb().toString(),I=sh(e,{theme:"dark",backgroundColor:t}),F=Td()(e).hex().toLowerCase(),H=I.indexOf(F),J=e;return H!==-1&&(J=I[H+1]),{mainStroke:s,mainFill:n,activeStroke:e,activeFill:a,inactiveStroke:s,inactiveFill:n,selectedStroke:e,selectedFill:n,highlightStroke:e,highlightFill:o,disableStroke:C,disableFill:l,edgeMainStroke:r,edgeActiveStroke:e,edgeInactiveStroke:r,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:c,comboMainStroke:d,comboMainFill:l,comboActiveStroke:e,comboActiveFill:u,comboInactiveStroke:d,comboInactiveFill:l,comboSelectedStroke:e,comboSelectedFill:u,comboHighlightStroke:J,comboHighlightFill:l,comboDisableStroke:d,comboDisableFill:u}},av=function(e,t,r,n){return t===void 0&&(t="#fff"),r===void 0&&(r="default"),n===void 0&&(n="rgb(150, 150, 150)"),r==="default"?X1(e,t,"rgb(150, 150, 150)"):j1(e,t,"#777")},V1=function(e,t,r,n){t===void 0&&(t="#fff"),r===void 0&&(r="default"),n===void 0&&(n="rgb(150, 150, 150)");var a=[];return e.forEach(function(o){a.push(av(o,t,r,n))}),a},H1="rgb(95, 149, 255)",Z1="rgb(255, 255, 255)",rg="rgb(0, 0, 0)",ai=av(H1,Z1),sf={version:"0.8.7",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:ai.mainStroke,fill:ai.mainFill},size:20,color:ai.mainStroke,linkPoints:{size:8,lineWidth:1,fill:ai.activeFill,stroke:ai.activeStroke}},nodeStateStyles:{active:{fill:ai.activeFill,stroke:ai.activeStroke,lineWidth:2,shadowColor:ai.mainStroke,shadowBlur:10},selected:{fill:ai.selectedFill,stroke:ai.selectedStroke,lineWidth:4,shadowColor:ai.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:ai.highlightFill,stroke:ai.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:ai.inactiveFill,stroke:ai.inactiveStroke,lineWidth:1},disable:{fill:ai.disableFill,stroke:ai.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:rg,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:ai.edgeMainStroke,lineAppendWidth:2},color:ai.edgeMainStroke},edgeStateStyles:{active:{stroke:ai.edgeActiveStroke,lineWidth:1},selected:{stroke:ai.edgeSelectedStroke,lineWidth:2,shadowColor:ai.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:ai.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:ai.edgeInactiveStroke,lineWidth:1},disable:{stroke:ai.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:rg,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:ai.comboMainFill,lineWidth:1,stroke:ai.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:ai.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:ai.comboActiveStroke,lineWidth:1,fill:ai.comboActiveFill},selected:{stroke:ai.comboSelectedStroke,lineWidth:2,fill:ai.comboSelectedFill,shadowColor:ai.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:ai.comboHighlightStroke,lineWidth:2,fill:ai.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:ai.comboInactiveStroke,fill:ai.comboInactiveFill,lineWidth:1},disable:{stroke:ai.comboDisableStroke,fill:ai.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"};function uh(i,e,t){if(i){if(typeof i.addEventListener=="function")return i.addEventListener(e,t,!1),{remove:function(){i.removeEventListener(e,t,!1)}};if(typeof i.attachEvent=="function")return i.attachEvent("on"+e,t),{remove:function(){i.detachEvent("on"+e,t)}}}}var K1=us.cloneEvent,$1=us.isViewportChanged,q1=function(i){(0,m.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.extendEvents=[],r.dragging=!1,r.mousedown=!1,r.preItem=null,r.destroy(),r.graph=t,r.destroyed=!1,r.initEvents(),r}return e.prototype.initEvents=function(){var t=this,r=t.graph,n=t.extendEvents,a=n===void 0?[]:n,o=r.get("canvas"),s=o.get("el"),u=(0,f.wrapBehavior)(this,"onCanvasEvents"),l=(0,f.wrapBehavior)(this,"onExtendEvents"),c=(0,f.wrapBehavior)(this,"onWheelEvent");o.off("*").on("*",u),this.canvasHandler=u,a.push(uh(s,"wheel",c)),typeof window!="undefined"&&(a.push(uh(window,"keydown",l)),a.push(uh(window,"keyup",l)),a.push(uh(window,"focus",l))),this.resetHandler&&r.off("afterchangedata",this.resetHandler),this.resetHandler=(0,f.wrapBehavior)(this,"resetStatus"),r.on("afterchangedata",this.resetHandler)},e.getItemRoot=function(t){for(;t&&!t.get("item");)t=t.get("parent");return t},e.prototype.onCanvasEvents=function(t){var r=this,n=this.graph,a=n.get("canvas"),o=t.target,s=t.type;switch(s){case"drag":this.onCanvasEvents(Object.assign({},t,{type:"mousemove"}));break;case"dragend":this.onCanvasEvents(Object.assign({},t,{type:"mouseup"}));break;case"mousedown":this.mousedown=!0;break;case"dragend":case"mouseup":setTimeout(function(){return r.mousedown=!1});break;case"click":if(!this.mousedown)return;break;default:break}t.canvasX=t.x,t.canvasY=t.y;var u={x:t.canvasX,y:t.canvasY},l=n.get("group"),c=l.getMatrix();if(c||(c=[1,0,0,0,1,0,0,0,1]),$1(c)&&(u=n.getPointByClient(t.clientX,t.clientY)),t.x=u.x,t.y=u.y,t.currentTarget=n,o===a){(s==="mousemove"||s==="mouseleave")&&this.handleMouseMove(t,"canvas"),t.target=a,t.item=null,n.emit(s,t),n.emit("canvas:".concat(s),t);return}var d=e.getItemRoot(o);if(!d){n.emit(s,t);return}var C=d.get("item");if(!C.destroyed){var I=C.getType();if(t.target=o,t.item=C,t.canvasX===t.x&&t.canvasY===t.y){var F=n.getCanvasByPoint(t.x,t.y);t.canvasX=F.x,t.canvasY=F.y}t.name&&!t.name.includes(":")?(n.emit("".concat(I,":").concat(s),t),n.emit(s,t)):t.name&&n.emit(t.name,t),s==="dragstart"&&(this.dragging=!0),s==="dragend"&&(this.dragging=!1),s==="mousemove"&&this.handleMouseMove(t,I)}},e.prototype.onExtendEvents=function(t){this.graph.emit(t.type,t)},e.prototype.onWheelEvent=function(t){(0,f.isNil)(t.wheelDelta)&&(t.wheelDelta=-t.detail),this.graph.emit("wheel",t)},e.prototype.handleMouseMove=function(t,r){var n=this,a=n.graph,o=n.preItem,s=a.get("canvas"),u=t.target===s?null:t.item;t=K1(t),o&&o!==u&&!o.destroyed&&(t.item=o,this.emitCustomEvent(o.getType(),"mouseleave",t),this.dragging&&this.emitCustomEvent(o.getType(),"dragleave",t)),u&&o!==u&&(t.item=u,this.emitCustomEvent(r,"mouseenter",t),this.dragging&&this.emitCustomEvent(r,"dragenter",t)),this.preItem=u},e.prototype.emitCustomEvent=function(t,r,n){n.type=r,this.graph.emit("".concat(t,":").concat(r),n)},e.prototype.resetStatus=function(){this.mousedown=!1,this.dragging=!1,this.preItem=null},e.prototype.destroy=function(){var t=this,r=t.graph,n=t.canvasHandler,a=t.extendEvents,o=r.get("canvas");o.off("*",n),(0,f.each)(a,function(s){s.remove()}),this.resetStatus(),this.extendEvents.length=0,this.canvasHandler=null,this.resetHandler=null,this.destroyed=!0},e}(mp),Q1=q1,Qa=_(483360),J1=_(981746),lh=_.n(J1),ng=us.traverseTree,tb=function(e,t){var r;return e?(0,f.isNumber)(e)?r=function(a){return e}:r=e:r=function(a){return t||1},r},eb=function(e,t){var r=[],n=[],a={},o=0;for(o=0;o<e.length;o++){var s=e[o];a[s.id]=o,r.push(s.x),r.push(s.y),r.push(0),r.push(0),n.push([])}for(o=0;o<t.length;o++){var u=t[o];n[a[u.source]].push(a[u.target]),n[a[u.target]].push(a[u.source])}var l=0;for(o=0;o<e.length;o++){var c=r.length,d=n[o],C=d.length;r[o*4+2]=c,r[o*4+3]=d.length,l=Math.max(l,d.length);for(var I=0;I<C;++I){var F=d[I];r.push(+F)}}for(;r.length%4!==0;)r.push(0);return{array:new Float32Array(r),maxEdgePerVetex:l}},rb=function(e,t,r){var n=[],a=[],o={},s=0;for(s=0;s<e.length;s++){var u=e[s];o[u.id]=s,n.push(u.x),n.push(u.y),n.push(0),n.push(0),a.push([])}for(s=0;s<t.length;s++){var l=t[s];a[o[l.source]].push(o[l.target]),a[o[l.source]].push(r(l)),a[o[l.target]].push(o[l.source]),a[o[l.target]].push(r(l))}var c=0;for(s=0;s<e.length;s++){var d=n.length,C=a[s],I=C.length;n[s*4+2]=d,n[s*4+3]=I/2,c=Math.max(c,I/2);for(var F=0;F<I;++F){var H=C[F];n.push(+H)}}for(;n.length%4!==0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:c}},nb=function(e,t,r,n){var a=[],o=[],s={},u=0;for(u=0;u<e.length;u++){var l=e[u];s[l.id]=u,a.push(l.x),a.push(l.y),a.push(0),a.push(0),o.push([])}for(u=0;u<t.length;u++){var c=t[u];o[s[c.source]].push(s[c.target]),o[s[c.source]].push(r(c)),o[s[c.source]].push(n(c)),o[s[c.source]].push(0),o[s[c.target]].push(s[c.source]),o[s[c.target]].push(r(c)),o[s[c.target]].push(n(c)),o[s[c.target]].push(0)}var d=0;for(u=0;u<e.length;u++){var C=a.length,I=o[u],F=I.length;a[u*4+2]=C+1048576*F/4,a[u*4+3]=0,d=Math.max(d,F/4);for(var H=0;H<F;++H){var J=I[H];a.push(+J)}}for(;a.length%4!==0;)a.push(0);return{array:new Float32Array(a),maxEdgePerVetex:d}},ab=function(e,t){var r=[],n=e.length,a={};return t.forEach(function(o){e.forEach(function(s,u){if(a[o[s]]===void 0&&(a[o[s]]=Object.keys(a).length),r.push(a[o[s]]),u===n-1)for(;r.length%4!==0;)r.push(0)})}),{array:new Float32Array(r),count:Object.keys(a).length}},ib=function(e){for(var t=[],r=e.length,n=e[0].length,a=function(u){e.forEach(function(l,c){if(t.push(l[u]),c===r-1)for(;t.length%4!==0;)t.push(0)})},o=0;o<n;o++)a(o);return new Float32Array(t)},ob=function(e,t){var r=["V","TB","BT"],n={x:1/0,y:1/0},a={x:-1/0,y:-1/0},o="x",s="y";t&&r.indexOf(t)>=0&&(s="x",o="y");var u=0;ng(e,function(d){return u++,d.x>a.x&&(a.x=d.x),d.x<n.x&&(n.x=d.x),d.y>a.y&&(a.y=d.y),d.y<n.y&&(n.y=d.y),!0});var l=Math.PI*2/u,c=a[s]-n[s];return c===0||ng(e,function(d){var C=(d[s]-n[s])/c*(Math.PI*2-l)+l,I=Math.abs(o==="x"?d.x-e.x:d.y-e.y);return d.x=I*Math.cos(C),d.y=I*Math.sin(C),!0}),e},ag=function i(){return typeof window=="undefined"||typeof document=="undefined"?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!!(window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl")))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var t=document.createElement("div");return t.id="webgl-error-message",t.style.fontFamily="monospace",t.style.fontSize="13px",t.style.fontWeight="normal",t.style.textAlign="center",t.style.background="#fff",t.style.color="#000",t.style.padding="1.5em",t.style.width="400px",t.style.margin="5em auto 0",this.webgl||(t.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`)),t},addGetWebGLMessage:function(t){t=t||{};var r=t.parent!==void 0?t.parent:document.body,n=t.id!==void 0?t.id:"oldie",a=i().getWebGLErrorMessage();a.id=n,r.appendChild(a)}}},sb=(0,m.__assign)((0,m.__assign)((0,m.__assign)((0,m.__assign)({},us),A),x),T),_l=sb,ub=_l.radialLayout,lb=function(){function i(e){this.type=e.type,this.radial=e.radial,this.config=e}return i.prototype.init=function(e){var t=this;if(this.data=e,this.radial){this.layoutMethod=function(r){var n=lh()[t.type](r,t.config);return ub(n),n};return}this.layoutMethod=function(r){return lh()[t.type](r,t.config)}},i.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},i.prototype.layout=function(e){return this.init(e),this.execute()},i}(),cb=lb;(0,Qa.registerLayout)("grid",Qa.GridLayout),(0,Qa.registerLayout)("random",Qa.RandomLayout),(0,Qa.registerLayout)("force",Qa.ForceLayout),(0,Qa.registerLayout)("circular",Qa.CircularLayout),(0,Qa.registerLayout)("dagre",Qa.DagreLayout),(0,Qa.registerLayout)("dagreCompound",Qa.DagreCompoundLayout),(0,Qa.registerLayout)("radial",Qa.RadialLayout),(0,Qa.registerLayout)("concentric",Qa.ConcentricLayout),(0,Qa.registerLayout)("mds",Qa.MDSLayout),(0,Qa.registerLayout)("fruchterman",Qa.FruchtermanLayout),(0,Qa.registerLayout)("fruchterman-gpu",Qa.FruchtermanGPULayout),(0,Qa.registerLayout)("gForce",Qa.GForceLayout),(0,Qa.registerLayout)("force2",Qa.Force2Layout),(0,Qa.registerLayout)("gForce-gpu",Qa.GForceGPULayout),(0,Qa.registerLayout)("comboForce",Qa.ComboForceLayout),(0,Qa.registerLayout)("comboCombined",Qa.ComboCombinedLayout),(0,Qa.registerLayout)("forceAtlas2",Qa.ForceAtlas2Layout);var fb=function(e,t){t.isCustomLayout=!0,Qa.Layouts[e]=(0,Qa.registerLayout)(e,t)},db=function(){function i(e,t){var r=e.toString(),n=new Blob(["importScripts('".concat(t,"');(").concat(r,")()")],{type:"text/javascript"});return new Worker(URL.createObjectURL(n))}return i}(),hb=db,vb=function(e){e===void 0&&(e="https://unpkg.com/@antv/layout@latest/dist/layout.min.js");function t(){var n={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("dagreCompound",layout.DagreCompoundLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("comboCombined",layout.ComboCombinedLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout);function a(s){var u=s.data.type;return u===n.RUN||u===n.GPURUN}function o(s){var u=this,l=s.data.type;switch(l){case n.RUN:{var c=s.data,d=c.nodes,C=c.edges,I=c.layoutCfg,F=I===void 0?{}:I,H=F.type,J=layout.getLayoutByName(H);if(!J){this.postMessage({type:n.ERROR,message:"layout ".concat(H," not found")});break}var st;F.onLayoutEnd=function(){u.postMessage({type:n.END,nodes:d}),st==null||st.destroy()},st=new J(F),st.init({nodes:d,edges:C}),st.execute();break}case n.GPURUN:{var ut=s.data,ht=ut.nodes,C=ut.edges,_t=ut.layoutCfg,F=_t===void 0?{}:_t,Vt=ut.canvas,H=F.type,J=layout.getLayoutByName(H);if(!J){this.postMessage({type:n.ERROR,message:"layout ".concat(H," not found")});break}if(H.split("-")[1]!=="gpu"){this.postMessage({type:n.ERROR,message:"layout ".concat(H," does not support GPU")});break}var re=new J(F);re.init({nodes:ht,edges:C}),re.executeWithWorker(Vt,this);break}default:break}}onmessage=function(u){a(u)&&o(u)}}var r=new hb(t,e);return r},id={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};function iv(i){return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(i)}var ig=function(e){return setTimeout(e,16)},og=function(e){return clearTimeout(e)},ch={requestAnimationFrame:function(e){var t=typeof window!="undefined"&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||ig;return t(e)},cancelAnimationFrame:function(e){var t=typeof window!="undefined"&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||og;return t(e)}},pb=["fruchterman","gForce"],gb=["force","grid","circular"],mb=function(i){(0,m.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.graph=t,r.layoutCfg=t.get("layout")||{},r.layoutType=r.getLayoutType(),r.worker=null,r.workerData={},r.initLayout(),r}return e.prototype.initLayout=function(){},e.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=vb(this.layoutCfg.workerScriptURL),this.worker)},e.prototype.stopWorker=function(){var t=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,t.requestId&&(ch.cancelAnimationFrame(t.requestId),t.requestId=null),t.requestId2&&(ch.cancelAnimationFrame(t.requestId2),t.requestId2=null))},e.prototype.execLayoutMethod=function(t,r){var n=this;return new Promise(function(a,o){return(0,m.__awaiter)(n,void 0,void 0,function(){var s,u,l,c,d,H,C,I,F,H,J;return(0,m.__generator)(this,function(st){switch(st.label){case 0:if(s=this.graph,!s||s.get("destroyed"))return[2];u=t.type,t.onLayoutEnd=function(){s.emit("aftersublayout",{type:u}),a()},u&&this.isGPU&&(this.hasGPUVersion(u)?u="".concat(u,"-gpu"):console.warn("The '".concat(u,"' layout does not support GPU calculation for now, it will run in CPU."))),us.isForce(u)?(l=t.onTick,c=t.animate,d=c===void 0&&(u==="force"||u==="force2"),H=function(){l&&l(),(c||d)&&s.refreshPositions()},t.tick=H):(u==="comboForce"||u==="comboCombined")&&(t.comboTrees=s.get("comboTrees")),C=!1;try{I=new Qa.Layouts[u](t),this.layoutMethods[r]&&this.layoutMethods[r].destroy(),this.layoutMethods[r]=I}catch(ut){console.warn("The layout method: '".concat(u,"' does not exist! Please specify it first.")),o()}return C=I.enableTick,C&&(F=t.onTick,H=function(){F&&F(),s.refreshPositions()},I.tick=H),J=this.filterLayoutData(this.data,t),Eb(J,r),I.init(J),s.emit("beforesublayout",{type:u}),[4,I.execute()];case 1:return st.sent(),I.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),[2]}})})})},e.prototype.updateLayoutMethod=function(t,r){var n=this;return new Promise(function(a,o){return(0,m.__awaiter)(n,void 0,void 0,function(){var s,u,l;return(0,m.__generator)(this,function(c){switch(c.label){case 0:return s=this.graph,u=r==null?void 0:r.type,r.onLayoutEnd=function(){s.emit("aftersublayout",{type:u}),a()},l=this.filterLayoutData(this.data,r),t.init(l),t.updateCfg(r),s.emit("beforesublayout",{type:u}),[4,t.execute()];case 1:return c.sent(),t.isCustomLayout&&r.onLayoutEnd&&r.onLayoutEnd(),[2]}})})})},e.prototype.layout=function(t){var r=this,n,a=this.graph;if(!(!a||a.get("destroyed"))){this.data=this.setDataFromGraph();var o=this.data,s=o.nodes,u=o.hiddenNodes;if(!s)return!1;var l=a.get("width"),c=a.get("height"),d={};Object.assign(d,{width:l,height:c,center:[l/2,c/2]},this.layoutCfg),this.layoutCfg=d;var C=d.type,I=!1;(n=this.layoutMethods)===null||n===void 0||n.forEach(function(Vt){var re;return I=!!(!((re=Vt.nodes)===null||re===void 0)&&re.length)||I});var F=this.destoryLayoutMethods();a.emit("beforelayout"),I&&C&&(F==null?void 0:F.length)===1&&F[0]===C?this.tweakInit():this.initPositions(d.center,s),this.initPositions(d.center,u),C&&C.split("-")[1]==="gpu"&&(C=C.split("-")[0],d.gpuEnabled=!0);var H=!1;d.gpuEnabled&&(H=!0,ag().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),H=!1)),H&&!this.hasGPUVersion(C)&&(console.warn("The '".concat(C,"' layout does not support GPU calculation for now, it will run in CPU.")),H=!1),this.isGPU=H;var J=d.onLayoutEnd,st=d.layoutEndFormatted,ut=d.adjust;if(st||(d.layoutEndFormatted=!0,d.onAllLayoutEnd=function(){return(0,m.__awaiter)(r,void 0,void 0,function(){return(0,m.__generator)(this,function(Vt){switch(Vt.label){case 0:return J&&J(s),this.refreshLayout(),ut&&d.pipes?[4,this.adjustPipesBox(this.data,ut)]:[3,2];case 1:Vt.sent(),this.refreshLayout(),Vt.label=2;case 2:return a.emit("afterlayout"),[2]}})})}),this.stopWorker(),d.workerEnabled&&this.layoutWithWorker(this.data,t))return!0;var ht=Promise.resolve(),_t=!1;return d.type?(_t=!0,ht=ht.then(function(){return(0,m.__awaiter)(r,void 0,void 0,function(){return(0,m.__generator)(this,function(Vt){switch(Vt.label){case 0:return[4,this.execLayoutMethod(d,0)];case 1:return[2,Vt.sent()]}})})})):d.pipes&&(_t=!0,d.pipes.forEach(function(Vt,re){ht=ht.then(function(){return(0,m.__awaiter)(r,void 0,void 0,function(){return(0,m.__generator)(this,function(te){switch(te.label){case 0:return[4,this.execLayoutMethod(Vt,re)];case 1:return[2,te.sent()]}})})})})),_t?ht.then(function(){d.onAllLayoutEnd&&d.onAllLayoutEnd(),t&&t()}).catch(function(Vt){console.warn("graph layout failed,",Vt)}):(a.refreshPositions(),t==null||t()),!1}},e.prototype.tweakInit=function(){var t=this,r=t.data,n=t.graph,a=r.nodes,o=r.edges;if(a!=null&&a.length){var s={};a.forEach(function(c){var d=c.x,C=c.y;!isNaN(d)&&!isNaN(C)&&(s[c.id]={x:d,y:C},c.mass=c.mass||2)}),o.forEach(function(c){var d=c.source,C=c.target,I=s[d],F=s[C];!I&&F?s[d]={x:F.x+(Math.random()-.5)*80,y:F.y+(Math.random()-.5)*80}:!F&&I&&(s[C]={x:I.x+(Math.random()-.5)*80,y:I.y+(Math.random()-.5)*80})});var u=n.get("width"),l=n.get("height");a.forEach(function(c){var d=s[c.id]||{x:u/2+(Math.random()-.5)*20,y:l/2+(Math.random()-.5)*20};c.x=d.x,c.y=d.y})}},e.prototype.initWithPreset=function(){var t=this,r=t.layoutCfg,n=t.data,a=r.preset;if(!(a!=null&&a.type)||!Qa.Layouts[a==null?void 0:a.type])return!1;var o=new Qa.Layouts[a==null?void 0:a.type](a);return o.layout(n),delete r.preset,!0},e.prototype.layoutWithWorker=function(t,r){var n=this,a=this,o=a.layoutCfg,s=a.graph,u=this.getWorker(),l=this.workerData;if(!u)return!1;l.requestId=null,l.requestId2=null,l.currentTick=null,l.currentTickData=null,s.emit("beforelayout");var c=Promise.resolve(),d=!1;if(o.type)d=!0,c=c.then(function(){return n.runWebworker(u,t,o)});else if(o.pipes){d=!0;for(var C=function(st){c=c.then(function(){return n.runWebworker(u,t,st)})},I=0,F=o.pipes;I<F.length;I++){var H=F[I];C(H)}}return d&&c.then(function(){o.onAllLayoutEnd&&o.onAllLayoutEnd(),r==null||r()}).catch(function(J){console.error("layout failed",J)}),!0},e.prototype.runWebworker=function(t,r,n){var a=this,o=this.isGPU,s=this.filterLayoutData(r,n),u=s.nodes,l=s.edges,c=document.createElement("canvas"),d=o&&typeof window!="undefined"&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in c,C=bb(n,function(F){return typeof F!="function"});if(!d)t.postMessage({type:id.RUN,nodes:u,edges:l,layoutCfg:C});else{var I=c.transferControlToOffscreen();C.type="".concat(C.type,"-gpu"),t.postMessage({type:id.GPURUN,nodes:u,edges:l,layoutCfg:C,canvas:I},[I])}return new Promise(function(F,H){t.onmessage=function(J){a.handleWorkerMessage(F,H,J,s,n)}})},e.prototype.handleWorkerMessage=function(t,r,n,a,o){var s=this,u=s.graph,l=s.workerData,c=n.data,d=c.type,C=function(){o.onTick&&o.onTick()};switch(d){case id.TICK:l.currentTick=c.currentTick,l.currentTickData=c,l.requestId||(l.requestId=ch.requestAnimationFrame(function(){ov(a,c),u.refreshPositions(),C(),c.currentTick===c.totalTicks?t():l.currentTick===c.totalTicks&&(l.requestId2=ch.requestAnimationFrame(function(){ov(a,l.currentTickData),u.refreshPositions(),l.requestId2=null,C(),t()})),l.requestId=null}));break;case id.END:l.currentTick==null&&(ov(a,c),t());break;case id.GPUEND:l.currentTick==null&&(xb(a,c),t());break;case id.ERROR:console.warn("Web-Worker layout error!",c.message),r();break;default:r();break}},e.prototype.updateLayoutCfg=function(t){var r=this,n=this,a=n.graph,o=n.layoutMethods;if(!(!a||a.get("destroyed"))){var s=t.disableTriggerLayout,u=(0,m.__rest)(t,["disableTriggerLayout"]),l=(0,f.mix)({},this.layoutCfg,u);if(this.layoutCfg=l,!s){if(!(o!=null&&o.length)){this.layout();return}if(this.data=this.setDataFromGraph(),this.stopWorker(),!(u.workerEnabled&&this.layoutWithWorker(this.data,null))){a.emit("beforelayout");var c=Promise.resolve(),d=!1;(o==null?void 0:o.length)===1?(d=!0,c=c.then(function(){return(0,m.__awaiter)(r,void 0,void 0,function(){return(0,m.__generator)(this,function(C){switch(C.label){case 0:return[4,this.updateLayoutMethod(o[0],l)];case 1:return[2,C.sent()]}})})})):o!=null&&o.length&&(d=!0,o.forEach(function(C,I){var F=l.pipes[I];c=c.then(function(){return(0,m.__awaiter)(r,void 0,void 0,function(){return(0,m.__generator)(this,function(H){switch(H.label){case 0:return[4,this.updateLayoutMethod(C,F)];case 1:return[2,H.sent()]}})})})})),d&&c.then(function(){l.onAllLayoutEnd&&l.onAllLayoutEnd()}).catch(function(C){console.warn("layout failed",C)})}}}},e.prototype.adjustPipesBox=function(t,r){var n=this;return new Promise(function(a){var o=t.nodes;o!=null&&o.length||a(),gb.includes(r)||(console.warn("The adjust type ".concat(r," is not supported yet, please assign it with 'force', 'grid', or 'circular'.")),a());var s={center:n.layoutCfg.center,nodeSize:function(F){return Math.max(F.height,F.width)},preventOverlap:!0,onLayoutEnd:function(){}},u=n.getLayoutBBox(o),l=u.groupNodes,c=u.layoutNodes,d=(0,f.clone)(c);s.onLayoutEnd=function(){c==null||c.forEach(function(I,F){var H,J,st,ut=I.x-((H=d[F])===null||H===void 0?void 0:H.x),ht=I.y-((J=d[F])===null||J===void 0?void 0:J.y);(st=l[F])===null||st===void 0||st.forEach(function(_t){_t.x+=ut,_t.y+=ht})}),a()};var C=new Qa.Layouts[r](s);C.layout({nodes:c})})},e.prototype.hasGPUVersion=function(t){return pb.includes(t)},e.prototype.destroy=function(){this.destoryLayoutMethods();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},e}(gp),yb=mb;function ov(i,e){for(var t=i.nodes,r=e.nodes,n=t.length,a=0;a<n;a++){var o=t[a];o.x=r[a].x,o.y=r[a].y}}function bb(i,e){var t={};return i&&iv(i)==="object"?(Object.keys(i).forEach(function(r){i.hasOwnProperty(r)&&e(i[r])&&(t[r]=i[r])}),t):i}function xb(i,e){for(var t=i.nodes,r=e.vertexEdgeData,n=t.length,a=0;a<n;a++){var o=t[a],s=r[4*a],u=r[4*a+1];o.x=s,o.y=u}}function Eb(i,e){var t;if(!((t=i==null?void 0:i.nodes)===null||t===void 0)&&t.length){var r=i.nodes;r.forEach(function(n){n.layoutOrder=e})}}var Ad,sv,sg,uv;function wb(){Ad=document.createElement("table"),sv=document.createElement("tr"),sg=/^\s*<(\w+|!)[^>]*>/,uv={tr:document.createElement("tbody"),tbody:Ad,thead:Ad,tfoot:Ad,td:sv,th:sv,"*":document.createElement("div")}}function co(i){Ad||wb();var e=sg.test(i)&&RegExp.$1;(!e||!(e in uv))&&(e="*");var t=uv[e];i=typeof i=="string"?i.replace(/(^\s*)|(\s*$)/g,""):i,t.innerHTML=""+i;var r=t.childNodes[0];return r&&t.contains(r)&&t.removeChild(r),r}var Sb=function(e){var t=e.clone();return Mb(e,t),t},Mb=function i(e,t){var r;e.isGroup()&&t.isGroup()&&((r=e.get("children"))===null||r===void 0||r.forEach(function(s,u){var l=t.get("children")[u];i(s,l)}));var n=e.get("type"),a=t.get("type");if(!(n!=="image"||a!=="image")){var o=e.get("clipShape");o&&t.setClip({type:o.get("type"),attrs:o.attr()})}},ug=vt,_b="svg",Cb=function(i){(0,m.__extends)(e,i);function e(t){var r=i.call(this,t)||this,n=r.get("defaultNode");return n||r.set("defaultNode",{type:"circle"}),n.type||(n.type="circle",r.set("defaultNode",n)),r.destroyed=!1,r}return e.prototype.initLayoutController=function(){var t=new yb(this);this.set({layoutController:t})},e.prototype.initEventController=function(){var t=new Q1(this);this.set({eventController:t})},e.prototype.initCanvas=function(){var t=this.get("container");if(typeof t=="string"&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var r=t.clientWidth,n=t.clientHeight,a=this.get("width")||r,o=this.get("height")||n;!this.get("width")&&!this.get("height")&&(this.set("width",r),this.set("height",n));var s=this.get("renderer"),u;if(s===_b)u=new Cd({container:t,width:a,height:o});else{var l={container:t,width:a,height:o},c=this.get("pixelRatio");c&&(l.pixelRatio=c,window.devicePixelRatio=c),u=new Ml(l)}this.set("canvas",u)},e.prototype.initPlugins=function(){var t=this;(0,f.each)(t.get("plugins"),function(r){!r.destroyed&&r.initPlugin&&r.initPlugin(t)})},e.prototype.downloadImageWatermark=function(t,r,n,a){return(0,m.__awaiter)(this,void 0,void 0,function(){var o,s,u;return(0,m.__generator)(this,function(l){switch(l.label){case 0:return o=t.style.backgroundImage,s=o.slice(5,o.length-2),u=new Image,u.src=s,[4,new Promise(function(c){u.onload=function(){var d=r.createPattern(u,"repeat");r.rect(0,0,n,a),r.fillStyle=d,r.fill(),c("")}})];case 1:return l.sent(),[2]}})})},e.prototype.asyncToDataUrl=function(t,r,n,a,o,s){var u=this,l=document.querySelector(".g6-graph-watermarker"),c=this.get("canvas"),d=c.getRenderer(),C=s||c.get("el"),I="";t||(t="image/png"),setTimeout(function(){return(0,m.__awaiter)(u,void 0,void 0,function(){var F,H,J,st,ut,ht,_t,Vt,re,te;return(0,m.__generator)(this,function(Ee){switch(Ee.label){case 0:return d!=="svg"?[3,1]:(F=C.cloneNode(!0),H=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),J=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",H),J.replaceChild(F,J.documentElement),st=new XMLSerializer().serializeToString(J),I="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(st)),[3,4]);case 1:return ut=void 0,ht=C.getContext("2d"),_t=a||this.get("width"),Vt=o||this.get("height"),re=void 0,l?[4,this.downloadImageWatermark(l,ht,_t,Vt)]:[3,3];case 2:Ee.sent(),Ee.label=3;case 3:if(r){te=typeof window!="undefined"?window.devicePixelRatio:1;try{ut=ht.getImageData(0,0,_t*te,Vt*te),re=ht.globalCompositeOperation,ht.globalCompositeOperation="destination-over",ht.fillStyle=r,ht.fillRect(0,0,_t,Vt)}catch(ze){console.error("Download image failed. Out of memory at ImageData creation")}}I=C.toDataURL(t),r&&(ht.clearRect(0,0,_t,Vt),ht.putImageData(ut,0,0),ht.globalCompositeOperation=re),Ee.label=4;case 4:return n&&n(I),[2]}})})},16)},e.prototype.toDataURL=function(t,r){var n=this.get("canvas"),a=n.getRenderer(),o=n.get("el");t||(t="image/png");var s="";if(a==="svg"){var u=o.cloneNode(!0),l=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),c=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",l);c.replaceChild(u,c.documentElement);var d=new XMLSerializer().serializeToString(c);s="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(d))}else{var C=void 0,I=o.getContext("2d"),F=Math.max(this.get("width"),500),H=Math.max(this.get("height"),500),J=void 0;if(r){var st=typeof window!="undefined"&&window.devicePixelRatio||1;try{C=I.getImageData(0,0,F*st,H*st),J=I.globalCompositeOperation,I.globalCompositeOperation="destination-over",I.fillStyle=r,I.fillRect(0,0,F,H)}catch(ut){console.error("Download image failed. Out of memory at ImageData creation")}}s=o.toDataURL(t),r&&(I.clearRect(0,0,F,H),I.putImageData(C,0,0),I.globalCompositeOperation=J)}return s},e.prototype.toFullDataURL=function(t,r,n){var a=this.get("group").getCanvasBBox(),o=a.height,s=a.width,u=this.get("renderer"),l=co('<div id="virtual-image"></div>'),c=n?n.backgroundColor:void 0,d=n?n.padding:void 0;d?(0,f.isNumber)(d)&&(d=[d,d,d,d]):d=[0,0,0,0];var C=o+d[0]+d[2],I=s+d[1]+d[3],F={container:l,height:C,width:I,quickHit:!0},H=u==="svg"?new Cd(F):new Ml(F),J=this.get("group"),st=J.clone(),ut=(0,f.clone)(st.getMatrix());ut||(ut=[1,0,0,0,1,0,0,0,1]);var ht=(a.maxX+a.minX)/2,_t=(a.maxY+a.minY)/2;ut=ug(ut,[["t",-ht,-_t],["t",s/2+d[3],o/2+d[0]]]),st.resetMatrix(),st.setMatrix(ut),H.add(st);var Vt=H.get("el"),re="";r||(r="image/png"),setTimeout(function(){if(u==="svg"){var te=Vt.cloneNode(!0),Ee=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),ze=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Ee);ze.replaceChild(te,ze.documentElement);var Oe=new XMLSerializer().serializeToString(ze);re="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(Oe))}else{var er=void 0,hr=Vt.getContext("2d"),rn=void 0;if(c){var Dn=typeof window!="undefined"?window.devicePixelRatio:1;try{er=hr.getImageData(0,0,I*Dn,C*Dn),rn=hr.globalCompositeOperation,hr.globalCompositeOperation="destination-over",hr.fillStyle=c,hr.fillRect(0,0,I,C)}catch(yn){console.error("Download image failed. Out of memory at ImageData creation")}}re=Vt.toDataURL(r),c&&(hr.clearRect(0,0,I,C),hr.putImageData(er,0,0),hr.globalCompositeOperation=rn)}t&&t(re)},16)},e.prototype.downloadFullImage=function(t,r,n){var a=this,o=this.get("group").getCanvasBBox(),s=o.height,u=o.width,l=this.get("renderer"),c=co('<div id="virtual-image"></div>'),d=document.querySelector(".g6-graph-watermarker"),C=n?n.backgroundColor:void 0,I=n?n.padding:void 0;I?(0,f.isNumber)(I)&&(I=[I,I,I,I]):I=[0,0,0,0];var F=s+I[0]+I[2],H=u+I[1]+I[3];if(d){var J=this.get("graphWaterMarker").cfg||{},st=J.width,ut=J.height;F=Math.ceil(F/ut)*ut,H=Math.ceil(H/st)*st}var ht={container:c,height:F,width:H},_t=l==="svg"?new Cd(ht):new Ml(ht),Vt=this.get("group"),re=Sb(Vt),te=(0,f.clone)(re.getMatrix());te||(te=[1,0,0,0,1,0,0,0,1]);var Ee=(o.maxX+o.minX)/2,ze=(o.maxY+o.minY)/2;te=ug(te,[["t",-Ee,-ze],["t",u/2+I[3],s/2+I[0]]]),re.resetMatrix(),re.setMatrix(te),_t.add(re);var Oe=_t.get("el");r||(r="image/png"),this.asyncToDataUrl(r,C,function(er){var hr=document.createElement("a"),rn=(t||"graph")+(l==="svg"?".svg":".".concat(r.split("/")[1]));a.dataURLToImage(er,l,hr,rn);var Dn=document.createEvent("MouseEvents");Dn.initEvent("click",!1,!1),hr.dispatchEvent(Dn)},H,F,Oe)},e.prototype.downloadImage=function(t,r,n){var a=this,o=this;o.stopAnimate();var s=o.get("canvas"),u=s.getRenderer();r||(r="image/png");var l=(t||"graph")+(u==="svg"?".svg":r.split("/")[1]),c=document.createElement("a");o.asyncToDataUrl(r,n,function(d){a.dataURLToImage(d,u,c,l);var C=document.createEvent("MouseEvents");C.initEvent("click",!1,!1),c.dispatchEvent(C)})},e.prototype.dataURLToImage=function(t,r,n,a){if(!t||t==="data:"){console.error("Download image failed. The graph is too large or there is invalid attribute values in graph items");return}if(typeof window!="undefined")if(window.Blob&&window.URL&&r!=="svg"){var o=t.split(","),s="";if(o&&o.length>0){var u=o[0].match(/:(.*?);/);u&&u.length>=2&&(s=u[1])}for(var l=atob(o[1]),c=l.length,d=new Uint8Array(c);c--;)d[c]=l.charCodeAt(c);var C=new Blob([d],{type:s});window.navigator.msSaveBlob?window.navigator.msSaveBlob(C,a):n.addEventListener("click",function(){n.download=a,n.href=window.URL.createObjectURL(C)})}else n.addEventListener("click",function(){n.download=a,n.href=t})},e.prototype.addPlugin=function(t){var r=this;t.destroyed||(r.get("plugins").push(t),t.initPlugin(r))},e.prototype.removePlugin=function(t){var r=this.get("plugins"),n=r.indexOf(t);n>=0&&(t.destroyPlugin(),r.splice(n,1))},e.prototype.setImageWaterMarker=function(t,r){t===void 0&&(t=sf.waterMarkerImage);var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},sf.imageWaterMarkerConfig,r),s=o.width,u=o.height,l=o.compatible,c=o.image;if(!t){var d=l?n:document.querySelector(".g6-graph-watermarker");d&&(d.style.cssText=void 0),a&&a.clear();return}if(a)a.clear();else{var C={container:n,width:s,height:u,capture:!1},I=this.get("pixelRatio");I&&(C.pixelRatio=I,window.devicePixelRatio=I),a=new Ml(C),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var F=a.get("context"),H=c.rotate,J=c.x,st=c.y;F.rotate(-H*Math.PI/180);var ut=new Image;ut.crossOrigin="anonymous",ut.src=t,ut.onload=function(){if(F.drawImage(ut,J,st,c.width,c.height),F.rotate(H*Math.PI/180),l)n.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var ht=document.querySelector(".g6-graph-watermarker");ht||(ht=document.createElement("div"),ht.className="g6-graph-watermarker"),ht.className="g6-graph-watermarker",a.destroyed||(ht.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;"),n.appendChild(ht))}}},e.prototype.setTextWaterMarker=function(t,r){var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},sf.textWaterMarkerConfig,r),s=o.width,u=o.height,l=o.compatible,c=o.text;if(!(t!=null&&t.length)){var d=l?n:document.querySelector(".g6-graph-watermarker");d&&(d.style.cssText=void 0),a&&a.clear();return}if(a)a.clear();else{var C={container:n,width:s,height:u,capture:!1},I=this.get("pixelRatio");I&&(C.pixelRatio=I,window.devicePixelRatio=I),a=new Ml(C),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var F=a.get("context"),H=c.rotate,J=c.fill,st=c.fontFamily,ut=c.fontSize,ht=c.baseline,_t=c.x,Vt=c.y,re=c.lineHeight;F.rotate(-H*Math.PI/180),F.font="".concat(ut,"px ").concat(st),F.fillStyle=J,F.textBaseline=ht;for(var te=(0,f.isString)(t)?[t]:t,Ee=te.length-1;Ee>=0;Ee--)F.fillText(te[Ee],_t,Vt+Ee*re);if(F.rotate(H*Math.PI/180),l)n.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var ze=document.querySelector(".g6-graph-watermarker");ze||(ze=document.createElement("div"),ze.className="g6-graph-watermarker"),ze.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;"),n.appendChild(ze)}},e.prototype.destroy=function(){var t,r,n,a;(0,f.each)(this.get("plugins"),function(c){c.destroyPlugin()});var o=this.get("tooltips");if(o)for(var s=0;s<o.length;s++){var u=o[s];if(u){var l=u.parentElement;l&&l.removeChild(u)}}(t=this.get("eventController"))===null||t===void 0||t.destroy(),(r=this.get("layoutController"))===null||r===void 0||r.destroy(),(n=this.get("graphWaterMarker"))===null||n===void 0||n.destroy(),(a=document.querySelector(".g6-graph-watermarker"))===null||a===void 0||a.remove(),i.prototype.destroy.call(this)},e}(cp),lg=Cb,Tb=_l.radialLayout,Ab=_l.traverseTree,Ob=function(i){(0,m.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.layoutAnimating=!1,r.set("removeList",[]),r.set("layoutMethod",r.getLayout()),r}return e.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction=t.type==="indented"?"LR":"TB"),t.radial?function(r){var n=lh()[t.type](r,t);return Tb(n),n}:function(r){return lh()[t.type](r,t)}):null},e.indexOfChild=function(t,r){var n=-1;return(0,f.each)(t,function(a,o){if(r===a.id)return n=o,!1}),n},e.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.animate=!0,t},e.prototype.innerAddChild=function(t,r,n){var a=this,o=t.data;o&&(o.x=t.x,o.y=t.y,o.depth=t.depth);var s=a.addItem("node",o,!1);if(r){if(s.set("parent",r),n){var u=r.get("originAttrs");if(u)s.set("originAttrs",u);else{var l=r.getModel();s.set("originAttrs",{x:l.x,y:l.y})}}var c=r.get("children");c?c.push(s):r.set("children",[s]),a.addItem("edge",{source:r.get("id"),target:s.get("id"),id:"".concat(r.get("id"),":").concat(s.get("id"))},!1)}return(0,f.each)(t.children||[],function(d){a.innerAddChild(d,s,n)}),a.emit("afteraddchild",{item:s,parent:r}),s},e.prototype.innerUpdateChild=function(t,r,n){var a=this,o=a.findById(t.id);if(!o){a.innerAddChild(t,r,n);return}(0,f.each)(t.children||[],function(F){a.innerUpdateChild(F,o,n)});var s=o.get("children");if(s){var u=s.length;if(u>0)for(var l=s.length-1;l>=0;l--){var c=s[l].getModel();e.indexOfChild(t.children||[],c.id)===-1&&(a.innerRemoveChild(c.id,{x:t.x,y:t.y},n),s.splice(l,1))}}var d,C;o.get("originAttrs")&&(d=o.get("originAttrs").x,C=o.get("originAttrs").y);var I=o.getModel();n&&o.set("originAttrs",{x:I.x,y:I.y}),o.set("model",Object.assign(I,t.data)),(d!==t.x||C!==t.y)&&o.updatePosition({x:t.x,y:t.y})},e.prototype.innerRemoveChild=function(t,r,n){var a=this,o=a.findById(t);if(o)if((0,f.each)(o.get("children"),function(u){a.innerRemoveChild(u.getModel().id,r,n)}),n){var s=o.getModel();o.set("to",r),o.set("originAttrs",{x:s.x,y:s.y}),a.get("removeList").push(o)}else a.removeItem(o,!1)},e.prototype.changeData=function(t,r){r===void 0&&(r=!0);var n=this;this.getNodes().map(function(a){return n.clearItemStates(a)}),this.getEdges().map(function(a){return n.clearItemStates(a)}),r&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.get("originData"),after:t||n.get("data")}),t?(n.data(t),n.render(!1)):n.layout(this.get("fitView"))},e.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var r=this;r.updateLayout(t)},e.prototype.updateLayout=function(t,r){r===void 0&&(r=!0);var n=this;if(!t){console.warn("layout cannot be null");return}r&&this.get("enabledStack")&&this.pushStack("layout",{before:n.get("layout"),after:t}),n.set("layout",t),n.set("layoutMethod",n.getLayout()),n.layout()},e.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var r=this;r.layout(t)},e.prototype.layout=function(t){var r=this,n=r.get("data"),a=r.get("layoutMethod"),o=a?a(n,r.get("layout")):n,s=r.get("animate");if(r.emit("beforerefreshlayout",{data:n,layoutData:o}),r.emit("beforelayout"),r.innerUpdateChild(o,void 0,s),t){var u=r.get("viewController");u.fitView()}s?r.layoutAnimate(o):(r.refresh(),r.paint()),r.emit("afterrefreshlayout",{data:n,layoutData:o}),r.emit("afterlayout")},e.prototype.addChild=function(t,r,n){n===void 0&&(n=!0);var a=this;a.emit("beforeaddchild",{model:t,parent:r}),(0,f.isString)(r)||(r=r.get("id"));var o=a.findDataById(r);if(o){o.children||(o.children=[]),o.children.push(t);var s=a.findById(r);s.refresh(),a.changeData(void 0,n)}},e.prototype.updateChildren=function(t,r,n){n===void 0&&(n=!0);var a=this,o=a.findById(r);if(!r||!o){console.warn("Update children failed! There is no node with id '".concat(r,"'"));return}var s=a.findDataById(r);s.children=t,o.refresh(),a.changeData(void 0,n)},e.prototype.updateChild=function(t,r,n){n===void 0&&(n=!0);var a=this;if(!r||!a.findById(r)){a.changeData(t,n);return}var o=a.findDataById(r),s=a.findById(t.id);if(o.children||(o.children=[]),!s)o.children.push(t);else{var u=e.indexOfChild(o.children,t.id);u>-1&&(o.children[u]=t)}var l=a.findById(r);l==null||l.refresh(),a.changeData(void 0,n)},e.prototype.removeChild=function(t,r){r===void 0&&(r=!0);var n=this,a=n.findById(t),o;if(a?o=a==null?void 0:a.get("parent"):o=n.getNodes().find(function(d){var C=d.getModel().children||[];return!!C.find(function(I){return I.id===t})}),o&&!o.destroyed){var s=o.get("id"),u=n.findDataById(s),l=u&&u.children||[],c=e.indexOfChild(l,t);l.splice(c,1),o.refresh()}n.changeData(void 0,r)},e.prototype.findDataById=function(t,r){var n=this;if(r||(r=n.get("data")),t===r.id)return r;var a=null;return(0,f.each)(r.children||[],function(o){if(o.id===t)return a=o,!1;if(a=n.findDataById(t,o),a)return!1}),a},e.prototype.layoutAnimate=function(t,r){var n=this,a=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach(function(o){var s=o.get("model");s.sourceAnchor||(s.sourceAnchor=o.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(o){Ab(t,function(s){var u=n.findById(s.id);if(u){var l=u.get("originAttrs"),c=u.get("model");if(l||(l={x:c.x,y:c.y},u.set("originAttrs",l)),r){var d=r(u,o,l,t);u.set("model",Object.assign(c,d))}else c.x=l.x+(s.x-l.x)*o,c.y=l.y+(s.y-l.y)*o}return!0}),(0,f.each)(n.get("removeList"),function(s){var u=s.getModel(),l=s.get("originAttrs"),c=s.get("to");u.x=l.x+(c.x-l.x)*o,u.y=l.y+(c.y-l.y)*o}),n.refreshPositions()},{duration:a.duration,easing:a.ease,callback:function(){(0,f.each)(n.getNodes(),function(s){s.set("originAttrs",null)}),(0,f.each)(n.get("removeList"),function(s){n.removeItem(s,!1)}),n.set("removeList",[]),a.callback&&a.callback(),n.emit("afteranimate",{data:t})},delay:a.delay})},e.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},e.prototype.isLayoutAnimating=function(){return this.layoutAnimating},e.prototype.render=function(t){t===void 0&&(t=!0);var r=this,n=r.get("data");if(!n||!(0,f.isObject)(n)||!Object.keys(n).length)throw new Error("data must be defined first");r.clear(),t&&this.get("enabledStack")&&this.clearStack(),r.emit("beforerender"),r.layout(this.get("fitView")),r.emit("afterrender")},e.prototype.save=function(){return this.get("data")},e.prototype.data=function(t){i.prototype.data.call(this,t),this.set("originData",JSON.parse(JSON.stringify(t)))},e}(lg),Ib=Ob;function Va(i,e){if(i)for(var t in e)e.hasOwnProperty(t)&&(i.style[t]=e[t]);return i}var Db=function(){function i(e){this._cfgs=(0,f.deepMix)(this.getDefaultCfgs(),e),this._events={},this.destroyed=!1}return i.prototype.getDefaultCfgs=function(){return{}},i.prototype.initPlugin=function(e){var t=this;t.set("graph",e);var r=t.getEvents(),n={};(0,f.each)(r,function(a,o){var s=(0,f.wrapBehavior)(t,a);n[o]=s,e.on(o,s)}),this._events=n,this.init()},i.prototype.getEvents=function(){return{}},i.prototype.get=function(e){var t;return(t=this._cfgs)===null||t===void 0?void 0:t[e]},i.prototype.set=function(e,t){this._cfgs[e]=t},i.prototype.destroy=function(){},i.prototype.destroyPlugin=function(){this.destroy();var e=this.get("graph"),t=this._events;(0,f.each)(t,function(r,n){e.off(n,r)}),this._events=null,this._cfgs=null,this.destroyed=!0},i}(),Ts=Db,Pb=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cg="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",Lb=function(i){Pb(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{img:cg,follow:!0}},e.prototype.init=function(){var t=this.get("graph"),r=t.get("container"),n=t.get("canvas").get("el"),a=this.get("img")||cg;a.includes("url(")||(a='url("'.concat(a,'")'));var o=co(`<div class='g6-grid-container' style="position:absolute;overflow:hidden;z-index: -1;"></div>`),s=co(`<div
        class='g6-grid'
        style='position:absolute;
        background-image: `.concat(a,`;
        user-select: none
        '></div>`));this.set("container",o),this.set("gridContainer",s),this.positionInit(),o.appendChild(s),r.insertBefore(o,n)},e.prototype.positionInit=function(){var t=this.get("graph"),r=t.get("minZoom"),n=t.get("width"),a=t.get("height");Va(this.get("container"),{width:"".concat(n,"px"),height:"".concat(a,"px")});var o=n*80/r,s=a*80/r;Va(this.get("gridContainer"),{width:"".concat(o,"px"),height:"".concat(s,"px"),left:"-".concat(o/2,"px"),top:"-".concat(s/2,"px")})},e.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},e.prototype.updateGrid=function(t){var r=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var a=this.get("follow"),o="matrix(".concat(n[0],", ").concat(n[1],", ").concat(n[3],", ").concat(n[4],", ").concat(a?n[6]:"0",", ").concat(a?n[7]:"0",")");Va(r,{transform:o})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t=this.get("graph"),r=t.get("container"),n=this.get("container");r.removeChild(n)},e}(Ts),Nb=Lb,Rb=_(738186),fh=_.n(Rb),kb=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();typeof document!="undefined"&&fh()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var Bb=function(i){kb(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(r){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(r){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},e.prototype.getEvents=function(){return this.get("trigger")==="click"?{click:"onMenuShow",touchend:"onMenuShow"}:{contextmenu:"onMenuShow"}},e.prototype.init=function(){var t=this.get("className"),r=co("<div class=".concat(t||"g6-component-contextmenu","></div>"));Va(r,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),(0,f.isString)(n)&&(n=document.getElementById(n)),n.appendChild(r),this.set("menu",r)},e.prototype.onMenuShow=function(t){var r=this;t.preventDefault();var n=this.get("itemTypes");if(t.item){if(t.item&&t.item.getType&&n.indexOf(t.item.getType())===-1){r.onMenuHide();return}}else if(n.indexOf("canvas")===-1){r.onMenuHide();return}var a=this.get("shouldBegin");if(a(t)){var o=this.get("menu"),s=this.get("getContent"),u=this.get("graph"),l=s(t,u);(0,f.isString)(l)?o.innerHTML=l:o.innerHTML=l.outerHTML,this.removeMenuEventListener();var c=this.get("handleMenuClick");if(c){var d=function(Ee){c(Ee.target,t.item,u)};this.set("handleMenuClickWrapper",d),o.addEventListener("click",d)}var C=u.get("width"),I=u.get("height"),F=o.getBoundingClientRect(),H=this.get("offsetX")||0,J=this.get("offsetY")||0,st=u.getContainer().offsetTop,ut=u.getContainer().offsetLeft,ht=t.canvasX+ut+H,_t=t.canvasY+st+J;ht+F.width>C&&(ht=t.canvasX-F.width-H+ut),_t+F.height>I&&(_t=t.canvasY-F.height-J+st),Va(o,{top:"".concat(_t,"px"),left:"".concat(ht,"px"),visibility:"visible"});var Vt=this.get("trigger")==="click",re=function(Ee){if(Vt){Vt=!1;return}r.onMenuHide()};document.body.addEventListener("click",re),this.set("handler",re)}},e.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),r=this.get("handler");if(t){var n=this.get("menu");n.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}r&&document.body.removeEventListener("click",r)},e.prototype.onMenuHide=function(){var t=this.get("menu");t&&Va(t,{visibility:"hidden"}),this.removeMenuEventListener()},e.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var r=this.get("container");r||(r=this.get("graph").get("container")),(0,f.isString)(r)&&(r=document.getElementById(r)),r.removeChild(t)}},e}(Ts),Fb=Bb,zb=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lv=function(){return lv=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},lv.apply(this,arguments)},fg=Math.max,Gb=vt,Ub="default",Wb="keyShape",Yb="delegate",dg="svg",Xb=function(i){zb(e,i);function e(t){var r=i.call(this,t)||this;return r.handleUpdateCanvas=(0,f.debounce)(function(n){var a=r;a.destroyed||a.updateCanvas()},100,!1),r}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0,hideEdge:!1}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,r=this._cfgs,n=r.size,a=r.graph;if(!this.destroyed){var o=this.get("canvas"),s=o.get("container"),u=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,l=navigator.userAgent.toLowerCase().indexOf("safari")>-1,c=co(`
      <div
        class=`.concat(r.viewportClassName,`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          outline: 2px solid #1980ff;
          cursor:move'
        draggable=`).concat(!(l||u),`
      </div>`)),d=0,C=0,I=!1,F=0,H=0,J=0,st=0,ut=0,ht=0,_t=l||u?"mousedown":"dragstart";c.addEventListener(_t,function(Ee){var ze,Oe;if(Ee.dataTransfer){var er=new Image;er.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",(Oe=(ze=Ee.dataTransfer).setDragImage)===null||Oe===void 0||Oe.call(ze,er,0,0);try{Ee.dataTransfer.setData("text/html","view-port-minimap")}catch(rn){Ee.dataTransfer.setData("text","view-port-minimap")}}if(r.refresh=!1,Ee.target===c){var hr=c.style;F=parseInt(hr.left,10),H=parseInt(hr.top,10),J=parseInt(hr.width,10),st=parseInt(hr.height,10),!(J>n[0]||st>n[1])&&(ht=a.getZoom(),ut=t.get("ratio"),I=!0,d=Ee.clientX,C=Ee.clientY)}},!1);var Vt=function(ze){if(!(!I||(0,f.isNil)(ze.clientX)||(0,f.isNil)(ze.clientY))){var Oe=d-ze.clientX,er=C-ze.clientY;(F-Oe<0||F-Oe+J>=n[0])&&(Oe=0),(H-er<0||H-er+st>=n[1])&&(er=0),F-=Oe,H-=er,Va(c,{left:"".concat(F,"px"),top:"".concat(H,"px")}),a.translate(Oe*ht/ut,er*ht/ut),d=ze.clientX,C=ze.clientY}};!l&&!u&&c.addEventListener("drag",Vt,!1);var re=function(){I=!1,r.refresh=!0},te=l||u?"mouseup":"dragend";c.addEventListener(te,re,!1),s.addEventListener("mouseleave",re),s.addEventListener("mouseup",re),(l||u)&&s.addEventListener("mousemove",Vt,!1),this.set("viewport",c),s.appendChild(c)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),r=this.get("totaldx"),n=this.get("totaldy"),a=this.get("graph"),o=this.get("size"),s=a.get("canvas").get("el"),u=a.get("width")||s.scrollWidth||500,l=a.get("height")||s.scrollHeight||500,c=a.getPointByCanvas(0,0),d=a.getPointByCanvas(u,l),C=this.get("viewport");C||this.initViewport();var I=(d.x-c.x)*t,F=(d.y-c.y)*t,H=c.x*t+r,J=c.y*t+n,st=H+I,ut=J+F;H<0&&(I+=H,H=0),st>o[0]&&(I=I-(st-o[0])),J<0&&(F+=J,J=0),ut>o[1]&&(F=F-(ut-o[1])),this.set("ratio",t);var ht="".concat(H,"px"),_t="".concat(J,"px");Va(C,{left:ht,top:_t,width:"".concat(I,"px"),height:"".concat(F,"px")})}},e.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,r=this.get("canvas"),n=t.get("group");if(!n.destroyed){r.clear();var a;this.get("hideEdge")?(a=r.addGroup(),n.get("children").forEach(function(s){s.get("id").includes("-edge")||a.add(s.clone())})):(a=n.clone(),a.resetMatrix(),r.add(a));var o=t.get("renderer");o===dg&&this.updateVisible(a)}},e.prototype.updateVisible=function(t){var r=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var n=t.get("children");if(!n||!n.length)return;n.forEach(function(a){a.get("visible")||a.hide(),r.updateVisible(a)})}},e.prototype.updateKeyShapes=function(){var t=this,r=this._cfgs.graph,n=this.get("canvas"),a=n.get("children")[0]||n.addGroup();this.get("hideEdge")||(0,f.each)(r.getEdges(),function(u){t.updateOneEdgeKeyShape(u,a)}),(0,f.each)(r.getNodes(),function(u){t.updateOneNodeKeyShape(u,a)});var o=r.getCombos();if(o&&o.length){var s=a.find(function(u){return u.get("name")==="comboGroup"})||a.addGroup({name:"comboGroup"});setTimeout(function(){t.destroyed||((0,f.each)(o,function(u){t.updateOneComboKeyShape(u,s)}),s==null||s.sort(),s==null||s.toBack(),t.updateCanvas())},250)}this.clearDestroyedShapes()},e.prototype.updateOneComboKeyShape=function(t,r){if(!this.destroyed){var n=this.get("itemMap")||{},a=n[t.get("id")],o=t.getBBox(),s=t.get("keyShape").clone(),u=s.attr(),l={x:o.centerX,y:o.centerY};a?l=Object.assign(u,l):(a=s,r.add(a));var c=a.get("type");(c==="rect"||c==="image")&&(l.x=o.minX,l.y=o.minY),a.attr(l),t.isVisible()?a.show():a.hide(),a.exist=!0;var d=t.getModel().depth;isNaN(d)||a.set("zIndex",d),n[t.get("id")]=a,this.set("itemMap",n)}},e.prototype.updateOneNodeKeyShape=function(t,r){var n=this.get("itemMap")||{},a=n[t.get("id")],o=t.getBBox(),s=t.get("keyShape").clone(),u=s.attr(),l={x:o.centerX,y:o.centerY};a?(l=Object.assign(u,l),a.toFront()):(a=s,r.add(a));var c=a.get("type");(c==="rect"||c==="image")&&(l.x=o.minX,l.y=o.minY),a.attr(l),t.isVisible()?a.show():a.hide(),a.exist=!0;var d=t.getModel().depth;isNaN(d)||a.set("zIndex",d),n[t.get("id")]=a,this.set("itemMap",n)},e.prototype.updateDelegateShapes=function(){var t=this,r=this._cfgs.graph,n=this.get("canvas"),a=n.get("children")[0]||n.addGroup();this.get("hideEdge")||(0,f.each)(r.getEdges(),function(u){t.updateOneEdgeKeyShape(u,a)}),(0,f.each)(r.getNodes(),function(u){t.updateOneNodeDelegateShape(u,a)});var o=r.getCombos();if(o&&o.length){var s=a.find(function(u){return u.get("name")==="comboGroup"})||a.addGroup({name:"comboGroup"});setTimeout(function(){t.destroyed||((0,f.each)(o,function(u){t.updateOneComboKeyShape(u,s)}),s==null||s.sort(),s==null||s.toBack(),t.updateCanvas())},250)}this.clearDestroyedShapes()},e.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},r=Object.keys(t);if(!(!r||r.length===0))for(var n=r.length-1;n>=0;n--){var a=t[r[n]],o=a.exist;a.exist=!1,o||(a.remove(),delete t[r[n]])}},e.prototype.updateOneEdgeKeyShape=function(t,r){var n=this.get("itemMap")||{},a=n[t.get("id")];if(a){var o=t.get("keyShape").attr("path");a.attr("path",o)}else a=t.get("keyShape").clone(),r.add(a);t.isVisible()?a.show():a.hide(),a.exist=!0,n[t.get("id")]=a,this.set("itemMap",n)},e.prototype.updateOneNodeDelegateShape=function(t,r){var n=this.get("delegateStyle"),a=this.get("itemMap")||{},o=a[t.get("id")],s=t.getBBox();if(o){var u={x:s.minX,y:s.minY,width:s.width,height:s.height};o.attr(u),o.toFront()}else o=r.addShape("rect",{attrs:lv({x:s.minX,y:s.minY,width:s.width,height:s.height},n),name:"minimap-node-shape"});t.isVisible()?o.show():o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},e.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},e.prototype.initContainer=function(){var t=this,r=t.get("graph"),n=t.get("size"),a=t.get("className"),o=t.get("container"),s=co("<div class='".concat(a,"' style='width: ").concat(n[0],"px; height: ").concat(n[1],"px; overflow: hidden'></div>"));(0,f.isString)(o)&&(o=document.getElementById(o)),o?o.appendChild(s):r.get("container").appendChild(s),t.set("container",s);var u=co('<div class="g6-minimap-container" style="position: relative;"></div>');s.appendChild(u),u.addEventListener("dragenter",function(d){d.preventDefault()}),u.addEventListener("dragover",function(d){d.preventDefault()});var l,c=r.get("renderer");c===dg?l=new Cd({container:u,width:n[0],height:n[1]}):l=new Ml({container:u,width:n[0],height:n[1]}),t.set("canvas",l),t.updateCanvas()},e.prototype.updateCanvas=function(){if(!this.destroyed){var t=this.get("refresh");if(t){var r=this.get("graph");if(!r.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("size"),a=this.get("canvas"),o=this.get("type"),s=this.get("padding");if(!a.destroyed){switch(o){case Ub:this.updateGraphShapes();break;case Wb:this.updateKeyShapes();break;case Yb:this.updateDelegateShapes();break;default:break}var u=a.get("children")[0];if(u){u.resetMatrix();var l=u.getCanvasBBox(),c=r.get("canvas").getCanvasBBox(),d=r.getZoom()||1,C=c.width/d,I=c.height/d;Number.isFinite(l.width)&&(C=fg(l.width,C),I=fg(l.height,I)),C+=2*s,I+=2*s;var F=Math.min(n[0]/C,n[1]/I),H=[1,0,0,0,1,0,0,0,1],J=0,st=0;Number.isFinite(l.minX)&&(J=-l.minX),Number.isFinite(l.minY)&&(st=-l.minY);var ut=(n[0]-(C-2*s)*F)/2,ht=(n[1]-(I-2*s)*F)/2;H=Gb(H,[["t",J,st],["s",F,F],["t",ut,ht]]),u.setMatrix(H),this.set("ratio",F),this.set("totaldx",ut+J*F),this.set("totaldy",ht+st*F),this.set("dx",ut),this.set("dy",ht),this.updateViewport()}}}}}},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t;(t=this.get("canvas"))===null||t===void 0||t.destroy();var r=this.get("container");r!=null&&r.parentNode&&r.parentNode.removeChild(r)},e}(Ts),jb=Xb,Vb=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function Wu(i,e,t){var r=i.x-e.x,n=i.y-e.y;return!t||Math.abs(r)>t||Math.abs(n)>t?Math.sqrt(r*r+n*n):t}function Hb(i,e){return i.x*e.x+i.y*e.y}function hg(i,e){var t=(e.source.y-e.target.y)/(e.source.x-e.target.x),r=(t*t*e.source.x+t*(i.y-e.source.y)+i.x)/(t*t+1),n=t*(r-e.source.x)+e.source.y;return{x:r,y:n}}var Zb=function(i){Vb(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},e.prototype.init=function(){var t=this.get("graph"),r=this.get("onTick"),n=function(){r&&r(),t.refreshPositions()};this.set("tick",n)},e.prototype.bundling=function(t){var r=this;if(r.set("data",t),!r.isTicking()){var n=t.edges||[],a=t.nodes||[],o={},s=!1;if(a.forEach(function(_t){(_t.x===null||!_t.y===null||_t.x===void 0||!_t.y===void 0)&&(s=!0),o[_t.id]=_t}),s)throw new Error("please layout the graph or assign x and y for nodes first");r.set("nodeIdMap",o);var u=r.get("divisions"),l=r.get("divRate"),c=r.divideEdges(u);r.set("edgePoints",c);var d=r.getEdgeBundles();r.set("edgeBundles",d);for(var C=r.get("cycles"),I=r.get("iterations"),F=r.get("iterRate"),H=r.get("lambda"),J=0;J<C;J++){for(var st=function(Vt){var re=[];n.forEach(function(te,Ee){if(te.source!==te.target){var ze=o[te.source],Oe=o[te.target];re[Ee]=r.getEdgeForces({source:ze,target:Oe},Ee,u,H);for(var er=0;er<u+1;er++)c[Ee][er].x+=re[Ee][er].x,c[Ee][er].y+=re[Ee][er].y}})},ut=0;ut<I;ut++)st(ut);H=H/2,u*=l,I*=F,c=r.divideEdges(u),r.set("edgePoints",c)}n.forEach(function(_t,Vt){_t.source!==_t.target&&(_t.type="polyline",_t.controlPoints=c[Vt].slice(1,c[Vt].length-1))});var ht=r.get("graph");ht.refresh()}},e.prototype.updateBundling=function(t){var r=this,n=t.data;if(n&&r.set("data",n),r.get("ticking")&&r.set("ticking",!1),Object.keys(t).forEach(function(o){r.set(o,t[o])}),t.onTick){var a=this.get("graph");r.set("tick",function(){t.onTick(),a.refresh()})}r.bundling(n)},e.prototype.divideEdges=function(t){var r=this,n=r.get("data").edges,a=r.get("nodeIdMap"),o=r.get("edgePoints");return(!o||o===void 0)&&(o=[]),n.forEach(function(s,u){var l;(!o[u]||o[u]===void 0)&&(o[u]=[]);var c=a[s.source],d=a[s.target];if(t===1)o[u].push({x:c.x,y:c.y}),o[u].push({x:.5*(c.x+d.x),y:.5*(c.y+d.y)}),o[u].push({x:d.x,y:d.y});else{var C=0;!((l=o[u])===null||l===void 0)&&l.length?C=r.getEdgeLength(o[u]):C=Wu({x:c.x,y:c.y},{x:d.x,y:d.y});var I=C/(t+1),F=I,H=[{x:c.x,y:c.y}];o[u].forEach(function(J,st){if(st!==0){for(var ut=Wu(J,o[u][st-1]);ut>F;){var ht=F/ut,_t={x:o[u][st-1].x,y:o[u][st-1].y};_t.x+=ht*(J.x-o[u][st-1].x),_t.y+=ht*(J.y-o[u][st-1].y),H.push(_t),ut-=F,F=I}F-=ut}}),H.push({x:d.x,y:d.y}),o[u]=H}}),o},e.prototype.getEdgeLength=function(t){var r=0;return t.forEach(function(n,a){a!==0&&(r+=Wu(n,t[a-1]))}),r},e.prototype.getEdgeBundles=function(){var t=this,r=t.get("data"),n=r.edges||[],a=t.get("bundleThreshold"),o=t.get("nodeIdMap"),s=t.get("edgeBundles");return s||(s=[]),n.forEach(function(u,l){(!s[l]||s[l]===void 0)&&(s[l]=[])}),n.forEach(function(u,l){var c=o[u.source],d=o[u.target];n.forEach(function(C,I){if(!(I<=l)){var F=o[C.source],H=o[C.target],J=t.getBundleScore({source:c,target:d},{source:F,target:H});J>=a&&(s[l].push(I),s[I].push(l))}})}),s},e.prototype.getBundleScore=function(t,r){var n=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,r.vx=r.target.x-r.source.x,r.vy=r.target.y-r.source.y,t.length=Wu({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),r.length=Wu({x:r.source.x,y:r.source.y},{x:r.target.x,y:r.target.y});var a=n.getAngleScore(t,r),o=n.getScaleScore(t,r),s=n.getPositionScore(t,r),u=n.getVisibilityScore(t,r);return a*o*s*u},e.prototype.getAngleScore=function(t,r){var n=Hb({x:t.vx,y:t.vy},{x:r.vx,y:r.vy});return n/(t.length*r.length)},e.prototype.getScaleScore=function(t,r){var n=(t.length+r.length)/2,a=2/(n/Math.min(t.length,r.length)+Math.max(t.length,r.length)/n);return a},e.prototype.getPositionScore=function(t,r){var n=(t.length+r.length)/2,a={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},o={x:(r.source.x+r.target.x)/2,y:(r.source.y+r.target.y)/2},s=Wu(a,o);return n/(n+s)},e.prototype.getVisibilityScore=function(t,r){var n=this.getEdgeVisibility(t,r),a=this.getEdgeVisibility(r,t);return n<a?n:a},e.prototype.getEdgeVisibility=function(t,r){var n=hg(r.source,t),a=hg(r.target,t),o={x:(n.x+a.x)/2,y:(n.y+a.y)/2},s={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*Wu(o,s)/Wu(n,a))},e.prototype.getEdgeForces=function(t,r,n,a){for(var o=this,s=o.get("edgePoints"),u=o.get("K"),l=u/(Wu(t.source,t.target)*(n+1)),c=[{x:0,y:0}],d=1;d<n;d++){var C={x:0,y:0},I=o.getSpringForce({pre:s[r][d-1],cur:s[r][d],next:s[r][d+1]},l),F=o.getElectrostaticForce(d,r);C.x=a*(I.x+F.x),C.y=a*(I.y+F.y),c.push(C)}return c.push({x:0,y:0}),c},e.prototype.getSpringForce=function(t,r){var n=t.pre.x+t.next.x-2*t.cur.x,a=t.pre.y+t.next.y-2*t.cur.y;return n*=r,a*=r,{x:n,y:a}},e.prototype.getElectrostaticForce=function(t,r){var n=this,a=n.get("eps"),o=n.get("edgeBundles"),s=n.get("edgePoints"),u=o[r],l={x:0,y:0};return u.forEach(function(c){var d={x:s[c][t].x-s[r][t].x,y:s[c][t].y-s[r][t].y};if(Math.abs(d.x)>a||Math.abs(d.y)>a){var C=Wu(s[c][t],s[r][t]),I=1/C;l.x+=d.x*I,l.y+=d.y*I}}),l},e.prototype.isTicking=function(){return this.get("ticking")},e.prototype.getSimulation=function(){return this.get("forceSimulation")},e.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),i.prototype.destroy.call(this)},e}(Ts),Kb=Zb,$b=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cv=function(){return cv=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},cv.apply(this,arguments)},dh=.05,vg={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},qb=function(i){$b(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,f.clone)(vg),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},e.prototype.init=function(){var t=this,r=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",r*r);var n=t.get("d");t.set("molecularParam",(n+1)*r)},e.prototype.createDelegate=function(t){var r=this,n=this,a=n.get("delegate");(!a||a.destroyed)&&(n.magnify(t),a=n.get("delegate"),a.on("dragstart",function(o){n.set("delegateCenterDiff",{x:a.attr("x")-o.x,y:a.attr("y")-o.y})}),a.on("drag",function(o){n.magnify(o)}),this.get("scaleDBy")==="wheel"&&a.on("mousewheel",function(o){r.scaleDByWheel(o)}),this.get("scaleRBy")==="wheel"&&a.on("mousewheel",function(o){n.scaleRByWheel(o)}))},e.prototype.scaleRByWheel=function(t){var r=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=r.get("graph"),a,o=r.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,u=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-dh:a=1/(1-dh);var l=r.get("maxR"),c=r.get("minR"),d=r.get("r");(d>(l||n.get("height"))&&a>1||d<(c||n.get("height")*.05)&&a<1)&&(a=1),d*=a,r.set("r",d),r.set("r2",d*d);var C=r.get("d");r.set("molecularParam",(C+1)*d),r.set("delegateCenterDiff",void 0),r.magnify(t,u)}},e.prototype.scaleRByDrag=function(t){var r=this;if(t){var n=r.get("dragPrePos"),a=r.get("graph"),o,s=a.getPointByClient(t.clientX,t.clientY);t.x-n.x<0?o=1-dh:o=1/(1-dh);var u=r.get("maxR"),l=r.get("minR"),c=r.get("r");(c>(u||a.get("height"))&&o>1||c<(l||a.get("height")*.05)&&o<1)&&(o=1),c*=o,r.set("r",c),r.set("r2",c*c);var d=r.get("d");r.set("molecularParam",(d+1)*c),r.magnify(t,s),r.set("dragPrePos",{x:t.x,y:t.y})}},e.prototype.scaleDByWheel=function(t){var r=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=0;t.originalEvent.wheelDelta<0?n=-.1:n=.1;var a=r.get("d"),o=a+n,s=r.get("maxD"),u=r.get("minD");if(o<s&&o>u){r.set("d",o);var l=r.get("r");r.set("molecularParam",(o+1)*l);var c=r.get("delegate"),d=c?{x:c.attr("x"),y:c.attr("y")}:void 0;r.set("delegateCenterDiff",void 0),r.magnify(t,d)}}},e.prototype.scaleDByDrag=function(t){var r=this,n=r.get("dragPrePos"),a=t.x-n.x>0?.1:-.1,o=r.get("d"),s=o+a,u=r.get("maxD"),l=r.get("minD");if(s<u&&s>l){r.set("d",s);var c=r.get("r");r.set("molecularParam",(s+1)*c),r.magnify(t)}r.set("dragPrePos",{x:t.x,y:t.y})},e.prototype.magnify=function(t,r){var n=this;n.restoreCache();var a=n.get("graph"),o=n.get("cachedMagnifiedModels"),s=n.get("cachedOriginPositions"),u=n.get("showLabel"),l=n.get("r"),c=n.get("r2"),d=n.get("d"),C=n.get("molecularParam"),I=a.getNodes(),F=I.length,H=r?{x:r.x,y:r.y}:{x:t.x,y:t.y};n.get("dragging")&&(n.get("trigger")==="mousemove"||n.get("trigger")==="click")&&(H=n.get("cacheCenter"));var J=n.get("delegateCenterDiff");J&&(H.x+=J.x,H.y+=J.y),n.updateDelegate(H,l);for(var st=0;st<F;st++){var ut=I[st].getModel(),ht=ut.x,_t=ut.y;if(!(isNaN(ht)||isNaN(_t))){var Vt=(ht-H.x)*(ht-H.x)+(_t-H.y)*(_t-H.y);if(!isNaN(Vt)&&Vt<c&&Vt!==0){var re=Math.sqrt(Vt),te=C*re/(d*re+l),Ee=(ht-H.x)/re,ze=(_t-H.y)/re;if(ut.x=Ee*te+H.x,ut.y=ze*te+H.y,s[ut.id]||(s[ut.id]={x:ht,y:_t,texts:[]}),o.push(ut),u&&2*re<l)for(var Oe=I[st],er=Oe.getContainer(),hr=er.getChildren(),rn=hr.length,Dn=0;Dn<rn;Dn++){var yn=hr[Dn];yn.get("type")==="text"&&(s[ut.id].texts.push({visible:yn.get("visible"),shape:yn}),yn.set("visible",!0))}}}}a.refreshPositions()},e.prototype.restoreCache=function(){for(var t=this,r=t.get("cachedMagnifiedModels"),n=t.get("cachedOriginPositions"),a=r.length,o=0;o<a;o++){var s=r[o],u=s.id,l=n[u];s.x=l.x,s.y=l.y;for(var c=l.texts.length,d=0;d<c;d++){var C=l.texts[d];C.shape.set("visible",C.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},e.prototype.updateParams=function(t){var r=this,n=t.r,a=t.d,o=t.trigger,s=t.minD,u=t.maxD,l=t.minR,c=t.maxR,d=t.scaleDBy,C=t.scaleRBy;isNaN(t.r)||(r.set("r",n),r.set("r2",n*n)),isNaN(a)||r.set("d",a),isNaN(u)||r.set("maxD",u),isNaN(s)||r.set("minD",s),isNaN(c)||r.set("maxR",c),isNaN(l)||r.set("minR",l);var I=r.get("d"),F=r.get("r");if(r.set("molecularParam",(I+1)*F),(o==="mousemove"||o==="click"||o==="drag")&&r.set("trigger",o),d==="drag"||d==="wheel"||d==="unset"){r.set("scaleDBy",d),r.get("delegate").remove(),r.get("delegate").destroy();var H=r.get("dPercentText");H&&(H.remove(),H.destroy())}if(C==="drag"||C==="wheel"||C==="unset"){r.set("scaleRBy",C),r.get("delegate").remove(),r.get("delegate").destroy();var H=r.get("dPercentText");H&&(H.remove(),H.destroy())}},e.prototype.updateDelegate=function(t,r){var n=this,a=this,o=a.get("graph"),s=a.get("delegate");if(!s||s.destroyed){var u=o.get("group"),l=a.get("delegateStyle")||vg;s=u.addShape("circle",{attrs:cv({r:r/1.5,x:t.x,y:t.y},l),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?s.on("mousewheel",function(F){a.scaleRByWheel(F)}):this.get("scaleRBy")==="drag"&&(s.on("dragstart",function(F){a.set("dragging",!0),a.set("cacheCenter",{x:F.x,y:F.y}),a.set("dragPrePos",{x:F.x,y:F.y})}),s.on("drag",function(F){a.scaleRByDrag(F)}),s.on("dragend",function(F){a.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?s.on("mousewheel",function(F){n.scaleDByWheel(F)}):this.get("scaleDBy")==="drag"&&(s.on("dragstart",function(F){a.set("dragging",!0),a.set("cacheCenter",{x:F.x,y:F.y}),a.set("dragPrePos",{x:F.x,y:F.y})}),s.on("drag",function(F){n.scaleDByDrag(F)}),s.on("dragend",function(F){a.set("dragging",!1)})))}else s.attr({x:t.x,y:t.y,r:r/1.5});if(a.get("showDPercent")){var c=Math.round((a.get("d")-a.get("minD"))/(a.get("maxD")-a.get("minD"))*100),d=a.get("dPercentText"),C=t.y+r/1.5+16;if(!d||d.destroyed){var I=o.get("group");d=I.addShape("text",{attrs:{text:"".concat(c,"%"),x:t.x,y:C,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),a.set("dPercentText",d)}else d.attr({text:"".concat(c,"%"),x:t.x,y:C})}a.set("delegate",s)},e.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var r=this.get("delegate");r&&!r.destroyed&&(r.remove(),r.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},e.prototype.destroy=function(){this.clear()},e}(Ts),Qb=qb,Jb=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pg=.05;typeof document!="undefined"&&fh()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var tx=function(e){if(!e)return[];if(e.composedPath)return e.composedPath();for(var t=[],r=e.target;r;){if(t.push(r),r.tagName==="HTML")return t.push(document,window),t;r=r.parentElement}return t},ex=function(i){Jb(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(r){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `},zoomSensitivity:2}},e.prototype.init=function(){var t=this,r=this.get("graph"),n=this.get("getContent"),a=n(r),o=a;(0,f.isString)(a)&&(o=co(a));var s=this.get("className");o.setAttribute("class",s||"g6-component-toolbar");var u=this.get("container");u||(u=this.get("graph").get("container")),(0,f.isString)(u)&&(u=document.getElementById(u)),u.appendChild(o),this.set("toolBar",o);var l=this.get("handleClick");o.addEventListener("click",function(d){var C=tx(d).filter(function(F){return F.nodeName==="LI"});if(C.length!==0){var I=C[0].getAttribute("code");I&&(l?l(I,r):t.handleDefaultOperator(I))}});var c=this.get("position");c&&Va(o,{top:"".concat(c.y,"px"),left:"".concat(c.x,"px")}),this.bindUndoRedo()},e.prototype.bindUndoRedo=function(){var t=this.get("graph"),r=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),a=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!r||!n||!a||!o||(r.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4"),a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4"),t.on("stackchange",function(s){var u=s.undoStack,l=s.redoStack,c=u.length,d=l.length;c===0?(r.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(r.removeAttribute("style"),n.removeAttribute("style")),d===0?(a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(a.removeAttribute("style"),o.removeAttribute("style"))}))},e.prototype.undo=function(){var t=this.get("graph"),r=t.getUndoStack();if(!(!r||r.length===0)){var n=r.pop();if(n){var a=n.action;t.pushStack(a,(0,f.clone)(n.data),"redo");var o=n.data.before;if(a==="add"&&(o=n.data.after),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(d){var C=o[d];C&&C.forEach(function(I){var F=t.findById(I.id);I.visible?t.showItem(F,!1):t.hideItem(F,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(d){var C=o[d];C&&C.forEach(function(I){var F=t.findById(I.id);delete I.id,t.updateItem(F,I,!1),F.getType()==="combo"&&t.updateCombo(F)})});break;case"changedata":t.changeData(o,!1);break;case"delete":{Object.keys(o).forEach(function(d){var C=o[d];C&&C.forEach(function(I){var F=I.itemType;delete I.itemType,t.addItem(F,I,!1)})});break}case"add":Object.keys(o).forEach(function(d){var C=o[d];C&&C.forEach(function(I){t.removeItem(I.id,!1)})});break;case"updateComboTree":Object.keys(o).forEach(function(d){var C=o[d];C&&C.forEach(function(I){t.updateComboTree(I.id,I.parentId,!1)})});break;case"createCombo":var s=n.data.after.combos,u=s[s.length-1];Object.keys(o).forEach(function(d){var C=o[d];C&&C.forEach(function(I){t.updateComboTree(I.id,I.parentId,!1)})}),t.removeItem(u.id,!1);break;case"uncombo":var l=o.combos[o.combos.length-1],c=o.nodes.concat(o.combos).map(function(d){return d.id}).filter(function(d){return d!==l.id});t.createCombo(l,c,!1);break;case"layout":t.updateLayout(o,void 0,void 0,!1);break;default:}}}},e.prototype.redo=function(){var t=this.get("graph"),r=t.getRedoStack();if(!(!r||r.length===0)){var n=r.pop();if(n){var a=n.action,o=n.data.after;if(t.pushStack(a,(0,f.clone)(n.data)),a==="delete"&&(o=n.data.before),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(c){var d=o[c];d&&d.forEach(function(C){var I=t.findById(C.id);C.visible?t.showItem(I,!1):t.hideItem(I,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(c){var d=o[c];d&&d.forEach(function(C){var I=t.findById(C.id);delete C.id,t.updateItem(I,C,!1),I.getType()==="combo"&&t.updateCombo(I)})});break;case"changedata":t.changeData(o,!1);break;case"delete":o.edges&&o.edges.forEach(function(c){t.removeItem(c.id,!1)}),o.nodes&&o.nodes.forEach(function(c){t.removeItem(c.id,!1)}),o.combos&&o.combos.forEach(function(c){t.removeItem(c.id,!1)});break;case"add":{Object.keys(o).forEach(function(c){var d=o[c];d&&d.forEach(function(C){var I=C.itemType;delete C.itemType,t.addItem(I,C,!1)})});break}case"updateComboTree":Object.keys(o).forEach(function(c){var d=o[c];d&&d.forEach(function(C){t.updateComboTree(C.id,C.parentId,!1)})});break;case"createCombo":var s=o.combos[o.combos.length-1];t.createCombo(s,s.children.map(function(c){return c.id}),!1);break;case"uncombo":var u=n.data.before.combos,l=u[u.length-1];t.uncombo(l.id,!1);break;case"layout":t.updateLayout(o,void 0,void 0,!1);break;default:}}}},e.prototype.zoomOut=function(){var t=this.get("graph"),r=t.getZoom(),n=1/(1-pg*this.get("zoomSensitivity")),a=this.get("maxZoom")||t.get("maxZoom");n*r>a||t.zoomTo(r*n)},e.prototype.zoomIn=function(){var t=this.get("graph"),r=t.getZoom(),n=1-pg*this.get("zoomSensitivity"),a=this.get("minZoom")||t.get("minZoom");n*r<a||t.zoomTo(r*n)},e.prototype.realZoom=function(){var t=this.get("graph");t.zoomTo(1)},e.prototype.autoZoom=function(){var t=this.get("graph");t.fitView([20,20])},e.prototype.handleDefaultOperator=function(t){switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":this.zoomOut();break;case"zoomIn":this.zoomIn();break;case"realZoom":this.realZoom();break;case"autoZoom":this.autoZoom();break;default:}},e.prototype.destroy=function(){var t=this.get("toolBar");if(t){var r=this.get("container");r||(r=this.get("graph").get("container")),(0,f.isString)(r)&&(r=document.getElementById(r)),r.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},e}(Ts),rx=ex,nx=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();typeof document!="undefined"&&fh()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var ax=function(i){nx(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(r){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`.concat(r.item.getType(),`</h4>
          <span class='tooltip-id'>ID\uFF1A`).concat(r.item.getID(),`</span>
        `)},shouldBegin:function(r){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},e.prototype.getEvents=function(){return this.get("trigger")==="click"?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},e.prototype.init=function(){var t=this,r=t.get("className")||"g6-component-tooltip",n=co("<div class='".concat(r,"'></div>")),a=t.get("container");a||(a=t.get("graph").get("container")),(0,f.isString)(a)&&(a=document.getElementById(a)),Va(n,{position:"absolute",visibility:"hidden",display:"none"}),a.appendChild(n),t.get("trigger")!=="click"&&(n.addEventListener("mouseenter",function(o){Va(n,{visibility:"visible",display:"unset"})}),n.addEventListener("mouseleave",function(o){t.hideTooltip()})),t.set("tooltip",n)},e.prototype.onClick=function(t){var r=this.get("itemTypes");if(!(t.item&&t.item.getType&&r.indexOf(t.item.getType())===-1)){var n=t.item,a=this.get("graph");this.currentTarget===n?(this.currentTarget=null,this.hideTooltip(),a.emit("tooltipchange",{item:t.item,action:"hide"})):(this.currentTarget=n,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"}))}},e.prototype.onMouseEnter=function(t){var r=this.get("itemTypes");if(!(t.item&&t.item.getType&&r.indexOf(t.item.getType())===-1)){var n=t.item,a=this.get("graph");this.currentTarget=n,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"})}},e.prototype.onMouseMove=function(t){var r=this.get("itemTypes");t.item&&t.item.getType&&r.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},e.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},e.prototype.clearContainer=function(){var t=this.get("tooltip");t&&(t.innerHTML="")},e.prototype.showTooltip=function(t){if(t.item){var r=this.get("itemTypes");if(!(t.item.getType&&r.indexOf(t.item.getType())===-1)){var n=this.get("tooltip"),a=this.get("getContent"),o=a(t);(0,f.isString)(o)?n.innerHTML=o:(this.clearContainer(),n.appendChild(o)),this.updatePosition(t)}}},e.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&Va(t,{visibility:"hidden",display:"none"})},e.prototype.updatePosition=function(t){var r=this.get("shouldBegin"),n=this.get("tooltip");if(!r(t)){Va(n,{visibility:"hidden",display:"none"});return}var a=this.get("graph"),o=a.get("width"),s=a.get("height"),u=this.get("offsetX")||0,l=this.get("offsetY")||0,c=a.getPointByClient(t.clientX,t.clientY),d=this.get("fixToNode"),C=t.item;if(C.getType&&C.getType()==="node"&&d&&(0,f.isArray)(d)&&d.length>=2){var I=C.getBBox();c={x:I.minX+I.width*d[0],y:I.minY+I.height*d[1]}}var F=a.getCanvasByPoint(c.x,c.y),H=F.x,J=F.y,st=a.getContainer(),ut={x:H+st.offsetLeft+u,y:J+st.offsetTop+l};Va(n,{visibility:"visible",display:"unset"});var ht=n.getBoundingClientRect();H+ht.width+u>o&&(ut.x-=ht.width+u),J+ht.height+l>s&&(ut.y-=ht.height+l),Va(n,{left:"".concat(ut.x,"px"),top:"".concat(ut.y,"px")})},e.prototype.hide=function(){this.onMouseLeave()},e.prototype.destroy=function(){var t=this.get("tooltip");if(t){var r=this.get("container");r||(r=this.get("graph").get("container")),(0,f.isString)(r)&&(r=document.getElementById(r)),r.removeChild(t)}},e}(Ts),ix=ax,gg={};function ox(i){return gg[i]}function Yu(i,e){gg[i]=e}var sx=function(){function i(e){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=e,this.initCfg(),this.init()}return i.prototype.translate=function(e){return e},i.prototype.change=function(e){(0,f.assign)(this.__cfg__,e),this.init()},i.prototype.clone=function(){return this.constructor(this.__cfg__)},i.prototype.getTicks=function(){var e=this;return(0,f.map)(this.ticks,function(t,r){return(0,f.isObject)(t)?t:{text:e.getText(t,r),tickValue:t,value:e.scale(t)}})},i.prototype.getText=function(e,t){var r=this.formatter,n=r?r(e,t):e;return(0,f.isNil)(n)||!(0,f.isFunction)(n.toString)?"":n.toString()},i.prototype.getConfig=function(e){return this.__cfg__[e]},i.prototype.init=function(){(0,f.assign)(this,this.__cfg__),this.setDomain(),(0,f.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},i.prototype.initCfg=function(){},i.prototype.setDomain=function(){},i.prototype.calculateTicks=function(){var e=this.tickMethod,t=[];if((0,f.isString)(e)){var r=ox(e);if(!r)throw new Error("There is no method to to calculate ticks!");t=r(this)}else(0,f.isFunction)(e)&&(t=e(this));return t},i.prototype.rangeMin=function(){return this.range[0]},i.prototype.rangeMax=function(){return this.range[1]},i.prototype.calcPercent=function(e,t,r){return(0,f.isNumber)(e)?(e-t)/(r-t):NaN},i.prototype.calcValue=function(e,t,r){return t+e*(r-t)},i}(),fv=sx,ux=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var r=this.translateIndexMap.get(t);return r===void 0&&(r=(0,f.isNumber)(t)?t:NaN),r},e.prototype.scale=function(t){var r=this.translate(t),n=this.calcPercent(r,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var r=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),a=Math.round(r*n)+this.min;return a<this.min||a>this.max?NaN:this.values[a]},e.prototype.getText=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=t;return(0,f.isNumber)(t)&&!this.values.includes(t)&&(a=this.values[a]),i.prototype.getText.apply(this,(0,m.__spreadArrays)([a],r))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if((0,f.isNil)(this.getConfig("min"))&&(this.min=0),(0,f.isNil)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(fv),Od=ux,mg=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,nc="\\d\\d?",ac="\\d\\d",lx="\\d{3}",cx="\\d{4}",Id="[^\\s]+",yg=/\[([^]*?)\]/gm;function bg(i,e){for(var t=[],r=0,n=i.length;r<n;r++)t.push(i[r].substr(0,e));return t}var xg=function(i){return function(e,t){var r=t[i].map(function(a){return a.toLowerCase()}),n=r.indexOf(e.toLowerCase());return n>-1?n:null}};function ic(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var r=0,n=e;r<n.length;r++){var a=n[r];for(var o in a)i[o]=a[o]}return i}var Eg=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],wg=["January","February","March","April","May","June","July","August","September","October","November","December"],fx=bg(wg,3),dx=bg(Eg,3),dv={dayNamesShort:dx,dayNames:Eg,monthNamesShort:fx,monthNames:wg,amPm:["am","pm"],DoFn:function(i){return i+["th","st","nd","rd"][i%10>3?0:(i-i%10!==10?1:0)*i%10]}},hh=ic({},dv),Sg=function(i){return hh=ic(hh,i)},Mg=function(i){return i.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},As=function(i,e){for(e===void 0&&(e=2),i=String(i);i.length<e;)i="0"+i;return i},hx={D:function(i){return String(i.getDate())},DD:function(i){return As(i.getDate())},Do:function(i,e){return e.DoFn(i.getDate())},d:function(i){return String(i.getDay())},dd:function(i){return As(i.getDay())},ddd:function(i,e){return e.dayNamesShort[i.getDay()]},dddd:function(i,e){return e.dayNames[i.getDay()]},M:function(i){return String(i.getMonth()+1)},MM:function(i){return As(i.getMonth()+1)},MMM:function(i,e){return e.monthNamesShort[i.getMonth()]},MMMM:function(i,e){return e.monthNames[i.getMonth()]},YY:function(i){return As(String(i.getFullYear()),4).substr(2)},YYYY:function(i){return As(i.getFullYear(),4)},h:function(i){return String(i.getHours()%12||12)},hh:function(i){return As(i.getHours()%12||12)},H:function(i){return String(i.getHours())},HH:function(i){return As(i.getHours())},m:function(i){return String(i.getMinutes())},mm:function(i){return As(i.getMinutes())},s:function(i){return String(i.getSeconds())},ss:function(i){return As(i.getSeconds())},S:function(i){return String(Math.round(i.getMilliseconds()/100))},SS:function(i){return As(Math.round(i.getMilliseconds()/10),2)},SSS:function(i){return As(i.getMilliseconds(),3)},a:function(i,e){return i.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(i,e){return i.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(i){var e=i.getTimezoneOffset();return(e>0?"-":"+")+As(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)},Z:function(i){var e=i.getTimezoneOffset();return(e>0?"-":"+")+As(Math.floor(Math.abs(e)/60),2)+":"+As(Math.abs(e)%60,2)}},_g=function(i){return+i-1},Cg=[null,nc],Tg=[null,Id],Ag=["isPm",Id,function(i,e){var t=i.toLowerCase();return t===e.amPm[0]?0:t===e.amPm[1]?1:null}],Og=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(i){var e=(i+"").match(/([+-]|\d\d)/gi);if(e){var t=+e[1]*60+parseInt(e[2],10);return e[0]==="+"?t:-t}return 0}],vx={D:["day",nc],DD:["day",ac],Do:["day",nc+Id,function(i){return parseInt(i,10)}],M:["month",nc,_g],MM:["month",ac,_g],YY:["year",ac,function(i){var e=new Date,t=+(""+e.getFullYear()).substr(0,2);return+(""+(+i>68?t-1:t)+i)}],h:["hour",nc,void 0,"isPm"],hh:["hour",ac,void 0,"isPm"],H:["hour",nc],HH:["hour",ac],m:["minute",nc],mm:["minute",ac],s:["second",nc],ss:["second",ac],YYYY:["year",cx],S:["millisecond","\\d",function(i){return+i*100}],SS:["millisecond",ac,function(i){return+i*10}],SSS:["millisecond",lx],d:Cg,dd:Cg,ddd:Tg,dddd:Tg,MMM:["month",Id,xg("monthNamesShort")],MMMM:["month",Id,xg("monthNames")],a:Ag,A:Ag,ZZ:Og,Z:Og},vh={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Ig=function(i){return ic(vh,i)},Dg=function(i,e,t){if(e===void 0&&(e=vh.default),t===void 0&&(t={}),typeof i=="number"&&(i=new Date(i)),Object.prototype.toString.call(i)!=="[object Date]"||isNaN(i.getTime()))throw new Error("Invalid Date pass to format");e=vh[e]||e;var r=[];e=e.replace(yg,function(a,o){return r.push(o),"@@@"});var n=ic(ic({},hh),t);return e=e.replace(mg,function(a){return hx[a](i,n)}),e.replace(/@@@/g,function(){return r.shift()})};function Pg(i,e,t){if(t===void 0&&(t={}),typeof e!="string")throw new Error("Invalid format in fecha parse");if(e=vh[e]||e,i.length>1e3)return null;var r=new Date,n={year:r.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],o=[],s=e.replace(yg,function(_t,Vt){return o.push(Mg(Vt)),"@@@"}),u={},l={};s=Mg(s).replace(mg,function(_t){var Vt=vx[_t],re=Vt[0],te=Vt[1],Ee=Vt[3];if(u[re])throw new Error("Invalid format. "+re+" specified twice in format");return u[re]=!0,Ee&&(l[Ee]=!0),a.push(Vt),"("+te+")"}),Object.keys(l).forEach(function(_t){if(!u[_t])throw new Error("Invalid format. "+_t+" is required in specified format")}),s=s.replace(/@@@/g,function(){return o.shift()});var c=i.match(new RegExp(s,"i"));if(!c)return null;for(var d=ic(ic({},hh),t),C=1;C<c.length;C++){var I=a[C-1],F=I[0],H=I[2],J=H?H(c[C],d):+c[C];if(J==null)return null;n[F]=J}n.isPm===1&&n.hour!=null&&+n.hour!=12?n.hour=+n.hour+12:n.isPm===0&&+n.hour==12&&(n.hour=0);var st;if(n.timezoneOffset==null){st=new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond);for(var ut=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],C=0,ht=ut.length;C<ht;C++)if(u[ut[C][0]]&&n[ut[C][0]]!==st[ut[C][1]]())return null}else if(st=new Date(Date.UTC(n.year,n.month,n.day,n.hour,n.minute-n.timezoneOffset,n.second,n.millisecond)),n.month>11||n.month<0||n.day>31||n.day<1||n.hour>23||n.hour<0||n.minute>59||n.minute<0||n.second>59||n.second<0)return null;return st}var px={format:Dg,parse:Pg,defaultI18n:dv,setGlobalDateI18n:Sg,setGlobalDateMasks:Ig},Lg=px;function gx(i){return function(e,t,r,n){for(var a=(0,f.isNil)(r)?0:r,o=(0,f.isNil)(n)?e.length:n;a<o;){var s=a+o>>>1;i(e[s])>t?o=s:a=s+1}return a}}var Ng="format";function Rg(i,e){var t=B[Ng]||Lg[Ng];return t(i,e)}function ph(i){return(0,f.isString)(i)&&(i.indexOf("T")>0?i=new Date(i).getTime():i=new Date(i.replace(/-/gi,"/")).getTime()),(0,f.isDate)(i)&&(i=i.getTime()),i}var bu=1e3,uf=60*bu,lf=60*uf,Cl=24*lf,Dd=Cl*31,kg=Cl*365,Pd=[["HH:mm:ss",bu],["HH:mm:ss",bu*10],["HH:mm:ss",bu*30],["HH:mm",uf],["HH:mm",uf*10],["HH:mm",uf*30],["HH",lf],["HH",lf*6],["HH",lf*12],["YYYY-MM-DD",Cl],["YYYY-MM-DD",Cl*4],["YYYY-WW",Cl*7],["YYYY-MM",Dd],["YYYY-MM",Dd*4],["YYYY-MM",Dd*6],["YYYY",Cl*380]];function mx(i,e,t){var r=(e-i)/t,n=gx(function(o){return o[1]})(Pd,r)-1,a=Pd[n];return n<0?a=Pd[0]:n>=Pd.length&&(a=(0,f.last)(Pd)),a}var yx=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="timeCat",t}return e.prototype.translate=function(t){t=ph(t);var r=this.values.indexOf(t);return r===-1&&((0,f.isNumber)(t)&&t<this.values.length?r=t:r=NaN),r},e.prototype.getText=function(t,r){var n=this.translate(t);if(n>-1){var a=this.values[n],o=this.formatter;return a=o?o(a,r):Rg(a,this.mask),a}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var t=this.values;(0,f.each)(t,function(r,n){t[n]=ph(r)}),t.sort(function(r,n){return r-n}),i.prototype.setDomain.call(this)},e}(Od),bx=yx,xx=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.isContinuous=!0,t}return e.prototype.scale=function(t){if((0,f.isNil)(t))return NaN;var r=this.rangeMin(),n=this.rangeMax(),a=this.max,o=this.min;if(a===o)return r;var s=this.getScalePercent(t);return r+s*(n-r)},e.prototype.init=function(){i.prototype.init.call(this);var t=this.ticks,r=(0,f.head)(t),n=(0,f.last)(t);r<this.min&&(this.min=r),n>this.max&&(this.max=n),(0,f.isNil)(this.minLimit)||(this.min=r),(0,f.isNil)(this.maxLimit)||(this.max=n)},e.prototype.setDomain=function(){var t=(0,f.getRange)(this.values),r=t.min,n=t.max;(0,f.isNil)(this.min)&&(this.min=r),(0,f.isNil)(this.max)&&(this.max=n),this.min>this.max&&(this.min=r,this.max=n)},e.prototype.calculateTicks=function(){var t=this,r=i.prototype.calculateTicks.call(this);return this.nice||(r=(0,f.filter)(r,function(n){return n>=t.min&&n<=t.max})),r},e.prototype.getScalePercent=function(t){var r=this.max,n=this.min;return(t-n)/(r-n)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(fv),gh=xx,Ex=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return e.prototype.invert=function(t){var r=this.getInvertPercent(t);return this.min+r*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(gh),Ld=Ex;function oc(i,e){var t=Math.E,r;return e>=0?r=Math.pow(t,Math.log(e)/i):r=Math.pow(t,Math.log(-e)/i)*-1,r}function Qs(i,e){return i===1?1:Math.log(e)/Math.log(i)}function Bg(i,e,t){(0,f.isNil)(t)&&(t=Math.max.apply(null,i));var r=t;return(0,f.each)(i,function(n){n>0&&n<r&&(r=n)}),r===t&&(r=t/e),r>1&&(r=1),r}function Fg(i){var e=i.toString().split(/[eE]/),t=(e[0].split(".")[1]||"").length-+(e[1]||0);return t>0?t:0}function vM(i,e){var t=Fg(i),r=Fg(e),n=Math.pow(10,Math.max(t,r));return(i*n+e*n)/n}var wx=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="log",t}return e.prototype.invert=function(t){var r=this.base,n=Qs(r,this.max),a=this.rangeMin(),o=this.rangeMax()-a,s,u=this.positiveMin;if(u){if(t===0)return 0;s=Qs(r,u/r);var l=1/(n-s)*o;if(t<l)return t/l*u}else s=Qs(r,this.min);var c=(t-a)/o,d=c*(n-s)+s;return Math.pow(r,d)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){i.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");t===0&&(this.positiveMin=Bg(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var r=this.max,n=this.min;if(r===n||t<=0)return 0;var a=this.base,o=this.positiveMin;o&&(n=o*1/a);var s;return t<o?s=t/o/(Qs(a,r)-Qs(a,n)):s=(Qs(a,t)-Qs(a,n))/(Qs(a,r)-Qs(a,n)),s},e}(gh),Sx=wx,Mx=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="pow",t}return e.prototype.invert=function(t){var r=this.getInvertPercent(t),n=this.exponent,a=oc(n,this.max),o=oc(n,this.min),s=r*(a-o)+o,u=s>=0?1:-1;return Math.pow(s,n)*u},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var r=this.max,n=this.min;if(r===n)return 0;var a=this.exponent,o=(oc(a,t)-oc(a,n))/(oc(a,r)-oc(a,n));return o},e}(gh),_x=Mx,Cx=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="time",t}return e.prototype.getText=function(t,r){var n=this.translate(t),a=this.formatter;return a?a(n,r):Rg(n,this.mask)},e.prototype.scale=function(t){var r=t;return((0,f.isString)(r)||(0,f.isDate)(r))&&(r=this.translate(r)),i.prototype.scale.call(this,r)},e.prototype.translate=function(t){return ph(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,r=this.getConfig("min"),n=this.getConfig("max");if((!(0,f.isNil)(r)||!(0,f.isNumber)(r))&&(this.min=this.translate(this.min)),(!(0,f.isNil)(n)||!(0,f.isNumber)(n))&&(this.max=this.translate(this.max)),t&&t.length){var a=[],o=1/0,s=o,u=0;(0,f.each)(t,function(l){var c=ph(l);if(isNaN(c))throw new TypeError("Invalid Time: "+l+" in time scale!");o>c?(s=o,o=c):s>c&&(s=c),u<c&&(u=c),a.push(c)}),t.length>1&&(this.minTickInterval=s-o),(0,f.isNil)(r)&&(this.min=o),(0,f.isNil)(n)&&(this.max=u)}},e}(Ld),Tx=Cx,Ax=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="quantize",t}return e.prototype.invert=function(t){var r=this.ticks,n=r.length,a=this.getInvertPercent(t),o=Math.floor(a*(n-1));if(o>=n-1)return(0,f.last)(r);if(o<0)return(0,f.head)(r);var s=r[o],u=r[o+1],l=o/(n-1),c=(o+1)/(n-1);return s+(a-l)/(c-l)*(u-s)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var t=i.prototype.calculateTicks.call(this);return this.nice||((0,f.last)(t)!==this.max&&t.push(this.max),(0,f.head)(t)!==this.min&&t.unshift(this.min)),t},e.prototype.getScalePercent=function(t){var r=this.ticks;if(t<(0,f.head)(r))return 0;if(t>(0,f.last)(r))return 1;var n=0;return(0,f.each)(r,function(a,o){if(t>=a)n=o;else return!1}),n/(r.length-1)},e}(gh),zg=Ax,Ox=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="quantile",t}return e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(zg),Ix=Ox,Gg={};function Dx(i){return Gg[i]}function Xu(i,e){if(Dx(i))throw new Error("type '"+i+"' existed.");Gg[i]=e}var Px=function(i){(0,m.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&(0,f.isNumber)(t)?t:this.range[0]},e.prototype.invert=function(t){var r=this.range;return t<r[0]||t>r[1]?NaN:this.values[0]},e}(fv),Lx=Px;function Ug(i){var e=i.values,t=i.tickInterval,r=i.tickCount,n=i.showLast;if((0,f.isNumber)(t)){var a=(0,f.filter)(e,function(F,H){return H%t===0}),o=(0,f.last)(e);return n&&(0,f.last)(a)!==o&&a.push(o),a}var s=e.length,u=i.min,l=i.max;if((0,f.isNil)(u)&&(u=0),(0,f.isNil)(l)&&(l=e.length-1),!(0,f.isNumber)(r)||r>=s)return e.slice(u,l+1);if(r<=0||l<=0)return[];for(var c=r===1?s:Math.floor(s/(r-1)),d=[],C=u,I=0;I<r&&!(C>=l);I++)C=Math.min(u+I*c,l),I===r-1&&n?d.push(e[l]):d.push(e[C]);return d}function Nx(i){var e=i.min,t=i.max,r=i.nice,n=i.tickCount,a=new Rx;return a.domain([e,t]),r&&a.nice(n),a.ticks(n)}var hv=5,Wg=Math.sqrt(50),Yg=Math.sqrt(10),Xg=Math.sqrt(2),Rx=function(){function i(){this._domain=[0,1]}return i.prototype.domain=function(e){return e?(this._domain=Array.from(e,Number),this):this._domain.slice()},i.prototype.nice=function(e){var t,r;e===void 0&&(e=hv);var n=this._domain.slice(),a=0,o=this._domain.length-1,s=this._domain[a],u=this._domain[o],l;return u<s&&(t=[u,s],s=t[0],u=t[1],r=[o,a],a=r[0],o=r[1]),l=mh(s,u,e),l>0?(s=Math.floor(s/l)*l,u=Math.ceil(u/l)*l,l=mh(s,u,e)):l<0&&(s=Math.ceil(s*l)/l,u=Math.floor(u*l)/l,l=mh(s,u,e)),l>0?(n[a]=Math.floor(s/l)*l,n[o]=Math.ceil(u/l)*l,this.domain(n)):l<0&&(n[a]=Math.ceil(s*l)/l,n[o]=Math.floor(u*l)/l,this.domain(n)),this},i.prototype.ticks=function(e){return e===void 0&&(e=hv),kx(this._domain[0],this._domain[this._domain.length-1],e||hv)},i}();function kx(i,e,t){var r,n=-1,a,o,s;if(e=+e,i=+i,t=+t,i===e&&t>0)return[i];if((r=e<i)&&(a=i,i=e,e=a),(s=mh(i,e,t))===0||!isFinite(s))return[];if(s>0)for(i=Math.ceil(i/s),e=Math.floor(e/s),o=new Array(a=Math.ceil(e-i+1));++n<a;)o[n]=(i+n)*s;else for(i=Math.floor(i*s),e=Math.ceil(e*s),o=new Array(a=Math.ceil(i-e+1));++n<a;)o[n]=(i-n)/s;return r&&o.reverse(),o}function mh(i,e,t){var r=(e-i)/Math.max(0,t),n=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,n);return n>=0?(a>=Wg?10:a>=Yg?5:a>=Xg?2:1)*Math.pow(10,n):-Math.pow(10,-n)/(a>=Wg?10:a>=Yg?5:a>=Xg?2:1)}function jg(i,e,t){var r;return t==="ceil"?r=Math.ceil(i/e):t==="floor"?r=Math.floor(i/e):r=Math.round(i/e),r*e}function vv(i,e,t){var r=jg(i,t,"floor"),n=jg(e,t,"ceil");r=(0,f.fixedBase)(r,t),n=(0,f.fixedBase)(n,t);for(var a=[],o=Math.max((n-r)/(Math.pow(2,12)-1),t),s=r;s<=n;s=s+o){var u=(0,f.fixedBase)(s,o);a.push(u)}return{min:r,max:n,ticks:a}}function pv(i,e,t){var r,n=i.minLimit,a=i.maxLimit,o=i.min,s=i.max,u=i.tickCount,l=u===void 0?5:u,c=(0,f.isNil)(n)?(0,f.isNil)(e)?o:e:n,d=(0,f.isNil)(a)?(0,f.isNil)(t)?s:t:a;if(c>d&&(r=[c,d],d=r[0],c=r[1]),l<=2)return[c,d];for(var C=(d-c)/(l-1),I=[],F=0;F<l;F++)I.push(c+C*F);return I}function Bx(i){var e=i.min,t=i.max,r=i.tickInterval,n=i.minLimit,a=i.maxLimit,o=Nx(i);return!(0,f.isNil)(n)||!(0,f.isNil)(a)?pv(i,(0,f.head)(o),(0,f.last)(o)):r?vv(e,t,r).ticks:o}function cf(i){return Math.abs(i)<1e-15?i:parseFloat(i.toFixed(15))}var Fx=[1,5,2,2.5,4,3],pM=null,Vg=Number.EPSILON*100;function zx(i,e){return(i%e+e)%e}function Gx(i){return Math.round(i*1e12)/1e12}function Ux(i,e,t,r,n,a){var o=(0,f.size)(e),s=(0,f.indexOf)(e,i),u=0,l=zx(r,a);return(l<Vg||a-l<Vg)&&r<=0&&n>=0&&(u=1),1-s/(o-1)-t+u}function Wx(i,e,t){var r=(0,f.size)(e),n=(0,f.indexOf)(e,i),a=1;return 1-n/(r-1)-t+a}function Yx(i,e,t,r,n,a){var o=(i-1)/(a-n),s=(e-1)/(Math.max(a,r)-Math.min(t,n));return 2-Math.max(o/s,s/o)}function Xx(i,e){return i>=e?2-(i-1)/(e-1):1}function jx(i,e,t,r){var n=e-i;return 1-.5*(Math.pow(e-r,2)+Math.pow(i-t,2))/Math.pow(.1*n,2)}function Vx(i,e,t){var r=e-i;if(t>r){var n=(t-r)/2;return 1-Math.pow(n,2)/Math.pow(.1*r,2)}return 1}function Hx(){return 1}function Zx(i,e,t,r,n,a){t===void 0&&(t=5),r===void 0&&(r=!0),n===void 0&&(n=Fx),a===void 0&&(a=[.25,.2,.5,.05]);var o=t<0?0:Math.round(t);if(Number.isNaN(i)||Number.isNaN(e)||typeof i!="number"||typeof e!="number"||!o)return{min:0,max:0,ticks:[]};if(e-i<1e-15||o===1)return{min:i,max:e,ticks:[i]};if(e-i>1e148){var s=t||5,u=(e-i)/s;return{min:i,max:e,ticks:Array(s).fill(null).map(function(Pn,Ln){return cf(i+u*Ln)})}}for(var l={score:-2,lmin:0,lmax:0,lstep:0},c=1;c<1/0;){for(var d=0;d<n.length;d+=1){var C=n[d],I=Wx(C,n,c);if(a[0]*I+a[1]+a[2]+a[3]<l.score){c=1/0;break}for(var F=2;F<1/0;){var H=Xx(F,o);if(a[0]*I+a[1]+a[2]*H+a[3]<l.score)break;for(var J=(e-i)/(F+1)/c/C,st=Math.ceil(Math.log10(J));st<1/0;){var ut=c*C*Math.pow(10,st),ht=Vx(i,e,ut*(F-1));if(a[0]*I+a[1]*ht+a[2]*H+a[3]<l.score)break;var _t=Math.floor(e/ut)*c-(F-1)*c,Vt=Math.ceil(i/ut)*c;if(_t<=Vt)for(var s=Vt-_t,re=0;re<=s;re+=1){var te=_t+re,Ee=te*(ut/c),ze=Ee+ut*(F-1),Oe=ut,er=Ux(C,n,c,Ee,ze,Oe),hr=jx(i,e,Ee,ze),rn=Yx(F,o,i,e,Ee,ze),Dn=Hx(),yn=a[0]*er+a[1]*hr+a[2]*rn+a[3]*Dn;yn>l.score&&(!r||Ee<=i&&ze>=e)&&(l.lmin=Ee,l.lmax=ze,l.lstep=Oe,l.score=yn)}st+=1}F+=1}}c+=1}var Kr=cf(l.lmax),Un=cf(l.lmin),Fn=cf(l.lstep),$r=Math.floor(Gx((Kr-Un)/Fn))+1,gn=new Array($r);gn[0]=cf(Un);for(var d=1;d<$r;d++)gn[d]=cf(gn[d-1]+Fn);return{min:Math.min(i,(0,f.head)(gn)),max:Math.max(e,(0,f.last)(gn)),ticks:gn}}function Kx(i){var e=i.min,t=i.max,r=i.tickCount,n=i.nice,a=i.tickInterval,o=i.minLimit,s=i.maxLimit,u=Zx(e,t,r,n).ticks;return!(0,f.isNil)(o)||!(0,f.isNil)(s)?pv(i,(0,f.head)(u),(0,f.last)(u)):a?vv(e,t,a).ticks:u}function $x(i){var e=i.base,t=i.tickCount,r=i.min,n=i.max,a=i.values,o,s=Qs(e,n);if(r>0)o=Math.floor(Qs(e,r));else{var u=Bg(a,e,n);o=Math.floor(Qs(e,u))}for(var l=s-o,c=Math.ceil(l/t),d=[],C=o;C<s+c;C=C+c)d.push(Math.pow(e,C));return r<=0&&d.unshift(0),d}function Hg(i,e,t){if(t===void 0&&(t=5),i===e)return{max:e,min:i,ticks:[i]};var r=t<0?0:Math.round(t);if(r===0)return{max:e,min:i,ticks:[]};var n=1.5,a=.5+1.5*n,o=e-i,s=o/r,u=Math.pow(10,Math.floor(Math.log10(s))),l=u;2*u-s<n*(s-l)&&(l=2*u,5*u-s<a*(s-l)&&(l=5*u,10*u-s<n*(s-l)&&(l=10*u)));for(var c=Math.ceil(e/l),d=Math.floor(i/l),C=Math.max(c*l,e),I=Math.min(d*l,i),F=Math.floor((C-I)/l)+1,H=new Array(F),J=0;J<F;J++)H[J]=cf(I+J*l);return{min:I,max:C,ticks:H}}function qx(i){var e=i.exponent,t=i.tickCount,r=Math.ceil(oc(e,i.max)),n=Math.floor(oc(e,i.min)),a=Hg(n,r,t).ticks;return a.map(function(o){var s=o>=0?1:-1;return Math.pow(o,e)*s})}function Qx(i,e){var t=i.length*e;return e===1?i[i.length-1]:e===0?i[0]:t%1!==0?i[Math.ceil(t)-1]:i.length%2===0?(i[t-1]+i[t])/2:i[t]}function Jx(i){var e=i.tickCount,t=i.values;if(!t||!t.length)return[];for(var r=t.slice().sort(function(s,u){return s-u}),n=[],a=0;a<e;a++){var o=a/(e-1);n.push(Qx(r,o))}return n}function tE(i){var e=i.min,t=i.max,r=i.tickCount,n=i.tickInterval,a=i.minLimit,o=i.maxLimit,s=Hg(e,t,r).ticks;return!(0,f.isNil)(a)||!(0,f.isNil)(o)?pv(i,(0,f.head)(s),(0,f.last)(s)):n?vv(e,t,n).ticks:s}function eE(i){var e=i.min,t=i.max,r=i.minTickInterval,n=i.tickInterval,a=i.tickCount;if(n)a=Math.ceil((t-e)/n);else{n=mx(e,t,a)[1];var o=(t-e)/n,s=o/a;s>1&&(n=n*Math.ceil(s)),r&&n<r&&(n=r)}n=Math.max(Math.floor((t-e)/(Math.pow(2,12)-1)),n);for(var u=[],l=e;l<t+n;l+=n)u.push(l);return u}function rE(i){var e=Ug((0,m.__assign)({showLast:!0},i));return e}function yh(i){return new Date(i).getFullYear()}function nE(i){return new Date(i,0,1).getTime()}function gv(i){return new Date(i).getMonth()}function aE(i,e){var t=yh(i),r=yh(e),n=gv(i),a=gv(e);return(r-t)*12+(a-n)%12}function iE(i,e){return new Date(i,e,1).getTime()}function oE(i,e){return Math.ceil((e-i)/Cl)}function sE(i,e){return Math.ceil((e-i)/lf)}function uE(i,e){return Math.ceil((e-i)/(60*1e3))}function lE(i){var e=i.min,t=i.max,r=i.minTickInterval,n=i.tickCount,a=i.tickInterval,o=[];a||(a=(t-e)/n,r&&a<r&&(a=r)),a=Math.max(Math.floor((t-e)/(Math.pow(2,12)-1)),a);var s=yh(e);if(a>kg)for(var u=yh(t),l=Math.ceil(a/kg),c=s;c<=u+l;c=c+l)o.push(nE(c));else if(a>Dd)for(var d=Math.ceil(a/Dd),C=gv(e),I=aE(e,t),c=0;c<=I+d;c=c+d)o.push(iE(s,c+C));else if(a>Cl)for(var F=new Date(e),H=F.getFullYear(),J=F.getMonth(),st=F.getDate(),ut=Math.ceil(a/Cl),ht=oE(e,t),c=0;c<ht+ut;c=c+ut)o.push(new Date(H,J,st+c).getTime());else if(a>lf)for(var F=new Date(e),H=F.getFullYear(),J=F.getMonth(),ut=F.getDate(),_t=F.getHours(),Vt=Math.ceil(a/lf),re=sE(e,t),c=0;c<=re+Vt;c=c+Vt)o.push(new Date(H,J,ut,_t+c).getTime());else if(a>uf)for(var te=uE(e,t),Ee=Math.ceil(a/uf),c=0;c<=te+Ee;c=c+Ee)o.push(e+c*uf);else{var ze=a;ze<bu&&(ze=bu);for(var Oe=Math.floor(e/bu)*bu,er=Math.ceil((t-e)/bu),hr=Math.ceil(ze/bu),c=0;c<er+hr;c=c+hr)o.push(Oe+c*bu)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+a+") is too small, increase the value to solve the problem!"),o}Yu("cat",Ug),Yu("time-cat",rE),Yu("wilkinson-extended",Kx),Yu("r-pretty",tE),Yu("time",eE),Yu("time-pretty",lE),Yu("log",$x),Yu("pow",qx),Yu("quantile",Jx),Yu("d3-linear",Bx),Xu("cat",Od),Xu("category",Od),Xu("identity",Lx),Xu("linear",Ld),Xu("log",Sx),Xu("pow",_x),Xu("time",Tx),Xu("timeCat",bx),Xu("quantize",zg),Xu("quantile",Ix);var cE=function(i,e,t){if(t||arguments.length===2)for(var r=0,n=e.length,a;r<n;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return i.concat(a||Array.prototype.slice.call(e))};function fE(i){return(0,f.map)(i,function(e,t){var r=t===0?"M":"L",n=e[0],a=e[1];return[r,n,a]})}function Zg(i){return fE(i)}function dE(i){if(i.length<=2)return Zg(i);var e=[];(0,f.each)(i,function(o){(0,f.isEqual)(o,e.slice(e.length-2))||e.push(o[0],o[1])});var t=Fr(e,!1),r=(0,f.head)(i),n=r[0],a=r[1];return t.unshift(["M",n,a]),t}function hE(i,e,t,r){r===void 0&&(r=!0);var n=new Ld({values:i}),a=new Od({values:(0,f.map)(i,function(s,u){return u})}),o=(0,f.map)(i,function(s,u){return[a.scale(u)*e,t-n.scale(s)*t]});return r?dE(o):Zg(o)}function vE(i,e,t,r){r===void 0&&(r=5);for(var n=new Ld({values:i}),a=new Od({values:(0,f.map)(i,function(C,I){return I})}),o=(0,f.map)(i,function(C,I){return[a.scale(I)*e,t-n.scale(C)*t]}),s=[],u=0;u<o.length;u++){var l=o[u],c={x:l[0],y:l[1],y0:t,size:r},d=mE(c);s.push.apply(s,d)}return yE(s)}function pE(i,e){var t=new Ld({values:i}),r=Math.max(0,t.min);return e-t.scale(r)*e}function gE(i,e,t,r){var n=cE([],i,!0),a=pE(r,t);return n.push(["L",e,a]),n.push(["L",0,a]),n.push(["Z"]),n}function mE(i){var e=i.x,t=i.y,r=i.y0,n=i.size,a,o;(0,f.isArray)(t)?(a=t[0],o=t[1]):(a=r,o=t);var s,u;(0,f.isArray)(e)?(s=e[0],u=e[1]):(s=e-n/2,u=e+n/2);var l=[{x:s,y:a},{x:s,y:o}];return l.push({x:u,y:o},{x:u,y:a}),l}function yE(i,e){e===void 0&&(e=!0);var t=[],r=i[0];t.push(["M",r.x,r.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return e&&(t.push(["L",r.x,r.y]),t.push(["z"])),t}var Nd=function(){return Nd=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Nd.apply(this,arguments)},bE={stroke:"#C5C5C5",strokeOpacity:.85},xE={fill:"#CACED4",opacity:.85},EE=function(){function i(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.width,s=o===void 0?200:o,u=e.height,l=u===void 0?26:u,c=e.smooth,d=c===void 0?!0:c,C=e.isArea,I=C===void 0?!1:C,F=e.data,H=F===void 0?[]:F,J=e.lineStyle,st=e.areaStyle,ut=e.group,ht=e.interval,_t=ht===void 0?null:ht;this.group=ut,this.x=r,this.y=a,this.width=s,this.height=l,this.data=H,this.smooth=d,this.isArea=I,this.lineStyle=Object.assign({},bE,J),this.areaStyle=Object.assign({},xE,st),this.intervalConfig=_t,this.renderLine()}return i.prototype.renderLine=function(){var e=this,t=e.x,r=e.y,n=e.width,a=e.height,o=e.barWidth,s=e.data,u=e.smooth,l=e.isArea,c=e.lineStyle,d=e.areaStyle,C=this.group.addGroup({name:"trend-group"});if(s){var I=hE(s,n,a,u);if(C.addShape("path",{attrs:Nd({path:I},c),name:"trend-line"}),l){var F=gE(I,n,a,s);C.addShape("path",{attrs:Nd({path:F},d),name:"trend-area"})}}this.intervalConfig&&C.addShape("path",{attrs:Nd({path:vE(this.intervalConfig.data,n,a,this.intervalConfig.style.barWidth)},this.intervalConfig.style),name:"trend-interval"}),C.move(t,r)},i.prototype.destory=function(){this.group.destroy()},i}(),wE=EE,od=function(){return od=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},od.apply(this,arguments)},SE={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},ME={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},_E=function(){function i(e){var t=e.group,r=e.name,n=e.type,a=e.x,o=a===void 0?0:a,s=e.y,u=s===void 0?0:s,l=e.width,c=l===void 0?2:l,d=e.height,C=d===void 0?24:d,I=e.style,F=I===void 0?{}:I;this.group=t,this.name=r,this.handleType=n,this.x=o,this.y=u,this.width=c,this.height=C,n==="trend"?this.style=od(od({},SE),F):n==="simple"&&(this.style=od(od({},ME),F)),this.renderHandle()}return i.prototype.setX=function(e){this.setXY(e,void 0)},i.prototype.setY=function(e){this.setXY(void 0,e)},i.prototype.setXY=function(e,t){(0,f.isNumber)(e)&&(this.x=e),(0,f.isNumber)(t)&&(this.y=t),this.updateXY()},i.prototype.renderHandle=function(){var e=this,t=e.width,r=e.height,n=e.style,a=e.name,o=n.fill,s=n.stroke,u=n.radius,l=n.opacity,c=n.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:r,fill:o,stroke:s,radius:u,opacity:l,cursor:c},name:"".concat(a,"-handler")}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:o,stroke:s,radius:u,opacity:l,cursor:c,lineAppendWidth:12},name:"".concat(a,"-handler")}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:r,r:2*t,fill:o,stroke:s,radius:u,opacity:l,cursor:c},name:"".concat(a,"-handler")})):this.handleType==="simple"&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:r/2,r:2*t,fill:o,stroke:s,radius:u,opacity:l,cursor:c,lineWidth:2},name:"".concat(a,"-handler")})),this.updateXY(),this.handleType==="trend"?this.bindTrendEvents():this.handleType==="simple"&&this.bindSimpleEvents()},i.prototype.bindSimpleEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),function(){var r=e.style.highLightFill;e.topCircle.attr("fill",r)}),this.handleGroup.on("".concat(t,"-handler:mouseleave"),function(){var r=e.style.fill;e.topCircle.attr("fill",r)})},i.prototype.bindTrendEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),function(){var r=e.style.highLightFill;e.verticalLine.attr("fill",r),e.topCircle.attr("fill",r),e.bottomCircle.attr("fill",r)}),this.handleGroup.on("".concat(t,"-handler:mouseleave"),function(){var r=e.style.fill;e.verticalLine.attr("fill",r),e.topCircle.attr("fill",r),e.bottomCircle.attr("fill",r)})},i.prototype.show=function(){this.handleGroup.show()},i.prototype.hide=function(){this.handleGroup.hide()},i.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},i}(),Kg=_E,$g="timebarstartplay",qg="timebarendplay",ju="valuechange",ff="timebarConfigChanged",sc="playPauseBtn",Rd="nextStepBtn",kd="preStepBtn",mv=function(){return mv=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},mv.apply(this,arguments)},CE=function(){function i(e){this.config=(0,f.deepMix)({},e),this.init()}return i.prototype.update=function(e){this.config=(0,f.deepMix)({},this.config,e),this.updateElement(),this.renderMarker()},i.prototype.init=function(){this.initElement(),this.renderMarker()},i.prototype.initElement=function(){var e=this.config,t=e.group,r=e.style,n=r.scale,a=n===void 0?1:n,o=r.offsetX,s=o===void 0?0:o,u=r.offsetY,l=u===void 0?0:u,c=this.config.x+s,d=this.config.y+l,C=t.addGroup({name:sc});this.startMarkerGroup=C.addGroup({name:sc}),this.circle=t.addShape("circle",{attrs:mv({x:c,y:d,r:this.config.r*a},r),name:sc}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(c,d,a),fill:r.stroke||"#aaa"},name:"start-marker"}),this.pauseMarkerGroup=C.addGroup({name:sc});var I=.25*this.config.r*a,F=.5*this.config.r*Math.sqrt(3)*a;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:c-.375*this.config.r*a,y:d-F/2,width:I,height:F,fill:r.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:c+1/8*this.config.r*a,y:d-F/2,width:I,height:F,fill:r.stroke||"#aaa",lineWidth:0}})},i.prototype.updateElement=function(){var e=this.config.style,t=e.scale,r=t===void 0?1:t,n=e.offsetX,a=n===void 0?0:n,o=e.offsetY,s=o===void 0?0:o,u=this.config.x+a,l=this.config.y+s;this.circle.attr("x",u),this.circle.attr("y",l),this.circle.attr("r",this.config.r*r),this.startMarker.attr("path",this.getStartMarkerPath(u,l,r));var c=.25*this.config.r*r,d=.5*this.config.r*Math.sqrt(3)*r;this.pauseLeftMarker.attr("x",u-(1/4+1/8)*this.config.r*r),this.pauseLeftMarker.attr("y",l-d/2),this.pauseLeftMarker.attr("width",c),this.pauseLeftMarker.attr("height",d),this.pauseRightMarker.attr("x",u+1/8*this.config.r*r),this.pauseRightMarker.attr("y",l-d/2),this.pauseRightMarker.attr("width",c),this.pauseRightMarker.attr("height",d)},i.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},i.prototype.getStartMarkerPath=function(e,t,r){var n=.5*this.config.r*Math.sqrt(3)*r;return[["M",e-n/Math.sqrt(3)/2,t-n/2],["L",e+n/Math.sqrt(3),t],["L",e-n/Math.sqrt(3)/2,t+n/2]]},i}(),TE=CE,Do=function(){return Do=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Do.apply(this,arguments)},Bd=vt,AE="#aaa",OE="green",IE={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},DE={fill:"#fff"},PE={fill:"green"},Qg={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},Jg={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},LE={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:Qg,timeTypeControllerStyle:Jg},yv=110,uc=50,Vu={SINGLE:"single",RANGE:"range"},NE=function(){function i(e){this.controllerCfg=(0,f.deepMix)({},LE,e),this.group=e.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType=this.controllerCfg.defaultTimeType||Vu.RANGE,this.fontFamily=e.fontFamily||"Arial, sans-serif",this.init()}return i.prototype.init=function(){this.renderPlayButton()},i.prototype.getNextMarkerPath=function(e,t,r){return[["M",e,t-r],["L",e+r,t],["L",e,t+r],["Z",e,t-r],["M",e,t],["L",e-r,t-r],["L",e-r,t+r],["Z"]]},i.prototype.getPreMarkerPath=function(e,t,r){return[["M",e,t-r],["L",e-r,t],["L",e,t+r],["L",e,t-r],["M",e,t],["L",e+r,t-r],["L",e+r,t+r],["Z"]]},i.prototype.renderPlayButton=function(){var e=this.controllerCfg,t=e.width,r=e.height,n=e.x,a=e.y,o=e.hideTimeTypeController,s=e.fill,u=s===void 0?AE:s,l=e.stroke,c=l===void 0?OE:l,d=e.containerStyle,C=d===void 0?{}:d,I=Do(Do({},IE),e.playBtnStyle||{}),F=Do(Do({},DE),e.preBtnStyle||{}),H=Do(Do({},PE),e.nextBtnStyle||{}),J=r/2-5,st=a+10,ut=this.controllerGroup.addShape("rect",{attrs:Do({x:n,y:st,width:t,height:r,stroke:c,fill:u},C),name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:st,r:J}):this.playButton=new TE({group:this.controllerGroup,x:t/2,y:st+J+5,r:J,isPlay:this.isPlay,style:I});var ht=F.offsetX||0,_t=F.offsetY||0,Vt=(F.scale||1)*J;this.controllerGroup.addShape("path",{attrs:Do({path:this.getPreMarkerPath(t/2-5*J+ht,st+J+5+_t,Vt*.5)},F),name:kd});var re=H.offsetX||0,te=H.offsetY||0,Ee=(H.scale||1)*J;this.controllerGroup.addShape("path",{attrs:Do({path:this.getNextMarkerPath(t/2+5*J+re,st+J+5+te,Ee*.5)},H),name:Rd}),ut.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent();var ze=this.controllerCfg.scale,Oe=ze===void 0?1:ze,er=this.controllerGroup.getCanvasBBox(),hr=(er.maxX+er.minX)/2,rn=(er.maxY+er.minY)/2,Dn=Bd([1,0,0,0,1,0,0,0,1],[["t",-hr,-rn],["s",Oe,Oe],["t",hr,rn]]);this.controllerGroup.setMatrix(Dn)},i.prototype.renderSpeedBtn=function(){var e=this.controllerCfg,t=e.y,r=e.width,n=e.hideTimeTypeController,a=Do(Do({},Qg),this.controllerCfg.speedControllerStyle||{}),o=a.scroller,s=o===void 0?{}:o,u=a.text,l=u===void 0?{}:u,c=a.pointer,d=c===void 0?{}:c,C=a.scale,I=C===void 0?1:C,F=a.offsetX,H=F===void 0?0:F,J=a.offsetY,st=J===void 0?0:J,ut=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=ut;var ht=[],_t=5;this.speedAxisY=[19,22,26,32,39];for(var Vt=0;Vt<5;Vt++){var re=t+this.speedAxisY[Vt],te=r-(n?uc:yv);ut.addShape("line",{attrs:Do({x1:te,x2:te+15,y1:re,y2:re},s),speed:_t,name:"speed-rect"}),this.speedAxisY[Vt]=re,ht.push(_t),_t=_t-1}this.speedText=ut.addShape("text",{attrs:Do({x:r-(n?uc:yv)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},l),name:"speed-text"}),this.speedPoint=ut.addShape("path",{attrs:Do({path:this.getPointerPath(r-(n?uc:yv),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},d),name:"speed-pointer"});var Ee=this.speedGroup.getCanvasBBox(),ze=(Ee.maxX+Ee.minX)/2,Oe=(Ee.maxY+Ee.minY)/2,er=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];er=Bd(er,[["t",-ze,-Oe],["s",I,I],["t",ze+H*I,Oe+st*I]]),this.speedGroup.setMatrix(er)},i.prototype.getPointerPath=function(e,t){return[["M",e,t],["L",e-10,t-4],["L",e-10,t+4],["Z"]]},i.prototype.renderToggleTime=function(){var e,t,r=this.controllerCfg,n=r.width,a=r.defaultTimeType,o=Do(Do({},Jg),this.controllerCfg.timeTypeControllerStyle||{}),s=o.scale,u=s===void 0?1:s,l=o.offsetX,c=l===void 0?0:l,d=o.offsetY,C=d===void 0?0:d,I=o.box,F=I===void 0?{}:I,H=o.check,J=H===void 0?{}:H,st=o.text,ut=st===void 0?{}:st;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"});var ht=a===Vu.SINGLE;this.toggleGroup.addShape("rect",{attrs:Do({x:n-uc,y:this.speedAxisY[0]+3.5},F),isChecked:ht,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:Do({path:[["M",n-uc+3,this.speedAxisY[1]+6],["L",n-uc+7,this.speedAxisY[1]+10],["L",n-uc+12,this.speedAxisY[1]+4]]},J),capture:!1,name:"check-icon"}),ht||this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:Do({text:ht?((e=this.controllerCfg)===null||e===void 0?void 0:e.timeRangeControllerText)||"\u65F6\u95F4\u8303\u56F4":((t=this.controllerCfg)===null||t===void 0?void 0:t.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4",x:n-uc+15,y:this.speedAxisY[0]+4,fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},ut),name:"checked-text"});var _t=this.toggleGroup.getCanvasBBox(),Vt=(_t.maxX+_t.minX)/2,re=(_t.maxY+_t.minY)/2,te=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];te=Bd(te,[["t",-Vt,-re],["s",u,u],["t",Vt+c*u,re+C*u]]),this.toggleGroup.setMatrix(te)},i.prototype.bindEvent=function(){var e=this;this.speedGroup.on("speed-rect:click",function(t){var r=t.target.attr("y1"),n=e.speedPoint.attr("matrix"),a=e.speedAxisY.indexOf(n[7]||0),o=e.speedAxisY.indexOf(r),s=e.speedAxisY[o]-e.speedAxisY[a];n=Bd(n,[["t",0,s]]),e.speedPoint.setMatrix(n),e.currentSpeed=e.speedAxisY.length-o,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit(ff,{speed:e.currentSpeed,type:e.currentType})}),this.speedGroup.on("mousewheel",function(t){t.preventDefault();var r=e.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],n=r[7],a=e.speedAxisY.indexOf(n);if(a===-1){var o=1/0;e.speedAxisY.forEach(function(u,l){var c=Math.abs(u-n);o>c&&(o=c,a=l)})}t.originalEvent.deltaY>0?a=Math.max(0,a-1):a=Math.min(e.speedAxisY.length-1,a+1);var s=e.speedAxisY[a]-n;r=Bd(r,[["t",0,s]]),e.speedPoint.setMatrix(r),e.currentSpeed=e.speedAxisY.length-a,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit(ff,{speed:e.currentSpeed,type:e.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(t){var r,n,a=t.target.get("isChecked");a?(e.checkedIcon.hide(),e.checkedText.attr("text",((n=e.controllerCfg)===null||n===void 0?void 0:n.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4"),e.currentType=Vu.RANGE):(e.checkedIcon.show(),e.checkedText.attr("text",((r=e.controllerCfg)===null||r===void 0?void 0:r.timeRangeControllerText)||"\u65F6\u95F4\u8303\u56F4"),e.currentType=Vu.SINGLE),t.target.set("isChecked",!a),e.group.emit(ff,{type:e.currentType,speed:e.currentSpeed})})},i.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},i}(),t0=NE,Qi=function(){return Qi=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Qi.apply(this,arguments)},RE=vt,kE={fill:"#416180",opacity:.05},BE={fill:"#416180",opacity:.15,radius:5},FE={fill:"#5B8FF9",opacity:.3,cursor:"grab"},bv=2,zE={width:bv,height:24},GE={textBaseline:"middle",fill:"#000",opacity:.45},UE={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},WE={lineWidth:1,stroke:"#ccc"},YE=function(){function i(e){var t=this;this.prevX=0,this.onMouseDown=function(Pn){return function(Ln){t.currentHandler=Pn;var jn=Ln.originalEvent;jn.stopPropagation(),jn.preventDefault(),t.prevX=(0,f.get)(jn,"touches.0.pageX",jn.pageX);var ta=t.canvas.get("container");ta.addEventListener("mousemove",t.onMouseMove),ta.addEventListener("mouseup",t.onMouseUp),ta.addEventListener("mouseleave",t.onMouseUp),ta.addEventListener("touchmove",t.onMouseMove),ta.addEventListener("touchend",t.onMouseUp),ta.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(Pn){Pn.stopPropagation(),Pn.preventDefault();var Ln=(0,f.get)(Pn,"touches.0.pageX",Pn.pageX),jn=Ln-t.prevX,ta=t.adjustOffsetRange(jn/t.width);t.updateStartEnd(ta),t.updateUI(),t.prevX=Ln},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var Pn=t.canvas.get("container");Pn&&(Pn.removeEventListener("mousemove",t.onMouseMove),Pn.removeEventListener("mouseup",t.onMouseUp),Pn.removeEventListener("mouseleave",t.onMouseUp),Pn.removeEventListener("touchmove",t.onMouseMove),Pn.removeEventListener("touchend",t.onMouseUp),Pn.removeEventListener("touchcancel",t.onMouseUp))};var r=e.x,n=r===void 0?0:r,a=e.y,o=a===void 0?0:a,s=e.width,u=s===void 0?100:s,l=e.height,c=e.padding,d=c===void 0?10:c,C=e.trendCfg,I=e.controllerCfg,F=I===void 0?{speed:1}:I,H=e.backgroundStyle,J=H===void 0?{}:H,st=e.foregroundStyle,ut=st===void 0?{}:st,ht=e.handlerStyle,_t=ht===void 0?{}:ht,Vt=e.textStyle,re=Vt===void 0?{}:Vt,te=e.start,Ee=te===void 0?0:te,ze=e.end,Oe=ze===void 0?1:ze,er=e.minText,hr=er===void 0?"":er,rn=e.maxText,Dn=rn===void 0?"":rn,yn=e.group,Kr=e.graph,Un=e.canvas,Fn=e.tick,$r=Fn===void 0?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(Ln){return Ln},ticks:[]}:Fn,gn=e.type;this.graph=Kr,this.canvas=Un,this.group=yn,this.timeBarType=gn,this.x=n,this.y=o,this.width=u,this.height=l,this.padding=d,this.ticks=$r.ticks,this.trendCfg=C,this.controllerCfg=F,this.currentSpeed=F.speed||1,this.tickLabelFormatter=$r.tickLabelFormatter,gn==="trend"?this.backgroundStyle=Qi(Qi({},kE),J):gn==="simple"&&(this.backgroundStyle=Qi(Qi({},BE),J)),this.foregroundStyle=Qi(Qi({},FE),ut),this.handlerStyle=Qi(Qi({},zE),_t),this.textStyle=Qi(Qi({},GE),re),this.tickLabelStyle=Qi(Qi({},UE),$r.tickLabelStyle),this.tickLineStyle=Qi(Qi({},WE),$r.tickLineStyle),this.currentMode=F.defaultTimeType||Vu.RANGE,this.start=Ee,this.end=Oe,this.minText=hr,this.maxText=Dn,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return i.prototype.update=function(e){var t=e.x,r=e.y,n=e.width,a=e.height,o=e.minText,s=e.maxText,u=e.start,l=e.end;this.start=Math.min(1,Math.max(u,0)),this.end=Math.min(1,Math.max(l,0)),(0,f.assign)(this,{x:t,y:r,width:n,height:a,minText:o,maxText:s}),this.updateUI()},i.prototype.setText=function(e,t){this.minTextShape.attr("text",e),this.maxTextShape.attr("text",t)},i.prototype.renderSlider=function(){var e=this,t=this,r=t.width,n=t.height,a=t.timeBarType;if(a==="trend"&&(0,f.size)((0,f.get)(this.trendCfg,"data"))){var o=new wE(Qi(Qi({x:this.x,y:this.y,width:r,height:n},this.trendCfg),{group:this.group}));this.trendComponent=o}var s=this.group.addGroup({name:"slider-group"});s.addShape("rect",{attrs:Qi({x:0,y:0,width:r,height:n},this.backgroundStyle),name:"background"});var u=this.group.addGroup();a==="trend"?(this.minTextShape=u.addShape("text",{attrs:Qi({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=u.addShape("text",{attrs:Qi({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})):(this.minTextShape=u.addShape("text",{attrs:Qi({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=u.addShape("text",{attrs:Qi({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:Qi({x:0,y:this.y,height:n},this.foregroundStyle),name:"foreground-shape"}),this.foregroundShape.on("mousedown",function(st){st.target.attr("cursor","grabbing")}),this.foregroundShape.on("mouseup",function(st){st.target.attr("cursor",e.foregroundStyle.cursor||"grab")});var l=(0,f.get)(this.handlerStyle,"width",2),c=(0,f.get)(this.handlerStyle,"height",24),d=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new Kg({name:"minHandlerShape",group:d,type:a,x:this.x,y:this.y,width:l,height:c,style:this.handlerStyle});var C=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new Kg({name:"maxHandlerShape",group:C,type:a,x:this.x,y:this.y,width:l,height:c,style:this.handlerStyle});var I=this.ticks,F=r/(I.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(st){st.destroy()});var H=-1/0,J=this.tickLabelStyle.rotate;delete this.tickLabelStyle.rotate,this.textList=I.map(function(st,ut){e.tickPosList.push(e.x+ut*F);var ht;e.tickLabelFormatter?(ht=e.tickLabelFormatter(st),!(0,f.isString)(ht)&&ht&&(ht=st.date)):ht=st.date;var _t=e.x+ut*F,Vt=e.y+n+5,re=e.group.addShape("text",{attrs:Qi({x:_t,y:Vt,text:ht,fontFamily:e.fontFamily||"Arial, sans-serif"},e.tickLabelStyle),name:"tick-label"});if((0,f.isNumber)(J)&&ut!==I.length-1){var te=RE([1,0,0,0,1,0,0,0,1],[["t",-_t,-Vt],["r",J],["t",_t-5,Vt+2]]);re.attr({textAlign:"left",matrix:te})}ut===0?re.attr({textAlign:"left"}):ut!==I.length-1&&re.attr({textAlign:"right"});var Ee=e.group.addShape("line",{attrs:Qi({x1:e.x+ut*F,y1:e.y+n+2,x2:e.x+ut*F,y2:e.y+n+6},e.tickLineStyle),name:"tick-line"});Ee.toBack();var ze=re.getBBox();return ze.minX>H?(re.show(),Ee.show(),H=ze.minX+ze.width+10):(re.hide(),Ee.hide()),re}),this.controllerBtnGroup=new t0(Qi({group:this.group,x:this.x,y:this.y+n+25,width:r,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),s.move(this.x,this.y),this.bindEvents(),this.currentMode===Vu.SINGLE&&(this.minHandlerShape.hide(),this.foregroundShape.hide(),this.minTextShape.hide())},i.prototype.bindEvents=function(){var e=this,t=this.group.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var r=this.group.find(function(n){return n.get("name")==="maxHandlerShape"});r&&(r.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),r.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("".concat(sc,":click"),function(){e.isPlay=!e.isPlay,e.currentHandler=e.maxHandlerShape,e.changePlayStatus()}),this.group.on("".concat(Rd,":click"),function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(.01),e.updateUI()}),this.group.on("".concat(kd,":click"),function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(-.01),e.updateUI()}),this.group.on(ff,function(n){var a=n.type,o=n.speed;e.currentSpeed=o,e.currentMode=a,a===Vu.SINGLE?(e.minHandlerShape.hide(),e.foregroundShape.hide(),e.minTextShape.hide()):a===Vu.RANGE&&(e.minHandlerShape.show(),e.foregroundShape.show(),e.minTextShape.show())})},i.prototype.adjustTickIndex=function(e){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=e&&e<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-e)<Math.abs(e-this.tickPosList[t+1])?t:t+1;return 0},i.prototype.adjustOffsetRange=function(e){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,r=1-this.start;return Math.min(r,Math.max(t,e))}case this.maxHandlerShape:{var t=0-this.end,r=1-this.end;return Math.min(r,Math.max(t,e))}case this.foregroundShape:{var t=0-this.start,r=1-this.end;return Math.min(r,Math.max(t,e))}default:return 0}},i.prototype.updateStartEnd=function(e){var t=this.ticks[this.adjustTickIndex(this.start*this.width)],r=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler){this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t==null?void 0:t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(r):r==null?void 0:r.date;return}switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=e,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(r):r.date;break;case this.foregroundShape:this.start+=e,this.end+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(r):r.date;break;default:break}},i.prototype.updateUI=function(){var e=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.x+this.start*this.width,r=this.x+this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",r-t);var n=(0,f.get)(this.handlerStyle,"width",bv);this.setText(this.minText,this.maxText);var a=this.dodgeText([t,r]),o=a[0],s=a[1];this.minHandlerShape.setX(t-n/2),(0,f.each)(o,function(u,l){return e.minTextShape.attr(l,u)}),this.maxHandlerShape.setX(r-n/2),(0,f.each)(s,function(u,l){return e.maxTextShape.attr(l,u)}),this.currentMode===Vu.RANGE?this.graph.emit(ju,{value:[this.start,this.end].sort()}):this.currentMode===Vu.SINGLE&&this.graph.emit(ju,{value:[this.end,this.end]})},i.prototype.dodgeText=function(e){var t,r,n=2,a=(0,f.get)(this.handlerStyle,"width",bv),o=this.minTextShape,s=this.maxTextShape,u=e[0],l=e[1],c=!1;u>l&&(t=[l,u],u=t[0],l=t[1],r=[s,o],o=r[0],s=r[1],c=!0);var d=o.getBBox(),C=s.getBBox(),I=null,F=null;return this.timeBarType==="trend"?(I=u-d.width<this.x+n?{x:u+a/2+n,textAlign:"left"}:{x:u-a/2-n,textAlign:"right"},F=l+C.width>this.x+this.width?{x:l-a/2-n,textAlign:"right"}:{x:l+a/2+n,textAlign:"left"}):this.timeBarType==="simple"&&(I=o.attr("x")>d.width?{x:u,textAlign:"center"}:{x:u,textAlign:"left"},F=s.attr("x")>this.width-C.width?{x:l,textAlign:"right"}:{x:l,textAlign:"center"}),c?[F,I]:[I,F]},i.prototype.startPlay=function(){var e=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var t=e,r=t.ticks,n=t.width,a=e.currentSpeed,o=n/r.length,s=o/((10-a)*1e3/60),u=e.adjustOffsetRange(s/e.width);e.updateStartEnd(u),e.updateUI(),e.isPlay&&(e.playHandler=e.startPlay())}):void 0},i.prototype.changePlayStatus=function(e){e===void 0&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit($g,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(qg,null))},i.prototype.destory=function(){this.graph.off(ju,function(){});var e=this.group,t=e.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var r=e.find(function(n){return n.get("name")==="maxHandlerShape"});r&&(r.off("maxHandlerShape-handler:mousedown"),r.off("maxHandlerShape-handler:touchstart"),r.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),e.off("".concat(sc,":click")),e.off("".concat(Rd,":click")),e.off("".concat(kd,":click")),e.off(ff),e.destroy(),this.trendComponent&&this.trendComponent.destory()},i}(),XE=YE,gM={opacity:.5,fill:"#000"},mM={opacity:.5,fill:"#000",r:5},yM={fill:"#fff",fontSize:12},jE=function(){function i(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.container,s=e.text,u=e.padding,l=u===void 0?[4,4,4,4]:u,c=e.className,d=c===void 0?"g6-component-timebar-tooltip":c,C=e.backgroundColor,I=C===void 0?"#000":C,F=e.textColor,H=F===void 0?"#fff":F,J=e.opacity,st=J===void 0?.8:J,ut=e.fontSize,ht=ut===void 0?12:ut;this.container=o,this.className=d,this.backgroundColor=I,this.textColor=H,this.x=r,this.y=a,this.text=s,this.padding=l,this.opacity=st,this.fontSize=ht,this.render()}return i.prototype.render=function(){var e=this,t=e.className,r=e.x,n=e.y,a=e.backgroundColor,o=e.textColor,s=e.text,u=e.padding,l=e.opacity,c=e.fontSize,d=e.container,C=co("<div class='".concat(t,`' style="position: absolute; width: fit-content; height: fit-content; opacity: `).concat(l,'"></div>'));(0,f.isString)(d)&&(d=document.getElementById(d)),d.appendChild(C),e.parentHeight=d.offsetHeight,e.parentWidth=d.offsetWidth,Va(C,{visibility:"hidden",top:0,left:0});var I=co(`
      <div style='position: absolute; white-space:nowrap; background-color: `.concat(a,"; font-size: ").concat(c,"px; border-radius: 4px; width: fit-content; height: fit-content; color: ").concat(o,"; padding: ").concat(u[0],"px ").concat(u[1],"px ").concat(u[2],"px ").concat(u[3],"px'></div>"));I.innerHTML=s,C.appendChild(I),e.backgroundDOM=I;var F=co("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid ".concat(a,"'></div>"));C.appendChild(F),e.arrowDOM=F,e.container=C},i.prototype.show=function(e){var t=this,r=e.text,n=e.x,a=e.y,o=e.clientX,s=e.clientY;t.backgroundDOM.innerHTML=r;var u=t.backgroundDOM.offsetWidth,l=t.backgroundDOM.offsetHeight,c=t.arrowDOM.offsetWidth,d=t.arrowDOM.offsetHeight;Va(t.container,{top:"".concat(-l-d,"px"),left:"".concat(n,"px"),visibility:"visible"}),Va(t.backgroundDOM,{marginLeft:"".concat(-u/2,"px")}),Va(t.arrowDOM,{marginLeft:"".concat(-c/2,"px"),top:"".concat(l,"px")});var C=n-u/2,I=n+u/2;C<0?Va(t.backgroundDOM,{marginLeft:"".concat(-u/2-C,"px")}):I>t.parentWidth&&Va(t.backgroundDOM,{marginLeft:"".concat(-u/2-I+t.parentWidth+12,"px")})},i.prototype.hide=function(){Va(this.container,{top:0,left:0,visibility:"hidden"})},i}(),VE=jE,Fd=function(){return Fd=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Fd.apply(this,arguments)},HE=vt,ZE={fill:"#5B8FF9"},KE={fill:"#e6e8e9"},$E=function(){function i(e){this.frameCount=0,this.fontFamily="Arial, sans-serif";var t=e.graph,r=e.canvas,n=e.group,a=e.width,o=e.height,s=e.padding,u=e.data,l=e.start,c=e.end,d=e.x,C=d===void 0?0:d,I=e.y,F=I===void 0?0:I,H=e.tickLabelFormatter,J=e.selectedTickStyle,st=J===void 0?ZE:J,ut=e.unselectedTickStyle,ht=ut===void 0?KE:ut,_t=e.tooltipBackgroundColor,Vt=e.tooltipFomatter,re=e.tickLabelStyle,te=e.controllerCfg,Ee=te===void 0?{speed:1}:te;this.graph=t,this.group=n,this.sliceGroup=n.addGroup({name:"slice-group"}),this.canvas=r,this.width=a,this.height=o,this.padding=s,this.data=u,this.start=l,this.end=c,this.tickLabelFormatter=H,this.tickLabelStyle=re||{},this.selectedTickStyle=st,this.unselectedTickStyle=ht,this.controllerCfg=Ee,this.currentSpeed=Ee.speed||1,this.x=C,this.y=F,this.tooltipBackgroundColor=_t,this.tooltipFomatter=Vt,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return i.prototype.renderSlices=function(){var e=this,t=this,r=t.width,n=t.height,a=t.padding,o=t.data,s=t.start,u=t.end,l=t.tickLabelFormatter,c=t.selectedTickStyle,d=t.unselectedTickStyle,C=t.tickLabelStyle,I=r-2*a,F=10,H=4,J=3*a+H+F,st=n-J-2*a,ut=2,ht=o.length,_t=(I-ut*(ht-1))/ht;this.tickWidth=_t;var Vt=this.sliceGroup,re=[],te=[],Ee=Math.round(ht*s),ze=Math.round(ht*u);this.startTickRectId=Ee,this.endTickRectId=ze;var Oe=C.rotate;delete C.rotate,o.forEach(function(hr,rn){var Dn=rn>=Ee&&rn<=ze,yn=Dn?c:d,Kr=Vt.addShape("rect",{attrs:Fd({x:a+rn*(_t+ut),y:a,width:_t,height:st},yn),draggable:!0,name:"tick-rect-".concat(rn)}),Un=Vt.addShape("rect",{attrs:{x:a+rn*_t+ut*(2*rn-1)/2,y:a,width:rn===0||rn===ht-1?_t+ut/2:_t+ut,height:st,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-".concat(rn)});Un.toFront();var Fn=Kr.getBBox(),$r=(Fn.minX+Fn.maxX)/2;re.push({rect:Kr,pickRect:Un,value:hr.date,x:$r,y:Fn.minY});var gn;if(l?(gn=l(hr),!(0,f.isString)(gn)&&gn&&(gn=hr.date)):rn%Math.round(ht/10)===0&&(gn=hr.date),gn){te.push(gn);var Pn=Fn.maxY+a*2;Vt.addShape("line",{attrs:{stroke:"#BFBFBF",x1:$r,y1:Pn,x2:$r,y2:Pn+H},name:"tick-line"});var Ln=Pn+H+a,jn=Vt.addShape("text",{attrs:Fd({fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:$r,y:Ln,textAlign:"center",text:gn,textBaseline:"top",fontSize:10,fontFamily:e.fontFamily||"Arial, sans-serif"},C),capture:!1,name:"tick-label"}),ta=jn.getBBox();if(ta.maxX>r?jn.attr("textAlign","right"):ta.minX<0&&jn.attr("textAlign","left"),(0,f.isNumber)(Oe)&&te.length!==10){var ba=HE([1,0,0,0,1,0,0,0,1],[["t",-$r,-Ln],["r",Oe],["t",$r-5,Ln+2]]);jn.attr({textAlign:"left",matrix:ba})}te.length===1?jn.attr({textAlign:"left"}):te.length===10&&jn.attr({textAlign:"right"})}}),this.tickRects=re;var er=this.group;this.currentSpeed=1,this.controllerBtnGroup=new t0(Fd({group:er,x:this.x,y:this.y+n+5,width:r,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"},this.controllerCfg))},i.prototype.initEvent=function(){var e=this,t=this.sliceGroup;t.on("click",function(c){var d=c.target;if(!(d.get("type")!=="rect"||!d.get("name"))){var C=parseInt(d.get("name").split("-")[2],10);if(!isNaN(C)){var I=e.tickRects,F=e.unselectedTickStyle;I.forEach(function(ut){ut.rect.attr(F)});var H=e.selectedTickStyle;I[C].rect.attr(H),e.startTickRectId=C,e.endTickRectId=C;var J=I.length,st=C/J;e.graph.emit(ju,{value:[st,st]})}}}),t.on("dragstart",function(c){var d=e.tickRects,C=e.unselectedTickStyle;d.forEach(function(ut){ut.rect.attr(C)});var I=c.target,F=parseInt(I.get("name").split("-")[2],10),H=e.selectedTickStyle;d[F].rect.attr(H),e.startTickRectId=F;var J=d.length,st=F/J;e.graph.emit(ju,{value:[st,st]}),e.dragging=!0}),t.on("dragover",function(c){if(e.dragging&&c.target.get("type")==="rect"){for(var d=parseInt(c.target.get("name").split("-")[2],10),C=e.startTickRectId,I=e.tickRects,F=e.selectedTickStyle,H=e.unselectedTickStyle,J=0;J<I.length;J++){var st=J>=C&&J<=d?F:H;I[J].rect.attr(st)}var ut=I.length;e.endTickRectId=d;var ht=C/ut,_t=d/ut;e.graph.emit(ju,{value:[ht,_t]})}}),t.on("drop",function(c){if(e.dragging&&(e.dragging=!1,c.target.get("type")==="rect")){var d=e.startTickRectId,C=parseInt(c.target.get("name").split("-")[2],10);if(!(C<d)){var I=e.selectedTickStyle,F=e.tickRects;F[C].rect.attr(I),e.endTickRectId=C;var H=F.length,J=d/H,st=C/H;e.graph.emit(ju,{value:[J,st]})}}});var r=this,n=r.tooltipBackgroundColor,a=r.tooltipFomatter,o=r.canvas,s=new VE({container:o.get("container"),backgroundColor:n}),u=this.tickRects;u.forEach(function(c){var d=c.pickRect;d.on("mouseenter",function(C){var I=C.target;if(I.get("type")==="rect"){var F=parseInt(I.get("name").split("-")[2],10),H=o.getClientByPoint(u[F].x,u[F].y);s.show({x:u[F].x,y:u[F].y,clientX:H.x,clientY:H.y,text:a?a(u[F].value):u[F].value})}}),d.on("mouseleave",function(C){s.hide()})});var l=this.group;l.on("".concat(sc,":click"),function(){e.isPlay=!e.isPlay,e.changePlayStatus()}),l.on("".concat(Rd,":click"),function(){e.updateStartEnd(1)}),l.on("".concat(kd,":click"),function(){e.updateStartEnd(-1)}),l.on(ff,function(c){var d=c.type,C=c.speed;e.currentSpeed=C})},i.prototype.changePlayStatus=function(e){e===void 0&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit($g,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(qg,null))},i.prototype.startPlay=function(){var e=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var t=e.currentSpeed;e.frameCount%(60/t)===0&&(e.frameCount=0,e.updateStartEnd(1)),e.frameCount++,e.isPlay&&(e.playHandler=e.startPlay())}):void 0},i.prototype.updateStartEnd=function(e){var t=this,r=this.tickRects,n=r.length,a=this.unselectedTickStyle,o=this.selectedTickStyle,s=t.endTickRectId;if(e>0?t.endTickRectId++:(r[t.endTickRectId].rect.attr(a),t.endTickRectId--),s!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var u=t.startTickRectId;u<=t.endTickRectId-1;u++)r[u].rect.attr(a);t.startTickRectId=t.endTickRectId}if(r[t.endTickRectId]){r[t.endTickRectId].rect.attr(o);var l=t.startTickRectId/n,c=t.endTickRectId/n;this.graph.emit(ju,{value:[l,c]})}},i.prototype.destory=function(){var e=this.sliceGroup;e.off("click"),e.off("dragstart"),e.off("dragover"),e.off("drop"),this.tickRects.forEach(function(t){var r=t.pickRect;r.off("mouseenter"),r.off("mouseleave")}),this.tickRects.length=0,e.off("".concat(sc,":click")),e.off("".concat(Rd,":click")),e.off("".concat(kd,":click")),e.off(ff),this.sliceGroup.destroy()},i}(),qE=$E,QE=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Tl=function(){return Tl=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Tl.apply(this,arguments)},JE=function(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(t[r[n]]=i[r[n]]);return t},tw=4,ew=26,rw=function(i){QE(e,i);function e(t){var r=i.call(this,t)||this;return r.afterrenderListener=function(n){return r.filterData({})},r.valueChangeListener=(0,f.throttle)(function(n){return r.filterData(n)},200,{trailing:!0,leading:!0}),r.changeData=function(n){var a=r.get("graph");r.cacheGraphData=a.get("data"),r.filterData({})},r}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1,filterItemTypes:["node"],containerCSS:{}}},e.prototype.initContainer=function(){var t=this.get("graph"),r=this._cfgs,n=r.width,a=r.height,o=this.get("className")||"g6-component-timebar",s=this.get("container"),u=this.get("graph").get("container"),l;s?((0,f.isString)(s)&&(s=document.getElementById(s)),l=s):(l=co("<div class='".concat(o,"'></div>")),Va(l,{position:"relative"})),u.appendChild(l),this.set("timeBarContainer",l);var c,d=t.get("renderer");d==="SVG"?c=new Cd({container:l,width:n,height:a}):c=new Ml({container:l,width:n,height:a}),this.get("containerCSS")&&Va(l,this.get("containerCSS")),this.set("canvas",c)},e.prototype.init=function(){this.initContainer();var t=this.get("canvas"),r=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",r),this.renderTrend(),this.initEvent();var n=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",n)},e.prototype.play=function(){this.togglePlay(!0)},e.prototype.pause=function(){this.togglePlay(!1)},e.prototype.togglePlay=function(t){var r=this.get("timebar");r&&(r.isPlay=!!t,r.changePlayStatus())},e.prototype.renderTrend=function(){var t=this,r=this._cfgs,n=r.width,a=r.x,o=r.y,s=r.padding,u=r.type,l=r.trend,c=r.slider,d=r.controllerCfg,C=r.textStyle,I=r.tick,F=r.backgroundStyle,H=r.foregroundStyle,J=l.data,st=JE(l,["data"]),ut=n-2*s,ht=u==="trend"?ew:tw,_t=this.get("graph"),Vt=this.get("timeBarGroup"),re=this.get("canvas"),te=null;if(u==="trend"||u==="simple"){var Ee=this.get("getValue");te=new XE(Tl(Tl({graph:_t,canvas:re,group:Vt,type:u,x:a+s,y:u==="trend"?o+s:o+s+15,width:ut,height:ht,padding:s,backgroundStyle:F,foregroundStyle:H,trendCfg:Tl(Tl({},st),{data:J.map(function(Oe){return(Ee==null?void 0:Ee(Oe))||Oe.value})})},c),{tick:{ticks:J,tickLabelFormatter:I.tickLabelFormatter,tickLabelStyle:I.tickLabelStyle,tickLineStyle:I.tickLineStyle},handlerStyle:Tl(Tl({},c.handlerStyle),{height:c.height||ht}),controllerCfg:d,textStyle:C}))}else u==="tick"&&(te=new qE(Tl({graph:_t,canvas:re,group:Vt,x:a+s,y:o+s,width:n,height:42,padding:2,controllerCfg:d},I)));var ze=function Oe(){var er=t.get("timebar");er.draggingHandler=!1,er.isPlay&&(er.isPlay=!1,er.currentHandler=er.maxHandlerShape,er.changePlayStatus()),document.removeEventListener("mouseup",Oe)};re.on("mousedown",function(Oe){(Oe.target.get("name")==="maxHandlerShape-handler"||Oe.target.get("name")==="minHandlerShape-handler"||Oe.target===te.foregroundShape)&&document.addEventListener("mouseup",ze)}),this.set("timebar",te)},e.prototype.filterData=function(t){var r,n=t.value;if(!n){n=[];var a=this._cfgs.type;!a||a==="trend"||a==="simple"?(n[0]=this._cfgs.slider.start,n[1]=this._cfgs.slider.end):a==="tick"&&(n[0]=this._cfgs.tick.start,n[1]=this._cfgs.tick.end)}var o=null,s=this._cfgs.type;if(s==="trend"||s==="simple"?o=this._cfgs.trend.data:s==="tick"&&(o=this._cfgs.tick.data),!o||o.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var u=this.get("rangeChange"),l=this.get("graph"),c=Math.round(o.length*n[0]),d=Math.round(o.length*n[1]);d=d>=o.length?o.length-1:d,c=c>=o.length?o.length-1:c;var C=(r=this._cfgs.tick)===null||r===void 0?void 0:r.tickLabelFormatter,I=C?C(o[c]):o[c].date,F=C?C(o[d]):o[d].date;if(s!=="tick"){var H=this.get("timebar");H.setText(I,F)}if(u)u(l,I,F);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=l.get("data"));var J=this.get("filterItemTypes"),st=this.get("changeData"),ut=this.get("getDate"),ht=this.get("shouldIgnore"),_t=o[c].date,Vt=o[d].date;if(st||st===void 0){var re=this.cacheGraphData.nodes,te=this.cacheGraphData.edges,Ee={},ze={};l.getNodes().forEach(function(Oe){return Ee[Oe.getID()]=!0}),l.getEdges().forEach(function(Oe){return ze[Oe.getID()]=!0}),J.includes("node")&&(re.forEach(function(Oe){var er=+((ut==null?void 0:ut(Oe))||Oe.date),hr=er>=_t&&er<=Vt||(ht==null?void 0:ht("node",Oe,{min:_t,max:Vt})),rn=Ee[Oe.id];rn&&!hr?(l.removeItem(Oe.id),Ee[Oe.id]=!1):!rn&&hr&&(l.addItem("node",Oe),Ee[Oe.id]=!0)}),te==null||te.forEach(function(Oe){var er=Ee[Oe.source]&&Ee[Oe.target]||(ht==null?void 0:ht("edge",Oe,{min:_t,max:Vt})),hr=!!l.findById(Oe.id);hr&&!er?(l.removeItem(Oe.id),ze[Oe.id]=!1):!hr&&er?(l.addItem("edge",Oe),ze[Oe.id]=!0):hr||(ze[Oe.id]=!1)})),(this.get("filterEdge")||J.includes("edge"))&&(te==null||te.filter(function(Oe){var er=+((ut==null?void 0:ut(Oe))||Oe.date),hr=er>=_t&&er<=Vt||(ht==null?void 0:ht("edge",Oe,{min:_t,max:Vt})),rn=Ee[Oe.source]&&Ee[Oe.target],Dn=hr&&rn,yn=ze[Oe.id];yn&&!Dn?(ze[Oe.id]=!1,l.removeItem(Oe.id)):!yn&&Dn&&(ze[Oe.id]=!0,l.addItem("edge",Oe))}))}else J.includes("node")&&l.getNodes().forEach(function(Oe){var er=Oe.getModel();if(!(ht!=null&&ht("node",er,{min:_t,max:Vt}))){var hr=+((ut==null?void 0:ut(er))||er.date);hr<_t||hr>Vt?l.hideItem(Oe):l.showItem(Oe)}}),(this.get("filterEdge")||J.includes("edge"))&&l.getEdges().forEach(function(Oe){var er=Oe.getModel();if(!(ht!=null&&ht("edge",er,{min:o[c].date,max:o[d].date}))){var hr=+((ut==null?void 0:ut(er))||er.date);if(hr<o[c].date||hr>o[d].date)l.hideItem(Oe);else{var rn=Oe.getSource().isVisible(),Dn=Oe.getTarget().isVisible();rn&&Dn&&l.showItem(Oe)}}})}},e.prototype.initEvent=function(){var t=this.get("graph");t.on("afterchangedata",this.changeData),t.on("afterrender",this.afterrenderListener),t.on(ju,this.valueChangeListener)},e.prototype.destroy=function(){var t=this.get("graph");t.off("afterchangedata",this.changeData),t.off("afterrender",this.afterrenderListener),t.off(ju,this.valueChangeListener);var r=this.get("timebar");r&&r.destory&&r.destory(),i.prototype.destroy.call(this);var n=this.get("timeBarContainer");if(n){var a=this.get("container");a||(a=this.get("graph").get("container")),(0,f.isString)(a)&&(a=document.getElementById(a)),a.removeChild(n)}},e}(Ts),nw=rw,aw=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),iw=us.applyMatrix;function ow(i,e){var t,r;if(i.naturalWidth)t=i.naturalWidth,r=i.naturalHeight;else{var n=new Image;n.src=i.src,n.onload=function(){e&&e(n.width,n.height)}}return[t,r]}var sw=function(i){aw(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,r=this._cfgs,n=r.graph;if(!this.destroyed){var a=this.get("container");(0,f.isString)(a)&&(a=document.getElementById(a));var o=co("<div class=".concat(r.viewportClassName,`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff;
        cursor:move'
      </div>`)),s=0,u=0,l=!1,c=0,d=0,C=0,I=0,F=0,H=0;a.addEventListener("mousedown",function(J){if(r.refresh=!1,J.target===o){var st=o.style;C=parseInt(st.width,10),I=parseInt(st.height,10);var ut=t.get("width"),ht=t.get("height");C>ut||I>ht||(H=n.getZoom(),F=t.get("ratio"),l=!0,s=J.clientX,u=J.clientY)}},!1),a.addEventListener("mousemove",function(J){if(!(!l||(0,f.isNil)(J.clientX)||(0,f.isNil)(J.clientY))){var st=t.get("width"),ut=t.get("height"),ht=o.style;c=parseInt(ht.left,10),d=parseInt(ht.top,10),C=parseInt(ht.width,10),I=parseInt(ht.height,10);var _t=s-J.clientX,Vt=u-J.clientY;c-_t<0?_t=c:c-_t+C>=st&&(_t=0),d-Vt<0?Vt=d:d-Vt+I>=ut&&(Vt=0),c-=_t,d-=Vt,Va(o,{left:"".concat(c,"px"),top:"".concat(d,"px")}),n.translate(_t*H/F,Vt*H/F),s=J.clientX,u=J.clientY}},!1),a.addEventListener("mouseleave",function(){l=!1,r.refresh=!0},!1),a.addEventListener("mouseup",function(){l=!1,r.refresh=!0},!1),this.set("viewport",o),a.appendChild(o)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),r=this.get("width"),n=this.get("height"),a=this.get("graph"),o=a.get("width"),s=a.get("height"),u=o/s,l=a.getGroup(),c=l.getCanvasBBox(),d=[(c.minX+c.maxX)/2,(c.minY+c.maxY)/2],C=[c.maxX-c.minX,c.maxY-c.minY],I={centerX:d[0],centerY:d[1],width:0,height:0,minX:0,minY:0};c[0]/c[1]>u?(I.width=C[0],I.height=I.width/u):(I.height=C[1],I.width=I.height*u),I.minX=d[0]-I.width/2,I.minY=d[1]-I.height/2;var F=l.getMatrix();F||(F=[1,0,0,0,1,0,0,0,1]);var H=q.invert([1,0,0,0,1,0,0,0,1],F),J=iw({x:I.minX,y:I.minY},H),st=a.getCanvasByPoint(J.x,J.y),ut=this.get("viewport");ut||this.initViewport();var ht=o/I.width,_t=ht*r,Vt=ht*n,re=r*-st.x/I.width,te=n*-st.y/I.height,Ee=re+_t,ze=te+Vt;re<0&&(_t+=re,re=0),Ee>r&&(_t=_t-(Ee-r)),te<0&&(Vt+=te,te=0),ze>n&&(Vt=Vt-(ze-n)),this.set("ratio",t);var Oe="".concat(re,"px"),er="".concat(te,"px");Va(ut,{left:Oe,top:er,width:"".concat(_t,"px"),height:"".concat(Vt,"px")})}},e.prototype.init=function(){this.initContainer()},e.prototype.initContainer=function(){var t=this,r=t.get("graph"),n=r.get("width"),a=r.get("height"),o=a/n,s=t.get("className"),u=t.get("container"),l=t.get("width"),c=t.get("height");!l&&!c&&(l=200),l?(c=o*l,t.set("height",c)):(l=1/o*c,t.set("width",l));var d=co("<div class='".concat(s,"' style='width: ").concat(l,"px; height: ").concat(c,"px; overflow: hidden; position: relative;'></div>"));(0,f.isString)(u)&&(u=document.getElementById(u)),u?u.appendChild(d):r.get("container").appendChild(d),t.set("container",d);var C=co('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');d.appendChild(C);var I=co('<span style="display: table-cell; vertical-align: middle; "></span>');C.appendChild(I),t.set("containerDOM",C),t.set("containerSpan",I);var F=co('<img alt="" src="'.concat(this.get("graphImg"),'" style="display: inline-block; user-select: none;" draggable="false" />'));t.set("imgDOM",F),t.updateImgSize(),I.appendChild(F),t.updateCanvas()},e.prototype.updateImgSize=function(){var t=this,r=t.get("imgDOM"),n=t.get("width"),a=t.get("height");r.onload=function(){var o=ow(r);o[0]>o[1]?r.width=n:r.height=a}},e.prototype.updateCanvas=function(){var t=this.get("refresh");if(t){var r=this.get("graph");if(!r.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("width"),a=r.get("canvas").getCanvasBBox(),o=a.width,s=n/o;this.set("ratio",s),this.updateViewport()}}},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateGraphImg=function(t){var r=this,n=r.get("imgDOM");n.remove(),r.set("graphImg",t);var a=co('<img alt="" src="'.concat(t,'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>'));r.set("imgDOM",a),a.src=t,r.updateImgSize();var o=r.get("containerSpan");o.appendChild(a),r.updateCanvas()},e.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},e}(Ts),uw=sw,lw=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xv=function(){return xv=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},xv.apply(this,arguments)},cw=us.distance,e0=.05,r0={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},fw=function(i){lw(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,f.clone)(r0),showLabel:"edge",scaleRBy:"wheel"}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},e.prototype.init=function(){var t=this,r=t.get("showLabel"),n=r==="node"||r==="both",a=r==="edge"||r==="both";t.set("showNodeLabel",n),t.set("showEdgeLabel",a);var o=t.get("shouldShow");o||t.set("shouldShow",function(){return!0})},e.prototype.createDelegate=function(t){var r=this,n=r.get("delegate");(!n||n.destroyed)&&(r.filter(t),n=r.get("delegate"),n.on("dragstart",function(a){}),n.on("drag",function(a){r.filter(a)}),this.get("scaleRBy")==="wheel"&&n.on("mousewheel",function(a){r.scaleRByWheel(a)}))},e.prototype.scaleRByWheel=function(t){var r=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=r.get("graph"),a,o=r.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,u=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-e0:a=1/(1-e0);var l=r.get("maxR"),c=r.get("minR"),d=r.get("r");(d>(l||n.get("height"))&&a>1||d<(c||n.get("height")*.05)&&a<1)&&(a=1),d*=a,r.set("r",d),r.filter(t)}},e.prototype.filter=function(t){var r=this,n=r.get("graph"),a=n.getNodes(),o={},s=r.get("r"),u=r.get("type"),l={x:t.x,y:t.y};r.updateDelegate(l,s);var c=r.get("shouldShow"),d=r.get("vShapes");d&&d.forEach(function(st){st.remove(),st.destroy()}),d=[],a.forEach(function(st){var ut=st.getModel(),ht=ut.x,_t=ut.y;cw({x:ht,y:_t},l)<s&&(o[ut.id]=st)});var C=n.getEdges(),I=[];C.forEach(function(st){var ut=st.getModel(),ht=ut.source,_t=ut.target;c(ut)&&(u==="only-source"||u==="one"?o[ht]&&!o[_t]&&I.push(st):u==="only-target"||u==="one"?o[_t]&&!o[ht]&&I.push(st):u==="both"&&o[ht]&&o[_t]&&I.push(st))});var F=r.get("showNodeLabel"),H=r.get("showEdgelabel"),J=n.get("group");I.forEach(function(st){var ut=st.get("group").get("children");ut.forEach(function(ht){var _t=ht.get("type"),Vt=J.addShape(_t,{attrs:ht.attr()});d.push(Vt),F&&_t==="text"&&Vt.set("visible",!0)})}),Object.keys(o).forEach(function(st){var ut=o[st],ht=ut.get("group").clone();if(J.add(ht),d.push(ht),H)for(var _t=ht.get("children"),Vt=0;Vt<_t.length;Vt++){var re=_t[Vt];re.get("type")==="text"&&re.set("visible",!0)}}),r.set("vShapes",d)},e.prototype.updateParams=function(t){var r=this,n=t.r,a=t.trigger,o=t.minR,s=t.maxR,u=t.scaleRBy,l=t.showLabel,c=t.shouldShow;if(isNaN(t.r)||r.set("r",n),isNaN(s)||r.set("maxR",s),isNaN(o)||r.set("minR",o),(a==="mousemove"||a==="click")&&r.set("trigger",a),u==="wheel"||u==="unset"){r.set("scaleRBy",u),r.get("delegate").remove(),r.get("delegate").destroy();var d=r.get("dPercentText");d&&(d.remove(),d.destroy())}(l==="node"||l==="both")&&r.set("showNodeLabel",!0),(l==="edge"||l==="both")&&r.set("showEdgeLabel",!0),c&&r.set("shouldShow",c)},e.prototype.updateDelegate=function(t,r){var n=this,a=n.get("graph"),o=n.get("delegate");if(!o||o.destroyed){var s=a.get("group"),u=n.get("delegateStyle")||r0;o=s.addShape("circle",{attrs:xv({r,x:t.x,y:t.y},u),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(l){n.scaleRByWheel(l)})}else o.attr({x:t.x,y:t.y,r});n.set("delegate",o)},e.prototype.clear=function(){var t=this,r=t.get("vShapes");r&&r.forEach(function(a){a.remove(),a.destroy()}),r=[],t.set("vShapes",r);var n=t.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},e.prototype.destroy=function(){this.clear()},e}(Ts),dw=fw,hw=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vw=us.pointLineDistance,pw={stroke:"#FA8C16",lineWidth:1},gw=function(i){hw(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{line:pw,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},e.prototype.init=function(){},e.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},e.prototype.onDragStart=function(){this.initBoxLine()},e.prototype.onDrag=function(t){var r=t.item,n=r.get("delegateShape")||r,a=n.getBBox(),o=r.getModel(),s=o.x-a.x,u=o.y-a.y;this.show({x:a.minX+s,y:a.minY+u},{width:a.width,height:a.height})},e.prototype.onDragEnd=function(){this.destory()},e.prototype.initBoxLine=function(){var t=this._cfgs,r=t.horizontalLines,n=t.verticalLines,a=t.itemAlignType,o=this.get("graph"),s=o.getNodes();s.forEach(function(u){var l=u.getBBox(),c=u.get("id");a===!0||a==="horizontal"?(r["".concat(c,"tltr")]=[l.minX,l.minY,l.maxX,l.minY,u],r["".concat(c,"lcrc")]=[l.minX,l.centerY,l.maxX,l.centerY,u],r["".concat(c,"blbr")]=[l.minX,l.maxY,l.maxX,l.maxY,u]):a==="center"&&(r["".concat(c,"lcrc")]=[l.minX,l.centerY,l.maxX,l.centerY,u]),a===!0||a==="vertical"?(n["".concat(c,"tlbl")]=[l.minX,l.minY,l.minX,l.maxY,u],n["".concat(c,"tcbc")]=[l.centerX,l.minY,l.centerX,l.maxY,u],n["".concat(c,"trbr")]=[l.maxX,l.minY,l.maxX,l.maxY,u]):a==="center"&&(n["".concat(c,"tcbc")]=[l.centerX,l.minY,l.centerX,l.maxY,u])})},e.prototype.show=function(t,r){var n=(0,f.mix)({},t);return this.itemAlign(t,r,n),t},e.prototype.itemAlign=function(t,r,n){var a=this,o=this._cfgs,s=o.horizontalLines,u=o.verticalLines,l=o.tolerance,c={x:n.x+r.width/2,y:n.y},d={x:n.x+r.width/2,y:n.y+r.height/2},C={x:n.x+r.width/2,y:n.y+r.height},I={x:n.x,y:n.y+r.height/2},F={x:n.x+r.width,y:n.y+r.height/2},H=[],J=[],st=null;if(this.clearAlignLine(),(0,f.each)(s,function(ht){ht[4].isVisible&&(H.push(a.getLineDisObject(ht,c)),H.push(a.getLineDisObject(ht,d)),H.push(a.getLineDisObject(ht,C)))}),(0,f.each)(u,function(ht){ht[4].isVisible&&(J.push(a.getLineDisObject(ht,I)),J.push(a.getLineDisObject(ht,d)),J.push(a.getLineDisObject(ht,F)))}),H.sort(function(ht,_t){return ht.dis-_t.dis}),J.sort(function(ht,_t){return ht.dis-_t.dis}),H.length!==0&&H[0].dis<l){t.y=H[0].line[1]-H[0].point.y+n.y,st={type:"item",horizontals:[H[0]]};for(var ut=1;ut<3;ut++)H[0].dis===H[ut].dis&&st.horizontals.push(H[ut])}if(J.length!==0&&J[0].dis<l){t.x=J[0].line[0]-J[0].point.x+n.x,st?st.verticals=[J[0]]:st={type:"item",verticals:[J[0]]};for(var ut=1;ut<3;ut++)J[0].dis===J[ut].dis&&st.verticals.push(J[ut])}st&&(st.bbox=r,this.addAlignLine(st))},e.prototype.addAlignLine=function(t){var r=t.bbox,n=t.type,a=t.horizontals,o=t.verticals,s=this._cfgs,u=s.line,l=s.alignLines,c=this.get("graph"),d=c.get("group");n==="item"&&(a&&(0,f.each)(a,function(C){var I=C.line,F=C.point,H=(I[0]+I[2])/2,J,st;F.x<H?(J=F.x-r.width/2,st=Math.max(I[0],I[2])):(J=F.x+r.width/2,st=Math.min(I[0],I[2]));var ut=(0,f.mix)({x1:J,y1:I[1],x2:st,y2:I[1]},u),ht=d.addShape("line",{attrs:ut,capture:!1});l.push(ht)}),o&&(0,f.each)(o,function(C){var I=C.line,F=C.point,H=(I[1]+I[3])/2,J,st;F.y<H?(J=F.y-r.height/2,st=Math.max(I[1],I[3])):(J=F.y+r.height/2,st=Math.min(I[1],I[3]));var ut=(0,f.mix)({x1:I[0],y1:J,x2:I[0],y2:st},u),ht=d.addShape("line",{attrs:ut,capture:!1});l.push(ht)}))},e.prototype.getLineDisObject=function(t,r){return{line:t,point:r,dis:vw(t,r)}},e.prototype.getContainer=function(){return this.get("container")},e.prototype.clearAlignLine=function(){var t=this._cfgs.alignLines;(0,f.each)(t,function(r){r.remove()}),t.length=0},e.prototype.destory=function(){var t=this._cfgs,r=t.horizontalLines,n=t.verticalLines,a=this.get("graph"),o=a.getNodes();o.forEach(function(s){var u=s.get("id");delete r["".concat(u,"tltr")],delete r["".concat(u,"lcrc")],delete r["".concat(u,"blbr")],delete n["".concat(u,"tlbl")],delete n["".concat(u,"tcbc")],delete n["".concat(u,"trbr")]}),this.clearAlignLine()},e}(Ts),mw=gw,yw=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xo=function(){return xo=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},xo.apply(this,arguments)},bw=["click","mouseenter"],xw=function(i){yw(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},e.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var t=this.get("filter")||{},r=t.multiple;r&&t.trigger==="mouseenter"&&this.set("multiple",!1);var n=this.get("align");if(!n){var a=this.get("position").split("-");a.includes("left")&&(n="left"),a.includes("right")?n="right":n="center",this.set("align",n)}var o=this.get("graph"),s=o.get("container"),u=co(`<div class='g6-legend-container' style="position: absolute;"></div>`);s.appendChild(u),this.set("container",u);var l=this.render();Va(u,this.getContainerPos(l)),this.bindEvents()},e.prototype.getContainerPos=function(t){t===void 0&&(t=[0,0]);var r=this,n=r.get("graph"),a=this.get("offsetX"),o=this.get("offsetY"),s=this.get("margin"),u=this.get("position").split("-"),l={top:0,right:1,bottom:2,left:3},c=0,d=0,C={left:(n.getWidth()-t[0])/2+c,top:(n.getHeight()-t[1])/2+d};return u.forEach(function(I){var F=s[l[I]],H=I;switch(I){case"top":F+=d;break;case"left":F+=c;break;case"bottom":F=n.getHeight()-t[1]-F+d,H="top";break;default:F=n.getWidth()-t[0]-F+c,H="left";break}C[H]=F}),C.top+=o+n.getContainer().offsetTop,C.left+=a+n.getContainer().offsetLeft,Object.keys(C).forEach(function(I){C[I]="".concat(C[I],"px")}),C},e.prototype.bindEvents=function(){var t=this,r=t.get("filter");if(!(!r||!r.enable)){var n=r.trigger||"click";bw.includes(n)||(console.warn("Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default."),n="click");var a=t.get("legendCanvas");n==="mouseenter"?(a.on("node-container:mouseenter",function(o){return t.filterData(o)}),a.on("node-container:mouseleave",function(o){t.clearFilter(),t.clearActiveLegend()})):(a.on("node-container:click",function(o){return t.filterData(o)}),a.on("click",function(o){o.target&&o.target.isCanvas&&o.target.isCanvas()&&(t.clearFilter(),t.clearActiveLegend())}))}},e.prototype.changeData=function(t){this.set("data",t);var r=this.render();Va(this.get("container"),this.getContainerPos(r))},e.prototype.activateLegend=function(t){var r=this.get("filter"),n=r==null?void 0:r.multiple;n||this.clearActiveLegend();var a=t.get("parent");a.get("active")?(a.set("active",!1),this.findLegendItemsByState("active").length&&a.set("inactive",!0)):(a.set("inactive",!1),a.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach(function(d){d.set("inactive",!0)}):this.clearActiveLegend();var o=(r==null?void 0:r.legendStateStyles)||{},s=(o==null?void 0:o.inactive)||{opacity:.5,"text-shape":{opacity:.5}},u=s["text-shape"]||{};this.findLegendItemsByState("inactive").forEach(function(d){var C=d.get("children"),I=C[0],F=C[1];I.attr(xo(xo({},I.get("oriAttrs")),s)),F.attr(xo(xo({},F.get("oriAttrs")),u))});var l=(o==null?void 0:o.active)||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}},c=l["text-shape"]||{};this.findLegendItemsByState("active").forEach(function(d){var C=d.get("children"),I=C[0],F=C[1];I.attr(xo(xo({},I.get("oriAttrs")),l)),F.attr(xo(xo({},F.get("oriAttrs")),c))})},e.prototype.findLegendItemsByState=function(t,r,n){r===void 0&&(r="all"),n===void 0&&(n=!0);var a=this.get("legendCanvas").find(function(u){return u.get("name")==="root"}),o=a.find(function(u){return u.get("name")==="node-group"}),s=a.find(function(u){return u.get("name")==="edge-group"});return r==="node"?o.get("children").filter(function(u){return!!u.get(t)===n}):r==="edge"?s.get("children").filter(function(u){return!!u.get(t)===n}):o.get("children").filter(function(u){return!!u.get(t)===n}).concat(s.get("children").filter(function(u){return!!u.get(t)===n}))},e.prototype.clearActiveLegend=function(){var t=this.get("legendCanvas"),r=t.find(function(a){return a.get("name")==="root"}),n=[r.find(function(a){return a.get("name")==="node-group"}),r.find(function(a){return a.get("name")==="edge-group"})];n.forEach(function(a){a.get("children").forEach(function(o){o.set("active",!1),o.set("inactive",!1);var s=o.get("children"),u=s[0],l=s[1];u.attr(u.get("oriAttrs")),l.attr(l.get("oriAttrs"))})})},e.prototype.filterData=function(t){var r=this.get("filter"),n=r==null?void 0:r.filterFunctions;if(!(!r||!n)){var a=this.get("legendCanvas"),o=this.get("graph"),s=r.graphActiveState||"active",u=r.graphInactiveState||"inactive",l=r.multiple;this.clearFilter(),l||this.clearActiveLegend(),this.activateLegend(t.target);var c=a.find(function(st){return st.get("name")==="root"}),d=c.find(function(st){return st.get("name")==="node-group"}),C=c.find(function(st){return st.get("name")==="edge-group"}),I=d.get("children").filter(function(st){return st.get("active")}),F=C.get("children").filter(function(st){return st.get("active")}),H=0,J=["getNodes","getEdges"];J.forEach(function(st){o[st]().forEach(function(ut){var ht=!1,_t=st==="getNodes"?I:F;_t.forEach(function(Vt){var re=n[Vt.get("id")];ht=ht||re(ut.getModel())}),ht?(o.setItemState(ut,u,!1),o.setItemState(ut,s,!0),H++):(o.setItemState(ut,s,!1),o.setItemState(ut,u,!0))})}),H||J.forEach(function(st){o[st]().forEach(function(ut){o.clearItemStates(ut,[u])})})}},e.prototype.clearFilter=function(){var t=this.get("graph"),r=this.get("filter");if(r){var n=r.graphActiveState||"active",a=r.graphInactiveState||"inactive";t.getNodes().forEach(function(o){t.clearItemStates(o,[n,a])}),t.getEdges().forEach(function(o){t.clearItemStates(o,[n,a])})}},e.prototype.render=function(){var t=this;this.processData();var r=this.get("legendCanvas");r?r.clear():r=new Ml({container:this.get("container"),width:200,height:200});var n=r.addGroup({name:"root"}),a=n.addGroup({name:"node-group"}),o=n.addGroup({name:"edge-group"});this.set("legendCanvas",r);var s=this.get("itemsData"),u=["nodes","edges"],l=[a,o];u.forEach(function(Kr,Un){s[Kr].forEach(function(Fn){var $r,gn=l[Un].addGroup({id:Fn.id,name:"node-container"}),Pn,Ln=Fn.type,jn=t.getShapeSize(Fn),ta=jn.width,ba=jn.height,La=jn.r,wi=t.getStyle(Kr.substr(0,4),Fn);switch(Fn.type){case"circle":Pn={r:La,x:0,y:0};break;case"rect":Pn={width:ta,height:ba,x:-ta/2,y:-ba/2};break;case"ellipse":Pn={rx:ta,ry:ba,x:0,y:0},Ln="ellipse";break;case"line":Pn={x1:-ta/2,y1:0,x2:ta/2,y2:0},Ln="line";break;case"quadratic":Pn={path:[["M",-ta/2,0],["Q",0,ta/2,ta/2,0]]},Ln="path";break;case"cubic":Pn={path:[["M",-ta/2,0],["C",-ta/6,ta/2,ta/6,-ta/2,ta/2,0]]},Ln="path";break;case"diamond":Pn={path:[["M",0,-ba],["L",ta,0],["L",0,ba],["L",-ta,0],["Z"]]},Ln="path";break;case"triangle":Pn={path:[["M",-ta,ba],["L",0,-ba],["L",ta,ba],["Z"]]},Ln="path";break;case"star":Pn={path:us.getStarPath(La*3,La*1.2)},Ln="path";break;default:Pn={r:La,x:0,y:0};break}var ii=gn.addShape(Ln,{attrs:xo(xo({},Pn),wi),name:"".concat(Fn.type,"-node-keyShape"),oriAttrs:xo({opacity:1},wi)});if(Fn.label){var Si=ii.getBBox(),Ai=(($r=Fn.labelCfg)===null||$r===void 0?void 0:$r.style)||{},Ji=xo({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},Ai);gn.addShape("text",{attrs:xo({x:Si.maxX+4,y:0,text:Fn.label},Ji),className:"legend-label",name:"".concat(Fn.type,"-node-text"),oriAttrs:Ji})}})});var c=this.get("padding"),d,C=n.find(function(Kr){return Kr.get("name")==="title-container"}),I={height:0,maxY:0,width:0};if(this.get("title")){C||(C=n.addGroup({name:"title-container"}));var F={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:c[0]},H=this.get("titleConfig")||{},J=Object.assign(F,H.style||{});d=C.addShape("text",{attrs:xo({text:this.get("title")},J)}),I=C.getCanvasBBox(),C.setMatrix([1,0,0,0,1,0,H.offsetX,H.offsetY,1])}this.layoutItems();var st=n.getCanvasBBox(),ut=a.getCanvasBBox(),ht=ut.minX<0?Math.abs(ut.minX)+c[3]:c[3],_t=I.maxY<ut.minY?Math.abs(I.maxY-ut.minY)+c[0]:I.maxY+c[0],Vt=[1,0,0,0,1,0,ht,_t,1];a.setMatrix(Vt),st=n.getCanvasBBox();var re=[st.minX+st.width+c[1],st.minY+st.height+c[2]];if(d){var H=xo({position:"center",offsetX:0,offsetY:0},this.get("titleConfig"));I=C.getCanvasBBox();var te=C.getMatrix()||[1,0,0,0,1,0,0,0,1];H.position==="center"?te[6]=re[0]/2+H.offsetX:H.position==="right"?(te[6]=re[0]-c[3]+H.offsetX,d.attr({textAlign:"right"})):(te[6]=c[3]+H.offsetX,d.attr({textAlign:"left"})),C.setMatrix(te),I=C.getCanvasBBox(),ht=ut.minX<0?Math.abs(ut.minX)+c[3]:c[3],_t=ut.minY<I.maxY?Math.abs(I.maxY-ut.minY)+c[0]:I.maxY+c[0],Vt=[1,0,0,0,1,0,ht,_t,1],a.setMatrix(Vt);var Ee=[1,0,0,0,1,0,ht,_t,1];this.get("layout")==="vertical"?Ee[6]+=ut.maxX+this.get("horiSep"):Ee[7]+=ut.maxY+this.get("vertiSep"),o.setMatrix(Ee)}else{ut=a.getCanvasBBox();var ze=[1,0,0,0,1,0,0,0,1];this.get("layout")==="vertical"?ze[6]+=Vt[6]+ut.maxX+this.get("horiSep"):ze[7]+=Vt[7]+ut.maxY+this.get("vertiSep"),o.setMatrix(ze)}st=n.getCanvasBBox(),ut=a.getCanvasBBox(),Vt=a.getMatrix()||[1,0,0,0,1,0,0,0,1];var Oe=o.getMatrix()||[1,0,0,0,1,0,0,0,1],er=o.getCanvasBBox();re=[Math.max(ut.width+Vt[6],er.width+Oe[6])+c[1],Math.max(ut.height+Vt[7],er.height+Oe[7])+c[2]],r.changeSize(re[0],re[1]);var hr=this.get("containerStyle"),rn=n.getMatrix()||[1,0,0,0,1,0,0,0,1],Dn=us.invertMatrix({x:0,y:0},rn),yn=n.addShape("rect",{attrs:xo({x:Dn.x+(hr.lineWidth||1),y:Dn.y+(hr.lineWidth||1),width:re[0]-2*(hr.lineWidth||1),height:re[1]-2*(hr.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},hr),name:"legend-back-rect",capture:!1});return yn.toBack(),re},e.prototype.layoutItems=function(){var t=this.get("legendCanvas"),r=this.get("horiSep"),n=this.get("vertiSep"),a=this.get("layout"),o=this.get("align"),s=[0,0],u=t.find(function(_t){return _t.get("name")==="root"}),l=u.find(function(_t){return _t.get("name")==="node-group"}),c=u.find(function(_t){return _t.get("name")==="edge-group"}),d={min:0,max:-1/0},C=-1/0;l.get("children").forEach(function(_t,Vt){Vt===0&&(d.min=s[0]);var re=_t.get("children")[0],te=_t.getCanvasBBox(),Ee=re.getBBox(),ze=Ee.width,Oe=Ee.height,er=0,hr=0,rn=0;a==="vertical"?(hr=s[1],rn=s[0]+ze/2,s[0]=rn+te.height+n,er=te.maxX+hr+ze/2):(hr=s[0]+ze/2,rn=s[1],s[0]=hr+te.width+r,er=te.maxY+rn+Oe/2),s[0]>d.max&&(d.max=s[0]),er>C&&(C=er),_t.setMatrix([1,0,0,0,1,0,hr,rn,1])});var I=d.max-d.min,F={min:0,max:-1/0},H=l.getCanvasBBox();s[0]=0,s[1]=a==="vertical"?H.maxX+r:H.maxY+n,c.get("children").forEach(function(_t,Vt){Vt===0&&(F.min=s[0]);var re=_t.get("children")[0],te=_t.getCanvasBBox(),Ee=re.getBBox(),ze=Ee.width,Oe=Ee.height,er=0,hr=0;a==="vertical"?(er=s[1],hr=s[0],s[0]=hr+te.height+n,_t.setMatrix([1,0,0,0,1,0,0,hr+Oe/2,1])):(er=s[0],hr=s[1],s[0]=er+te.width+r,_t.setMatrix([1,0,0,0,1,0,er+ze/2,0,1])),s[0]>F.max&&(F.max=s[0])});var J=F.max-F.min;if(o&&o!==""&&o!=="left"){var st=I-J,ut=o==="center"?Math.abs(st)/2:Math.abs(st),ht=st<0?l:c;ht.get("children").forEach(function(_t){var Vt=_t.getMatrix()||[1,0,0,0,1,0,0,0,1];a==="vertical"?Vt[7]+=ut:Vt[6]+=ut,_t.setMatrix(Vt)})}},e.prototype.processData=function(){var t=this.get("data"),r={nodes:[],edges:[]};t.nodes&&(t.nodes.sort(function(n,a){return n.order-a.order}),t.nodes.forEach(function(n){var a,o,s,u,l,c=n.size||[((a=n.style)===null||a===void 0?void 0:a.width)||((o=n.style)===null||o===void 0?void 0:o.r)||8,((s=n.style)===null||s===void 0?void 0:s.height)||((u=n.style)===null||u===void 0?void 0:u.r)||8],d=((l=n.labelCfg)===null||l===void 0?void 0:l.style)||{};r.nodes.push({id:n.id||(0,f.uniqueId)(),type:n.type||"circle",style:xo({},n.style),order:n.order,label:n.label,itemType:"node",size:c,labelCfg:{position:"right",style:xo({fontFamily:"Arial"},d)}})})),t.edges&&(t.edges.sort(function(n,a){return n.order-a.order}),t.edges.forEach(function(n){var a,o,s=n.type||"line";n.type==="cubic-horizontal"&&(s="cubic");var u=((a=n.labelCfg)===null||a===void 0?void 0:a.style)||{},l=n.size||[((o=n.style)===null||o===void 0?void 0:o.width)||8,1];r.edges.push({id:n.id||(0,f.uniqueId)(),type:s,size:l,style:xo({lineWidth:(0,f.isArray)(l)?l[1]:1},n.style),order:n.order,label:n.label,itemType:"edge",labelCfg:{position:"right",style:xo({fontFamily:"Arial"},u)}})})),this.set("itemsData",r)},e.prototype.getContainer=function(){return this.get("container")},e.prototype.formatArray=function(t){var r=this.get(t);if((0,f.isNumber)(r))this.set(t,[r,r,r,r]);else if((0,f.isArray)(r))switch(r.length){case 0:this.set(t,[0,0,0,0]);break;case 1:this.set(t,[r[0],r[0],r[0],r[0]]);break;case 2:this.set(t,[r[0],r[1],r[0],r[1]]);break;case 3:this.set(t,[r[0],r[1],r[2],r[1]]);break;default:break}return this.get(t)},e.prototype.getShapeSize=function(t){var r,n,a;return t.size&&((0,f.isArray)(t.size)?(r=t.size[0],n=t.size[1]||t.size[0],a=t.size[0]/2):(0,f.isNumber)(t.size)&&(r=t.size,n=t.size,a=t.size/2)),t.style&&(t.style.width&&(r=t.style.width),t.style.height&&(n=t.style.height),t.style.r&&(a=t.style.r)),a||(a=5),r||(r=a),n||(n=a),{width:r,height:n,r:a}},e.prototype.getStyle=function(t,r){var n=t==="node"?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1};return xo(xo({},n),r.style||{})},e.prototype.destroy=function(){var t=this.get("legendCanvas");t==null||t.destroy();var r=this.get("graph"),n=r.get("container"),a=this.get("container");n.removeChild(a)},e}(Ts),Ew=xw,ww=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Js=function(){return Js=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Js.apply(this,arguments)},n0=function(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(t[r[n]]=i[r[n]]);return t};typeof document!="undefined"&&fh()(`
  .g6-annotation-container {
    background-color: rgba(255, 255, 255, 0.3);
    padding: 8px;
  }
  .g6-annotation-wrapper {
    background-color: #fff;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.85);
  }
  .g6-annotation-header-wapper {
    height: fit-content;
    width: 100%;
    background-color: #5B8FF9;
    display: inline-flex;
    cursor: move;
  }
  .g6-annotation-title {
    margin: 4px 40px 4px 8px;
    cursor: text;
    min-width: 32px;
  }
  .g6-annotation-collapse {
    margin: 4px;
    cursor: pointer;
  }
  .g6-annotation-expand {
    margin: 4px;
    cursor: pointer;
  }
  .g6-annotation-close {
    margin: 4px 8px 4px 0;
    cursor: pointer;
  }
  .g6-annotation-content {
    padding: 8px;
    width: fit-content;
    cursor: text;
    word-break: break-all;
    min-width: 32px;
  }
  .g6-annotation-title-input-wrapper {
    margin: 4px 40px 4px 8px;
  }
  .g6-annotation-content-input {
    height: 100%;
    word-break: break-all;
  }
  .g6-annotation-content-input-wrapper {
    margin: 8px;
    height: 100%;
  }
`);var a0="canvas-annotation",Sw=function(i){ww(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{trigger:"click",editable:!0,itemHighlightState:"highlight",linkHighlightStyle:{shadowColor:"#5B8FF9",shadowBlur:10},cardCfg:{minHeight:60,width:"fit-content",height:"fit-content",collapseType:"minimize",closeType:"hide",borderRadius:5,maxTitleLength:20}}},e.prototype.getEvents=function(){var t={viewportchange:"updateLinks",afterlayout:"updateLinks",aftergraphrefreshposition:"updateLinks",afterupdateitem:"updateLink",afterchangedata:"onGraphDataChange",afteritemvisibilitychange:"onGraphItemVisibilityChange"};switch(this.get("trigger")){case"click":t=Js(Js({},t),{"node:click":"showAnnotation","edge:click":"showAnnotation"})}return t},e.prototype.getDOMContent=function(t){if(!this.destroyed){var r=t.collapsed,n=t.maxWidth,a=t.title,o=a===void 0?"":a,s=t.content,u=s===void 0?"":s,l=t.borderRadius,c=l===void 0?5:l,d=r?"<p class='g6-annotation-expand'>+</p>":"<p class='g6-annotation-collapse'>-</p>",C=r?"":" <p class='g6-annotation-content'>".concat(u,"</p>"),I="<p class='g6-annotation-close'>x</p>",F=r?"".concat(c,"px"):"".concat(c,"px ").concat(c,"px 0 0");return'<div class="g6-annotation-wrapper" style="border-radius: '.concat(c,"px; max-width: ").concat(n,`px">
        <div
          class="g6-annotation-header-wapper"
          style="border-radius: `).concat(F,`;"
        >
          <h4 class='g6-annotation-title'>`).concat(o,`</h4>
          `).concat(d,`
          `).concat(I,`
        </div>
        `).concat(C,`
      </div>`)}},e.prototype.init=function(){var t=this;if(!t.destroyed){var r=t.get("graph"),n=r.getContainer(),a=t.get("container"),o=this.get("containerCfg");o?(a=this.createContainer(),n.appendChild(a)):a=n,this.set("container",a);var s=n.getBoundingClientRect(),u=new Ml({container:n,width:s.right-s.left,height:s.bottom-s.top});Va(u.get("el"),{position:"absolute",top:0,left:0,pointerEvents:"none"}),window.addEventListener("resize",(0,f.debounce)(function(){return t.resizeCanvas(t)},100));var l=u.addGroup({id:"annotation-link-group"});t.set("linkGroup",l),t.set("canvas",u),t.get("getTitle")||t.set("getTitle",function(d){var C,I=((C=d==null?void 0:d.getModel)===null||C===void 0?void 0:C.call(d))||{},F=I.label,H=I.id;return F||H||"-"}),t.get("getContent")||t.set("getContent",function(d){var C,I;if(!d)return"-";var F=((C=d.getModel)===null||C===void 0?void 0:C.call(d))||{},H=F.label,J=F.id,st=(I=d.getType)===null||I===void 0?void 0:I.call(d),ut=st?"".concat(st,": "):"";return"".concat(ut).concat(H||J||"")});var c=t.get("defaultData");c&&this.readData(c)}},e.prototype.createContainer=function(){var t=this;if(!this.destroyed){var r=this.get("containerCfg"),n=this.get("graph"),a=n.getContainer(),o=a.getBoundingClientRect(),s=o.left,u=o.right,l=o.top,c=o.bottom,d=c-l,C=u-s,I=r.position,F=I===void 0?"top":I,H=r.offsetX,J=H===void 0?0:H,st=r.offsetY,ut=st===void 0?0:st,ht=n0(r,["position","offsetX","offsetY"]),_t=r.height,Vt=_t===void 0?"fit-content":_t,re=r.width,te=re===void 0?n.getWidth():re;Vt==="100%"&&(Vt=d),te==="100%"&&(te=C);var Ee="unset",ze="unset",Oe={};switch(F){case"right":Ee="".concat(d,"px"),Oe={top:0,right:0},Oe.right+=s+J,Oe.top+=l+ut;break;case"bottom":ze="".concat(C,"px"),Oe={bottom:0,left:0},Oe.left+=s+J,Oe.bottom+=l+ut;break;case"top":ze="".concat(C,"px");case"left":Ee="".concat(d,"px");default:Oe={top:0,left:0},Oe.left+=s+J,Oe.top+=l+ut;break}Object.keys(Oe).forEach(function(hr){Oe[hr]="".concat(Oe[hr],"px")});var er=co("<div class='".concat(r.className," g6-annotation-container'></div>"));return Va(er,Js(Js({position:"absolute",display:F==="top"||F==="bottom"?"inline-flex":"unset",width:(0,f.isNumber)(te)?"".concat(te,"px"):te,height:(0,f.isNumber)(Vt)?"".concat(Vt,"px"):Vt,maxHeight:Ee,maxWidth:ze,overflow:"scroll"},Oe),ht)),a.appendChild(er),er.addEventListener("scroll",function(hr){t.updateLinks()}),er}},e.prototype.resizeCanvas=function(t){clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){if(!(!t||t.destroyed)){var r=t.get("container").getBoundingClientRect(),n=r.right-r.left,a=r.bottom-r.top;t.get("canvas").changeSize(n,a),t.updateOutsideCards(t)}},250)},e.prototype.updateOutsideCards=function(t){var r=t||this,n=r.get("cardInfoMap")||{},a=r.get("graph"),o=a.getPointByCanvas(0,0),s=a.getPointByCanvas(a.getWidth(),a.getHeight()),u=a.getClientByPoint(o.x,o.y),l=u.x,c=u.y,d=a.getClientByPoint(s.x,s.y),C=d.x,I=d.y;Object.values(n).forEach(function(F){var H=F.card;if(H){var J=H.style,st=df(J.left),ut=df(J.top),ht=H.getBoundingClientRect(),_t=ht.width,Vt=ht.height,re=st,te=ut;st+_t>C-l&&(re=C-l-_t),st<0&&(re=0),ut+Vt>I-c&&(te=I-c-Vt),ut<0&&(te=0),Va(H,{left:"".concat(re,"px"),top:"".concat(te,"px")})}}),r.updateLinks()},e.prototype.showAnnotation=function(t){if(!this.destroyed){var r=t.item;this.toggleAnnotation(r)}},e.prototype.hideCards=function(){var t=this;if(!t.destroyed){var r=t.get("cardInfoMap")||{};Object.keys(r).forEach(function(n){t.hideCard(n)})}},e.prototype.toggleAnnotation=function(t,r){var n,a;r===void 0&&(r={});var o=this;if(!o.destroyed){var s=o.get("cardInfoMap")||{},u=o.get("graph"),l=o.get("container"),c=o.get("containerCfg"),d=Object.assign({},o.get("cardCfg")||{},r),C=d.minHeight,I=d.minWidth,F=d.width,H=d.height,J=d.collapsed,st=J===void 0?!1:J,ut=d.x,ht=d.y,_t=d.title,Vt=d.content,re=d.maxTitleLength,te=d.defaultBegin,Ee=n0(d,["minHeight","minWidth","width","height","collapsed","x","y","title","content","maxTitleLength","defaultBegin"]),ze=o.get("linkGroup"),Oe=this.get("rows")||[[]],er=(n=t.isCanvas)===null||n===void 0?void 0:n.call(t),hr=er?a0:t.getID(),rn=s[hr]||{},Dn=rn.card,yn=rn.link,Kr=rn.x,Un=rn.y,Fn=rn.title,$r=rn.content,gn=this.get("getTitle"),Pn=this.get("getContent"),Ln=this.get("getContentPlaceholder")||function(){return""},jn=this.get("getTitlePlaceHolder")||function(){return""},ta=Ln(t),ba=jn(t),La=co(this.getDOMContent(Js({itemId:hr,collapsed:st,title:((a=Fn||_t||(gn==null?void 0:gn(t)))===null||a===void 0?void 0:a.substr(0,re))||ba,content:$r||Vt||(Pn==null?void 0:Pn(t))||ta},Ee))),wi=(0,f.isNumber)(C)?"".concat(C,"px"):C;Va(La,{minHeight:st?"unset":wi,minWidth:(0,f.isNumber)(I)?"".concat(I,"px"):I,height:H,width:F});var ii=!!Dn;ii?(yn==null||yn.remove(!0),l.replaceChild(La,Dn)):l.appendChild(La);var Si;if(!c){if(Si=l.getBoundingClientRect()||{},ut!==void 0&&ht!==void 0)Kr=ut,Un=ht;else if(!ii&&!er){var Ai=Si.top,Ji=te||{},Ui=Ji.left,tu=Ji.right,Wo=tu===void 0?16:tu,eu=Ji.top,Yo=eu===void 0?8:eu,Xo=Ji.bottom,Rs=Wo,as=Yo;isNaN(Ui)||(Rs=l.scrollWidth-Ui),isNaN(Xo)||(as=l.scrollHeight-Xo);var gs=(0,f.isNumber)(I)?I:100;Kr=l.scrollWidth-La.scrollWidth-(Oe.length-1)*gs-Rs;var Ha=Oe[Oe.length-1],bi=(Ha[Ha.length-1]||{}).bbox;Un=(bi==null?void 0:bi.bottom)-Ai||as}Va(La,{position:"absolute",left:"".concat(Kr,"px"),top:"".concat(Un,"px"),cusor:c?"unset":"move"})}this.bindListener(La,hr);var Ga=La.getBoundingClientRect();if(!er){var xi=Ev(t,Ga,u,this.get("canvas")),Li=this.get("linkStyle");yn=ze.addShape("path",{attrs:Js({lineWidth:1,lineDash:[5,5],stroke:"#ccc",path:xi},Li)})}if(s[hr]=Js(Js({},s[hr]||{}),{id:hr,collapsed:st,card:La,link:yn,x:Kr,y:Un,cardBBox:Ga,content:$r||Vt,title:Fn||_t,contentPlaceholder:ta,titlePlaceholder:ba,isCanvas:er}),o.set("cardInfoMap",s),c)this.updateCardPositionsInConatainer(),this.updateLinks();else{var da=!isNaN(ut)&&!isNaN(ht);if(!ii&&!er&&!da){var $a=Si.bottom,Ja=$a===void 0?0:$a,Ai=Si.top;Oe[Oe.length-1].push({id:hr,bbox:Ga}),Ga.top>Ja-Ai-Ga.height-16&&Oe.push([]),this.set("rows",Oe)}}this.updateCardSize(hr);var Ni=this.get("onAnnotationChange");Ni==null||Ni(s[hr],ii?"update":"create")}},e.prototype.updateCardPositionsInConatainer=function(){if(!this.destroyed){var t=this.get("cardInfoMap");if(t){var r=this.get("container"),n=this.get("containerCfg").position,a=r.getBoundingClientRect().width,o=getComputedStyle(r),s=df(o.paddingLeft)+df(o.paddingRight);a-=s,Object.values(t).forEach(function(u){var l=u.card,c=l.getBoundingClientRect().width;switch(n){case"right":Va(l,{marginLeft:a?"".concat(a-c,"px"):"0px"});break;case"top":case"bottom":Va(l,{marginLeft:"8px"});default:break}})}}},e.prototype.handleExpandCollapseCard=function(t){if(!this.destroyed){var r=this.get("graph"),n=this.get("cardInfoMap");if(n){var a=n[t].collapsed,o=r.findById(t);if(o){var s=this.get("cardCfg").collapseType;s==="hide"&&!a?this.hideCard(t):this.toggleAnnotation(o,{collapsed:!a}),n[t]=Js(Js({},n[t]),{collapsed:!a})}}}},e.prototype.hideCard=function(t){if(!this.destroyed){var r=this.get("cardInfoMap");if(!(!r||!r[t])){var n=r[t],a=n.card,o=n.link;Va(a,{display:"none"}),o==null||o.hide();var s=this.get("onAnnotationChange");s(r[t],"hide")}}},e.prototype.removeCard=function(t){if(!this.destroyed){var r=this.get("cardInfoMap");if(r){var n=r[t],a=n.card,o=n.link,s=this.get("container");s.removeChild(a),o==null||o.remove(!0),delete r[t];var u=this.get("onAnnotationChange");u(n,"remove")}}},e.prototype.bindListener=function(t,r){var n=this;if(!this.destroyed){t.addEventListener("mousemove",function(u){var l;if(u.target.className==="g6-annotation-collapse"?l="collapse":u.target.className==="g6-annotation-expand"?l="expand":u.target.className==="g6-annotation-close"&&(l="close"),l){var c=n.get("cardCfg").onMouseEnterIcon,d=c===void 0?function(){}:c;d(u,r,l)}}),t.addEventListener("mouseout",function(u){var l;if(u.target.className==="g6-annotation-collapse"?l="collapse":u.target.className==="g6-annotation-expand"?l="expand":u.target.className==="g6-annotation-close"&&(l="close"),l){var c=n.get("cardCfg").onMouseLeaveIcon,d=c===void 0?function(){}:c;d(u,r,l)}}),t.addEventListener("mouseenter",function(u){var l=n.get("cardInfoMap");if(l){var c=n.get("graph"),d=c.findById(r);if(d){var C=n.get("itemHighlightState");c.setItemState(d,C,!0)}var I=l[r].link;if(I){var F=n.get("linkHighlightStyle")||{};I.attr(F)}}}),t.addEventListener("mouseleave",function(u){var l=n.get("cardInfoMap");if(l){var c=n.get("graph"),d=c.findById(r);if(d){var C=n.get("itemHighlightState");c.setItemState(d,C,!1)}var I=l[r].link;if(I){var F=n.get("linkHighlightStyle")||{};Object.keys(F).forEach(function(J){I.attr(J,void 0),I.attr(J,void 0)});var H=n.get("linkStyle");I.attr(H)}}}),t.addEventListener("click",function(u){var l=(n.get("cardCfg")||{}).onClickIcon;if(u.target.className==="g6-annotation-collapse"||u.target.className==="g6-annotation-expand"){var c=n.get("cardCfg").collapseType;c==="hide"?n.hideCard(r):n.handleExpandCollapseCard(r),l==null||l(u,r,u.target.className==="g6-annotation-collapse"?"collapse":"expand")}else if(u.target.className==="g6-annotation-close"){var d=n.get("cardCfg").closeType;d==="remove"?n.removeCard(r):n.hideCard(r),l==null||l(u,r,"close")}});var a=this.get("editable");a&&t.addEventListener("dblclick",function(u){var l=n.get("cardInfoMap"),c=(n.get("cardCfg")||{}).maxTitleLength,d=c===void 0?20:c;if(l){var C=u.target,I=C.className;if(!(I!=="g6-annotation-title"&&I!=="g6-annotation-content")){var F=I==="g6-annotation-title"?C.getBoundingClientRect():C.parentNode.getBoundingClientRect(),H=F.width,J=F.height,st=getComputedStyle(C),ut=I==="g6-annotation-title"?"input":"textarea",ht=co("<".concat(ut,' class="').concat(I,'-input" type="textarea" style="width:').concat(H,"px; height: ").concat(J,'px; min-width: 16px;"/>')),_t=co('<div class="'.concat(I,'-input-wrapper" style="width: ').concat(H,"px; height: ").concat(J,"px; min-width: 16px; margin-right: ").concat(st.marginRight,'" />'));_t.appendChild(ht),C.parentNode.replaceChild(_t,C);var Vt=l[r],re=Vt.contentPlaceholder,te=Vt.titlePlaceholder,Ee=Vt.content,ze=Vt.title,Oe=Ee;I==="g6-annotation-title"?(ht.name="title",ht.maxLength=d,Oe=ze):ht.name="content",Oe?(ht.innerHTML=C.innerHTML,ht.value=C.innerHTML):ht.placeholder=I==="g6-annotation-title"?te:re,ht.focus(),ht.addEventListener("blur",function(er){ht.value&&(C.innerHTML=ht.value,Vt[ht.name||"title"]=ht.value),_t.parentNode.replaceChild(C,_t),n.updateCardSize(r);var hr=n.get("onAnnotationChange");hr==null||hr(Vt,"update")})}}});var o=["g6-annotation-title","g6-annotation-content","g6-annotation-title-input","g6-annotation-content-input"];t.draggable=!0,t.addEventListener("dragstart",function(u){var l=u.target.className;if(!o.includes(l)){var c=t.style;n.set("dragging",{card:t,x:u.clientX,y:u.clientY,left:df(c.left),top:df(c.top)})}}),t.addEventListener("drag",function(u){u.preventDefault();var l=n.get("cardInfoMap");if(l){var c=u.clientX,d=u.clientY,C=n.get("dragging");if(!(isNaN(c)||isNaN(d)||!C)){var I=C.x,F=C.y,H=C.left,J=C.top,st=C.card,ut=c-I,ht=d-F;H+=ut,J+=ht;var _t=n.get("graph"),Vt=_t.getPointByCanvas(0,0),re=_t.getPointByCanvas(_t.getWidth(),_t.getHeight()),te=_t.getClientByPoint(Vt.x,Vt.y),Ee=te.x,ze=te.y,Oe=_t.getClientByPoint(re.x,re.y),er=Oe.x,hr=Oe.y,rn=st.getBoundingClientRect(),Dn=rn.right-rn.left,yn=rn.bottom-rn.top;(H>er-Ee-Dn&&ut>0||H<0&&ut<0)&&(H-=ut),(J>hr-ze-yn&&ht>0||J<0&&ht<0)&&(J-=ht),Va(st,{left:"".concat(H,"px"),top:"".concat(J,"px"),visibility:"hidden"}),I=c,F=d;var Kr=(l[r]||{}).link;if(Kr){var Un=_t.findById(r);Kr.attr("path",Ev(Un,rn,_t,n.get("canvas")))}n.set("dragging",{x:I,y:F,left:H,top:J,card:st})}}});var s=function(l){var c=n.get("cardInfoMap");if(c){var d=n.get("dragging");if(d){var C=d.left,I=d.top,F=d.card;c[r].x=C,c[r].y=I,Va(F,{visibility:"visible"}),n.set("dragging",!1);var H=n.get("rows");H==null||H.forEach(function(st){for(var ut=st.length-1;ut>=0;ut--)st[ut].id===r&&st.splice(ut,1)});var J=n.get("onAnnotationChange");J==null||J(c[r],"update")}}};t.addEventListener("dragend",s)}},e.prototype.updateCardSize=function(t){var r=this.get("cardInfoMap");if(r){var n=r[t].card,a=n.getBoundingClientRect().width,o=n.getElementsByClassName("g6-annotation-title")[0];if(o){var s=getComputedStyle(o),u=df(s.marginLeft),l=o.getBoundingClientRect().width;Va(o,{marginRight:"".concat(a-u-24-16-l,"px")})}}},e.prototype.updateLink=function(t){var r=t.item;if(r){var n=this.get("cardInfoMap");if(n){var a=this.get("canvas"),o=this.get("graph"),s=r.getID(),u=n[s]||{},l=u.link,c=u.card;if(l){var d=Ev(r,c.getBoundingClientRect(),o,a);l.attr("path",d)}}}},e.prototype.updateLinks=function(){var t=this;if(!this.destroyed){var r=this.get("cardInfoMap");if(r){var n=this.get("graph");Object.values(r).forEach(function(a){var o=a.id,s=n.findById(o);t.updateLink({item:s})})}}},e.prototype.onGraphDataChange=function(){var t=this,r=this.get("cardInfoMap");if(r){var n=this.get("graph");Object.values(r).forEach(function(a){var o=a.id,s=a.card,u=a.isCanvas;if(!(!s||u||s.style.display==="none")){var l=n.findById(o);l&&l.isVisible()?t.toggleAnnotation(l):t.hideCard(o)}})}},e.prototype.onGraphItemVisibilityChange=function(t){var r=t.item,n=t.visible;if(!(!r||r.destroyed)){var a=this.get("cardInfoMap");if(a){var o=r.getID();a[o]&&(n||this.hideCard(o))}}},e.prototype.saveData=function(t){t===void 0&&(t=!1);var r=this.get("cardInfoMap");if(r){var n=this.get("graph"),a=this.get("getTitle"),o=this.get("getContent"),s=[];return Object.values(r).forEach(function(u){var l=u.title,c=u.content,d=u.x,C=u.y,I=u.id,F=u.collapsed,H=u.card;if(!(H&&H.style.display==="none"&&!t)){var J=n.findById(I)||n.get("canvas");s.push({id:I,x:d,y:C,collapsed:F,title:l||(a==null?void 0:a(J)),content:c||(o==null?void 0:o(J)),visible:H&&H.style.display!=="none"})}}),s}},e.prototype.readData=function(t){var r=this,n=this.get("graph");t.forEach(function(a){var o=a.id,s=a.x,u=a.y,l=a.title,c=a.content,d=a.collapsed,C=a.visible,I=n.findById(o);if(!I&&o===a0&&(I=n.get("canvas")),!I){var F=r.get("cardInfoMap")||{};F[o]=a,r.set("cardInfoMap",F);return}r.toggleAnnotation(I,{x:s,y:u,title:l,content:c,collapsed:d}),C||r.hideCard(o)})},e.prototype.clear=function(){var t=this.get("cardInfoMap");if(t){var r=this.get("container");Object.values(t).forEach(function(n){var a=n.card,o=n.link;r.removeChild(a),o==null||o.remove(!0)}),this.set("cardInfoMap",{})}},e.prototype.destroy=function(){var t;this.clear(),(t=this.get("canvas"))===null||t===void 0||t.destroy();var r=this.get("graph");!r||r.destroyed||(this.get("containerCfg")&&r.getContainer().removeChild(this.get("container")),this.destroyed=!0)},e}(Ts),Mw=Sw,_w=function(e,t){var r,n,a,o=1/0;Object.keys(e).forEach(function(l){var c=e[l];Object.keys(t).forEach(function(d){var C=t[d],I=c.x-C.x,F=c.y-C.y,H=I*I+F*F;o>H&&(o=H,r=c,n=C,a=[l,d])})});var s=20,u=us.getControlPoint(r,n,.5,s);return[["M",r.x,r.y],["Q",u.x,u.y,n.x,n.y]]},Ev=function(e,t,r,n){var a,o,s=e.getType();if(s==="edge")o=[e.getKeyShape().getPoint(.5)];else{var u=(a=e.getKeyShape)===null||a===void 0?void 0:a.call(e).getBBox(),l=u.minX,c=u.minY,d=u.maxX,C=u.maxY,I=e.getModel(),F=I.x,H=I.y;l+=F,c+=H,d+=F,C+=H,o={left:{x:l,y:(c+C)/2},right:{x:d,y:(c+C)/2},top:{x:(l+d)/2,y:c},bottom:{x:(l+d)/2,y:C}}}Object.keys(o).forEach(function(ze){var Oe=o[ze],er=Oe.x,hr=Oe.y,rn=r.getClientByPoint(er,hr);o[ze]=n.getPointByClient(rn.x,rn.y)});var J=t.top,st=J===void 0?0:J,ut=t.left,ht=ut===void 0?0:ut,_t=t.right,Vt=_t===void 0?0:_t,re=t.bottom,te=re===void 0?0:re,Ee={left:n.getPointByClient(ht,(st+te)/2),right:n.getPointByClient(Vt,(st+te)/2),top:n.getPointByClient((ht+Vt)/2,st),bottom:n.getPointByClient((ht+Vt)/2,te)};return _w(o,Ee)},df=function(e){return Number(e.replace(/\s+|px/gi,""))||0},Cw={PluginBase:Ts,Menu:Fb,Grid:Nb,Minimap:jb,Bundling:Kb,ToolBar:rx,Tooltip:ix,Fisheye:Qb,TimeBar:nw,ImageMinimap:uw,EdgeFilterLens:dw,SnapLine:mw,Legend:Ew,Annotation:Mw},Tw=Cw,Uo=Tw;Sl("circle",{options:{size:Gn.defaultNode.size,style:{x:0,y:0,stroke:Gn.defaultNode.style.stroke,fill:Gn.defaultNode.style.fill,lineWidth:Gn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Gn.nodeLabel.style.fill,fontSize:Gn.nodeLabel.style.fontSize,fontFamily:Gn.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Gn.defaultNode.linkPoints.size,lineWidth:Gn.defaultNode.linkPoints.lineWidth,fill:Gn.defaultNode.linkPoints.fill,stroke:Gn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,m.__assign)({},Gn.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=(0,f.deepMix)({},n,e.icon),s="".concat(this.type,"-keyShape"),u=t.addShape("circle",{attrs:a,className:s,name:s,draggable:!0});t.shapeMap[s]=u;var l=o.width,c=o.height,d=o.show,C=o.text;if(d){var I="".concat(this.type,"-icon");C?t.shapeMap[I]=t.addShape("text",{attrs:(0,m.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:I,name:I,draggable:!0}):t.shapeMap[I]=t.addShape("image",{attrs:(0,m.__assign)({x:-l/2,y:-c/2},o),className:I,name:I,draggable:!0})}return this.drawLinkPoints(e,t),u},drawLinkPoints:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).linkPoints;if(r){var n=r||{},a=n.top,o=n.left,s=n.right,u=n.bottom,l=n.size,c=n.r,d=(0,m.__rest)(n,["top","left","right","bottom","size","r"]),C=this.getSize(e),I=C[0]/2;if(o){var F="link-point-left";t.shapeMap[F]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},d),{x:-I,y:0,r:l/2||c||5}),className:F,name:F,isAnchorPoint:!0})}if(s){var H="link-point-right";t.shapeMap[H]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},d),{x:I,y:0,r:l/2||c||5}),className:H,name:H,isAnchorPoint:!0})}if(a){var J="link-point-top";t.shapeMap[J]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},d),{x:0,y:-I,r:l/2||c||5}),className:J,name:J,isAnchorPoint:!0})}if(u){var st="link-point-bottom";t.shapeMap[st]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},d),{x:0,y:I,r:l/2||c||5}),className:st,name:st,isAnchorPoint:!0})}}},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.deepMix)({},t,r),a=this.getSize(e),o=a[0]/2,s=(0,m.__assign)({x:0,y:0,r:o},n);return s},update:function(e,t,r){var n=t.getContainer(),a=this.getSize(e),o=(0,m.__assign)({},e.style);e.style.stroke===void 0&&e.color&&(o.stroke=e.color),e.style.r===void 0&&!isNaN(a[0])&&(o.r=a[0]/2),this.updateShape(e,t,o,!0,r),this.updateLinkPoints(e,n)}},"single-node"),Sl("rect",{options:{size:[100,30],style:{radius:0,stroke:Gn.defaultNode.style.stroke,fill:Gn.defaultNode.style.fill,lineWidth:Gn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Gn.nodeLabel.style.fill,fontSize:Gn.nodeLabel.style.fontSize,fontFamily:Gn.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Gn.defaultNode.linkPoints.size,lineWidth:Gn.defaultNode.linkPoints.lineWidth,fill:Gn.defaultNode.linkPoints.fill,stroke:Gn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,m.__assign)({},Gn.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("rect",{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return t.shapeMap["".concat(this.type,"-keyShape")]=n,this.drawLinkPoints(e,t),n},drawLinkPoints:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,u=n.bottom,l=n.size,c=n.r,d=(0,m.__rest)(n,["top","left","right","bottom","size","r"]),C=this.getSize(e),I=C[0],F=C[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},d),{x:-I/2,y:0,r:l/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},d),{x:I/2,y:0,r:l/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},d),{x:0,y:-F/2,r:l/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),u&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},d),{x:0,y:F/2,r:l/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.mix)({},t,r),a=this.getSize(e),o=n.width||a[0],s=n.height||a[1],u=(0,m.__assign)({x:-o/2,y:-s/2,width:o,height:s},n);return u},update:function(e,t,r){var n=t.getContainer(),a=this.getOptions({}).style,o=this.getSize(e),s=t.get("keyShape");e.size||(o[0]=s.attr("width")||a.width,o[1]=s.attr("height")||a.height);var u={stroke:e.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},l=(0,f.mix)({},a,s.attr(),u);l=(0,f.mix)(l,e.style),this.updateShape(e,t,l,!1,r),this.updateLinkPoints(e,n)}},"single-node"),Sl("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:Gn.defaultNode.style.stroke,fill:Gn.defaultNode.style.fill,lineWidth:Gn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Gn.nodeLabel.style.fill,fontSize:Gn.nodeLabel.style.fontSize,fontFamily:Gn.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Gn.defaultNode.linkPoints.size,lineWidth:Gn.defaultNode.linkPoints.lineWidth,fill:Gn.defaultNode.linkPoints.fill,stroke:Gn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,m.__assign)({},Gn.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=t.addShape("ellipse",{attrs:a,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0});t.shapeMap["ellipse-keyShape"]=o;var s=n.width,u=n.height,l=n.show,c=n.text;return l&&(c?t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,m.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,m.__assign)({x:-s/2,y:-u/2},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,u=n.bottom,l=n.size,c=n.r,d=(0,m.__rest)(n,["top","left","right","bottom","size","r"]),C=this.getSize(e),I=C[0]/2,F=C[1]/2;o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},d),{x:-I,y:0,r:l/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},d),{x:I,y:0,r:l/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},d),{x:0,y:-F,r:l/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),u&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},d),{x:0,y:F,r:l/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.mix)({},t,r),a=this.getSize(e),o=a[0]/2,s=a[1]/2,u=(0,m.__assign)({x:0,y:0,rx:o,ry:s},n);return u},update:function(e,t,r){var n=t.getContainer(),a=this.getOptions({}).style,o=this.getSize(e),s={stroke:e.color,rx:o[0]/2,ry:o[1]/2},u=t.get("keyShape"),l=(0,f.mix)({},a,u.attr(),s);l=(0,f.mix)(l,e.style),this.updateShape(e,t,l,!0,r),this.updateLinkPoints(e,n)}},"single-node"),Sl("diamond",{options:{size:[80,80],style:{stroke:Gn.defaultNode.style.stroke,fill:Gn.defaultNode.style.fill,lineWidth:Gn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Gn.nodeLabel.style.fill,fontSize:Gn.nodeLabel.style.fontSize,fontFamily:Gn.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Gn.defaultNode.linkPoints.size,lineWidth:Gn.defaultNode.linkPoints.lineWidth,fill:Gn.defaultNode.linkPoints.fill,stroke:Gn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,m.__assign)({},Gn.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=t.addShape("path",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=o;var s=n.width,u=n.height,l=n.show,c=n.text;return l&&(c?t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,m.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,m.__assign)({x:-s/2,y:-u/2},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,u=n.bottom,l=n.size,c=n.r,d=(0,m.__rest)(n,["top","left","right","bottom","size","r"]),C=this.getSize(e),I=C[0],F=C[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},d),{x:-I/2,y:0,r:l/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},d),{x:I/2,y:0,r:l/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},d),{x:0,y:-F/2,r:l/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),u&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},d),{x:0,y:F/2,r:l/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getPath:function(e){var t=this.getSize(e),r=t[0],n=t[1],a=[["M",0,-n/2],["L",r/2,0],["L",0,n/2],["L",-r/2,0],["Z"]];return a},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.mix)({},t,r),a=this.getPath(e),o=(0,m.__assign)({path:a},n);return o},update:function(e,t,r){var n=t.getContainer(),a=this.getOptions({}).style,o=this.getPath(e),s={stroke:e.color,path:o},u=t.get("keyShape"),l=(0,f.mix)({},a,u.attr(),s);l=(0,f.mix)(l,e.style),this.updateShape(e,t,l,!0,r),this.updateLinkPoints(e,n)}},"single-node"),Sl("triangle",{options:{size:40,direction:"up",style:{stroke:Gn.defaultNode.style.stroke,fill:Gn.defaultNode.style.fill,lineWidth:Gn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Gn.nodeLabel.style.fill,fontSize:Gn.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Gn.defaultNode.linkPoints.size,lineWidth:Gn.defaultNode.linkPoints.lineWidth,fill:Gn.defaultNode.linkPoints.fill,stroke:Gn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:(0,m.__assign)({},Gn.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(e,t){var r=this.mergeStyle||this.getOptions(e),n=r.icon,a=n===void 0?{}:n,o=r.direction,s=this.getShapeStyle(e),u=e.direction||o,l=t.addShape("path",{attrs:s,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=l;var c=a.width,d=a.height,C=a.show,I=a.offset,F=a.text;if(C)if(F)t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,m.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},a),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0});else{var H=-c/2,J=-d/2;(u==="up"||u==="down")&&(J+=I),(u==="left"||u==="right")&&(H+=I),t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,m.__assign)({x:H,y:J},a),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})}return this.drawLinkPoints(e,t),l},drawLinkPoints:function(e,t){var r=this.mergeStyle||this.getOptions(e),n=r.linkPoints,a=n===void 0?{}:n,o=r.direction,s=e.direction||o,u=a.top,l=a.left,c=a.right,d=a.bottom,C=a.size,I=a.r,F=(0,m.__rest)(a,["top","left","right","bottom","size","r"]),H=this.getSize(e),J=H[0];if(l){var st=null,ut=J*Math.sin(1/3*Math.PI),ht=J*Math.sin(1/3*Math.PI);s==="up"?st=[-ht,ut]:s==="down"?st=[-ht,-ut]:s==="left"&&(st=[-ht,ht-ut]),st&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},F),{x:st[0],y:st[1],r:C/2||I||5}),className:"link-point-left",name:"link-point-left"}))}if(c){var _t=null,ut=J*Math.sin(1/3*Math.PI),ht=J*Math.sin(1/3*Math.PI);s==="up"?_t=[ht,ut]:s==="down"?_t=[ht,-ut]:s==="right"&&(_t=[ht,ht-ut]),_t&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},F),{x:_t[0],y:_t[1],r:C/2||I||5}),className:"link-point-right",name:"link-point-right"}))}if(u){var Vt=null,ut=J*Math.sin(1/3*Math.PI),ht=J*Math.sin(1/3*Math.PI);s==="up"?Vt=[ht-ut,-ut]:s==="left"?Vt=[ht,-ut]:s==="right"&&(Vt=[-ht,-ut]),Vt&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},F),{x:Vt[0],y:Vt[1],r:C/2||I||5}),className:"link-point-top",name:"link-point-top"}))}if(d){var re=null,ut=J*Math.sin(1/3*Math.PI),ht=J*Math.sin(1/3*Math.PI);s==="down"?re=[-ht+ut,ut]:s==="left"?re=[ht,ut]:s==="right"&&(re=[-ht,ut]),re&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},F),{x:re[0],y:re[1],r:C/2||I||5}),className:"link-point-bottom",name:"link-point-bottom"}))}},getPath:function(e){var t=(this.mergeStyle||this.getOptions(e)).direction,r=e.direction||t,n=this.getSize(e),a=n[0],o=a*Math.sin(1/3*Math.PI),s=a*Math.sin(1/3*Math.PI),u=[["M",-s,o],["L",0,-o],["L",s,o],["Z"]];return r==="down"?u=[["M",-s,-o],["L",s,-o],["L",0,o],["Z"]]:r==="left"?u=[["M",-s,s-o],["L",s,-s],["L",s,s],["Z"]]:r==="right"&&(u=[["M",s,s-o],["L",-s,s],["L",-s,-s],["Z"]]),u},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.mix)({},t,r),a=this.getPath(e),o=(0,m.__assign)({path:a},n);return o},update:function(e,t,r){var n=t.getContainer(),a=this.getOptions({}).style,o=this.getPath(e),s={stroke:e.color,path:o},u=t.get("keyShape"),l=(0,f.mix)({},a,u.attr(),s);l=(0,f.mix)(l,e.style),this.updateShape(e,t,l,!0,r),this.updateLinkPoints(e,n)},updateLinkPoints:function(e,t){var r=this.getOptions({}),n=r.linkPoints,a=r.direction,o=e.direction||a,s=t.shapeMap["link-point-left"]||t.find(function(Kr){return Kr.get("className")==="link-point-left"}),u=t.shapeMap["link-point-right"]||t.find(function(Kr){return Kr.get("className")==="link-point-right"}),l=t.shapeMap["link-point-top"]||t.find(function(Kr){return Kr.get("className")==="link-point-top"}),c=t.shapeMap["link-point-bottom"]||t.find(function(Kr){return Kr.get("className")==="link-point-bottom"}),d=n,C=s||u||l||c;C&&(d=C.attr());var I=(0,f.mix)({},d,e.linkPoints),F=I.fill,H=I.stroke,J=I.lineWidth,st=I.size/2;st||(st=I.r);var ut=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},ht=ut.left,_t=ut.right,Vt=ut.top,re=ut.bottom,te=this.getSize(e),Ee=te[0],ze={r:st,fill:F,stroke:H,lineWidth:J},Oe=null,er=Ee*Math.sin(1/3*Math.PI),hr=Ee*Math.sin(1/3*Math.PI);o==="up"?Oe=[-hr,er]:o==="down"?Oe=[-hr,-er]:o==="left"&&(Oe=[-hr,hr-er]),Oe&&(s?!ht&&ht!==void 0?(s.remove(),delete t.shapeMap["link-point-left"]):s.attr((0,m.__assign)((0,m.__assign)({},ze),{x:Oe[0],y:Oe[1]})):ht&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},ze),{x:Oe[0],y:Oe[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})));var rn=null;o==="up"?rn=[hr,er]:o==="down"?rn=[hr,-er]:o==="right"&&(rn=[hr,hr-er]),rn&&(u?!_t&&_t!==void 0?(u.remove(),delete t.shapeMap["link-point-right"]):u.attr((0,m.__assign)((0,m.__assign)({},ze),{x:rn[0],y:rn[1]})):_t&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},ze),{x:rn[0],y:rn[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})));var Dn=null;o==="up"?Dn=[hr-er,-er]:o==="left"?Dn=[hr,-er]:o==="right"&&(Dn=[-hr,-er]),Dn&&(l?!Vt&&Vt!==void 0?(l.remove(),delete t.shapeMap["link-point-top"]):l.attr((0,m.__assign)((0,m.__assign)({},ze),{x:Dn[0],y:Dn[1]})):Vt&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},ze),{x:Dn[0],y:Dn[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})));var yn=null;o==="down"?yn=[-hr+er,er]:o==="left"?yn=[hr,er]:o==="right"&&(yn=[-hr,er]),yn&&(c?!re&&re!==void 0?(c.remove(),delete t.shapeMap["link-point-bottom"]):c.attr((0,m.__assign)((0,m.__assign)({},ze),{x:yn[0],y:yn[1]})):re&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},ze),{x:yn[0],y:yn[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})))}},"single-node"),Sl("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:Gn.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14,fontFamily:Gn.windowFontFamily},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf",fontFamily:Gn.windowFontFamily},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).preRect,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=this.getSize(e),s=o[0],u=o[1],l=t.addShape("rect",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=l;var c=n.show,d=(0,m.__rest)(n,["show"]);return c&&(t.shapeMap["pre-rect"]=t.addShape("rect",{attrs:(0,m.__assign)({x:-s/2,y:-u/2,height:u},d),className:"pre-rect",name:"pre-rect",draggable:!0})),this.drawLogoIcon(e,t),this.drawStateIcon(e,t),this.drawLinkPoints(e,t),l},drawLogoIcon:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).logoIcon,n=r===void 0?{}:r,a=this.getSize(e),o=a[0];if(n.show){var s=n.width,u=n.height,l=n.x,c=n.y,d=n.offset,C=n.text,I=(0,m.__rest)(n,["width","height","x","y","offset","text"]);C?t.shapeMap["rect-logo-icon"]=t.addShape("text",{attrs:(0,m.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},I),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):t.shapeMap["rect-logo-icon"]=t.addShape("image",{attrs:(0,m.__assign)((0,m.__assign)({},I),{x:l||-o/2+s+d,y:c||-u/2,width:s,height:u}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).stateIcon,n=r===void 0?{}:r,a=this.getSize(e),o=a[0];if(n.show){var s=n.width,u=n.height,l=n.x,c=n.y,d=n.offset,C=n.text,I=(0,m.__rest)(n,["width","height","x","y","offset","text"]);C?t.shapeMap["rect-state-icon"]=t.addShape("text",{attrs:(0,m.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},I),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):t.shapeMap["rect-state-icon"]=t.addShape("image",{attrs:(0,m.__assign)((0,m.__assign)({},I),{x:l||o/2-s+d,y:c||-u/2,width:s,height:u}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,u=n.bottom,l=n.size,c=n.r,d=(0,m.__rest)(n,["top","left","right","bottom","size","r"]),C=this.getSize(e),I=C[0],F=C[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},d),{x:-I/2,y:0,r:l/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},d),{x:I/2,y:0,r:l/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},d),{x:0,y:-F/2,r:l/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),u&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},d),{x:0,y:F/2,r:l/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},drawLabel:function(e,t){var r=this.getOptions(e),n=r.labelCfg,a=n===void 0?{}:n,o=r.logoIcon,s=o===void 0?{}:o,u=r.descriptionCfg,l=u===void 0?{}:u,c=this.getSize(e),d=c[0],C=null,I=s.show,F=s.width,H=-d/2+a.offset;I&&(H=-d/2+F+a.offset);var J=a.style,st=l.style,ut=l.paddingTop;return(0,f.isString)(e.description)?(C=t.addShape("text",{attrs:(0,m.__assign)((0,m.__assign)({},J),{x:H,y:-5,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=C,t.shapeMap["rect-description"]=t.addShape("text",{attrs:(0,m.__assign)((0,m.__assign)({},st),{x:H,y:17+(ut||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})):(C=t.addShape("text",{attrs:(0,m.__assign)((0,m.__assign)({},J),{x:H,y:7,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=C),C},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.mix)({},t,r),a=this.getSize(e),o=n.width||a[0],s=n.height||a[1],u=(0,m.__assign)({x:-o/2,y:-s/2,width:o,height:s},n);return u},update:function(e,t){var r=this.mergeStyle||this.getOptions(e),n=r.style,a=n===void 0?{}:n,o=r.labelCfg,s=o===void 0?{}:o,u=r.descriptionCfg,l=u===void 0?{}:u,c=this.getSize(e),d=c[0],C=c[1],I=t.get("keyShape");I.attr((0,m.__assign)((0,m.__assign)({},a),{x:-d/2,y:-C/2,width:d,height:C}));var F=t.getContainer(),H=F.shapeMap["rect-logo-icon"]||F.find(function(La){return La.get("className")==="rect-logo-icon"}),J=H?H.attr():{},st=(0,f.mix)({},J,e.logoIcon),ut=st.width;ut===void 0&&(ut=this.options.logoIcon.width);var ht=e.logoIcon?e.logoIcon.show:void 0,_t=s.offset,Vt=-d/2+ut+_t;!ht&&ht!==void 0&&(Vt=-d/2+_t);var re=F.shapeMap["node-label"]||F.find(function(La){return La.get("className")==="node-label"}),te=F.shapeMap["rect-description"]||F.find(function(La){return La.get("className")==="rect-description"});if(e.label)if(!re)F.shapeMap["node-label"]=F.addShape("text",{attrs:(0,m.__assign)((0,m.__assign)({},s.style),{x:Vt,y:e.description?-5:7,text:e.label}),className:"node-label",name:"node-label",draggable:!0,labelRelated:!0});else{var Ee=e.labelCfg?e.labelCfg.style:{},ze=(0,f.mix)({},re.attr(),Ee);e.label&&(ze.text=e.label),ze.x=Vt,(0,f.isString)(e.description)&&(ze.y=-5),te&&(te.resetMatrix(),te.attr({x:Vt})),re.resetMatrix(),re.attr(ze)}if((0,f.isString)(e.description)){var Oe=l.paddingTop;if(!te)F.shapeMap["rect-description"]=F.addShape("text",{attrs:(0,m.__assign)((0,m.__assign)({},l.style),{x:Vt,y:17+(Oe||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0});else{var Ee=e.descriptionCfg?e.descriptionCfg.style:{},er=(0,f.mix)({},te.attr(),Ee);(0,f.isString)(e.description)&&(er.text=e.description),er.x=Vt,te.resetMatrix(),te.attr((0,m.__assign)((0,m.__assign)({},er),{y:17+(Oe||0)}))}}var hr=F.shapeMap["pre-rect"]||F.find(function(La){return La.get("className")==="pre-rect"});if(hr&&!hr.destroyed){var rn=(0,f.mix)({},hr.attr(),e.preRect);hr.attr((0,m.__assign)((0,m.__assign)({},rn),{x:-d/2,y:-C/2,height:C}))}if(H&&!H.destroyed)if(!ht&&ht!==void 0)H.remove(),delete F.shapeMap["pre-rect"];else{var Dn=st.width,yn=st.height,Kr=st.x,Un=st.y,Fn=st.offset,$r=(0,m.__rest)(st,["width","height","x","y","offset"]);H.attr((0,m.__assign)((0,m.__assign)({},$r),{x:Kr||-d/2+Dn+Fn,y:Un||-yn/2,width:Dn,height:yn}))}else ht&&this.drawLogoIcon(e,F);var gn=F.shapeMap["rect-state-icon"]||F.find(function(La){return La.get("className")==="rect-state-icon"}),Pn=gn?gn.attr():{},Ln=(0,f.mix)({},Pn,e.stateIcon);if(gn){!Ln.show&&Ln.show!==void 0&&(gn.remove(),delete F.shapeMap["rect-state-icon"]);var jn=Ln.width,yn=Ln.height,Kr=Ln.x,Un=Ln.y,ta=Ln.offset,ba=(0,m.__rest)(Ln,["width","height","x","y","offset"]);gn.attr((0,m.__assign)((0,m.__assign)({},ba),{x:Kr||d/2-jn+ta,y:Un||-yn/2,width:jn,height:yn}))}else Ln.show&&this.drawStateIcon(e,F);this.updateLinkPoints(e,F)},getOptions:function(e,t){return t==="move"?e:(0,f.deepMix)({},this.options,this.getCustomConfig(e)||{},e)}},"single-node"),Sl("star",{options:{size:60,style:{stroke:Gn.defaultNode.style.stroke,fill:Gn.defaultNode.style.fill,lineWidth:Gn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Gn.nodeLabel.style.fill,fontSize:Gn.nodeLabel.style.fontSize,fontFamily:Gn.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Gn.defaultNode.linkPoints.size,lineWidth:Gn.defaultNode.linkPoints.lineWidth,fill:Gn.defaultNode.linkPoints.fill,stroke:Gn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,m.__assign)({},Gn.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=t.addShape("path",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=o;var s=n.width,u=n.height,l=n.show,c=n.text;return l&&(c?t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,m.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,m.__assign)({x:-s/2,y:-u/2},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,u=n.leftBottom,l=n.rightBottom,c=n.size,d=n.r,C=(0,m.__rest)(n,["top","left","right","leftBottom","rightBottom","size","r"]),I=this.getSize(e),F=I[0];if(s){var H=Math.cos(.1*Math.PI)*F,J=Math.sin((18+72*0)/180*Math.PI)*F;t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},C),{x:H,y:-J,r:c/2||d||5}),className:"link-point-right",name:"link-point-right"})}if(a){var H=Math.cos(.5*Math.PI)*F,J=Math.sin((18+72*1)/180*Math.PI)*F;t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},C),{x:H,y:-J,r:c/2||d||5}),className:"link-point-top",name:"link-point-top"})}if(o){var H=Math.cos(.9*Math.PI)*F,J=Math.sin((18+72*2)/180*Math.PI)*F;t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},C),{x:H,y:-J,r:c/2||d||5}),className:"link-point-left",name:"link-point-left"})}if(u){var H=Math.cos(1.3*Math.PI)*F,J=Math.sin((18+72*3)/180*Math.PI)*F;t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},C),{x:H,y:-J,r:c/2||d||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(l){var H=Math.cos(1.7*Math.PI)*F,J=Math.sin((18+72*4)/180*Math.PI)*F;t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},C),{x:H,y:-J,r:c/2||d||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(e){var t=this.getSize(e),r=t[0],n=r*3/8,a=e.innerR||n;return us.getStarPath(r,a)},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.mix)({},t,r),a=this.getPath(e),o=(0,m.__assign)({path:a},n);return o},update:function(e,t,r){var n=t.getContainer(),a=this.getOptions({}).style,o=this.getPath(e),s={stroke:e.color,path:o},u=t.get("keyShape"),l=(0,f.mix)({},a,u.attr(),s);l=(0,f.mix)(l,e.style),this.updateShape(e,t,l,!0,r),this.updateLinkPoints(e,n)},updateLinkPoints:function(e,t){var r=this.getOptions({}).linkPoints,n=t.shapeMap["link-point-left"]||t.find(function(er){return er.get("className")==="link-point-left"}),a=t.shapeMap["link-point-right"]||t.find(function(er){return er.get("className")==="link-point-right"}),o=t.shapeMap["link-point-top"]||t.find(function(er){return er.get("className")==="link-point-top"}),s=t.shapeMap["link-point-left-bottom"]||t.find(function(er){return er.get("className")==="link-point-left-bottom"}),u=t.shapeMap["link-point-left-bottom"]||t.find(function(er){return er.get("className")==="link-point-right-bottom"}),l=r,c=n||a||o||s||u;c&&(l=c.attr());var d=(0,f.mix)({},l,e.linkPoints),C=d.fill,I=d.stroke,F=d.lineWidth,H=d.size/2;H||(H=d.r);var J=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},st=J.left,ut=J.right,ht=J.top,_t=J.leftBottom,Vt=J.rightBottom,re=this.getSize(e),te=re[0],Ee={r:H,fill:C,stroke:I,lineWidth:F},ze=Math.cos((18+72*0)/180*Math.PI)*te,Oe=Math.sin((18+72*0)/180*Math.PI)*te;a?!ut&&ut!==void 0?(a.remove(),delete t.shapeMap["link-point-right"]):a.attr((0,m.__assign)((0,m.__assign)({},Ee),{x:ze,y:-Oe})):ut&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},Ee),{x:ze,y:-Oe}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),ze=Math.cos((18+72*1)/180*Math.PI)*te,Oe=Math.sin((18+72*1)/180*Math.PI)*te,o?!ht&&ht!==void 0?(o.remove(),delete t.shapeMap["link-point-top"]):o.attr((0,m.__assign)((0,m.__assign)({},Ee),{x:ze,y:-Oe})):ht&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},Ee),{x:ze,y:-Oe}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),ze=Math.cos((18+72*2)/180*Math.PI)*te,Oe=Math.sin((18+72*2)/180*Math.PI)*te,n?!st&&st!==void 0?(n.remove(),delete t.shapeMap["link-point-left"]):n.attr((0,m.__assign)((0,m.__assign)({},Ee),{x:ze,y:-Oe})):st&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},Ee),{x:ze,y:-Oe}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),ze=Math.cos((18+72*3)/180*Math.PI)*te,Oe=Math.sin((18+72*3)/180*Math.PI)*te,s?!_t&&_t!==void 0?(s.remove(),delete t.shapeMap["link-point-left-bottom"]):s.attr((0,m.__assign)((0,m.__assign)({},Ee),{x:ze,y:-Oe})):_t&&(t.shapeMap["link-point-left-bottom"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},Ee),{x:ze,y:-Oe}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0})),ze=Math.cos((18+72*4)/180*Math.PI)*te,Oe=Math.sin((18+72*4)/180*Math.PI)*te,u?!Vt&&Vt!==void 0?(u.remove(),delete t.shapeMap["link-point-right-bottom"]):u.attr((0,m.__assign)((0,m.__assign)({},Ee),{x:ze,y:-Oe})):Vt&&(t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:(0,m.__assign)((0,m.__assign)({},Ee),{x:ze,y:-Oe}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0}))}},"single-node");var i0=us.defaultSubjectColors,zd="fan-shape-";Sl("donut",{options:{size:Gn.defaultNode.size,style:{x:0,y:0,stroke:Gn.defaultNode.style.stroke,fill:Gn.defaultNode.style.fill,lineWidth:Gn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Gn.nodeLabel.style.fill,fontSize:Gn.nodeLabel.style.fontSize,fontFamily:Gn.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Gn.defaultNode.linkPoints.size,lineWidth:Gn.defaultNode.linkPoints.lineWidth,fill:Gn.defaultNode.linkPoints.fill,stroke:Gn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,m.__assign)({},Gn.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=(0,f.deepMix)({},n,e.icon),s=t.addShape("circle",{attrs:a,className:"".concat(this.type,"-keyShape"),draggable:!0,name:"".concat(this.type,"-keyShape")});t.shapeMap["".concat(this.type,"-keyShape")]=s;var u=o.width,l=o.height,c=o.show,d=o.text;return c&&(d?t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,m.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,m.__assign)({x:-u/2,y:-l/2},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),Aw(e,t,s),this.drawLinkPoints(e,t),s},updateShape:function(e,t,r,n,a){var o=t.get("keyShape");o.attr((0,m.__assign)({},r)),Ow(e,t,o),this.updateLabel(e,t,a),n&&this.updateIcon(e,t)}},"circle");var Aw=function(e,t,r){var n=e.donutAttrs,a=n===void 0?{}:n,o=e.donutColorMap,s=o===void 0?{}:o,u=Object.keys(a).length;if(a&&u>1){var l=o0(a,s),c=l.configs,d=l.totalValue;if(d){var C=s0(r),I=C.lineWidth,F=C.arcR,H=[F,0],J=0;if(u===1){wv(t,{arcR:F,arcBegin:H,beginAngle:J,config:c[0],fanIndex:0,lineWidth:I,totalValue:d,drawWhole:!0});return}for(var st=0;st<c.length;st++){var ut=wv(t,{arcR:F,arcBegin:H,beginAngle:J,config:c[st],fanIndex:st,lineWidth:I,totalValue:d});if(ut.shouldEnd)return;H=ut.arcBegin,J=ut.beginAngle}}}},wv=function(e,t){var r=t.arcR,n=t.arcBegin,a=t.beginAngle,o=t.config,s=t.fanIndex,u=t.lineWidth,l=t.totalValue,c=t.drawWhole,d=c===void 0?!1:c,C=t.updateShape,I=C===void 0?void 0:C,F=o.value/l;if(F<.001)return{beginAngle:a,arcBegin:n,shape:void 0,shouldEnd:!1};var H,J,st;if(d||F>.999)H=[r,1e-4],st=!0;else{var ut=F*Math.PI*2;J=a+ut,H=[r*Math.cos(J),-r*Math.sin(J)],st=ut>Math.PI?1:0}var ht={path:[["M",n[0],n[1]],["A",r,r,0,st,0,H[0],H[1]],["L",H[0],H[1]]],stroke:o.color||(I==null?void 0:I.attr("stroke"))||i0[s%i0.length],lineWidth:u};return I?I.attr(ht):e.shapeMap["".concat(zd).concat(s)]=e.addShape("path",{attrs:ht,name:"".concat(zd).concat(s),draggable:!0}),{beginAngle:J,arcBegin:H,shape:e.shapeMap["".concat(zd).concat(s)],shouldEnd:d||F>.999}},Ow=function(e,t,r){var n=e.donutAttrs,a=e.donutColorMap,o=a===void 0?{}:a,s={},u=t.getContainer();if(n){var l=o0(n,o),c=l.configs,d=l.totalValue;if(d)for(var C=s0(r),I=C.lineWidth,F=C.arcR,H=[F,0],J=0,st=0;st<c.length;st++){var ut="".concat(zd).concat(st),ht=wv(u,{arcR:F,arcBegin:H,beginAngle:J,config:c[st],fanIndex:st,lineWidth:I,totalValue:d,drawWhole:c.length===1,updateShape:u.shapeMap[ut]});if(ht.shape&&(s[ut]=!0),ht.shouldEnd)break;H=ht.arcBegin,J=ht.beginAngle}}var _t=Object.keys(u.shapeMap).filter(function(Vt){return Vt.includes(zd)});_t.forEach(function(Vt){s[Vt]||(u.shapeMap[Vt].remove(!0),delete u.shapeMap[Vt])})},o0=function(e,t){var r=0,n=[];return Object.keys(e).forEach(function(a){var o=+e[a];isNaN(o)||(n.push({key:a,value:o,color:t[a]}),r+=o)}),{totalValue:r,configs:n}},s0=function(e){var t=e.attr("r"),r=.6*t,n=(t+r)/2,a=t-r;return{lineWidth:a,arcR:n}},bh=function(e){var t=e.x,r=e.y;return{x:t,y:r,centerX:t,centerY:r,minX:t,minY:r,maxX:t,maxY:r,height:0,width:0}},Iw=function(e){e===void 0&&(e=[]);var t=[],r=[];e.forEach(function(u){t.push(u.x),r.push(u.y)});var n=Math.min.apply(Math,t),a=Math.max.apply(Math,t),o=Math.min.apply(Math,r),s=Math.max.apply(Math,r);return{centerX:(n+a)/2,centerY:(o+s)/2,maxX:a,maxY:s,minX:n,minY:o,height:s-o,width:a-n}},bM=function(e,t){return Math.abs(e.centerX-t.centerX)*2<e.width+t.width&&Math.abs(e.centerY-t.centerY)*2<e.height+t.height},Sv=function(e){for(var t=[],r={},n=e.length,a=n-1;a>=0;a--){var o=e[a];o.id="".concat(o.x,"|||").concat(o.y),r[o.id]||(r[o.id]=o,t.push(o))}return t},u0=function(e){return Sv(e)},xM=function(e,t){return[e,{x:e.x,y:t.y},t]},xh=function(e,t){return e.width||e.height?{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}:e},Dw=function(e,t){var r=Math.abs(e.x-t.centerX),n=Math.abs(e.y-t.centerY);return r===0&&n===0?0:r/t.width>n/t.height},Mv=function(e,t,r){var n=Dw(t,e);if(n===0){var a=e.centerX,o=e.centerY;return r.y<t.y?o=e.minY:r.x>t.x?a=e.maxX:r.x<t.x?a=e.minX:r.x===t.x&&(o=e.maxY),{x:a,y:o}}return n?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},l0=function(e,t){var r=Math.min(e.minX,t.minX),n=Math.min(e.minY,t.minY),a=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(r+a)/2,centerY:(n+o)/2,minX:r,minY:n,maxX:a,maxY:o,height:o-n,width:a-r}},_v=function(e){return[{x:e.minX,y:e.minY},{x:e.maxX,y:e.minY},{x:e.maxX,y:e.maxY},{x:e.minX,y:e.maxY}]},Eh=function(e,t){var r=e.x,n=e.y;return r<t.minX||r>t.maxX||n<t.minY||n>t.maxY},Pw=function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]},Lw=function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]},Nw=function(e,t){return Pw(e,t.x).concat(Lw(e,t.y))},Gd=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Rw=function(e,t){var r=-2,n=0;return t.forEach(function(a){a&&(e.x===a.x&&(n+=r),e.y===a.y&&(n+=r))}),n},c0=function(e,t,r,n,a){return Gd(e,t)+Gd(e,r)+Rw(e,[t,r,n,a])},kw=function i(e,t,r,n,a){a===void 0&&(a=0),e.unshift(t[n]),r[n]&&r[n]!==n&&a<=100&&i(e,t,r,r[n],a+1)},EM=function(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)},wh=function(e,t,r,n){var a=r.x-e.x,o=r.y-e.y,s=n.x-e.x,u=n.y-e.y,l=r.x-t.x,c=r.y-t.y,d=n.x-t.x,C=n.y-t.y,I=a*u-o*s,F=l*C-c*d,H=a*c-o*l,J=s*C-u*d;return I*F<=0&&H*J<=0},Cv=function(e,t,r){if(r.width||r.height){var n=_v(r),a=n[0],o=n[1],s=n[2],u=n[3];return wh(e,t,a,o)||wh(e,t,a,u)||wh(e,t,o,s)||wh(e,t,s,u)}return!1},Bw=function(e,t,r,n){var a=[];return e.forEach(function(o){if(o!==t&&(o.x===t.x||o.y===t.y)){if(Cv(o,t,r)||Cv(o,t,n))return;a.push(o)}}),Sv(a)},Fw=function(e,t,r,n,a,o,s){var u,l=[],c=(u={},u[t.id]=t,u),d={},C={},I={};C[t.id]=0,I[t.id]=c0(t,r,t);var F=new h0;F.add({id:t.id,value:I[t.id]});var H={};e.forEach(function(Vt){H[Vt.id]=Vt});for(var J;Object.keys(c).length;){var st=F.minId(!1);if(st)J=c[st];else break;if(J===r){var ut=[];return kw(ut,H,d,r.id),ut}delete c[J.id],F.remove(J.id),l.push(J);var ht=Bw(e,J,n,a),_t=function(re){re.forEach(function(te){if(l.indexOf(te)===-1){var Ee=te.id;c[Ee]||(c[Ee]=te);var ze=I[J.id]+Gd(J,te);if(C[Ee]&&ze>=C[Ee]){F.add({id:Ee,value:I[Ee]});return}d[Ee]=J.id,C[Ee]=ze,I[Ee]=C[Ee]+c0(te,r,t,o,s),F.add({id:Ee,value:I[Ee]})}})};_t(ht)}return[t,r]},zw=function(e,t,r){return!(e.x===t.x&&t.x===r.x||e.y===t.y&&t.y===r.y)},Gw=function(e,t,r,n){var a=Gd(e,t),o=Gd(r,t);a<n&&(n=a),o<n&&(n=o);var s={x:t.x-n/a*(t.x-e.x),y:t.y-n/a*(t.y-e.y)},u={x:t.x-n/o*(t.x-r.x),y:t.y-n/o*(t.y-r.y)};return[s,u]},f0=function(e,t){var r=[],n=e[0];return r.push("M".concat(n.x," ").concat(n.y)),e.forEach(function(a,o){var s=e[o+1],u=e[o+2];if(s&&u)if(zw(a,s,u)){var l=Gw(a,s,u,t),c=l[0],d=l[1];r.push("L".concat(c.x," ").concat(c.y)),r.push("Q".concat(s.x," ").concat(s.y," ").concat(d.x," ").concat(d.y)),r.push("L".concat(d.x," ").concat(d.y))}else r.push("L".concat(s.x," ").concat(s.y));else s&&r.push("L".concat(s.x," ").concat(s.y))}),r.join("")},d0=function(e,t,r,n,a){var o,s;if(!r||!r.getType())o=bh(e);else if(r.getType()==="combo"){var u=r.getKeyShape().getBBox();if(u){var l=r.getModel(),c=l.x,d=l.y;o={x:c,y:d,width:u.width,height:u.height,minX:u.minX+c,maxX:u.maxX+c,minY:u.minY+d,maxY:u.maxY+d},o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=bh(e)}else o=r&&r.getBBox();if(!n||!n.getType())s=bh(t);else if(n.getType()==="combo"){var C=n.getKeyShape().getBBox();if(C){var I=n.getModel(),F=I.x,H=I.y;s={x:F,y:H,width:C.width,height:C.height,minX:C.minX+F,maxX:C.maxX+F,minY:C.minY+H,maxY:C.maxY+H},s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2}else s=bh(t)}else s=n&&n.getBBox();var J=xh(o,a),st=xh(s,a),ut=Mv(J,e,t),ht=Mv(st,t,e),_t=Iw([ut,ht]),Vt=l0(J,_t),re=l0(st,_t),te=[];te=te.concat(_v(Vt)).concat(_v(re));var Ee={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[_t,Vt,re].forEach(function(Oe){te=te.concat(Nw(Oe,Ee).filter(function(er){return Eh(er,J)&&Eh(er,st)}))}),[{x:ut.x,y:ht.y},{x:ht.x,y:ut.y}].forEach(function(Oe){Eh(Oe,J)&&Eh(Oe,st)&&te.push(Oe)}),te.unshift(ut),te.push(ht),te=Sv(te);var ze=Fw(te,ut,ht,o,s,e,t);return ze.unshift(e),ze.push(t),u0(ze)},Uw=function(e){if(!(e!=null&&e.length))return e;for(var t=e[e.length-1],r={x:t.x,y:t.y},n=[t],a=[t],o=e.length-2;o>=0;o--){var s=e[o];if(s.x===r.x?n.push(s):(n=[s],r.x=s.x),s.y===r.y?a.push(s):(a=[s],r.y=s.y),n.length>2){var u=e.indexOf(n[1]);u>-1&&e.splice(u,1);continue}if(a.length>2){var u=e.indexOf(a[1]);u>-1&&e.splice(u,1)}}return e},h0=function(){function i(){this.arr=[],this.map={},this.arr=[],this.map={}}return i.prototype._innerAdd=function(e,t){for(var r=[0,t-1];r[1]-r[0]>1;){var n=Math.floor((r[0]+r[1])/2);if(this.arr[n].value>e.value)r[1]=n;else if(this.arr[n].value<e.value)r[0]=n;else{this.arr.splice(n,0,e),this.map[e.id]=!0;return}}this.arr.splice(r[1],0,e),this.map[e.id]=!0},i.prototype.add=function(e){delete this.map[e.id];var t=this.arr.length;if(!t){this.arr.push(e),this.map[e.id]=!0;return}if(this.arr[t-1].value<e.value){this.arr.push(e),this.map[e.id]=!0;return}this._innerAdd(e,t)},i.prototype.remove=function(e){this.map[e]&&delete this.map[e]},i.prototype._clearAndGetMinId=function(){for(var e,t=this.arr.length-1;t>=0;t--)this.map[this.arr[t].id]?e=this.arr[t].id:this.arr.splice(t,1);return e},i.prototype._findFirstId=function(){for(;this.arr.length;){var e=this.arr.shift();if(this.map[e.id])return e.id}},i.prototype.minId=function(e){return e?this._clearAndGetMinId():this._findFirstId()},i}(),Ww=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Yw=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},Xw=function(e,t){return[e,t]},jw=function(e,t,r,n,a){return u0(d0(e,t,r,n,a.offset))},Vw={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:Ww,fallbackRoute:jw},wM={maxAllowedDirectionChange:Math.PI/4,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:Yw,fallbackRoute:Xw},Al=function(e,t){var r=Math.round(Math.abs(e/t)),n=e<0?-1:1;return r<0?0:n*r},Hw=function(e,t,r){var n={};return e.forEach(function(a){if(a)for(var o=xh(a.getBBox(),r),s=Al(o.minX,t);s<=Al(o.maxX,t);s+=1)for(var u=Al(o.minY,t);u<=Al(o.maxY,t);u+=1)n["".concat(s,"|||").concat(u)]=!0}),n},Tv=function(e,t){var r=t.x-e.x,n=t.y-e.y;return r||n?Math.atan2(n,r):0},v0=function(e,t){var r=Math.abs(e-t);return r>Math.PI?2*Math.PI-r:r},p0=function(e,t,r){for(var n=1/0,a=0,o=t.length;a<o;a++){var s=r(e,t[a]);s<n&&(n=s)}return n},g0=function(e,t,r,n,a){var o=[];if(!r)return[e];var s=a.directions,u=a.offset,l=r.getBBox(),c=t.x>l.minX&&t.x<l.maxX&&t.y>l.minY&&t.y<l.maxY,d=xh(l,u);for(var C in d)d[C]=Al(d[C],a.gridSize);if(c){for(var I=0,F=s;I<F.length;I++)for(var H=F[I],J=[[{x:d.minX,y:d.minY},{x:d.maxX,y:d.minY}],[{x:d.minX,y:d.minY},{x:d.minX,y:d.maxY}],[{x:d.maxX,y:d.minY},{x:d.maxX,y:d.maxY}],[{x:d.minX,y:d.maxY},{x:d.maxX,y:d.maxY}]],C=0;C<4;C++){var st=J[C],ut=us.getLineIntersect(e,{x:e.x+H.stepX*d.width,y:e.y+H.stepY*d.height},st[0],st[1]);ut&&!Cv(e,ut,l)&&(ut.id="".concat(ut.x,"|||").concat(ut.y),o.push(ut))}return o}var ht=Mv(d,e,n);return ht.id="".concat(ht.x,"|||").concat(ht.y),[ht]},Av=function(e,t,r,n){var a=Tv(e,t),o=r[e.id];if(!o){var s=Tv(n,e);return v0(s,a)}var u=Tv({x:o.x,y:o.y},e);return v0(u,a)},Zw=function(e,t,r,n,a,o,s){var u=[n],l=n,c=e.id,d=e.x,C=e.y,I={x:d,y:C,id:c};Av(I,o,t,r)&&(l={x:o.x===n.x?n.x:I.x*s,y:o.y===n.y?n.y:I.y*s},u.unshift(l));for(var F=t[c];F&&F.id!==c;){var H={x:d,y:C,id:c},J={x:F.x,y:F.y,id:F.id},st=Av(J,H,t,r);st&&(l={x:J.x===H.x?l.x:J.x*s,y:J.y===H.y?l.y:J.y*s},u.unshift(l)),c=J.id,d=J.x,C=J.y,F=t[c]}return u[0].x=d===r.x?a.x:l.x,u[0].y=C===r.y?a.y:l.y,u.unshift(a),u},Kw=function(e,t,r,n,a){if(isNaN(e.x)||isNaN(t.x))return[];var o=(0,f.deepMix)(Vw,a);o.obstacles=o.obstacles||[];var s=o.penalties,u=o.gridSize,l=Hw(o.obstacles.concat([r,n]),u,o.offset),c={x:Al(e.x,u),y:Al(e.y,u)},d={x:Al(t.x,u),y:Al(t.y,u)};e.id="".concat(c.x,"|||").concat(c.y),t.id="".concat(d.x,"|||").concat(d.y);var C=g0(c,e,r,d,o),I=g0(d,t,n,c,o);C.forEach(function($r){delete l[$r.id]}),I.forEach(function($r){delete l[$r.id]});for(var F={},H={},J={},st={},ut={},ht=new h0,_t=0;_t<C.length;_t++){var Vt=C[_t];F[Vt.id]=Vt,st[Vt.id]=0,ut[Vt.id]=p0(Vt,I,o.distFunc),ht.add({id:Vt.id,value:ut[Vt.id]})}var re=o.maximumLoops,te,Ee,ze,Oe,er,hr,rn=1/0,Dn={};for(I.forEach(function($r){Dn["".concat($r.x,"|||").concat($r.y)]=!0}),Object.keys(F).forEach(function($r){var gn=F[$r].id;ut[gn]<=rn&&(rn=ut[gn],te=F[gn])});Object.keys(F).length>0&&re>0;){var yn=ht.minId((re+1)%30===0);if(yn)te=F[yn];else break;if(Dn["".concat(te.x,"|||").concat(te.y)])return Zw(te,J,c,t,e,d,u);delete F[te.id],ht.remove(te.id),H[te.id]=!0;for(var _t=0;_t<o.directions.length;_t++){Ee=o.directions[_t];var Kr="".concat(Math.round(te.x)+Ee.stepX,"|||").concat(Math.round(te.y)+Ee.stepY);if(ze={x:te.x+Ee.stepX,y:te.y+Ee.stepY,id:Kr},!H[Kr]&&(hr=Av(te,ze,J,c),!(hr>o.maxAllowedDirectionChange)&&!l[Kr])){F[Kr]||(F[Kr]=ze);var Un=s[hr];Oe=o.distFunc(te,ze)+(isNaN(Un)?u:Un),er=st[te.id]+Oe;var Fn=st[Kr];Fn&&er>=Fn||(J[Kr]=te,st[Kr]=er,ut[Kr]=er+p0(ze,I,o.distFunc),ht.add({id:Kr,value:ut[Kr]}))}}re-=1}return o.fallbackRoute(e,t,r,n,o)};yp("polyline",{options:{color:Gn.defaultEdge.color,size:Gn.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:Gn.defaultEdge.style.stroke,lineAppendWidth:Gn.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Gn.edgeLabel.style.fill,fontSize:Gn.edgeLabel.style.fontSize,fontFamily:Gn.windowFontFamily}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:(0,m.__assign)({},Gn.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(e,t){var r=this.getShapeStyle(e);r.radius===0&&delete r.radius;var n=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:r});return t.shapeMap["edge-shape"]=n,n},getShapeStyle:function(e){var t=this.options.style,r={stroke:e.color},n=(0,f.mix)({},t,r,e.style);e=this.getPathPoints(e),this.radius=n.radius,this.offset=n.offset;var a=e.startPoint,o=e.endPoint,s=this.getControlPoints(e),u=[a];s&&(u=u.concat(s)),u.push(o);var l=e.sourceNode,c=e.targetNode,d=n.radius,C=this.options.routeCfg,I=(0,f.mix)({},C,e.routeCfg);I.offset=n.offset;var F=this.getPath(u,l,c,d,I,!Boolean(s));((0,f.isArray)(F)&&F.length<=1||(0,f.isString)(F)&&F.indexOf("L")===-1)&&(F="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(o.x)||isNaN(o.y))&&(F="M0 0, L0 0");var H=(0,f.mix)({},Gn.defaultEdge.style,n,{lineWidth:e.size,path:F});return H},updateShapeStyle:function(e,t){var r=t.getContainer();if(t.isVisible()){var n={stroke:e.color},a=r.shapeMap["edge-shape"]||r.find(function(_t){return _t.get("className")==="edge-shape"})||t.getKeyShape(),o=e.size;e=this.getPathPoints(e);var s=e.startPoint,u=e.endPoint,l=this.getControlPoints(e),c=[s];l&&(c=c.concat(l)),c.push(u);var d=a.attr(),C=(0,f.mix)({},n,d,e.style),I=e.sourceNode,F=e.targetNode,H=C.radius,J=this.options.routeCfg,st=(0,f.mix)({},J,e.routeCfg);st.offset=C.offset;var ut=this.getPath(c,I,F,H,st,!Boolean(l));((0,f.isArray)(ut)&&ut.length<=1||(0,f.isString)(ut)&&ut.indexOf("L")===-1)&&(ut="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(u.x)||isNaN(u.y))&&(ut="M0 0, L0 0"),d.endArrow&&C.endArrow===!1&&(e.style.endArrow={path:""}),d.startArrow&&C.startArrow===!1&&(e.style.startArrow={path:""});var ht=(0,f.mix)(n,a.attr(),{lineWidth:o,path:ut},e.style);a&&a.attr(ht)}},getPath:function(e,t,r,n,a,o){var s=a.offset,u=a.obstacles,l=a.simple;if(!s||e.length>2||o===!1){if(n)return f0(e,n);var c=[];return(0,f.each)(e,function(F,H){H===0?c.push(["M",F.x,F.y]):c.push(["L",F.x,F.y])}),c}l!==!1&&!(u!=null&&u.length)&&(l=!0);var d=l?d0(e[e.length-1],e[0],r,t,s):Kw(e[0],e[e.length-1],t,r,a);if(!d||!d.length)return"M0 0, L0 0";if(n){var C=f0(d,n);return C}d=Uw(d);var I=us.pointsToPolygon(d);return I}},"single-edge");var m0=_l.cloneEvent,y0=_l.isNaN,b0=Math.abs,$w=10,qw=["shift","ctrl","alt","control"],Qw={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{mousedown:"onMouseDown",drag:"onDragMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(e){var t=this.origin,r=+e.clientX,n=+e.clientY;if(!(y0(r)||y0(n))){var a=r-t.x,o=n-t.y;this.get("direction")==="x"?o=0:this.get("direction")==="y"&&(a=0),this.origin={x:r,y:n};var s=this.graph.get("width"),u=this.graph.get("height"),l=this.graph.get("canvas").getCanvasBBox(),c=this.scalableRange,d=this.scalableRange;c<1&&c>-1&&(c=s*c,d=u*d),(l.minX<=s+c&&l.minX+a>s+c||l.maxX+c>=0&&l.maxX+c+a<0)&&(a=0),(l.minY<=u+d&&l.minY+o>u+d||l.maxY+d>=0&&l.maxY+d+o<0)&&(o=0),this.graph.translate(a,o)}},onTouchStart:function(e){var t=this,r=e.originalEvent.touches,n=r[0],a=r[1];n&&a||(e.preventDefault(),this.mousedown=!0,t.onDragStart(e))},onMouseDown:function(e){this.mousedown=!0},onDragMove:function(e){this.mousedown&&(this.dragstart?this.onDrag(e):(this.dragstart=!0,this.onDragStart(e)))},onDragStart:function(e){var t=this,r=e.originalEvent;if(!(r&&e.name!=="touchstart"&&r.button!==0)&&!(e.name!=="touchstart"&&typeof window!="undefined"&&window.event&&!window.event.buttons&&!window.event.button)&&this.shouldBegin(e,this)&&!t.keydown&&this.allowDrag(e)){if(t.origin={x:e.clientX,y:e.clientY},t.dragging=!1,this.enableOptimize){for(var n=this.graph,a=n.getEdges(),o=0,s=a.length;o<s;o++){var u=a[o].get("group").get("children");u&&u.forEach(function(ht){ht.set("ori-visibility",ht.get("ori-visibility")||ht.get("visible")),ht.hide()})}for(var l=n.getNodes(),c=0,d=l.length;c<d;c++)for(var C=l[c].getContainer(),I=C.get("children"),F=0,H=I;F<H.length;F++){var J=H[F],st=J.get("isKeyShape");st||(J.set("ori-visibility",J.get("ori-visibility")||J.get("visible")),J.hide())}}if(typeof window!="undefined"){var ut=this;this.handleDOMContextMenu=function(ht){return ut.onMouseUp(ht)},document.body.addEventListener("contextmenu",this.handleDOMContextMenu)}}},onTouchMove:function(e){var t=this,r=e.originalEvent.touches,n=r[0],a=r[1];if(n&&a){this.onMouseUp(e);return}e.preventDefault(),t.onDrag(e)},onDrag:function(e){if(this.mousedown){var t=this.graph;if(!this.keydown&&this.allowDrag(e)&&(e=m0(e),!!this.origin)){if(this.dragging)e.type="drag",t.emit("canvas:drag",e);else{if(b0(this.origin.x-e.clientX)+b0(this.origin.y-e.clientY)<$w)return;this.shouldBegin(e,this)&&(e.type="dragstart",t.emit("canvas:dragstart",e),this.originPosition={x:e.clientX,y:e.clientY},this.dragging=!0)}this.shouldUpdate(e,this)&&this.updateViewport(e)}}},onMouseUp:function(e){var t,r;this.mousedown=!1,this.dragstart=!1;var n=this.graph;if(!this.keydown){var a=n.getZoom(),o=n.get("modeController"),s=(r=(t=o==null?void 0:o.modes[o.mode])===null||t===void 0?void 0:t.filter(function(te){return te.type==="zoom-canvas"}))===null||r===void 0?void 0:r[0],u=s?s.optimizeZoom||.1:0;if(this.enableOptimize){for(var l=n.getEdges(),c=0,d=l.length;c<d;c++){var C=l[c].get("group").get("children");C&&C.forEach(function(te){var Ee=te.get("ori-visibility");te.set("ori-visibility",void 0),Ee&&te.show()})}if(a>u)for(var I=n.getNodes(),F=0,H=I.length;F<H;F++)for(var J=I[F].getContainer(),st=J.get("children"),ut=0,ht=st;ut<ht.length;ut++){var _t=ht[ut],Vt=_t.get("isKeyShape");if(!Vt){var re=_t.get("ori-visibility");_t.set("ori-visibility",void 0),re&&_t.show()}}}if(!this.dragging){this.origin=null;return}e=m0(e),this.shouldEnd(e,this)&&this.updateViewport(e),e.type="dragend",e.dx=e.clientX-this.originPosition.x,e.dy=e.clientY-this.originPosition.y,n.emit("canvas:dragend",e),this.endDrag(),typeof window!="undefined"&&document.body.removeEventListener("contextmenu",this.handleDOMContextMenu)}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1,this.mousedown=!1,this.dragstart=!1},onKeyDown:function(e){var t=this,r=e.key;r&&(qw.indexOf(r.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1},allowDrag:function(e){var t,r,n=e.target,a=n&&n.isCanvas&&n.isCanvas();if((0,f.isBoolean)(this.allowDragOnItem)&&!this.allowDragOnItem&&!a)return!1;if((0,f.isObject)(this.allowDragOnItem)){var o=this.allowDragOnItem,s=o.node,u=o.edge,l=o.combo,c=(r=(t=e.item)===null||t===void 0?void 0:t.getType)===null||r===void 0?void 0:r.call(t);if(!s&&c==="node"||!u&&c==="edge"||!l&&c==="combo")return!1}return!0}},Jw={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1,enableStack:!0}},getEvents:function(){return{"node:mousedown":"onMouseDown",drag:"onDragMove",dragend:"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onDragEnd",afterchangedata:"onDragEnd"}},validationCombo:function(e){if(!this.origin||!e||e.destroyed)return!1;var t=e.getType();return t==="combo"},onTouchStart:function(e){if(e.item){var t=this;try{var r=e.originalEvent.touches,n=r[0],a=r[1];if(n&&a)return;e.preventDefault()}catch(o){console.warn("Touch original event not exist!")}this.mousedown={item:e.item,target:e.target},this.dragstart=!0,t.onDragStart(e)}},onTouchMove:function(e){var t=this;try{var r=e.originalEvent.touches,n=r[0],a=r[1];if(n&&a){t.onDragEnd(e);return}e.preventDefault()}catch(o){console.warn("Touch original event not exist!")}t.onDrag(e)},onMouseDown:function(e){this.mousedown={item:e.item,target:e.target},typeof window!="undefined"&&!this.windowEventBinded&&(this.windowEventBinded=!0,document.body.addEventListener("contextmenu",this.onDragEnd.bind(this)),document.body.addEventListener("mouseup",this.onDragEnd.bind(this)))},onDragMove:function(e){var t,r;if(((r=(t=e.item)===null||t===void 0?void 0:t.getType)===null||r===void 0?void 0:r.call(t))!=="node"){this.onDragEnd();return}this.mousedown&&(this.dragstart?this.onDrag((0,m.__assign)((0,m.__assign)({},e),this.mousedown)):(this.dragstart=!0,this.onDragStart(e)))},onDragStart:function(e){var t=this;if(this.currentShouldEnd=!0,!!this.shouldBegin((0,m.__assign)((0,m.__assign)({},e),this.mousedown),this)){var r=this.mousedown,n=r.item,a=r.target;if(!(!n||n.destroyed||n.hasLocked())){var o=n.getContainer();if(o.set("capture",!1),this.cachedCaptureItems||(this.cachedCaptureItems=[]),this.cachedCaptureItems.push(n),a){var s=a.get("isAnchorPoint");if(s)return}var u=this.graph;this.targets=[],this.targetCombo=null;var l=u.findAllByState("node",this.selectedState),c=n.get("id"),d=l.filter(function(I){var F=I.get("id");return c===F});if(d.length===0?this.targets.push(n):l.length>1?l.forEach(function(I){var F=I.hasLocked();F||t.targets.push(I)}):this.targets.push(n),this.graph.get("enabledStack")&&this.enableStack){var C=[];this.targets.forEach(function(I){var F=I.getModel(),H=F.x,J=F.y,st=F.id;C.push({x:H,y:J,id:st})}),this.set("beforeDragNodes",C)}this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(I){var F=I.getEdges();F.forEach(function(H){H.isVisible()&&(t.hidenEdge[H.getID()]=!0,H.hide())})}),this.origin={x:e.x,y:e.y},this.point={},this.originPoint={}}}},onDrag:function(e){var t=this;if(!(!this.mousedown||!this.origin)&&this.shouldUpdate(e,this))if(this.get("enableDelegate"))this.updateDelegate(e);else if(this.enableDebounce)this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge"),onlyChangeComboSize:this.onlyChangeComboSize,updateParentCombos:this.updateParentCombos});else{var r={};this.targets.map(function(n){t.update(n,e);var a=n.getModel().comboId;a&&(r[a]=t.graph.findById(a))}),this.onlyChangeComboSize&&this.updateParentCombos()}},onDragEnd:function(e){var t=this,r;if(this.mousedown=!1,this.dragstart=!1,typeof window!="undefined"&&this.windowEventBinded&&(this.windowEventBinded=!1,document.body.removeEventListener("contextmenu",this.onDragEnd.bind(this)),document.body.removeEventListener("mouseup",this.onDragEnd.bind(this))),!!this.origin){(r=this.cachedCaptureItems)===null||r===void 0||r.forEach(function(o){var s=o.getContainer();s.set("capture",!0)}),this.cachedCaptureItems=[],this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(o){var s=o.getEdges();s.forEach(function(u){t.hidenEdge[u.getID()]&&u.show(),u.refresh()})}),this.hidenEdge={};var n=this.graph;if(n.get("enabledStack")&&this.enableStack){var a={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach(function(o){a.before.nodes.push(o)}),this.targets.forEach(function(o){var s=o.getModel(),u=s.x,l=s.y,c=s.id;a.after.nodes.push({x:u,y:l,id:c})}),n.pushStack("update",(0,f.clone)(a))}n.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(e){var t=e.item;if(this.currentShouldEnd=this.shouldEnd(e,t,this),this.updatePositions(e,!this.currentShouldEnd),!(!this.currentShouldEnd||!this.validationCombo(t))){var r=this.graph;if(this.comboActiveState&&r.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)r.updateCombos();else{var n=t.getModel();this.targets.map(function(a){var o=a.getModel();o.comboId!==n.id&&r.updateComboTree(a,n.id)}),r.updateCombo(t)}r.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(e){var t=this.graph;this.currentShouldEnd=this.shouldEnd(e,void 0,this),this.updatePositions(e,!this.currentShouldEnd),!(!this.targets||this.targets.length===0||!this.currentShouldEnd)&&(this.onlyChangeComboSize?this.updateParentCombos():this.targets.map(function(r){var n=r.getModel();n.comboId&&t.updateComboTree(r)}))},onDropNode:function(e){if(!(!this.targets||this.targets.length===0)){var t=this,r=e.item,n=t.graph,a=r.getModel().comboId,o=a?n.findById(a):void 0;if(this.currentShouldEnd=this.shouldEnd(e,o,this),this.updatePositions(e,!this.currentShouldEnd),!!this.currentShouldEnd){if(this.onlyChangeComboSize)this.updateParentCombos();else if(a){var s=n.findById(a);t.comboActiveState&&n.setItemState(s,t.comboActiveState,!1),this.targets.map(function(u){var l=u.getModel();a!==l.comboId&&n.updateComboTree(u,a)}),n.updateCombo(s)}else this.targets.map(function(u){var l=u.getModel();l.comboId&&n.updateComboTree(u)});n.emit("dragnodeend",{items:this.targets,targetItem:r})}}},onDragEnter:function(e){var t=e.item;if(this.validationCombo(t)){var r=this.graph;this.comboActiveState&&r.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(e){var t=e.item;if(this.validationCombo(t)){var r=this.graph;this.comboActiveState&&r.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(e,t){var r=this;!this.targets||this.targets.length===0||(this.get("enableDelegate")?this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge"),onlyChangeComboSize:this.onlyChangeComboSize,updateParentCombos:this.updateParentCombos}):t||this.targets.map(function(n){return r.update(n,e)}):this.targets.map(function(n){return r.update(n,e,t)}))},update:function(e,t,r){var n=this.origin,a=e.get("model"),o=e.get("id");this.point[o]||(this.point[o]={x:a.x||0,y:a.y||0});var s=t.x-n.x+this.point[o].x,u=t.y-n.y+this.point[o].y;r&&(s+=n.x-t.x,u+=n.y-t.y);var l={x:s,y:u};this.get("updateEdge")?this.graph.updateItem(e,l,!1):e.updatePosition(l)},debounceUpdate:(0,f.debounce)(function(i){var e=i.targets,t=i.graph,r=i.point,n=i.origin,a=i.evt,o=i.updateEdge,s=i.onlyChangeComboSize,u=i.updateParentCombos;e.map(function(l){var c=l.get("model"),d=l.get("id");r[d]||(r[d]={x:c.x||0,y:c.y||0});var C=a.x-n.x+r[d].x,I=a.y-n.y+r[d].y,F={x:C,y:I};o?t.updateItem(l,F,!1):l.updatePosition(F)}),s&&u(t,e)},50,!0),updateDelegate:function(e){var t=this.graph;if(this.delegateRect){var C=e.x-this.origin.x+this.originPoint.minX,I=e.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:C,y:I})}else{var r=t.get("group"),n=(0,f.deepMix)({},sf.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(e),o=a.x,s=a.y,u=a.width,l=a.height,c=a.minX,d=a.minY;this.originPoint={x:o,y:s,width:u,height:l,minX:c,minY:d},this.delegateRect=r.addShape("rect",{attrs:(0,m.__assign)({width:u,height:l,x:o,y:s},n),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(e){var t=this.targets;t.length===0&&t.push(e.item);for(var r=1/0,n=-1/0,a=1/0,o=-1/0,s=0;s<t.length;s++){var u=t[s],l=u.getBBox(),c=l.minX,d=l.minY,C=l.maxX,I=l.maxY;c<r&&(r=c),d<a&&(a=d),C>n&&(n=C),I>o&&(o=I)}var F=Math.floor(r),H=Math.floor(a),J=Math.ceil(n)-Math.floor(r),st=Math.ceil(o)-Math.floor(a);return{x:F,y:H,width:J,height:st,minX:r,minY:a}},updateParentCombos:function(e,t){var r=e||this.graph,n=t||this.targets,a={};n==null||n.forEach(function(o){var s=o.getModel().comboId;s&&(a[s]=r.findById(s))}),Object.values(a).forEach(function(o){o&&r.updateCombo(o)})}},tS={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(e){var t=this;try{var r=e.originalEvent.touches,n=r[0],a=r[1];if(n&&a)return;e.preventDefault()}catch(o){console.warn("Touch original event not exist!")}t.setAllItemStates(e)},clearOnTouchStart:function(e){var t=this;try{var r=e.originalEvent.touches,n=r[0],a=r[1];if(n&&a)return;e.preventDefault()}catch(o){console.warn("Touch original event not exist!")}t.clearActiveState(e)},setAllItemStates:function(e){clearTimeout(this.timer),this.throttleSetAllItemStates(e,this)},clearActiveState:function(e){var t=this;this.timer=setTimeout(function(){t.throttleClearActiveState(e,t)},50)},throttleSetAllItemStates:(0,f.throttle)(function(i,e){var t=i.item,r=e.graph;if(!(!r||r.destroyed)&&(e.item=t,!!e.shouldUpdate(i.item,{event:i,action:"activate"},e))){for(var n=e.activeState,a=e.inactiveState,o=r.getNodes(),s=r.getCombos(),u=r.getEdges(),l=r.get("vedges"),c=o.length,d=s.length,C=u.length,I=l.length,F=e.inactiveItems||{},H=e.activeItems||{},J=0;J<c;J++){var st=o[J],ut=st.getID(),ht=st.hasState("selected");e.resetSelected&&ht&&r.setItemState(st,"selected",!1),H[ut]&&(r.setItemState(st,n,!1),delete H[ut]),a&&!F[ut]&&(r.setItemState(st,a,!0),F[ut]=st)}for(var J=0;J<d;J++){var _t=s[J],Vt=_t.getID(),ht=_t.hasState("selected");e.resetSelected&&ht&&r.setItemState(_t,"selected",!1),H[Vt]&&(r.setItemState(_t,n,!1),delete H[Vt]),a&&!F[Vt]&&(r.setItemState(_t,a,!0),F[Vt]=_t)}for(var J=0;J<C;J++){var re=u[J],te=re.getID();H[te]&&(r.setItemState(re,n,!1),delete H[te]),a&&!F[te]&&(r.setItemState(re,a,!0),F[te]=re)}for(var J=0;J<I;J++){var Ee=l[J],ze=Ee.getID();H[ze]&&(r.setItemState(Ee,n,!1),delete H[ze]),a&&!F[ze]&&(r.setItemState(Ee,a,!0),F[ze]=Ee)}if(t&&!t.destroyed){a&&(r.setItemState(t,a,!1),delete F[t.getID()]),H[t.getID()]||(r.setItemState(t,n,!0),H[t.getID()]=t);for(var Oe=t.getEdges(),er=Oe.length,J=0;J<er;J++){var re=Oe[J],te=re.getID(),hr=void 0;re.getSource()===t?hr=re.getTarget():hr=re.getSource();var rn=hr.getID();a&&F[rn]&&(r.setItemState(hr,a,!1),delete F[rn]),H[rn]||(r.setItemState(hr,n,!0),H[rn]=hr),F[te]&&(r.setItemState(re,a,!1),delete F[te]),H[te]||(r.setItemState(re,n,!0),H[te]=re),re.toFront()}}e.activeItems=H,e.inactiveItems=F,r.emit("afteractivaterelations",{item:i.item,action:"activate"})}},50,{trailing:!0,leading:!0}),throttleClearActiveState:(0,f.throttle)(function(i,e){var t=e.get("graph");if(!(!t||t.destroyed)&&e.shouldUpdate(i.item,{event:i,action:"deactivate"},e)){var r=e.activeState,n=e.inactiveState,a=e.activeItems||{},o=e.inactiveItems||{};Object.values(a).filter(function(s){return!s.destroyed}).forEach(function(s){t.clearItemStates(s,r)}),Object.values(o).filter(function(s){return!s.destroyed}).forEach(function(s){t.clearItemStates(s,n)}),e.activeItems={},e.inactiveItems={},t.emit("afteractivaterelations",{item:i.item||e.get("item"),action:"deactivate"})}},50,{trailing:!0,leading:!0})},Sh=Math.min,x0=Math.max,E0=Math.abs,w0="shift",eS=["drag","shift","ctrl","alt","control"],rS={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:w0,includeEdges:!0,includeCombos:!1,selectedEdges:[],selectedNodes:[],selectedCombos:[]}},getEvents:function(){return eS.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=w0,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(e){var t=e.item,r=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),r||(r=this.createBrush()),this.originPoint={x:e.canvasX,y:e.canvasY},r.attr({width:0,height:0}),r.show(),this.dragging=!0)},onMouseMove:function(e){this.dragging&&(this.trigger!=="drag"&&!this.keydown||this.updateBrush(e))},onMouseUp:function(e){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(e),this.dragging=!1)},clearStates:function(){var e=this,t=e.graph,r=e.selectedState,n=t.findAllByState("node",r),a=t.findAllByState("edge",r),o=t.findAllByState("combo",r);n.forEach(function(s){return t.setItemState(s,r,!1)}),a.forEach(function(s){return t.setItemState(s,r,!1)}),o.forEach(function(s){return t.setItemState(s,r,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.selectedCombos=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges,this.selectedCombos),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},isBBoxCenterInRect:function(e,t,r,n,a){var o=e.getBBox();return o.centerX>=t&&o.centerX<=r&&o.centerY>=n&&o.centerY<=a},getSelectedNodes:function(e){var t=this,r=this,n=r.graph,a=r.originPoint,o=r.shouldUpdate,s=r.isBBoxCenterInRect,u=this.selectedState,l={x:e.x,y:e.y},c=n.getPointByCanvas(a.x,a.y),d=Sh(l.x,c.x),C=x0(l.x,c.x),I=Sh(l.y,c.y),F=x0(l.y,c.y),H=[],J=[];n.getNodes().forEach(function(ht){if(ht.isVisible()&&s(ht,d,C,I,F)&&o(ht,"select",t)){H.push(ht);var _t=ht.getModel();J.push(_t.id),n.setItemState(ht,u,!0)}});var st=[];this.includeEdges&&H.forEach(function(ht){var _t=ht.getOutEdges();_t.forEach(function(Vt){if(Vt.isVisible()){var re=Vt.getModel(),te=re.source,Ee=re.target;J.includes(te)&&J.includes(Ee)&&o(Vt,"select",t)&&(st.push(Vt),n.setItemState(Vt,t.selectedState,!0))}})});var ut=[];this.includeCombos&&n.getCombos().forEach(function(ht){if(ht.isVisible()&&s(ht,d,C,I,F)&&o(ht,"select",t)){ut.push(ht);var _t=ht.getModel();J.push(_t.id),n.setItemState(ht,u,!0)}}),this.selectedEdges=st,this.selectedNodes=H,this.selectedCombos=ut,this.onSelect&&this.onSelect(H,st,ut),n.emit("nodeselectchange",{selectedItems:{nodes:H,edges:st,combos:ut},select:!0})},createBrush:function(){var e=this,t=e.graph.get("canvas").addShape("rect",{attrs:e.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,this.delegate=t,t},updateBrush:function(e){var t=this.originPoint;this.brush.attr({width:E0(e.canvasX-t.x),height:E0(e.canvasY-t.y),x:Sh(e.canvasX,t.x),y:Sh(e.canvasY,t.y)})},onKeyDown:function(e){var t=e.key;if(t){var r=this.trigger.toLowerCase(),n=t.toLowerCase();n===r||n==="control"&&r==="ctrl"||n==="ctrl"&&r==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},S0="shift",nS=["shift","ctrl","alt","control"],aS={getDefaultCfg:function(){return{multiple:!0,trigger:S0,selectedState:"selected",selectNode:!0,selectEdge:!1,selectCombo:!0}},getEvents:function(){var e=this;return nS.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=S0,console.warn("Behavior click-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),e.multiple?{"node:click":"onClick","combo:click":"onClick","edge:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","edge:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(e){var t=this,r=e.item;if(!(!r||r.destroyed)){var n=r.getType(),a=t.graph,o=t.keydown,s=t.multiple,u=t.shouldUpdate,l=t.shouldBegin;if(l(e,t)){if(!o||!s){var c=a.findAllByState("node",t.selectedState).concat(a.findAllByState("edge",t.selectedState)).concat(a.findAllByState("combo",t.selectedState));(0,f.each)(c,function(H){H!==r&&a.setItemState(H,t.selectedState,!1)})}var d=function(){switch(n){case"node":return t.selectNode;case"edge":return t.selectEdge;case"combo":return t.selectCombo;default:return!1}}();if(!d){var C=a.findAllByState("node",t.selectedState),I=a.findAllByState("edge",t.selectedState),F=a.findAllByState("combo",t.selectedState);a.emit("nodeselectchange",{selectedItems:{nodes:C,edges:I,combos:F},select:!1});return}if(r.hasState(t.selectedState)){u(e,t)&&a.setItemState(r,t.selectedState,!1);var C=a.findAllByState("node",t.selectedState),I=a.findAllByState("edge",t.selectedState),F=a.findAllByState("combo",t.selectedState);a.emit("nodeselectchange",{target:r,selectedItems:{nodes:C,edges:I,combos:F},select:!1})}else{u(e,t)&&a.setItemState(r,t.selectedState,!0);var C=a.findAllByState("node",t.selectedState),I=a.findAllByState("edge",t.selectedState),F=a.findAllByState("combo",t.selectedState);a.emit("nodeselectchange",{target:r,selectedItems:{nodes:C,edges:I,combos:F},select:!0})}}}},onCanvasClick:function(e){var t=this,r=this,n=r.graph,a=r.shouldBegin;if(a(e,this)){var o=n.findAllByState("node",this.selectedState);(0,f.each)(o,function(l){n.setItemState(l,t.selectedState,!1)});var s=n.findAllByState("edge",this.selectedState);(0,f.each)(s,function(l){n.setItemState(l,t.selectedState,!1)});var u=n.findAllByState("combo",this.selectedState);(0,f.each)(u,function(l){n.setItemState(l,t.selectedState,!1)}),n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})}},onKeyDown:function(e){var t=this,r=e.key;r&&(r.toLowerCase()===this.trigger.toLowerCase()||r.toLowerCase()==="control"?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var e=this;e.keydown=!1}},iS=vt,M0=.05,oS={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},animate:!1,animateCfg:{duration:500}}},getEvents:function(){var e=this.fixSelectedItems;return e.fixState||(e.fixState="selected"),e.fixAll&&(e.fixLineWidth=!0,e.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(e){var t=e.originalEvent.touches,r=t[0],n=t[1];e.preventDefault(),n&&(this.shouldBegin&&!this.shouldBegin(e,this)||(this.startPoint={pageX:r.pageX,pageY:r.pageY},this.moveable=!0,n&&(this.endPoint={pageX:n.pageX,pageY:n.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(e){if(this.moveable){e.preventDefault();var t=e.originalEvent.touches,r=t[0],n=t[1];if(n){this.endPoint||(this.endPoint={pageX:n.pageX,pageY:n.pageY});var a=function(H,J){return Math.hypot(J.x-H.x,J.y-H.y)},o=a({x:r.pageX,y:r.pageY},{x:n.pageX,y:n.pageY})/a({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),s=this.originScale*o;this.currentScale=s;var u=this.get("minZoom")||this.graph.get("minZoom"),l=this.get("maxZoom")||this.graph.get("maxZoom");if(!(s>l||s<u)){var c=this.get("animate"),d=this.get("animateCfg"),C=this.graph.get("canvas"),I=C.getPointByClient(e.clientX,e.clientY);this.graph.zoomTo(s,{x:I.x,y:I.y},c,d),this.graph.emit("wheelzoom",e)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(e){var t=this,r=this,n=r.graph,a=r.fixSelectedItems;if(!(this.shouldBegin&&!this.shouldBegin(e,this))&&this.shouldUpdate(e,this)){e.preventDefault();var o=n.get("canvas"),s=o.getPointByClient(e.clientX,e.clientY),u=this.get("sensitivity"),l=n.getZoom(),c=l,d=l;e.wheelDelta<0?c=1-M0*u:c=1/(1-M0*u),d=l*c;var C=this.get("minZoom")||n.get("minZoom"),I=this.get("maxZoom")||n.get("maxZoom");d>I?d=I:d<C&&(d=C);var F=this.get("enableOptimize");if(F){var H=this.get("optimizeZoom"),J=this.get("optimized"),st=n.getNodes(),ut=n.getEdges(),ht=st.length,_t=ut.length;if(!J){for(var Vt=0;Vt<ht;Vt++){var re=st[Vt];if(!re.destroyed)for(var te=re.get("group").get("children"),Ee=te.length,ze=0;ze<Ee;ze++){var Oe=te[ze];!Oe.destoryed&&!Oe.get("isKeyShape")&&(Oe.set("ori-visibility",Oe.get("ori-visibility")||Oe.get("visible")),Oe.hide())}}for(var er=0;er<_t;er++)for(var hr=ut[er],te=hr.get("group").get("children"),Ee=te.length,ze=0;ze<Ee;ze++){var Oe=te[ze];Oe.set("ori-visibility",Oe.get("ori-visibility")||Oe.get("visible")),Oe.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var rn=setTimeout(function(){var Ha=n.getZoom(),bi=t.get("optimized");if(bi){t.set("optimized",!1);for(var Ga=0;Ga<ht;Ga++){var xi=st[Ga],Li=xi.get("group").get("children"),da=Li.length;if(Ha<H){var $a=xi.getKeyShape(),Ja=$a.get("ori-visibility");$a.set("ori-visibility",void 0),Ja&&$a.show()}else for(var Ni=0;Ni<da;Ni++){var ei=Li[Ni],Ja=ei.get("ori-visibility");ei.set("ori-visibility",void 0),!ei.get("visible")&&Ja&&Ja&&ei.show()}}for(var li=0;li<_t;li++){var po=ut[li],Li=po.get("group").get("children"),da=Li.length;if(Ha<H){var $a=po.getKeyShape(),Ja=$a.get("ori-visibility");$a.set("ori-visibility",void 0),Ja&&$a.show()}else for(var Ni=0;Ni<da;Ni++){var ei=Li[Ni];if(!ei.get("visible")){var Ja=ei.get("ori-visibility");ei.set("ori-visibility",void 0),Ja&&ei.show()}}}}},100);this.set("timeout",rn)}if(l<=1){var Dn=void 0,yn=void 0;if(a.fixAll||a.fixLineWidth||a.fixLabel){Dn=n.findAllByState("node",a.fixState),yn=n.findAllByState("edge",a.fixState);for(var Kr=l/d,Un=Dn.length,Fn=0;Fn<Un;Fn++){var re=Dn[Fn],$r=re.getContainer(),gn=re.getModel(),Pn=re.getOriginStyle(),Ln=re.getStateStyle(a.fixState),jn=re.get("shapeFactory").getShape(gn.type).getStateStyle(a.fixState,re)[a.fixState];if(a.fixAll){if(d<=1){var ta=(0,f.clone)($r.getMatrix());ta||(ta=[1,0,0,0,1,0,0,0,1]);var ba=re.getModel(),La=ba.x,wi=ba.y;ta=iS(ta,[["t",-La,-wi],["s",Kr,Kr],["t",La,wi]]),$r.setMatrix(ta)}}else for(var te=$r.get("children"),Ee=te.length,ze=0;ze<Ee;ze++){var Oe=te[ze],ii=void 0,Si=void 0;if(a.fixLabel){var Ai=Oe.get("type");if(Ai==="text"){ii=Oe.attr("fontSize")||12;var Ji=Ln[Oe.get("name")],Ui=jn[Oe.get("name")],tu=Ji?Ji.fontSize:12,Wo=Ui?Ui.fontSize:12,eu=tu||Wo||12;if(d<=1&&Oe.attr("fontSize",eu/d),Si)break}}if(a.fixLineWidth&&Oe.get("isKeyShape")){Si=Oe.attr("lineWidth")||0;var Yo=Ln.lineWidth||jn.lineWidth||Pn.lineWidth||0;if(d<=1&&Oe.attr("lineWidth",Yo/d),ii)break}}}for(var Xo=yn.length,Rs=0;Rs<Xo;Rs++)for(var hr=yn[Rs],$r=hr.getContainer(),te=$r.get("children"),gn=hr.getModel(),Ln=hr.getStateStyle(a.fixState),jn=hr.get("shapeFactory").getShape(gn.type).getStateStyle(a.fixState,hr)[a.fixState],Ee=te.length,ze=0;ze<Ee;ze++){var Oe=te[ze],ii=void 0,Si=void 0;if(a.fixLabel||a.fixAll){var Ai=Oe.get("type");if(Ai==="text"){ii=Oe.attr("fontSize")||12;var Ji=Ln[Oe.get("name")],Ui=jn[Oe.get("name")],tu=Ji?Ji.fontSize:12,Wo=Ui?Ui.fontSize:12,eu=tu||Wo||12;if(d<=1&&Oe.attr("fontSize",eu/d),Si)break}}if((a.fixLineWidth||a.fixAll)&&Oe.get("isKeyShape")){Si=Oe.attr("lineWidth")||0;var Yo=Ln.lineWidth||jn.lineWidth||1;if(d<=1&&Oe.attr("lineWidth",Yo/d),ii)break}}}}var as=this.get("animate"),gs=this.get("animateCfg");n.zoomTo(d,{x:s.x,y:s.y},as,gs),n.emit("wheelzoom",e)}}},_0={onMouseEnter:function(e){var t=e.item;this.currentTarget=t,this.showTooltip(e),this.graph.emit("tooltipchange",{item:e.item,action:"show"})},onMouseMove:function(e){if(!this.shouldUpdate(e,this)){this.hideTooltip();return}!this.currentTarget||e.item!==this.currentTarget||this.updatePosition(e)},onMouseLeave:function(e){this.shouldEnd(e,this)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(e){var t=this.container;if(!(!e.item||e.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var r=this.formatText(e.item.get("model"),e);t.innerHTML=r,Va(this.container,{visibility:"visible"}),this.updatePosition(e)}},hideTooltip:function(){Va(this.container,{visibility:"hidden"})},updatePosition:function(e){var t=this.get("shouldBegin"),r=this,n=r.width,a=r.height,o=r.container,s=r.graph;if(!t(e,this)){Va(o,{visibility:"hidden"});return}var u=s.getPointByClient(e.clientX,e.clientY),l=s.getCanvasByPoint(u.x,u.y),c=l.x,d=l.y,C=o.getBoundingClientRect();c>n/2?c-=C.width:c+=this.offset,d>a/2?d-=C.height:d+=this.offset;var I="".concat(c,"px"),F="".concat(d,"px");Va(this.container,{left:I,top:F,visibility:"visible"})},createTooltip:function(e){var t=e.get("el");t.style.position="relative";var r=co('<div class="g6-tooltip g6-'.concat(this.item,'-tooltip"></div>'));return t.parentNode.appendChild(r),Va(r,{position:"absolute",visibility:"visible"}),this.width=e.get("width"),this.height=e.get("height"),this.container=r,this.graph.get("tooltips").push(r),r}},sS=(0,m.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},_0),uS=(0,m.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: ".concat(t.source," target: ").concat(t.target)}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},_0),C0="click",lS=["click","dblclick"],cS={getDefaultCfg:function(){return{trigger:C0,onChange:function(){}}},getEvents:function(){var e,t;return lS.includes(this.trigger)?t=this.trigger:(t=C0,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),e={},e["node:".concat(t)]="onNodeClick",e.touchstart="onNodeClick",e},onNodeClick:function(e){var t=this;if(this.trigger==="click"){if(this.timer){clearTimeout(this.timer),this.timer=0;return}this.timer=setTimeout(function(){t.toggle(e),clearTimeout(t.timer),t.timer=0},200)}else this.toggle(e)},toggle:function(e){var t=e.item;if(t){var r=this.graph.findDataById(t.get("id"));if(r){var n=r.children;if(!(!n||n.length===0)){var a=!r.collapsed;this.shouldBegin(e,a,this)&&(r.collapsed=a,t.getModel().collapsed=a,this.graph.emit("itemcollapsed",{item:e.item,collapsed:a}),this.shouldUpdate(e,a,this)&&(this.onChange(t,a,this),this.graph.layout()))}}}}},fS=_l.calculationItemsBBox,dS=function i(e,t){if(t(e)!==!1&&e){var r=e.get("combos");if(r.length===0)return!1;(0,f.each)(r,function(n){i(n,t)})}},hS={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected",enableStack:!0}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(e){var t=e.item;if(!t||t.destroyed||!this.shouldUpdate(e,this))return!1;var r=t.getType();return r==="combo"},onDragStart:function(e){var t=this,r=this.graph,n=e.item;if(this.currentShouldEnd=!0,!!this.validationCombo(e)){this.targets=[];var a=r.findAllByState("combo",this.selectedState),o=n.get("id"),s=a.filter(function(l){var c=l.get("id");return o===c});s.length===0?this.targets.push(n):this.targets=a;var u=[];this.targets.forEach(function(l){var c=l.getModel(),d=c.x,C=c.y,I=c.id;u.push({x:d,y:C,id:I})}),this.set("beforeDragItems",u),this.activeState&&this.targets.map(function(l){var c=l.getModel();if(c.parentId){var d=r.findById(c.parentId);d&&r.setItemState(d,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:e.x,y:e.y},this.currentItemChildCombos=[],dS(n,function(l){if(l.destroyed)return!1;var c=l.getModel();return t.currentItemChildCombos.push(c.id),!0})}},onDrag:function(e){var t=this;if(this.origin&&this.validationCombo(e))if(this.enableDelegate)this.updateDelegate(e);else{if(this.activeState){var r=this.graph,n=e.item,a=n.getModel(),o=r.getCombos(),s=n.getBBox(),u=s.centerX,l=s.centerY,c=s.width,d=o.filter(function(C){var I=C.getModel();return a.parentId,I.id!==a.id&&!t.currentItemChildCombos.includes(I.id)});d.map(function(C){var I=C.getBBox(),F=I.centerX,H=I.centerY,J=I.width,st=u-F,ut=l-H,ht=2*Math.sqrt(st*st+ut*ut);c+J-ht>.8*c?r.setItemState(C,t.activeState,!0):r.setItemState(C,t.activeState,!1)})}(0,f.each)(this.targets,function(C){t.updateCombo(C,e)}),this.onlyChangeComboSize&&this.updateParentCombos()}},updatePositions:function(e,t){var r=this;(this.enableDelegate||t)&&(0,f.each)(this.targets,function(n){r.updateCombo(n,e,t)})},onDrop:function(e){var t=this,r=e.item;if(this.currentShouldEnd=this.shouldEnd(e,r,this),this.updatePositions(e,!this.currentShouldEnd),!(!this.currentShouldEnd||!r||!this.targets||r.destroyed)){var n=this.graph,a=r.getModel();this.targets.map(function(o){var s=o.getModel();s.parentId!==a.id?(t.activeState&&n.setItemState(r,t.activeState,!1),t.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o,a.id,!1)):n.updateCombo(r)}),this.end(r,e),this.endComparison=!0}},onNodeDrop:function(e){var t=this;if(!(!this.targets||this.targets.length===0)){var r=this.graph,n=e.item,a=n.getModel().comboId,o=a?r.findById(a):void 0;if(this.currentShouldEnd=this.shouldEnd(e,o,this),this.updatePositions(e,!this.currentShouldEnd),!!this.currentShouldEnd){var s;if(a){if(this.activeState){var u=r.findById(a);r.setItemState(u,this.activeState,!1)}this.targets.map(function(l){t.onlyChangeComboSize?r.updateCombo(l):a!==l.getID()&&(s=r.findById(a),a!==l.getModel().parentId&&r.updateComboTree(l,a,!1))})}else this.targets.map(function(l){if(t.onlyChangeComboSize)r.updateCombo(l);else{var c=l.getModel();c.comboId&&r.updateComboTree(l,void 0,!1)}});this.endComparison=!0,this.end(s,e)}}},onDragEnter:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,r=this.graph;this.activeState&&r.setItemState(t,this.activeState,!0)}},onDragLeave:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,r=this.graph;this.activeState&&r.setItemState(t,this.activeState,!1)}},onDragEnd:function(e){if(!(!this.targets||this.targets.length===0)){var t=e.item;this.currentShouldEnd&&this.updatePositions(e);var r=this.getParentCombo(t.getModel().parentId),n=this.graph;r&&this.activeState&&n.setItemState(r,this.activeState,!1),this.end(void 0,e)}},end:function(e,t){var r=this;if(this.origin){var n=this.graph;if(this.delegateShape){var a=n.get("delegateGroup");a.clear(),this.delegateShape=null}if(e&&this.activeState&&n.setItemState(e,this.activeState,!1),!e){var o=n.get("enabledStack")&&this.enableStack,s={before:{nodes:[],edges:[],combos:[].concat(this.get("beforeDragItems"))},after:{nodes:[],edges:[],combos:[]}};this.targets.map(function(u){if(!r.onlyChangeComboSize)n.updateComboTree(u,void 0,o);else{n.updateCombo(u);var l=u.getModel(),c=l.x,d=l.y,C=l.id;s.after.combos.push({x:c,y:d,id:C}),n.pushStack("update",s)}})}this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(e,t,r){var n=this;if(r===void 0&&(r={}),t(e,r)!==!1&&e){var a=e.get("combos");(0,f.each)(a,function(s){n.traverse(s,t,r)});var o=e.get("nodes");(0,f.each)(o,function(s){n.traverse(s,t,r)})}},updateCombo:function(e,t,r){this.updateSingleItem(e,t,r);var n={};this.traverse(e,function(a,o){return a.destroyed?!1:(a.getEdges().forEach(function(s){return o[s.getID()]=s}),!0)},n),Object.values(n).forEach(function(a){return a.refresh()})},updateSingleItem:function(e,t,r){var n=this.origin,a=this.graph,o=e.getModel(),s=e.get("id");this.point[s]||(this.point[s]={x:o.x,y:o.y});var u=t.x-n.x+this.point[s].x,l=t.y-n.y+this.point[s].y;r&&(u+=n.x-t.x,l+=n.y-t.y),a.updateItem(e,{x:u,y:l},!1)},getParentCombo:function(e){var t=this.graph;if(e){var r=t.findById(e);if(r)return r}},updateDelegate:function(e){var t=this.graph;if(this.delegateShape){var C=e.x-this.origin.x+this.originPoint.minX,I=e.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:C,y:I})}else{var r=t.get("delegateGroup"),n=null;this.targets.length>1?n=fS(this.targets):n=this.targets[0].getBBox();var a=n.x,o=n.y,s=n.width,u=n.height,l=n.minX,c=n.minY;this.originPoint={x:a,y:o,width:s,height:u,minX:l,minY:c};var d=(0,m.__assign)((0,m.__assign)({},sf.delegateStyle),this.delegateStyle);this.delegateShape=r.addShape("rect",{attrs:(0,m.__assign)({width:n.width,height:n.height,x:n.x,y:n.y},d),name:"combo-delegate-shape"}),this.delegateShape.set("capture",!1),this.delegate=this.delegateShape}},updateParentCombos:function(){var e=this,t=e.graph,r=e.targets,n={};r==null||r.forEach(function(a){var o=a.getModel().parentId;o&&(n[o]=t.findById(o))}),Object.values(n).forEach(function(a){a&&t.updateCombo(a)})}},T0="dblclick",vS=["click","dblclick"],pS={getDefaultCfg:function(){return{trigger:T0,relayout:!0}},getEvents:function(){var e,t;return vS.includes(this.trigger)?t=this.trigger:(t=T0,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),e={},e["combo:".concat(t)]="onComboClick",e},onComboClick:function(e){var t=e.item,r=this,n=r.graph,a=r.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var o=t.getModel(),s=o.id;s&&(n.collapseExpandCombo(s),a&&n.get("layout")?n.layout():n.refreshPositions())}}},gS=_l.isPolygonsIntersect,mS=_l.pathToPoints,A0="shift",yS=["drag","shift","ctrl","alt","control"],bS=function(e,t){var r,n=e.getKeyShape();if(e.get("type")==="path")r=mS(n.attr("path"));else{var a=n.getCanvasBBox();r=[[a.minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY]]}return gS(t,r)},xS={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},shouldDeselect:void 0,selectedState:"selected",trigger:A0,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return yS.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=A0,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(e){var t=this.lasso,r=e.item;r||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates("dragstart"),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:e.x,y:e.y},this.points.push(this.originPoint),t.show())},onDragMove:function(e){this.dragging&&(this.trigger!=="drag"&&!this.keydown||(this.points.push({x:e.x,y:e.y}),this.updateLasso(e)))},onDragEnd:function(e){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var e=this.points,t=[];return e.length&&(e.forEach(function(r,n){n===0?t.push(["M",r.x,r.y]):t.push(["L",r.x,r.y])}),t.push(["L",e[0].x,e[0].y])),t},clearStates:function(e){e===void 0&&(e="canvas:click");var t=this,r=t.graph,n=t.selectedState,a=t.shouldDeselect,o=r.findAllByState("node",n),s=r.findAllByState("edge",n);(!a||a({action:e,nodes:o,edges:s}))&&(o.forEach(function(u){return r.setItemState(u,n,!1)}),s.forEach(function(u){return r.setItemState(u,n,!1)})),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],r.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var e=this,t=this,r=t.graph,n=t.shouldUpdate,a=this.points.map(function(c){return[r.getCanvasByPoint(c.x,c.y).x,r.getCanvasByPoint(c.x,c.y).y]}),o=this.selectedState,s=[],u=[];r.getNodes().forEach(function(c){if(c.isVisible()&&bS(c,a)&&n(c,"select",e)){s.push(c);var d=c.getModel();u.push(d.id),r.setItemState(c,o,!0)}});var l=[];this.includeEdges&&s.forEach(function(c){var d=c.getOutEdges();d.forEach(function(C){if(C.isVisible()){var I=C.getModel(),F=I.source,H=I.target;u.includes(F)&&u.includes(H)&&n(C,"select",e)&&(l.push(C),r.setItemState(C,e.selectedState,!0))}})}),this.selectedEdges=l,this.selectedNodes=s,this.onSelect&&this.onSelect(s,l),r.emit("nodeselectchange",{selectedItems:{nodes:s,edges:l},select:!0})},createLasso:function(){var e=this,t=e.graph.get("delegateGroup").addShape("path",{attrs:(0,m.__assign)({path:[]},e.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.delegate=t,this.points=[],t},updateLasso:function(e){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},O0="click",ES=["click","drag"],I0=void 0,wS=["shift","ctrl","control","alt","meta",void 0],SS={getDefaultCfg:function(){return{trigger:O0,key:I0,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var e=this;ES.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=O0,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),e.key&&wS.indexOf(e.key.toLowerCase())===-1&&(e.trigger=I0,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return e.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:e.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),e.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(e){var t=this;if(!(t.key&&!t.keydown)){var r=e.item;(!r||r.getID()===t.source||r.getType()!=="node")&&t.cancelCreating({item:t.edge,x:e.x,y:e.y})}},onClick:function(e){var t=this;if(!(t.key&&!t.keydown)){var r=e.item,n=t.graph,a=r.getModel(),o=t.getEdgeConfig;if(t.addingEdge&&t.edge){if(!t.shouldEnd(e,t))return;var s=void 0;o&&(0,f.isFunction)(o)?s=o({source:t.source,target:a.id},t):s=t.edgeConfig;var u=(0,m.__assign)({target:a.id},s);if(t.source===a.id&&(u.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(t.edge,u,!1),n.get("enabledStack")){var l=(0,m.__assign)((0,m.__assign)({},t.edge.getModel()),{itemType:"edge"}),c={};c.edges=[l],n.pushStack("add",{before:{},after:c})}n.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin(e,t))return;var s=void 0;o&&(0,f.isFunction)(o)?s=o({source:a.id,target:a.id},t):s=t.edgeConfig,t.edge=n.addItem("edge",(0,m.__assign)({source:a.id,target:a.id},s),!1),t.source=a.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(e){var t=this;if(!(t.key&&!t.keydown)){t.edge&&t.edge.destroyed&&t.cancelCreating({item:t.edge});var r={x:e.x,y:e.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:r},!1)}},cancelCreating:function(e){var t,r,n=this;if(!(n.key&&!n.keydown)){var a=n.graph,o=e.item;if(n.addingEdge&&(n.edge===o||!((r=(t=e.target)===null||t===void 0?void 0:t.isCanvas)===null||r===void 0)&&r.call(t))){n.edge&&!n.edge.destroyed&&a.removeItem(n.edge,!1),n.edge=null,n.addingEdge=!1;return}}},onKeyDown:function(e){var t=this,r=e.key;r&&(r.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var e=this;e.addingEdge&&e.edge&&(e.graph.removeItem(e.edge,!1),e.addingEdge=!1,e.edge=null),this.keydown=!1}},D0="ctrl",MS=["shift","ctrl","alt","control"],_S="1",CS={getDefaultCfg:function(){return{trigger:D0,combinedKey:_S,functionName:"fitView",functionParams:[]}},getEvents:function(){return MS.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=D0,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '".concat(this.trigger,"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'"))),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(e){var t=e.key;if(t){var r=this.trigger.toLowerCase(),n=t.toLowerCase();this.triggerKeydown||(n===r||n==="control"&&r==="ctrl"||n==="ctrl"&&r==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var a=this.graph;if(!a[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '".concat(this.functionName,"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D")),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]();return}var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(n===o||n==="control"&&o==="ctrl"||n==="ctrl"&&o==="control")&&(this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},TS=["shift","ctrl","alt","control","meta"],AS={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0,allowDragOnItem:!0}},getEvents:function(){return(!this.zoomKey||TS.indexOf(this.zoomKey)===-1)&&(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(e){var t=this;if(this.allowDrag(e)){var r=this.graph,n=Array.isArray(this.zoomKey)?[].concat(this.zoomKey):[this.zoomKey];n.includes("control")&&n.push("ctrl");var a=n.some(function(gn){return e["".concat(gn,"Key")]});if(a){var o=r.get("canvas"),s=o.getPointByClient(e.clientX,e.clientY),u=r.getZoom();e.wheelDelta>0?u=u+u*.05:u=u-u*.05,r.zoomTo(u,{x:s.x,y:s.y})}else{var l=e.deltaX||e.movementX,c=e.deltaY||e.movementY;!c&&navigator.userAgent.indexOf("Firefox")>-1&&(c=-e.wheelDelta*125/3);var d=this.graph.get("width"),C=this.graph.get("height"),I=this.graph.get("canvas").getCanvasBBox(),F=this.scalableRange,H=this.scalableRange;F<1&&F>-1&&(F=d*F,H=C*H);var J=I.minX,st=I.maxX,ut=I.minY,ht=I.maxY;l>0?st<-F?l=0:st-l<-F&&(l=st+F):l<0&&(J>d+F?l=0:J-l>d+F&&(l=J-(d+F))),c>0?ht<-H?c=0:ht-c<-H&&(c=ht+H):c<0&&(ut>C+H?c=0:ut-c>C+H&&(c=ut-(C+H))),this.get("direction")==="x"?c=0:this.get("direction")==="y"&&(l=0),r.translate(-l,-c)}e.preventDefault();var _t=this.get("enableOptimize");if(_t){var Vt=this.get("optimizeZoom"),re=this.get("optimized"),te=r.getNodes(),Ee=r.getEdges(),ze=te.length,Oe=Ee.length;if(!re){for(var er=0;er<ze;er++){var hr=te[er];if(!hr.destroyed)for(var rn=hr.get("group").get("children"),Dn=rn.length,yn=0;yn<Dn;yn++){var Kr=rn[yn];!Kr.destoryed&&!Kr.get("isKeyShape")&&(Kr.set("ori-visibility",Kr.get("ori-visibility")||Kr.get("visible")),Kr.hide())}}for(var Un=0;Un<Oe;Un++)for(var Fn=Ee[Un],rn=Fn.get("group").get("children"),Dn=rn.length,yn=0;yn<Dn;yn++){var Kr=rn[yn];Kr.set("ori-visibility",Kr.get("ori-visibility")||Kr.get("visible")),Kr.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var $r=setTimeout(function(){var gn=r.getZoom(),Pn=t.get("optimized");if(Pn){t.set("optimized",!1);for(var Ln=0;Ln<ze;Ln++){var jn=te[Ln],ta=jn.get("group").get("children"),ba=ta.length;if(gn<Vt){var La=jn.getKeyShape(),wi=La.get("ori-visibility");wi&&La.show()}else for(var ii=0;ii<ba;ii++){var Si=ta[ii],wi=Si.get("ori-visibility");!Si.get("visible")&&wi&&wi&&Si.show()}}for(var Ai=0;Ai<Oe;Ai++){var Ji=Ee[Ai],ta=Ji.get("group").get("children"),ba=ta.length;if(gn<Vt){var La=Ji.getKeyShape(),wi=La.get("ori-visibility");wi&&La.show()}else for(var ii=0;ii<ba;ii++){var Si=ta[ii];if(!Si.get("visible")){var wi=Si.get("ori-visibility");wi&&Si.show()}}}}},100);this.set("timeout",$r)}}},allowDrag:function(e){var t,r,n=e.target,a=n&&n.isCanvas&&n.isCanvas();if((0,f.isBoolean)(this.allowDragOnItem)&&!this.allowDragOnItem&&!a)return!1;if((0,f.isObject)(this.allowDragOnItem)){var o=this.allowDragOnItem,s=o.node,u=o.edge,l=o.combo,c=(r=(t=e.item)===null||t===void 0?void 0:t.getType)===null||r===void 0?void 0:r.call(t);if(!s&&c==="node"||!u&&c==="edge"||!l&&c==="combo")return!1}return!0}},OS={"drag-canvas":Qw,"zoom-canvas":oS,"drag-node":Jw,"activate-relations":tS,"brush-select":rS,"click-select":aS,"lasso-select":xS,tooltip:sS,"edge-tooltip":uS,"collapse-expand":cS,"drag-combo":hS,"collapse-expand-combo":pS,"create-edge":SS,"shortcuts-call":CS,"scroll-canvas":AS};(0,f.each)(OS,function(i,e){bp(e,i)});var IS=(0,m.__assign)((0,m.__assign)({},y),Hm),SM=Uo.Grid,MM=Uo.Minimap,_M=Uo.Bundling,CM=Uo.Menu,DS=Uo.Fisheye,TM=Uo.ToolBar,AM=Uo.Tooltip,PS=Uo.TimeBar,LS=Uo.ImageMinimap,NS=Uo.EdgeFilterLens,RS=Uo.SnapLine,OM=Uo.Legend,kS=Uo.Annotation,P0={version:sf.version,Graph:lg,TreeGraph:Ib,Util:_l,Layout:Qa.Layouts,TreeLayout:cb,registerLayout:fb,Global:sf,registerBehavior:bp,registerCombo:Vm,registerEdge:yp,registerNode:Sl,Minimap:Uo.Minimap,Grid:Uo.Grid,Bundling:Uo.Bundling,Menu:Uo.Menu,ToolBar:Uo.ToolBar,Tooltip:Uo.Tooltip,Legend:Uo.Legend,TimeBar:PS,SnapLine:RS,Fisheye:DS,ImageMinimap:LS,EdgeFilterLens:NS,Annotation:kS,Algorithm:IS,Arrow:hp,Marker:vp,Shape:ec};P0.version="4.8.7";var BS=P0,IM="4.8.7"},199905:function(Ve,W,_){"use strict";_.r(W),_.d(W,{Graph:function(){return K},GraphWithEvent:function(){return Dt},algorithm:function(){return y},comparision:function(){return w},essence:function(){return R},generate:function(){return M}});var y={};_.r(y),_.d(y,{components:function(){return se},dfs:function(){return ae},dijkstra:function(){return be},dijkstraAll:function(){return Pe},findCycles:function(){return Hr},floydWarshall:function(){return fe},isAcyclic:function(){return $t},postorder:function(){return gt},preorder:function(){return Gt},prim:function(){return Xt},tarjan:function(){return Qe},topsort:function(){return Cn}});var R={};_.r(R),_.d(R,{hasSelfLoop:function(){return pr},isGraph:function(){return Rr},isNullGraph:function(){return Je},isSimpleGraph:function(){return fn}});var w={};_.r(w),_.d(w,{containAllSameEdges:function(){return mt},containAllSameNodes:function(){return $},containSameEdges:function(){return ft},containSameNodes:function(){return it},getSameEdges:function(){return O},getSameNodes:function(){return G},isGraphComplement:function(){return kr},isGraphContainsAnother:function(){return Rt},isGraphOptionSame:function(){return D},isGraphSame:function(){return kt}});var M={};_.r(M),_.d(M,{getGraphComplement:function(){return Pr}});var P;(function(oe){oe.DEFAULT_EDGE_NAME="\0",oe.GRAPH_NODE="\0",oe.EDGE_KEY_DELIM=""})(P||(P={}));function L(oe,Wt){var pe=oe.get(Wt)||0;oe.set(Wt,pe+1)}function p(oe,Wt){var pe=oe.get(Wt);pe!==void 0&&(pe=pe-1,pe>0?oe.set(Wt,pe):oe.delete(Wt))}function g(oe,Wt,pe,_e){var xe=String(Wt),Ge=String(pe);if(!oe&&xe>Ge){var lr=xe;xe=Ge,Ge=lr}return xe+P.EDGE_KEY_DELIM+Ge+P.EDGE_KEY_DELIM+(_e===void 0?P.DEFAULT_EDGE_NAME:_e)}function S(oe,Wt,pe,_e){var xe=String(Wt),Ge=String(pe),lr={v:Wt,w:pe};if(!oe&&xe>Ge){var gr=lr.v;lr.v=lr.w,lr.w=gr}return _e!==void 0&&(lr.name=_e),lr}function E(oe,Wt){return g(oe,Wt.v,Wt.w,Wt.name)}function b(oe){return typeof oe=="function"}var A=function(Wt){return Wt.nodes().map(function(pe){var _e=Wt.node(pe),xe=Wt.parent(pe),Ge={id:pe,value:_e,parent:xe};return Ge.value===void 0&&delete Ge.value,Ge.parent===void 0&&delete Ge.parent,Ge})},x=function(Wt){return Wt.edges().map(function(pe){var _e=Wt.edge(pe),xe={v:pe.v,w:pe.w,value:_e,name:pe.name};return xe.name===void 0&&delete xe.name,xe.value===void 0&&delete xe.value,xe})},T=function(Wt){var pe={options:{directed:Wt.isDirected(),multigraph:Wt.isMultigraph(),compound:Wt.isCompound()},nodes:A(Wt),edges:x(Wt),value:Wt.graph()};return pe.value===void 0&&delete pe.value,pe},B=function(Wt){var pe=new K(Wt.options);return Wt.value!==void 0&&pe.setGraph(Wt.value),Wt.nodes.forEach(function(_e){pe.setNode(_e.id,_e.value),_e.parent&&pe.setParent(_e.id,_e.parent)}),Wt.edges.forEach(function(_e){pe.setEdge(_e.v,_e.w,_e.value,_e.name)}),pe};function m(oe,Wt){var pe=Object.keys(oe);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(oe);Wt&&(_e=_e.filter(function(xe){return Object.getOwnPropertyDescriptor(oe,xe).enumerable})),pe.push.apply(pe,_e)}return pe}function f(oe){for(var Wt=1;Wt<arguments.length;Wt++){var pe=arguments[Wt]!=null?arguments[Wt]:{};Wt%2?m(Object(pe),!0).forEach(function(_e){U(oe,_e,pe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(pe)):m(Object(pe)).forEach(function(_e){Object.defineProperty(oe,_e,Object.getOwnPropertyDescriptor(pe,_e))})}return oe}function U(oe,Wt,pe){return Wt in oe?Object.defineProperty(oe,Wt,{value:pe,enumerable:!0,configurable:!0,writable:!0}):oe[Wt]=pe,oe}function j(oe,Wt){if(!(oe instanceof Wt))throw new TypeError("Cannot call a class as a function")}function z(oe,Wt){for(var pe=0;pe<Wt.length;pe++){var _e=Wt[pe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(oe,_e.key,_e)}}function k(oe,Wt,pe){return Wt&&z(oe.prototype,Wt),pe&&z(oe,pe),Object.defineProperty(oe,"prototype",{writable:!1}),oe}var X={compound:!1,multigraph:!1,directed:!0},K=function(){function oe(){var Wt=this,pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};j(this,oe),this.directed=!0,this.multigraph=!1,this.compound=!1,this.GRAPH_NODE=P.GRAPH_NODE,this.label=void 0,this.nodeCountNum=0,this.edgeCountNum=0,this.defaultNodeLabelFn=function(){},this.defaultEdgeLabelFn=function(){},this.parentMap=void 0,this.childrenMap=void 0,this.nodesLabelMap=new Map,this.inEdgesMap=new Map,this.outEdgesMap=new Map,this.predecessorsMap=new Map,this.successorsMap=new Map,this.edgesMap=new Map,this.edgesLabelsMap=new Map,this.isDirected=function(){return Wt.directed},this.isMultigraph=function(){return Wt.multigraph},this.isCompound=function(){return Wt.compound},this.setGraph=function(xe){return Wt.label=xe,Wt},this.graph=function(){return Wt.label},this.setDefaultNodeLabel=function(xe){return b(xe)?Wt.defaultNodeLabelFn=xe:Wt.defaultNodeLabelFn=function(){return xe},Wt},this.nodeCount=function(){return Wt.nodeCountNum},this.node=function(xe){return Wt.nodesLabelMap.get(xe)},this.nodes=function(){return Array.from(Wt.nodesLabelMap.keys())},this.sources=function(){return Wt.nodes().filter(function(xe){var Ge;return!(!((Ge=Wt.inEdgesMap.get(xe))===null||Ge===void 0)&&Ge.size)})},this.sinks=function(){return Wt.nodes().filter(function(xe){var Ge;return!(!((Ge=Wt.outEdgesMap.get(xe))===null||Ge===void 0)&&Ge.size)})},this.setNodes=function(xe,Ge){return xe.map(function(lr){return Wt.setNode(lr,Ge)}),Wt},this.hasNode=function(xe){return Wt.nodesLabelMap.has(xe)},this.checkCompound=function(){if(!Wt.isCompound())throw new Error("Cannot construct parent-children relations in a non-compound graph")},this.parent=function(xe){if(Wt.isCompound()){var Ge,lr=(Ge=Wt.parentMap)===null||Ge===void 0?void 0:Ge.get(xe);if(lr!==Wt.GRAPH_NODE)return lr}},this.removeFromParentsChildList=function(xe){var Ge=Wt.parentMap.get(xe);Wt.childrenMap.get(Ge).delete(xe)},this.setParent=function(xe,Ge){var lr,gr;Wt.checkCompound();for(var Zr=Ge===void 0?Wt.GRAPH_NODE:Ge,Tn=Wt.parent(Zr);Tn;){if(xe===Tn)throw new Error("Setting "+Ge+" as parent of "+xe+" would create a cycle");Tn=Wt.parent(Tn)}Ge&&Wt.setNode(Ge),Wt.setNode(xe),Wt.removeFromParentsChildList(xe),(lr=Wt.parentMap)===null||lr===void 0||lr.set(xe,Zr);var an=Wt.childrenMap.get(Zr);return an.set(xe,!0),(gr=Wt.childrenMap)===null||gr===void 0||gr.set(Zr,an),Wt},this.children=function(xe){var Ge=xe===void 0?Wt.GRAPH_NODE:xe;if(Wt.isCompound()){var lr,gr=(lr=Wt.childrenMap)===null||lr===void 0?void 0:lr.get(Ge);return gr?Array.from(gr.keys()):void 0}if(Ge===Wt.GRAPH_NODE)return Wt.nodes();if(xe&&Wt.hasNode(xe))return[]},this.predecessors=function(xe){var Ge=Wt.predecessorsMap.get(xe);return Ge?Array.from(Ge.keys()):void 0},this.successors=function(xe){var Ge=Wt.successorsMap.get(xe);return Ge?Array.from(Ge.keys()):void 0},this.neighbors=function(xe){var Ge;if(Wt.hasNode(xe))return Array.from(new Set((Ge=Wt.predecessors(xe))===null||Ge===void 0?void 0:Ge.concat(Wt.successors(xe))))},this.isLeaf=function(xe){var Ge;if(Wt.isDirected()){var lr;return!(!((lr=Wt.successors(xe))===null||lr===void 0)&&lr.length)}return!(!((Ge=Wt.neighbors(xe))===null||Ge===void 0)&&Ge.length)},this.filterNodes=function(xe){var Ge=Wt.directed,lr=Wt.multigraph,gr=Wt.compound,Zr=new oe({directed:Ge,multigraph:lr,compound:gr});if(Zr.setGraph(Wt.graph()),Wt.nodes().forEach(function(an){xe(an)&&Zr.setNode(an,Wt.node(an))}),Wt.edges().forEach(function(an){Zr.hasNode(an.v)&&Zr.hasNode(an.w)&&Zr.setEdgeObj(an,Wt.edge(an))}),gr){var Tn=function(kn){for(var un=Wt.parent(kn);un!==void 0&&!Zr.hasNode(un);)un=Wt.parent(un);return un};Zr.nodes().forEach(function(an){Zr.setParent(an,Tn(an))})}return Zr},this.setDefaultEdgeLabel=function(xe){return b(xe)?Wt.defaultEdgeLabelFn=xe:Wt.defaultEdgeLabelFn=function(){return xe},Wt},this.edgeCount=function(){return Wt.edgeCountNum},this.setEdgeObj=function(xe,Ge){return Wt.setEdge(xe.v,xe.w,Ge,xe.name)},this.setPath=function(xe,Ge){return xe.reduce(function(lr,gr){return Wt.setEdge(lr,gr,Ge),gr}),Wt},this.edgeFromArgs=function(xe,Ge,lr){return Wt.edge({v:xe,w:Ge,name:lr})},this.edge=function(xe){return Wt.edgesLabelsMap.get(E(Wt.isDirected(),xe))},this.hasEdge=function(xe,Ge,lr){return Wt.edgesLabelsMap.has(E(Wt.isDirected(),{v:xe,w:Ge,name:lr}))},this.removeEdgeObj=function(xe){var Ge=xe.v,lr=xe.w,gr=xe.name;return Wt.removeEdge(Ge,lr,gr)},this.edges=function(){return Array.from(Wt.edgesMap.values())},this.inEdges=function(xe,Ge){var lr=Wt.inEdgesMap.get(xe);if(lr)return Array.from(lr.values()).filter(function(gr){return!Ge||gr.v===Ge})},this.outEdges=function(xe,Ge){var lr=Wt.outEdgesMap.get(xe);if(lr)return Array.from(lr.values()).filter(function(gr){return!Ge||gr.w===Ge})},this.nodeEdges=function(xe,Ge){var lr;if(Wt.hasNode(xe))return(lr=Wt.inEdges(xe,Ge))===null||lr===void 0?void 0:lr.concat(Wt.outEdges(xe,Ge))},this.toJSON=function(){return T(Wt)},this.nodeInDegree=function(xe){var Ge=Wt.inEdgesMap.get(xe);return Ge?Ge.size:0},this.nodeOutDegree=function(xe){var Ge=Wt.outEdgesMap.get(xe);return Ge?Ge.size:0},this.nodeDegree=function(xe){return Wt.nodeInDegree(xe)+Wt.nodeOutDegree(xe)},this.source=function(xe){return xe.v},this.target=function(xe){return xe.w};var _e=f(f({},X),pe);this.compound=_e.compound,this.directed=_e.directed,this.multigraph=_e.multigraph,this.compound&&(this.parentMap=new Map,this.childrenMap=new Map)}return k(oe,[{key:"setNode",value:function(pe,_e){var xe=this.nodesLabelMap,Ge=this.defaultNodeLabelFn,lr=this.isCompound,gr=this.parentMap,Zr=this.childrenMap,Tn=this.inEdgesMap,an=this.outEdgesMap,kn=this.predecessorsMap,un=this.successorsMap;if(xe.has(pe))return _e!==void 0&&xe.set(pe,_e),this;if(xe.set(pe,_e||Ge(pe)),lr()){var Bn;gr==null||gr.set(pe,this.GRAPH_NODE),Zr==null||Zr.set(pe,new Map),Zr!=null&&Zr.has(this.GRAPH_NODE)||Zr==null||Zr.set(this.GRAPH_NODE,new Map),Zr==null||(Bn=Zr.get(this.GRAPH_NODE))===null||Bn===void 0||Bn.set(pe,!0)}return[Tn,an,kn,un].forEach(function(Zn){return Zn.set(pe,new Map)}),this.nodeCountNum+=1,this}},{key:"removeNode",value:function(pe){var _e=this;if(this.hasNode(pe)){var xe=function(ra){_e.removeEdge(ra.v,ra.w,ra.name)},Ge=this.inEdgesMap,lr=this.outEdgesMap,gr=this.predecessorsMap,Zr=this.successorsMap,Tn=this.nodesLabelMap;if(this.isCompound()){var an,kn,un;this.removeFromParentsChildList(pe),(an=this.parentMap)===null||an===void 0||an.delete(pe),(kn=this.children(pe))===null||kn===void 0||kn.forEach(function(na){return _e.setParent(na)}),(un=this.childrenMap)===null||un===void 0||un.delete(pe)}var Bn=Ge.get(pe),Zn=lr.get(pe);Array.from(Bn.values()).forEach(function(na){return xe(na)}),Array.from(Zn.values()).forEach(function(na){return xe(na)}),Tn.delete(pe),Ge.delete(pe),lr.delete(pe),gr.delete(pe),Zr.delete(pe),this.nodeCountNum-=1}return this}},{key:"setEdge",value:function(pe,_e,xe,Ge){var lr,gr,Zr=S(this.isDirected(),pe,_e,Ge),Tn=E(this.isDirected(),Zr),an=Zr.v,kn=Zr.w;if(this.edgesLabelsMap.has(Tn))return this.edgesLabelsMap.set(Tn,xe),this;if(Ge!==void 0&&!this.isMultigraph())throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(an),this.setNode(kn),this.edgesLabelsMap.set(Tn,xe||this.defaultEdgeLabelFn(an,kn,Ge)),Object.freeze(Zr),this.edgesMap.set(Tn,Zr);var un=this.predecessorsMap.get(kn),Bn=this.successorsMap.get(an);return L(un,an),L(Bn,kn),(lr=this.inEdgesMap.get(kn))===null||lr===void 0||lr.set(Tn,Zr),(gr=this.outEdgesMap.get(an))===null||gr===void 0||gr.set(Tn,Zr),this.edgeCountNum+=1,this}},{key:"removeEdge",value:function(pe,_e,xe){var Ge=g(this.isDirected(),pe,_e,xe),lr=this.edgesMap.get(Ge);if(lr){var gr=S(this.isDirected(),pe,_e,xe),Zr=gr.v,Tn=gr.w;this.edgesLabelsMap.delete(Ge),this.edgesMap.delete(Ge);var an=this.predecessorsMap.get(Tn),kn=this.successorsMap.get(Zr);p(an,Zr),p(kn,Tn),this.inEdgesMap.get(Tn).delete(Ge),this.outEdgesMap.get(Zr).delete(Ge),this.edgeCountNum-=1}return this}}]),oe}();K.fromJSON=B;function tt(oe){return tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Wt){return typeof Wt}:function(Wt){return Wt&&typeof Symbol=="function"&&Wt.constructor===Symbol&&Wt!==Symbol.prototype?"symbol":typeof Wt},tt(oe)}function q(oe,Wt){if(!(oe instanceof Wt))throw new TypeError("Cannot call a class as a function")}function at(oe,Wt){for(var pe=0;pe<Wt.length;pe++){var _e=Wt[pe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(oe,_e.key,_e)}}function pt(oe,Wt,pe){return Wt&&at(oe.prototype,Wt),pe&&at(oe,pe),Object.defineProperty(oe,"prototype",{writable:!1}),oe}function ct(){return typeof Reflect!="undefined"&&Reflect.get?ct=Reflect.get:ct=function(Wt,pe,_e){var xe=St(Wt,pe);if(xe){var Ge=Object.getOwnPropertyDescriptor(xe,pe);return Ge.get?Ge.get.call(arguments.length<3?Wt:_e):Ge.value}},ct.apply(this,arguments)}function St(oe,Wt){for(;!Object.prototype.hasOwnProperty.call(oe,Wt)&&(oe=Ot(oe),oe!==null););return oe}function vt(oe,Wt){if(typeof Wt!="function"&&Wt!==null)throw new TypeError("Super expression must either be null or a function");oe.prototype=Object.create(Wt&&Wt.prototype,{constructor:{value:oe,writable:!0,configurable:!0}}),Object.defineProperty(oe,"prototype",{writable:!1}),Wt&&Lt(oe,Wt)}function Lt(oe,Wt){return Lt=Object.setPrototypeOf||function(_e,xe){return _e.__proto__=xe,_e},Lt(oe,Wt)}function Mt(oe){var Wt=rt();return function(){var _e=Ot(oe),xe;if(Wt){var Ge=Ot(this).constructor;xe=Reflect.construct(_e,arguments,Ge)}else xe=_e.apply(this,arguments);return wt(this,xe)}}function wt(oe,Wt){if(Wt&&(tt(Wt)==="object"||typeof Wt=="function"))return Wt;if(Wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return et(oe)}function et(oe){if(oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}function rt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}function Ot(oe){return Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},Ot(oe)}var Dt=function(oe){vt(pe,oe);var Wt=Mt(pe);function pe(){var _e;q(this,pe);for(var xe=arguments.length,Ge=new Array(xe),lr=0;lr<xe;lr++)Ge[lr]=arguments[lr];return _e=Wt.call.apply(Wt,[this].concat(Ge)),_e.eventPool={},_e}return pt(pe,[{key:"appendEvent",value:function(xe,Ge){this.eventPool[xe]||(this.eventPool[xe]=[]),this.eventPool[xe].push(Ge)}},{key:"removeEvent",value:function(xe,Ge){if(this.eventPool[xe]){var lr=this.eventPool[xe].indexOf(Ge);lr>-1&&this.eventPool[xe].splice(lr,1)}}},{key:"emitEvent",value:function(xe){for(var Ge=arguments.length,lr=new Array(Ge>1?Ge-1:0),gr=1;gr<Ge;gr++)lr[gr-1]=arguments[gr];this.eventPool[xe]&&this.eventPool[xe].forEach(function(Zr){Zr.apply(void 0,lr)})}},{key:"setNode",value:function(xe,Ge){return ct(Ot(pe.prototype),"setNode",this).call(this,xe,Ge),this.emitEvent("nodeAdd",xe,Ge),this}},{key:"removeNode",value:function(xe){return ct(Ot(pe.prototype),"removeNode",this).call(this,xe),this.emitEvent("nodeRemove",xe),this}},{key:"setEdge",value:function(xe,Ge,lr,gr){return ct(Ot(pe.prototype),"setEdge",this).call(this,xe,Ge,lr,gr),this.emitEvent("edgeAdd",xe,Ge,lr,gr),this}},{key:"removeEdge",value:function(xe,Ge,lr){return ct(Ot(pe.prototype),"removeEdge",this).call(this,xe,Ge,lr),this.emitEvent("edgeRemove",xe,Ge,lr),this}}]),pe}(K);function ot(oe,Wt){for(var pe=0;pe<Wt.length;pe++){var _e=Wt[pe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(oe,_e.key,_e)}}function xt(oe,Wt,pe){return Wt&&ot(oe.prototype,Wt),pe&&ot(oe,pe),Object.defineProperty(oe,"prototype",{writable:!1}),oe}function Nt(oe,Wt){if(!(oe instanceof Wt))throw new TypeError("Cannot call a class as a function")}var Yt=xt(function oe(){var Wt=this;Nt(this,oe),this.arr=[],this.keyIndice=new Map,this.size=function(){return Wt.arr.length},this.keys=function(){return Wt.arr.map(function(pe){return pe.key})},this.has=function(pe){return Wt.keyIndice.has(pe)},this.priority=function(pe){var _e=Wt.keyIndice.get(pe);if(_e!==void 0)return Wt.arr[_e].priority},this.swap=function(pe,_e){var xe=Wt.arr,Ge=Wt.keyIndice,lr=[xe[pe],xe[_e]],gr=lr[0],Zr=lr[1];xe[pe]=Zr,xe[_e]=gr,Ge.set(gr.key,_e),Ge.set(Zr.key,pe)},this.innerDecrease=function(pe){for(var _e=Wt.arr,xe=_e[pe].priority,Ge,lr=pe;lr!==0;){var gr;if(Ge=lr>>1,((gr=_e[Ge])===null||gr===void 0?void 0:gr.priority)<xe)break;Wt.swap(lr,Ge),lr=Ge}},this.heapify=function(pe){var _e=Wt.arr,xe=pe<<1,Ge=xe+1,lr=pe;xe<_e.length&&(lr=_e[xe].priority<_e[lr].priority?xe:lr,Ge<_e.length&&(lr=_e[Ge].priority<_e[lr].priority?Ge:lr),lr!==pe&&(Wt.swap(pe,lr),Wt.heapify(lr)))},this.min=function(){if(Wt.size()===0)throw new Error("Queue underflow");return Wt.arr[0].key},this.add=function(pe,_e){var xe=Wt.keyIndice,Ge=Wt.arr;if(!xe.has(pe)){var lr=Ge.length;return xe.set(pe,lr),Ge.push({key:pe,priority:_e}),Wt.innerDecrease(lr),!0}return!1},this.removeMin=function(){Wt.swap(0,Wt.arr.length-1);var pe=Wt.arr.pop();return Wt.keyIndice.delete(pe.key),Wt.heapify(0),pe.key},this.decrease=function(pe,_e){if(!Wt.has(pe))throw new Error("There's no key named ".concat(pe));var xe=Wt.keyIndice.get(pe);if(_e>Wt.arr[xe].priority)throw new Error("New priority is greater than current priority.Key: ".concat(pe," Old: + ").concat(Wt.arr[xe].priority," New: ").concat(_e));Wt.arr[xe].priority=_e,Wt.innerDecrease(xe)}}),Ct=function(Wt,pe){var _e=new K,xe=new Map,Ge=new Yt,lr;function gr(an){var kn=an.v===lr?an.w:an.v,un=Ge.priority(kn);if(un!==void 0){var Bn=pe(an);Bn<un&&(xe.set(kn,lr),Ge.decrease(kn,Bn))}}if(Wt.nodeCount()===0)return _e;Wt.nodes().forEach(function(an){Ge.add(an,Number.POSITIVE_INFINITY),_e.setNode(an)}),Ge.decrease(Wt.nodes()[0],0);for(var Zr=!1;Ge.size()>0;){var Tn;if(lr=Ge.removeMin(),xe.has(lr))_e.setEdge(lr,xe.get(lr));else{if(Zr)throw new Error("Input graph is not connected: "+Wt.graph());Zr=!0}(Tn=Wt.nodeEdges(lr))===null||Tn===void 0||Tn.forEach(gr)}return _e},Xt=Ct,Zt=function(Wt){var pe=new Set,_e=[],xe=Wt.nodes();return xe.forEach(function(Ge){for(var lr=[],gr=[Ge];gr.length>0;){var Zr=gr.pop();if(!pe.has(Zr)){var Tn,an;pe.add(Zr),lr.push(Zr),(Tn=Wt.successors(Zr))===null||Tn===void 0||Tn.forEach(function(kn){return gr.push(kn)}),(an=Wt.predecessors(Zr))===null||an===void 0||an.forEach(function(kn){return gr.push(kn)})}}lr.length&&_e.push(lr)}),_e},se=Zt,ie=function oe(Wt,pe,_e,xe,Ge,lr){xe.includes(pe)||(xe.push(pe),_e||lr.push(pe),Ge(pe).forEach(function(gr){return oe(Wt,gr,_e,xe,Ge,lr)}),_e&&lr.push(pe))},zt=function(Wt,pe,_e){var xe=Array.isArray(pe)?pe:[pe],Ge=function(Tn){return Wt.isDirected()?Wt.successors(Tn):Wt.neighbors(Tn)},lr=[],gr=[];return xe.forEach(function(Zr){if(Wt.hasNode(Zr))ie(Wt,Zr,_e==="post",gr,Ge,lr);else throw new Error("Graph does not have node: "+Zr)}),lr},ae=zt;function Re(oe,Wt){return ee(oe)||ye(oe,Wt)||ue(oe,Wt)||Jt()}function Jt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ue(oe,Wt){if(oe){if(typeof oe=="string")return ke(oe,Wt);var pe=Object.prototype.toString.call(oe).slice(8,-1);if(pe==="Object"&&oe.constructor&&(pe=oe.constructor.name),pe==="Map"||pe==="Set")return Array.from(oe);if(pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pe))return ke(oe,Wt)}}function ke(oe,Wt){(Wt==null||Wt>oe.length)&&(Wt=oe.length);for(var pe=0,_e=new Array(Wt);pe<Wt;pe++)_e[pe]=oe[pe];return _e}function ye(oe,Wt){var pe=oe==null?null:typeof Symbol!="undefined"&&oe[Symbol.iterator]||oe["@@iterator"];if(pe!=null){var _e=[],xe=!0,Ge=!1,lr,gr;try{for(pe=pe.call(oe);!(xe=(lr=pe.next()).done)&&(_e.push(lr.value),!(Wt&&_e.length===Wt));xe=!0);}catch(Zr){Ge=!0,gr=Zr}finally{try{!xe&&pe.return!=null&&pe.return()}finally{if(Ge)throw gr}}return _e}}function ee(oe){if(Array.isArray(oe))return oe}var Ut=function(){return 1},bt=function(Wt,pe,_e,xe){return Ft(Wt,pe,_e||Ut,xe||function(Ge){return Wt.outEdges(Ge)})},Ft=function(Wt,pe,_e,xe){var Ge=new Map,lr=new Yt,gr,Zr,Tn=function(un){var Bn=un.v!==gr?un.v:un.w,Zn=Ge.get(Bn),na=_e(un),ra=Zr.distance+na;if(na<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+un+" Weight: "+na);ra<Zn.distance&&(Zn.distance=ra,Zn.predecessor=gr,lr.decrease(Bn,ra))};for(Wt.nodes().forEach(function(kn){var un=kn===pe?0:Number.POSITIVE_INFINITY;Ge.set(kn,{distance:un}),lr.add(kn,un)});lr.size()>0&&(gr=lr.removeMin(),Zr=Ge.get(gr),!(Zr&&Zr.distance===Number.POSITIVE_INFINITY));)xe(gr).forEach(Tn);var an={};return Array.from(Ge.entries()).forEach(function(kn){var un=Re(kn,2),Bn=un[0],Zn=un[1];return an[String(Bn)]=Zn,an}),an},be=bt,qe=function(Wt,pe,_e){var xe={};return Wt.nodes().forEach(function(Ge){return xe[String(Ge)]=be(Wt,Ge,pe,_e),xe}),xe},Pe=qe,Ze=function(Wt){var pe=0,_e=[],xe=new Map,Ge=[];function lr(gr){var Zr,Tn={onStack:!0,lowlink:pe,index:pe};if(xe.set(gr,Tn),pe+=1,_e.push(gr),(Zr=Wt.successors(gr))===null||Zr===void 0||Zr.forEach(function(Bn){var Zn;if(xe.has(Bn)){if(!((Zn=xe.get(Bn))===null||Zn===void 0)&&Zn.onStack){var ra=xe.get(Bn);Tn.lowlink=Math.min(Tn.lowlink,ra.index)}}else{lr(Bn);var na=xe.get(Bn);Tn.lowlink=Math.min(Tn.lowlink,na.lowlink)}}),Tn.lowlink===Tn.index){var an=[],kn;do{kn=_e.pop();var un=xe.get(kn);un.onStack=!1,an.push(kn)}while(gr!==kn);Ge.push(an)}}return Wt.nodes().forEach(function(gr){xe.has(gr)||lr(gr)}),Ge},Qe=Ze,Ar=function(Wt){return Qe(Wt).filter(function(pe){return pe.length>1||pe.length===1&&Wt.hasEdge(pe[0],pe[0])})},Hr=Ar;function Jr(oe){return Jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Wt){return typeof Wt}:function(Wt){return Wt&&typeof Symbol=="function"&&Wt.constructor===Symbol&&Wt!==Symbol.prototype?"symbol":typeof Wt},Jr(oe)}function Cr(oe,Wt){for(var pe=0;pe<Wt.length;pe++){var _e=Wt[pe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(oe,_e.key,_e)}}function bn(oe,Wt,pe){return Wt&&Cr(oe.prototype,Wt),pe&&Cr(oe,pe),Object.defineProperty(oe,"prototype",{writable:!1}),oe}function Yr(oe,Wt){if(!(oe instanceof Wt))throw new TypeError("Cannot call a class as a function")}function Xe(oe,Wt){if(typeof Wt!="function"&&Wt!==null)throw new TypeError("Super expression must either be null or a function");oe.prototype=Object.create(Wt&&Wt.prototype,{constructor:{value:oe,writable:!0,configurable:!0}}),Object.defineProperty(oe,"prototype",{writable:!1}),Wt&&Or(oe,Wt)}function Ae(oe){var Wt=ir();return function(){var _e=sn(oe),xe;if(Wt){var Ge=sn(this).constructor;xe=Reflect.construct(_e,arguments,Ge)}else xe=_e.apply(this,arguments);return Ue(this,xe)}}function Ue(oe,Wt){if(Wt&&(Jr(Wt)==="object"||typeof Wt=="function"))return Wt;if(Wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jr(oe)}function jr(oe){if(oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}function Br(oe){var Wt=typeof Map=="function"?new Map:void 0;return Br=function(_e){if(_e===null||!mn(_e))return _e;if(typeof _e!="function")throw new TypeError("Super expression must either be null or a function");if(typeof Wt!="undefined"){if(Wt.has(_e))return Wt.get(_e);Wt.set(_e,xe)}function xe(){return Sn(_e,arguments,sn(this).constructor)}return xe.prototype=Object.create(_e.prototype,{constructor:{value:xe,enumerable:!1,writable:!0,configurable:!0}}),Or(xe,_e)},Br(oe)}function Sn(oe,Wt,pe){return ir()?Sn=Reflect.construct:Sn=function(xe,Ge,lr){var gr=[null];gr.push.apply(gr,Ge);var Zr=Function.bind.apply(xe,gr),Tn=new Zr;return lr&&Or(Tn,lr.prototype),Tn},Sn.apply(null,arguments)}function ir(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}function mn(oe){return Function.toString.call(oe).indexOf("[native code]")!==-1}function Or(oe,Wt){return Or=Object.setPrototypeOf||function(_e,xe){return _e.__proto__=xe,_e},Or(oe,Wt)}function sn(oe){return sn=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},sn(oe)}var ln=function(oe){Xe(pe,oe);var Wt=Ae(pe);function pe(){return Yr(this,pe),Wt.apply(this,arguments)}return bn(pe)}(Br(Error));function cn(oe){var Wt=new Set,pe=new Set,_e=[];function xe(Ge){if(pe.has(Ge))throw new ln;if(!Wt.has(Ge)){var lr;pe.add(Ge),Wt.add(Ge),(lr=oe.predecessors(Ge))===null||lr===void 0||lr.forEach(xe),pe.delete(Ge),_e.push(Ge)}}if(oe.sinks().forEach(xe),Wt.size!==oe.nodeCount())throw new ln;return _e}var Cn=cn,V=function(Wt){try{Cn(Wt)}catch(pe){if(pe instanceof ln)return!1;throw pe}return!0},$t=V,Q=function(Wt,pe){return ae(Wt,pe,"post")},gt=Q,lt=function(Wt,pe){return ae(Wt,pe,"pre")},Gt=lt,Qt=function(){return 1};function he(oe,Wt,pe){return de(oe,Wt||Qt,pe||function(_e){return oe.outEdges(_e)})}function de(oe,Wt,pe){var _e={},xe=oe.nodes();return xe.forEach(function(Ge){var lr=String(Ge);_e[lr]={},_e[lr][lr]={distance:0},xe.forEach(function(gr){Ge!==gr&&(_e[lr][String(gr)]={distance:Number.POSITIVE_INFINITY})}),pe(Ge).forEach(function(gr){var Zr=gr.v===Ge?gr.w:gr.v,Tn=Wt(gr);_e[lr][String(Zr)]={distance:Tn,predecessor:Ge}})}),xe.forEach(function(Ge){var lr=String(Ge),gr=_e[lr];xe.forEach(function(Zr){var Tn=String(Zr),an=_e[Tn];xe.forEach(function(kn){var un=String(kn),Bn=an[lr],Zn=gr[un],na=an[un],ra=Bn.distance+Zn.distance;ra<na.distance&&(na.distance=ra,na.predecessor=Zn.predecessor)})})}),_e}var fe=he,it=function(Wt,pe){for(var _e=Wt.nodes(),xe=0;xe<_e.length;xe++){var Ge=_e[xe];if(pe.hasNode(Ge))return!0}return!1},ft=function(Wt,pe){for(var _e=Wt.edges(),xe=0;xe<_e.length;xe++){var Ge=_e[xe];if(pe.hasEdge(Ge.v,Ge.w,Ge.name))return!0}return!1},G=function(Wt,pe){var _e=Wt.nodes(),xe=_e.filter(function(Ge){return pe.hasNode(Ge)});return xe},O=function(Wt,pe){var _e=Wt.edges(),xe=_e.filter(function(Ge){return pe.hasEdge(Ge.v,Ge.w,Ge.name)});return xe},D=function(Wt,pe){return Wt.isCompound()===pe.isCompound()&&Wt.isDirected()===pe.isDirected()&&Wt.isMultigraph()===pe.isMultigraph()},$=function(Wt,pe){var _e=G(Wt,pe);return _e.length===Wt.nodes().length},mt=function(Wt,pe){var _e=O(Wt,pe);return _e.length===Wt.edges().length},kt=function(Wt,pe){return D(Wt,pe)&&Wt.nodeCount()===pe.nodeCount()&&$(Wt,pe)&&Wt.edgeCount()===pe.edgeCount()&&mt(Wt,pe)},Rt=function(Wt,pe){return $(Wt,pe)&&mt(Wt,pe)};function qt(oe,Wt){return He(oe)||vr(oe,Wt)||Me(oe,Wt)||Le()}function Le(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Me(oe,Wt){if(oe){if(typeof oe=="string")return Ke(oe,Wt);var pe=Object.prototype.toString.call(oe).slice(8,-1);if(pe==="Object"&&oe.constructor&&(pe=oe.constructor.name),pe==="Map"||pe==="Set")return Array.from(oe);if(pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pe))return Ke(oe,Wt)}}function Ke(oe,Wt){(Wt==null||Wt>oe.length)&&(Wt=oe.length);for(var pe=0,_e=new Array(Wt);pe<Wt;pe++)_e[pe]=oe[pe];return _e}function vr(oe,Wt){var pe=oe==null?null:typeof Symbol!="undefined"&&oe[Symbol.iterator]||oe["@@iterator"];if(pe!=null){var _e=[],xe=!0,Ge=!1,lr,gr;try{for(pe=pe.call(oe);!(xe=(lr=pe.next()).done)&&(_e.push(lr.value),!(Wt&&_e.length===Wt));xe=!0);}catch(Zr){Ge=!0,gr=Zr}finally{try{!xe&&pe.return!=null&&pe.return()}finally{if(Ge)throw gr}}return _e}}function He(oe){if(Array.isArray(oe))return oe}function Rr(oe){return oe instanceof K}function fn(oe){if(oe.isMultigraph())return!1;for(var Wt=oe.edges(),pe=new Map,_e=0;_e<Wt.length;_e++){var xe=Wt[_e];if(xe.v===xe.w)return!1;var Ge=[xe.v,xe.w].sort(),lr=qt(Ge,2),gr=lr[0],Zr=lr[1],Tn="".concat(gr,"-").concat(Zr);if(pe.has(Tn))return!1;pe.set(Tn,!0)}return!0}function Je(oe){return oe.nodes().length===0}function pr(oe){for(var Wt=oe.edges(),pe=0;pe<Wt.length;pe++){var _e=Wt[pe];if(_e.v===_e.w)return!0}return!1}var kr=function(Wt,pe){if(!fn(Wt)||!fn(pe)||!$(Wt,pe)||ft(Wt,pe))return!1;var _e=Wt.nodeCount();return Wt.edgeCount()+pe.edgeCount()===_e*(_e-1)/2},Pr=function(Wt){if(!fn(Wt))return null;for(var pe=Wt.nodeCount(),_e=new K({compound:Wt.isCompound(),directed:Wt.isDirected(),multigraph:Wt.isMultigraph()}),xe=Wt.nodes(),Ge=0;Ge<pe;Ge++){var lr=xe[Ge];_e.setNode(lr,Wt.node(lr));for(var gr=Ge+1;gr<pe;gr++){var Zr=xe[gr];Wt.hasEdge(lr,Zr)||_e.setEdge(lr,Zr)}}return _e}},981746:function(Ve){(function(_,y){Ve.exports=y()})(typeof self!="undefined"?self:this,function(){return function(W){var _={};function y(R){if(_[R])return _[R].exports;var w=_[R]={i:R,l:!1,exports:{}};return W[R].call(w.exports,w,w.exports,y),w.l=!0,w.exports}return y.m=W,y.c=_,y.d=function(R,w,M){y.o(R,w)||Object.defineProperty(R,w,{configurable:!1,enumerable:!0,get:M})},y.n=function(R){var w=R&&R.__esModule?function(){return R.default}:function(){return R};return y.d(w,"a",w),w},y.o=function(R,w){return Object.prototype.hasOwnProperty.call(R,w)},y.p="",y(y.s=36)}([function(W,_,y){"use strict";var R=y(3);_.a=function(w){return Array.isArray?Array.isArray(w):Object(R.a)(w,"Array")}},function(W,_,y){"use strict";var R=function(w){return w!==null&&typeof w!="function"&&isFinite(w.length)};_.a=R},function(W,_,y){"use strict";var R=y(3);_.a=function(w){return Object(R.a)(w,"Function")}},function(W,_,y){"use strict";var R={}.toString,w=function(M,P){return R.call(M)==="[object "+P+"]"};_.a=w},function(W,_,y){"use strict";var R=y(3);_.a=function(w){return Object(R.a)(w,"String")}},function(W,_,y){"use strict";var R=y(3),w=function(M){return Object(R.a)(M,"Number")};_.a=w},function(W,_,y){var R=y(38),w=R.mix;function M(P,L,p,g){return g===void 0&&(g="height"),p==="center"?(P[g]+L[g])/2:P.height}W.exports={assign:w,getHeight:M}},function(W,_,y){"use strict";var R=function(w){return w==null};_.a=R},function(W,_,y){"use strict";var R=y(0),w=y(12);function M(P,L){if(P){var p;if(Object(R.a)(P))for(var g=0,S=P.length;g<S&&(p=L(P[g],g),p!==!1);g++);else if(Object(w.a)(P)){for(var E in P)if(P.hasOwnProperty(E)&&(p=L(P[E],E),p===!1))break}}}_.a=M},function(W,_,y){"use strict";var R=y(7);_.a=function(w){return Object(R.a)(w)?"":w.toString()}},function(W,_,y){"use strict";var R=y(14),w=y(3),M=function(P){if(!Object(R.a)(P)||!Object(w.a)(P,"Object"))return!1;if(Object.getPrototypeOf(P)===null)return!0;for(var L=P;Object.getPrototypeOf(L)!==null;)L=Object.getPrototypeOf(L);return Object.getPrototypeOf(P)===L};_.a=M},function(W,_,y){var R=y(18),w=function(){function M(L,p){p===void 0&&(p={});var g=this;g.options=p,g.rootNode=R(L,p)}var P=M.prototype;return P.execute=function(){throw new Error("please override this method")},M}();W.exports=w},function(W,_,y){"use strict";_.a=function(R){var w=typeof R;return R!==null&&w==="object"||w==="function"}},function(W,_,y){"use strict";var R=y(1),w=function(M,P){return Object(R.a)(M)?M.indexOf(P)>-1:!1};_.a=w},function(W,_,y){"use strict";var R=function(w){return typeof w=="object"&&w!==null};_.a=R},function(W,_,y){"use strict";var R=y(8),w=y(2),M=Object.values?function(P){return Object.values(P)}:function(P){var L=[];return Object(R.a)(P,function(p,g){Object(w.a)(P)&&g==="prototype"||L.push(p)}),L};_.a=M},function(W,_,y){"use strict";_.a=w;function R(M,P){for(var L in P)P.hasOwnProperty(L)&&L!=="constructor"&&P[L]!==void 0&&(M[L]=P[L])}function w(M,P,L,p){return P&&R(M,P),L&&R(M,L),p&&R(M,p),M}},function(W,_,y){var R=y(35),w=["LR","RL","TB","BT","H","V"],M=["LR","RL","H"],P=function(g){return M.indexOf(g)>-1},L=w[0];W.exports=function(p,g,S){var E=g.direction||L;if(g.isHorizontal=P(E),E&&w.indexOf(E)===-1)throw new TypeError("Invalid direction: "+E);if(E===w[0])S(p,g);else if(E===w[1])S(p,g),p.right2left();else if(E===w[2])S(p,g);else if(E===w[3])S(p,g),p.bottom2top();else if(E===w[4]||E===w[5]){var b=R(p,g),A=b.left,x=b.right;S(A,g),S(x,g),g.isHorizontal?A.right2left():A.bottom2top(),x.translate(A.x-x.x,A.y-x.y),p.x=A.x,p.y=x.y;var T=p.getBoundingBox();g.isHorizontal?T.top<0&&p.translate(0,-T.top):T.left<0&&p.translate(-T.left,0)}var B=g.fixedRoot;return B===void 0&&(B=!0),B&&p.translate(-(p.x+p.width/2+p.hgap),-(p.y+p.height/2+p.vgap)),p}},function(W,_,y){var R=y(6),w=18,M=w*2,P=w,L={getId:function(E){return E.id||E.name},getPreH:function(E){return E.preH||0},getPreV:function(E){return E.preV||0},getHGap:function(E){return E.hgap||P},getVGap:function(E){return E.vgap||P},getChildren:function(E){return E.children},getHeight:function(E){return E.height||M},getWidth:function(E){var b=E.label||" ";return E.width||b.split("").length*w}};function p(S,E){var b=this;if(b.vgap=b.hgap=0,S instanceof p)return S;b.data=S;var A=E.getHGap(S),x=E.getVGap(S);return b.preH=E.getPreH(S),b.preV=E.getPreV(S),b.width=E.getWidth(S),b.height=E.getHeight(S),b.width+=b.preH,b.height+=b.preV,b.id=E.getId(S),b.x=b.y=0,b.depth=0,b.children||(b.children=[]),b.addGap(A,x),b}R.assign(p.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(E,b){var A=this;A.hgap+=E,A.vgap+=b,A.width+=2*E,A.height+=2*b},eachNode:function(E){for(var b=this,A=[b],x;x=A.shift();)E(x),A=x.children.concat(A)},DFTraverse:function(E){this.eachNode(E)},BFTraverse:function(E){for(var b=this,A=[b],x;x=A.shift();)E(x),A=A.concat(x.children)},getBoundingBox:function(){var E={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(b){E.left=Math.min(E.left,b.x),E.top=Math.min(E.top,b.y),E.width=Math.max(E.width,b.x+b.width),E.height=Math.max(E.height,b.y+b.height)}),E},translate:function(E,b){E===void 0&&(E=0),b===void 0&&(b=0),this.eachNode(function(A){A.x+=E,A.y+=b,A.x+=A.preH,A.y+=A.preV})},right2left:function(){var E=this,b=E.getBoundingBox();E.eachNode(function(A){A.x=A.x-(A.x-b.left)*2-A.width}),E.translate(b.width,0)},bottom2top:function(){var E=this,b=E.getBoundingBox();E.eachNode(function(A){A.y=A.y-(A.y-b.top)*2-A.height}),E.translate(0,b.height)}});function g(S,E,b){E===void 0&&(E={}),E=R.assign({},L,E);var A=new p(S,E),x=[A],T;if(!b&&!S.collapsed){for(;T=x.shift();)if(!T.data.collapsed){var B=E.getChildren(T.data),m=B?B.length:0;if(T.children=new Array(m),B&&m)for(var f=0;f<m;f++){var U=new p(B[f],E);T.children[f]=U,x.push(U),U.parent=T,U.depth=T.depth+1}}}return A}W.exports=g},function(W,_,y){"use strict";var R=y(1),w=function(M,P){if(!Object(R.a)(M))return M;for(var L=[],p=0;p<M.length;p++){var g=M[p];P(g,p)&&L.push(g)}return L};_.a=w},function(W,_,y){"use strict";var R=y(7),w=y(21);function M(P,L){var p=Object(w.a)(L),g=p.length;if(Object(R.a)(P))return!g;for(var S=0;S<g;S+=1){var E=p[S];if(L[E]!==P[E]||!(E in P))return!1}return!0}_.a=M},function(W,_,y){"use strict";var R=y(8),w=y(2),M=Object.keys?function(P){return Object.keys(P)}:function(P){var L=[];return Object(R.a)(P,function(p,g){Object(w.a)(P)&&g==="prototype"||L.push(g)}),L};_.a=M},function(W,_,y){"use strict";var R=y(0);_.a=function(w){if(Object(R.a)(w))return w.reduce(function(M,P){return Math.max(M,P)},w[0])}},function(W,_,y){"use strict";var R=y(0);_.a=function(w){if(Object(R.a)(w))return w.reduce(function(M,P){return Math.min(M,P)},w[0])}},function(W,_,y){"use strict";var R=y(1),w=Array.prototype.splice,M=function(L,p){if(!Object(R.a)(L))return[];for(var g=L?p.length:0,S=g-1;g--;){var E=void 0,b=p[g];(g===S||b!==E)&&(E=b,w.call(L,b,1))}return L};_.a=M},function(W,_,y){"use strict";var R=y(8),w=y(0),M=y(10),P=function(L,p,g){if(!Object(w.a)(L)&&!Object(M.a)(L))return L;var S=g;return Object(R.a)(L,function(E,b){S=p(S,E,b)}),S};_.a=P},function(W,_,y){"use strict";_.a=R;function R(w,M){M===void 0&&(M=new Map);var P=[];if(Array.isArray(w))for(var L=0,p=w.length;L<p;L++){var g=w[L];M.has(g)||(P.push(g),M.set(g,!0))}return P}},function(W,_,y){"use strict";_.a=P;var R=y(0),w=y(2),M=y(28);function P(L,p){if(!p)return{0:L};if(!Object(w.a)(p)){var g=Object(R.a)(p)?p:p.replace(/\s+/g,"").split("*");p=function(S){for(var E="_",b=0,A=g.length;b<A;b++)E+=S[g[b]]&&S[g[b]].toString();return E}}return Object(M.a)(L,p)}},function(W,_,y){"use strict";var R=y(0),w=y(2),M=Object.prototype.hasOwnProperty;function P(L,p){if(!p||!Object(R.a)(L))return{};for(var g={},S=Object(w.a)(p)?p:function(x){return x[p]},E,b=0;b<L.length;b++){var A=L[b];E=S(A),M.call(g,E)?g[E].push(A):g[E]=[A]}return g}_.a=P},function(W,_,y){"use strict";_.a=function(R,w){return R.hasOwnProperty(w)}},function(W,_,y){"use strict";var R={}.toString,w=function(M){return R.call(M).replace(/^\[object /,"").replace(/]$/,"")};_.a=w},function(W,_,y){"use strict";var R=Object.prototype,w=function(M){var P=M&&M.constructor,L=typeof P=="function"&&P.prototype||R;return M===L};_.a=w},function(W,_,y){"use strict";var R=y(2);_.a=function(w,M){if(!Object(R.a)(w))throw new TypeError("Expected a function");var P=function(){for(var L=[],p=0;p<arguments.length;p++)L[p]=arguments[p];var g=M?M.apply(this,L):L[0],S=P.cache;if(S.has(g))return S.get(g);var E=w.apply(this,L);return S.set(g,E),E};return P.cache=new Map,P}},function(W,_,y){"use strict";var R=y(14),w=y(1),M=y(4),P=function(L,p){if(L===p)return!0;if(!L||!p||Object(M.a)(L)||Object(M.a)(p))return!1;if(Object(w.a)(L)||Object(w.a)(p)){if(L.length!==p.length)return!1;for(var g=!0,S=0;S<L.length&&(g=P(L[S],p[S]),!!g);S++);return g}if(Object(R.a)(L)||Object(R.a)(p)){var E=Object.keys(L),b=Object.keys(p);if(E.length!==b.length)return!1;for(var g=!0,S=0;S<E.length&&(g=P(L[E[S]],p[E[S]]),!!g);S++);return g}return!1};_.a=P},function(W,_,y){"use strict";var R=y(116),w=y(15),M=y(32),P=y(4),L;_.a=Object(M.a)(function(p,g){g===void 0&&(g={});var S=g.fontSize,E=g.fontFamily,b=g.fontWeight,A=g.fontStyle,x=g.fontVariant;return L||(L=document.createElement("canvas").getContext("2d")),L.font=[A,x,b,S+"px",E].join(" "),L.measureText(Object(P.a)(p)?p:"").width},function(p,g){return g===void 0&&(g={}),Object(R.a)([p],Object(w.a)(g)).join("")})},function(W,_,y){var R=y(18);W.exports=function(w,M){for(var P=R(w.data,M,!0),L=R(w.data,M,!0),p=w.children.length,g=Math.round(p/2),S=M.getSide||function(x,T){return T<g?"right":"left"},E=0;E<p;E++){var b=w.children[E],A=S(b,E);A==="right"?L.children.push(b):P.children.push(b)}return P.eachNode(function(x){x.isRoot()||(x.side="left")}),L.eachNode(function(x){x.isRoot()||(x.side="right")}),{left:P,right:L}}},function(W,_,y){var R={compactBox:y(37),dendrogram:y(120),indented:y(122),mindmap:y(124)};W.exports=R},function(W,_,y){function R(b,A){b.prototype=Object.create(A.prototype),b.prototype.constructor=b,w(b,A)}function w(b,A){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,B){return T.__proto__=B,T},w(b,A)}var M=y(11),P=y(119),L=y(17),p=y(6),g=function(b){R(A,b);function A(){return b.apply(this,arguments)||this}var x=A.prototype;return x.execute=function(){var B=this;return L(B.rootNode,B.options,P)},A}(M),S={};function E(b,A){return A=p.assign({},S,A),new g(b,A).execute()}W.exports=E},function(W,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var R=y(13);y.d(_,"contains",function(){return R.a}),y.d(_,"includes",function(){return R.a});var w=y(39);y.d(_,"difference",function(){return w.a});var M=y(40);y.d(_,"find",function(){return M.a});var P=y(41);y.d(_,"findIndex",function(){return P.a});var L=y(42);y.d(_,"firstValue",function(){return L.a});var p=y(43);y.d(_,"flatten",function(){return p.a});var g=y(44);y.d(_,"flattenDeep",function(){return g.a});var S=y(45);y.d(_,"getRange",function(){return S.a});var E=y(46);y.d(_,"pull",function(){return E.a});var b=y(24);y.d(_,"pullAt",function(){return b.a});var A=y(25);y.d(_,"reduce",function(){return A.a});var x=y(47);y.d(_,"remove",function(){return x.a});var T=y(48);y.d(_,"sortBy",function(){return T.a});var B=y(49);y.d(_,"union",function(){return B.a});var m=y(26);y.d(_,"uniq",function(){return m.a});var f=y(50);y.d(_,"valuesOfKey",function(){return f.a});var U=y(51);y.d(_,"head",function(){return U.a});var j=y(52);y.d(_,"last",function(){return j.a});var z=y(53);y.d(_,"startsWith",function(){return z.a});var k=y(54);y.d(_,"endsWith",function(){return k.a});var X=y(19);y.d(_,"filter",function(){return X.a});var K=y(55);y.d(_,"every",function(){return K.a});var tt=y(56);y.d(_,"some",function(){return tt.a});var q=y(57);y.d(_,"group",function(){return q.a});var at=y(28);y.d(_,"groupBy",function(){return at.a});var pt=y(27);y.d(_,"groupToMap",function(){return pt.a});var ct=y(58);y.d(_,"getWrapBehavior",function(){return ct.a});var St=y(59);y.d(_,"wrapBehavior",function(){return St.a});var vt=y(60);y.d(_,"number2color",function(){return vt.a});var Lt=y(61);y.d(_,"parseRadius",function(){return Lt.a});var Mt=y(62);y.d(_,"clamp",function(){return Mt.a});var wt=y(63);y.d(_,"fixedBase",function(){return wt.a});var et=y(64);y.d(_,"isDecimal",function(){return et.a});var rt=y(65);y.d(_,"isEven",function(){return rt.a});var Ot=y(66);y.d(_,"isInteger",function(){return Ot.a});var Dt=y(67);y.d(_,"isNegative",function(){return Dt.a});var ot=y(68);y.d(_,"isNumberEqual",function(){return ot.a});var xt=y(69);y.d(_,"isOdd",function(){return xt.a});var Nt=y(70);y.d(_,"isPositive",function(){return Nt.a});var Yt=y(22);y.d(_,"max",function(){return Yt.a});var Ct=y(71);y.d(_,"maxBy",function(){return Ct.a});var Xt=y(23);y.d(_,"min",function(){return Xt.a});var Zt=y(72);y.d(_,"minBy",function(){return Zt.a});var se=y(73);y.d(_,"mod",function(){return se.a});var ie=y(74);y.d(_,"toDegree",function(){return ie.a});var zt=y(75);y.d(_,"toInteger",function(){return zt.a});var ae=y(76);y.d(_,"toRadian",function(){return ae.a});var Re=y(77);y.d(_,"forIn",function(){return Re.a});var Jt=y(29);y.d(_,"has",function(){return Jt.a});var ue=y(78);y.d(_,"hasKey",function(){return ue.a});var ke=y(79);y.d(_,"hasValue",function(){return ke.a});var ye=y(21);y.d(_,"keys",function(){return ye.a});var ee=y(20);y.d(_,"isMatch",function(){return ee.a});var Ut=y(15);y.d(_,"values",function(){return Ut.a});var bt=y(80);y.d(_,"lowerCase",function(){return bt.a});var Ft=y(81);y.d(_,"lowerFirst",function(){return Ft.a});var be=y(82);y.d(_,"substitute",function(){return be.a});var qe=y(83);y.d(_,"upperCase",function(){return qe.a});var Pe=y(84);y.d(_,"upperFirst",function(){return Pe.a});var Ze=y(30);y.d(_,"getType",function(){return Ze.a});var Qe=y(85);y.d(_,"isArguments",function(){return Qe.a});var Ar=y(0);y.d(_,"isArray",function(){return Ar.a});var Hr=y(1);y.d(_,"isArrayLike",function(){return Hr.a});var Jr=y(86);y.d(_,"isBoolean",function(){return Jr.a});var Cr=y(87);y.d(_,"isDate",function(){return Cr.a});var bn=y(88);y.d(_,"isError",function(){return bn.a});var Yr=y(2);y.d(_,"isFunction",function(){return Yr.a});var Xe=y(89);y.d(_,"isFinite",function(){return Xe.a});var Ae=y(7);y.d(_,"isNil",function(){return Ae.a});var Ue=y(90);y.d(_,"isNull",function(){return Ue.a});var jr=y(5);y.d(_,"isNumber",function(){return jr.a});var Br=y(12);y.d(_,"isObject",function(){return Br.a});var Sn=y(14);y.d(_,"isObjectLike",function(){return Sn.a});var ir=y(10);y.d(_,"isPlainObject",function(){return ir.a});var mn=y(31);y.d(_,"isPrototype",function(){return mn.a});var Or=y(91);y.d(_,"isRegExp",function(){return Or.a});var sn=y(4);y.d(_,"isString",function(){return sn.a});var ln=y(3);y.d(_,"isType",function(){return ln.a});var cn=y(92);y.d(_,"isUndefined",function(){return cn.a});var Cn=y(93);y.d(_,"isElement",function(){return Cn.a});var V=y(94);y.d(_,"requestAnimationFrame",function(){return V.a});var $t=y(95);y.d(_,"clearAnimationFrame",function(){return $t.a});var Q=y(96);y.d(_,"augment",function(){return Q.a});var gt=y(97);y.d(_,"clone",function(){return gt.a});var lt=y(98);y.d(_,"debounce",function(){return lt.a});var Gt=y(32);y.d(_,"memoize",function(){return Gt.a});var Qt=y(99);y.d(_,"deepMix",function(){return Qt.a});var he=y(8);y.d(_,"each",function(){return he.a});var de=y(100);y.d(_,"extend",function(){return de.a});var fe=y(101);y.d(_,"indexOf",function(){return fe.a});var it=y(102);y.d(_,"isEmpty",function(){return it.a});var ft=y(33);y.d(_,"isEqual",function(){return ft.a});var G=y(103);y.d(_,"isEqualWith",function(){return G.a});var O=y(104);y.d(_,"map",function(){return O.a});var D=y(105);y.d(_,"mapValues",function(){return D.a});var $=y(16);y.d(_,"mix",function(){return $.a}),y.d(_,"assign",function(){return $.a});var mt=y(106);y.d(_,"get",function(){return mt.a});var kt=y(107);y.d(_,"set",function(){return kt.a});var Rt=y(108);y.d(_,"pick",function(){return Rt.a});var qt=y(109);y.d(_,"omit",function(){return qt.a});var Le=y(110);y.d(_,"throttle",function(){return Le.a});var Me=y(111);y.d(_,"toArray",function(){return Me.a});var Ke=y(9);y.d(_,"toString",function(){return Ke.a});var vr=y(112);y.d(_,"uniqueId",function(){return vr.a});var He=y(113);y.d(_,"noop",function(){return He.a});var Rr=y(114);y.d(_,"identity",function(){return Rr.a});var fn=y(115);y.d(_,"size",function(){return fn.a});var Je=y(34);y.d(_,"measureTextWidth",function(){return Je.a});var pr=y(117);y.d(_,"getEllipsisText",function(){return pr.a});var kr=y(118);y.d(_,"Cache",function(){return kr.a})},function(W,_,y){"use strict";var R=y(19),w=y(13),M=function(P,L){return L===void 0&&(L=[]),Object(R.a)(P,function(p){return!Object(w.a)(L,p)})};_.a=M},function(W,_,y){"use strict";var R=y(2),w=y(20),M=y(0),P=y(10);function L(p,g){if(!Object(M.a)(p))return null;var S;if(Object(R.a)(g)&&(S=g),Object(P.a)(g)&&(S=function(b){return Object(w.a)(b,g)}),S){for(var E=0;E<p.length;E+=1)if(S(p[E]))return p[E]}return null}_.a=L},function(W,_,y){"use strict";function R(w,M,P){P===void 0&&(P=0);for(var L=P;L<w.length;L++)if(M(w[L],L))return L;return-1}_.a=R},function(W,_,y){"use strict";var R=y(7),w=y(0),M=function(P,L){for(var p=null,g=0;g<P.length;g++){var S=P[g],E=S[L];if(!Object(R.a)(E)){Object(w.a)(E)?p=E[0]:p=E;break}}return p};_.a=M},function(W,_,y){"use strict";var R=y(0),w=function(M){if(!Object(R.a)(M))return[];for(var P=[],L=0;L<M.length;L++)P=P.concat(M[L]);return P};_.a=w},function(W,_,y){"use strict";var R=y(0),w=function(M,P){if(P===void 0&&(P=[]),!Object(R.a)(M))P.push(M);else for(var L=0;L<M.length;L+=1)w(M[L],P);return P};_.a=w},function(W,_,y){"use strict";var R=y(0),w=y(22),M=y(23),P=function(L){var p=L.filter(function(A){return!isNaN(A)});if(!p.length)return{min:0,max:0};if(Object(R.a)(L[0])){for(var g=[],S=0;S<L.length;S++)g=g.concat(L[S]);p=g}var E=Object(w.a)(p),b=Object(M.a)(p);return{min:b,max:E}};_.a=P},function(W,_,y){"use strict";var R=Array.prototype,w=R.splice,M=R.indexOf,P=function(L){for(var p=[],g=1;g<arguments.length;g++)p[g-1]=arguments[g];for(var S=0;S<p.length;S++)for(var E=p[S],b=-1;(b=M.call(L,E))>-1;)w.call(L,b,1);return L};_.a=P},function(W,_,y){"use strict";var R=y(1),w=y(24),M=function(P,L){var p=[];if(!Object(R.a)(P))return p;for(var g=-1,S=[],E=P.length;++g<E;){var b=P[g];L(b,g,P)&&(p.push(b),S.push(g))}return Object(w.a)(P,S),p};_.a=M},function(W,_,y){"use strict";var R=y(0),w=y(4),M=y(2);function P(L,p){var g;if(Object(M.a)(p))g=function(E,b){return p(E)-p(b)};else{var S=[];Object(w.a)(p)?S.push(p):Object(R.a)(p)&&(S=p),g=function(E,b){for(var A=0;A<S.length;A+=1){var x=S[A];if(E[x]>b[x])return 1;if(E[x]<b[x])return-1}return 0}}return L.sort(g),L}_.a=P},function(W,_,y){"use strict";var R=y(26),w=function(){for(var M=[],P=0;P<arguments.length;P++)M[P]=arguments[P];return Object(R.a)([].concat.apply([],M))};_.a=w},function(W,_,y){"use strict";var R=y(0),w=y(7);_.a=function(M,P){for(var L=[],p={},g=0;g<M.length;g++){var S=M[g],E=S[P];if(!Object(w.a)(E)){Object(R.a)(E)||(E=[E]);for(var b=0;b<E.length;b++){var A=E[b];p[A]||(L.push(A),p[A]=!0)}}}return L}},function(W,_,y){"use strict";_.a=w;var R=y(1);function w(M){if(Object(R.a)(M))return M[0]}},function(W,_,y){"use strict";_.a=w;var R=y(1);function w(M){if(Object(R.a)(M)){var P=M;return P[P.length-1]}}},function(W,_,y){"use strict";var R=y(0),w=y(4);function M(P,L){return Object(R.a)(P)||Object(w.a)(P)?P[0]===L:!1}_.a=M},function(W,_,y){"use strict";var R=y(0),w=y(4);function M(P,L){return Object(R.a)(P)||Object(w.a)(P)?P[P.length-1]===L:!1}_.a=M},function(W,_,y){"use strict";var R=function(w,M){for(var P=0;P<w.length;P++)if(!M(w[P],P))return!1;return!0};_.a=R},function(W,_,y){"use strict";var R=function(w,M){for(var P=0;P<w.length;P++)if(M(w[P],P))return!0;return!1};_.a=R},function(W,_,y){"use strict";var R=y(27);_.a=function(w,M){if(!M)return[w];var P=Object(R.a)(w,M),L=[];for(var p in P)L.push(P[p]);return L}},function(W,_,y){"use strict";function R(w,M){return w["_wrap_"+M]}_.a=R},function(W,_,y){"use strict";function R(w,M){if(w["_wrap_"+M])return w["_wrap_"+M];var P=function(L){w[M](L)};return w["_wrap_"+M]=P,P}_.a=R},function(W,_,y){"use strict";var R={};function w(M){var P=R[M];if(!P){for(var L=M.toString(16),p=L.length;p<6;p++)L="0"+L;P="#"+L,R[M]=P}return P}_.a=w},function(W,_,y){"use strict";var R=y(0);function w(M){var P=0,L=0,p=0,g=0;return Object(R.a)(M)?M.length===1?P=L=p=g=M[0]:M.length===2?(P=p=M[0],L=g=M[1]):M.length===3?(P=M[0],L=g=M[1],p=M[2]):(P=M[0],L=M[1],p=M[2],g=M[3]):P=L=p=g=M,{r1:P,r2:L,r3:p,r4:g}}_.a=w},function(W,_,y){"use strict";var R=function(w,M,P){return w<M?M:w>P?P:w};_.a=R},function(W,_,y){"use strict";var R=function(w,M){var P=M.toString(),L=P.indexOf(".");if(L===-1)return Math.round(w);var p=P.substr(L+1).length;return p>20&&(p=20),parseFloat(w.toFixed(p))};_.a=R},function(W,_,y){"use strict";var R=y(5),w=function(M){return Object(R.a)(M)&&M%1!==0};_.a=w},function(W,_,y){"use strict";var R=y(5),w=function(M){return Object(R.a)(M)&&M%2===0};_.a=w},function(W,_,y){"use strict";var R=y(5),w=Number.isInteger?Number.isInteger:function(M){return Object(R.a)(M)&&M%1===0};_.a=w},function(W,_,y){"use strict";var R=y(5),w=function(M){return Object(R.a)(M)&&M<0};_.a=w},function(W,_,y){"use strict";_.a=w;var R=1e-5;function w(M,P,L){return L===void 0&&(L=R),Math.abs(M-P)<L}},function(W,_,y){"use strict";var R=y(5),w=function(M){return Object(R.a)(M)&&M%2!==0};_.a=w},function(W,_,y){"use strict";var R=y(5),w=function(M){return Object(R.a)(M)&&M>0};_.a=w},function(W,_,y){"use strict";var R=y(0),w=y(2);_.a=function(M,P){if(Object(R.a)(M)){for(var L,p=-1/0,g=0;g<M.length;g++){var S=M[g],E=Object(w.a)(P)?P(S):S[P];E>p&&(L=S,p=E)}return L}}},function(W,_,y){"use strict";var R=y(0),w=y(2);_.a=function(M,P){if(Object(R.a)(M)){for(var L,p=1/0,g=0;g<M.length;g++){var S=M[g],E=Object(w.a)(P)?P(S):S[P];E<p&&(L=S,p=E)}return L}}},function(W,_,y){"use strict";var R=function(w,M){return(w%M+M)%M};_.a=R},function(W,_,y){"use strict";var R=180/Math.PI,w=function(M){return R*M};_.a=w},function(W,_,y){"use strict";_.a=parseInt},function(W,_,y){"use strict";var R=Math.PI/180,w=function(M){return R*M};_.a=w},function(W,_,y){"use strict";var R=y(8);_.a=R.a},function(W,_,y){"use strict";var R=y(29);_.a=R.a},function(W,_,y){"use strict";var R=y(13),w=y(15);_.a=function(M,P){return Object(R.a)(Object(w.a)(M),P)}},function(W,_,y){"use strict";var R=y(9),w=function(M){return Object(R.a)(M).toLowerCase()};_.a=w},function(W,_,y){"use strict";var R=y(9),w=function(M){var P=Object(R.a)(M);return P.charAt(0).toLowerCase()+P.substring(1)};_.a=w},function(W,_,y){"use strict";function R(w,M){return!w||!M?w:w.replace(/\\?\{([^{}]+)\}/g,function(P,L){return P.charAt(0)==="\\"?P.slice(1):M[L]===void 0?"":M[L]})}_.a=R},function(W,_,y){"use strict";var R=y(9),w=function(M){return Object(R.a)(M).toUpperCase()};_.a=w},function(W,_,y){"use strict";var R=y(9),w=function(M){var P=Object(R.a)(M);return P.charAt(0).toUpperCase()+P.substring(1)};_.a=w},function(W,_,y){"use strict";var R=y(3),w=function(M){return Object(R.a)(M,"Arguments")};_.a=w},function(W,_,y){"use strict";var R=y(3),w=function(M){return Object(R.a)(M,"Boolean")};_.a=w},function(W,_,y){"use strict";var R=y(3),w=function(M){return Object(R.a)(M,"Date")};_.a=w},function(W,_,y){"use strict";var R=y(3),w=function(M){return Object(R.a)(M,"Error")};_.a=w},function(W,_,y){"use strict";var R=y(5);_.a=function(w){return Object(R.a)(w)&&isFinite(w)}},function(W,_,y){"use strict";var R=function(w){return w===null};_.a=R},function(W,_,y){"use strict";var R=y(3),w=function(M){return Object(R.a)(M,"RegExp")};_.a=w},function(W,_,y){"use strict";var R=function(w){return w===void 0};_.a=R},function(W,_,y){"use strict";var R=function(w){return w instanceof Element||w instanceof HTMLDocument};_.a=R},function(W,_,y){"use strict";_.a=R;function R(w){var M=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(P){return setTimeout(P,16)};return M(w)}},function(W,_,y){"use strict";_.a=R;function R(w){var M=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;M(w)}},function(W,_,y){"use strict";var R=y(16),w=y(2),M=function(){for(var P=[],L=0;L<arguments.length;L++)P[L]=arguments[L];for(var p=P[0],g=1;g<P.length;g++){var S=P[g];Object(w.a)(S)&&(S=S.prototype),Object(R.a)(p.prototype,S)}};_.a=M},function(W,_,y){"use strict";var R=y(0),w=function(M){if(typeof M!="object"||M===null)return M;var P;if(Object(R.a)(M)){P=[];for(var L=0,p=M.length;L<p;L++)typeof M[L]=="object"&&M[L]!=null?P[L]=w(M[L]):P[L]=M[L]}else{P={};for(var g in M)typeof M[g]=="object"&&M[g]!=null?P[g]=w(M[g]):P[g]=M[g]}return P};_.a=w},function(W,_,y){"use strict";function R(w,M,P){var L;return function(){var p=this,g=arguments,S=function(){L=null,P||w.apply(p,g)},E=P&&!L;clearTimeout(L),L=setTimeout(S,M),E&&w.apply(p,g)}}_.a=R},function(W,_,y){"use strict";var R=y(0),w=y(10),M=5;function P(p,g,S,E){S=S||0,E=E||M;for(var b in g)if(g.hasOwnProperty(b)){var A=g[b];A!==null&&Object(w.a)(A)?(Object(w.a)(p[b])||(p[b]={}),S<E?P(p[b],A,S+1,E):p[b]=g[b]):Object(R.a)(A)?(p[b]=[],p[b]=p[b].concat(A)):A!==void 0&&(p[b]=A)}}var L=function(p){for(var g=[],S=1;S<arguments.length;S++)g[S-1]=arguments[S];for(var E=0;E<g.length;E+=1)P(p,g[E]);return p};_.a=L},function(W,_,y){"use strict";var R=y(16),w=y(2),M=function(P,L,p,g){Object(w.a)(L)||(p=L,L=P,P=function(){});var S=Object.create?function(b,A){return Object.create(b,{constructor:{value:A}})}:function(b,A){function x(){}x.prototype=b;var T=new x;return T.constructor=A,T},E=S(L.prototype,P);return P.prototype=Object(R.a)(E,P.prototype),P.superclass=S(L.prototype,L),Object(R.a)(E,p),Object(R.a)(P,g),P};_.a=M},function(W,_,y){"use strict";var R=y(1),w=function(M,P){if(!Object(R.a)(M))return-1;var L=Array.prototype.indexOf;if(L)return L.call(M,P);for(var p=-1,g=0;g<M.length;g++)if(M[g]===P){p=g;break}return p};_.a=w},function(W,_,y){"use strict";var R=y(7),w=y(1),M=y(30),P=y(31),L=Object.prototype.hasOwnProperty;function p(g){if(Object(R.a)(g))return!0;if(Object(w.a)(g))return!g.length;var S=Object(M.a)(g);if(S==="Map"||S==="Set")return!g.size;if(Object(P.a)(g))return!Object.keys(g).length;for(var E in g)if(L.call(g,E))return!1;return!0}_.a=p},function(W,_,y){"use strict";var R=y(2),w=y(33);_.a=function(M,P,L){return Object(R.a)(L)?!!L(M,P):Object(w.a)(M,P)}},function(W,_,y){"use strict";var R=y(1),w=function(M,P){if(!Object(R.a)(M))return M;for(var L=[],p=0;p<M.length;p++){var g=M[p];L.push(P(g,p))}return L};_.a=w},function(W,_,y){"use strict";var R=y(7),w=y(12),M=function(P){return P};_.a=function(P,L){L===void 0&&(L=M);var p={};return Object(w.a)(P)&&!Object(R.a)(P)&&Object.keys(P).forEach(function(g){p[g]=L(P[g],g)}),p}},function(W,_,y){"use strict";var R=y(4);_.a=function(w,M,P){for(var L=0,p=Object(R.a)(M)?M.split("."):M;w&&L<p.length;)w=w[p[L++]];return w===void 0||L<p.length?P:w}},function(W,_,y){"use strict";var R=y(12),w=y(4),M=y(5);_.a=function(P,L,p){var g=P,S=Object(w.a)(L)?L.split("."):L;return S.forEach(function(E,b){b<S.length-1?(Object(R.a)(g[E])||(g[E]=Object(M.a)(S[b+1])?[]:{}),g=g[E]):g[E]=p}),P}},function(W,_,y){"use strict";var R=y(8),w=y(10),M=Object.prototype.hasOwnProperty;_.a=function(P,L){if(P===null||!Object(w.a)(P))return{};var p={};return Object(R.a)(L,function(g){M.call(P,g)&&(p[g]=P[g])}),p}},function(W,_,y){"use strict";var R=y(25);_.a=function(w,M){return Object(R.a)(w,function(P,L,p){return M.includes(p)||(P[p]=L),P},{})}},function(W,_,y){"use strict";_.a=function(R,w,M){var P,L,p,g,S=0;M||(M={});var E=function(){S=M.leading===!1?0:Date.now(),P=null,g=R.apply(L,p),P||(L=p=null)},b=function(){var A=Date.now();!S&&M.leading===!1&&(S=A);var x=w-(A-S);return L=this,p=arguments,x<=0||x>w?(P&&(clearTimeout(P),P=null),S=A,g=R.apply(L,p),P||(L=p=null)):!P&&M.trailing!==!1&&(P=setTimeout(E,x)),g};return b.cancel=function(){clearTimeout(P),S=0,P=L=p=null},b}},function(W,_,y){"use strict";var R=y(1);_.a=function(w){return Object(R.a)(w)?Array.prototype.slice.call(w):[]}},function(W,_,y){"use strict";var R={};_.a=function(w){return w=w||"g",R[w]?R[w]+=1:R[w]=1,w+R[w]}},function(W,_,y){"use strict";_.a=function(){}},function(W,_,y){"use strict";_.a=function(R){return R}},function(W,_,y){"use strict";_.a=M;var R=y(7),w=y(1);function M(P){return Object(R.a)(P)?0:Object(w.a)(P)?P.length:Object.keys(P).length}},function(W,_,y){"use strict";_.a=z;var R=function(wt,et){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rt,Ot){rt.__proto__=Ot}||function(rt,Ot){for(var Dt in Ot)Object.prototype.hasOwnProperty.call(Ot,Dt)&&(rt[Dt]=Ot[Dt])},R(wt,et)};function w(wt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Class extends value "+String(et)+" is not a constructor or null");R(wt,et);function rt(){this.constructor=wt}wt.prototype=et===null?Object.create(et):(rt.prototype=et.prototype,new rt)}var M=function(){return M=Object.assign||function(et){for(var rt,Ot=1,Dt=arguments.length;Ot<Dt;Ot++){rt=arguments[Ot];for(var ot in rt)Object.prototype.hasOwnProperty.call(rt,ot)&&(et[ot]=rt[ot])}return et},M.apply(this,arguments)};function P(wt,et){var rt={};for(var Ot in wt)Object.prototype.hasOwnProperty.call(wt,Ot)&&et.indexOf(Ot)<0&&(rt[Ot]=wt[Ot]);if(wt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Dt=0,Ot=Object.getOwnPropertySymbols(wt);Dt<Ot.length;Dt++)et.indexOf(Ot[Dt])<0&&Object.prototype.propertyIsEnumerable.call(wt,Ot[Dt])&&(rt[Ot[Dt]]=wt[Ot[Dt]]);return rt}function L(wt,et,rt,Ot){var Dt=arguments.length,ot=Dt<3?et:Ot===null?Ot=Object.getOwnPropertyDescriptor(et,rt):Ot,xt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ot=Reflect.decorate(wt,et,rt,Ot);else for(var Nt=wt.length-1;Nt>=0;Nt--)(xt=wt[Nt])&&(ot=(Dt<3?xt(ot):Dt>3?xt(et,rt,ot):xt(et,rt))||ot);return Dt>3&&ot&&Object.defineProperty(et,rt,ot),ot}function p(wt,et){return function(rt,Ot){et(rt,Ot,wt)}}function g(wt,et,rt,Ot,Dt,ot){function xt(Jt){if(Jt!==void 0&&typeof Jt!="function")throw new TypeError("Function expected");return Jt}for(var Nt=Ot.kind,Yt=Nt==="getter"?"get":Nt==="setter"?"set":"value",Ct=!et&&wt?Ot.static?wt:wt.prototype:null,Xt=et||(Ct?Object.getOwnPropertyDescriptor(Ct,Ot.name):{}),Zt,se=!1,ie=rt.length-1;ie>=0;ie--){var zt={};for(var ae in Ot)zt[ae]=ae==="access"?{}:Ot[ae];for(var ae in Ot.access)zt.access[ae]=Ot.access[ae];zt.addInitializer=function(Jt){if(se)throw new TypeError("Cannot add initializers after decoration has completed");ot.push(xt(Jt||null))};var Re=(0,rt[ie])(Nt==="accessor"?{get:Xt.get,set:Xt.set}:Xt[Yt],zt);if(Nt==="accessor"){if(Re===void 0)continue;if(Re===null||typeof Re!="object")throw new TypeError("Object expected");(Zt=xt(Re.get))&&(Xt.get=Zt),(Zt=xt(Re.set))&&(Xt.set=Zt),(Zt=xt(Re.init))&&Dt.push(Zt)}else(Zt=xt(Re))&&(Nt==="field"?Dt.push(Zt):Xt[Yt]=Zt)}Ct&&Object.defineProperty(Ct,Ot.name,Xt),se=!0}function S(wt,et,rt){for(var Ot=arguments.length>2,Dt=0;Dt<et.length;Dt++)rt=Ot?et[Dt].call(wt,rt):et[Dt].call(wt);return Ot?rt:void 0}function E(wt){return typeof wt=="symbol"?wt:"".concat(wt)}function b(wt,et,rt){return typeof et=="symbol"&&(et=et.description?"[".concat(et.description,"]"):""),Object.defineProperty(wt,"name",{configurable:!0,value:rt?"".concat(rt," ",et):et})}function A(wt,et){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(wt,et)}function x(wt,et,rt,Ot){function Dt(ot){return ot instanceof rt?ot:new rt(function(xt){xt(ot)})}return new(rt||(rt=Promise))(function(ot,xt){function Nt(Xt){try{Ct(Ot.next(Xt))}catch(Zt){xt(Zt)}}function Yt(Xt){try{Ct(Ot.throw(Xt))}catch(Zt){xt(Zt)}}function Ct(Xt){Xt.done?ot(Xt.value):Dt(Xt.value).then(Nt,Yt)}Ct((Ot=Ot.apply(wt,et||[])).next())})}function T(wt,et){var rt={label:0,sent:function(){if(ot[0]&1)throw ot[1];return ot[1]},trys:[],ops:[]},Ot,Dt,ot,xt;return xt={next:Nt(0),throw:Nt(1),return:Nt(2)},typeof Symbol=="function"&&(xt[Symbol.iterator]=function(){return this}),xt;function Nt(Ct){return function(Xt){return Yt([Ct,Xt])}}function Yt(Ct){if(Ot)throw new TypeError("Generator is already executing.");for(;xt&&(xt=0,Ct[0]&&(rt=0)),rt;)try{if(Ot=1,Dt&&(ot=Ct[0]&2?Dt.return:Ct[0]?Dt.throw||((ot=Dt.return)&&ot.call(Dt),0):Dt.next)&&!(ot=ot.call(Dt,Ct[1])).done)return ot;switch(Dt=0,ot&&(Ct=[Ct[0]&2,ot.value]),Ct[0]){case 0:case 1:ot=Ct;break;case 4:return rt.label++,{value:Ct[1],done:!1};case 5:rt.label++,Dt=Ct[1],Ct=[0];continue;case 7:Ct=rt.ops.pop(),rt.trys.pop();continue;default:if(ot=rt.trys,!(ot=ot.length>0&&ot[ot.length-1])&&(Ct[0]===6||Ct[0]===2)){rt=0;continue}if(Ct[0]===3&&(!ot||Ct[1]>ot[0]&&Ct[1]<ot[3])){rt.label=Ct[1];break}if(Ct[0]===6&&rt.label<ot[1]){rt.label=ot[1],ot=Ct;break}if(ot&&rt.label<ot[2]){rt.label=ot[2],rt.ops.push(Ct);break}ot[2]&&rt.ops.pop(),rt.trys.pop();continue}Ct=et.call(wt,rt)}catch(Xt){Ct=[6,Xt],Dt=0}finally{Ot=ot=0}if(Ct[0]&5)throw Ct[1];return{value:Ct[0]?Ct[1]:void 0,done:!0}}}var B=Object.create?function(wt,et,rt,Ot){Ot===void 0&&(Ot=rt);var Dt=Object.getOwnPropertyDescriptor(et,rt);(!Dt||("get"in Dt?!et.__esModule:Dt.writable||Dt.configurable))&&(Dt={enumerable:!0,get:function(){return et[rt]}}),Object.defineProperty(wt,Ot,Dt)}:function(wt,et,rt,Ot){Ot===void 0&&(Ot=rt),wt[Ot]=et[rt]};function m(wt,et){for(var rt in wt)rt!=="default"&&!Object.prototype.hasOwnProperty.call(et,rt)&&B(et,wt,rt)}function f(wt){var et=typeof Symbol=="function"&&Symbol.iterator,rt=et&&wt[et],Ot=0;if(rt)return rt.call(wt);if(wt&&typeof wt.length=="number")return{next:function(){return wt&&Ot>=wt.length&&(wt=void 0),{value:wt&&wt[Ot++],done:!wt}}};throw new TypeError(et?"Object is not iterable.":"Symbol.iterator is not defined.")}function U(wt,et){var rt=typeof Symbol=="function"&&wt[Symbol.iterator];if(!rt)return wt;var Ot=rt.call(wt),Dt,ot=[],xt;try{for(;(et===void 0||et-- >0)&&!(Dt=Ot.next()).done;)ot.push(Dt.value)}catch(Nt){xt={error:Nt}}finally{try{Dt&&!Dt.done&&(rt=Ot.return)&&rt.call(Ot)}finally{if(xt)throw xt.error}}return ot}function j(){for(var wt=[],et=0;et<arguments.length;et++)wt=wt.concat(U(arguments[et]));return wt}function z(){for(var wt=0,et=0,rt=arguments.length;et<rt;et++)wt+=arguments[et].length;for(var Ot=Array(wt),Dt=0,et=0;et<rt;et++)for(var ot=arguments[et],xt=0,Nt=ot.length;xt<Nt;xt++,Dt++)Ot[Dt]=ot[xt];return Ot}function k(wt,et,rt){if(rt||arguments.length===2)for(var Ot=0,Dt=et.length,ot;Ot<Dt;Ot++)(ot||!(Ot in et))&&(ot||(ot=Array.prototype.slice.call(et,0,Ot)),ot[Ot]=et[Ot]);return wt.concat(ot||Array.prototype.slice.call(et))}function X(wt){return this instanceof X?(this.v=wt,this):new X(wt)}function K(wt,et,rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ot=rt.apply(wt,et||[]),Dt,ot=[];return Dt={},xt("next"),xt("throw"),xt("return"),Dt[Symbol.asyncIterator]=function(){return this},Dt;function xt(se){Ot[se]&&(Dt[se]=function(ie){return new Promise(function(zt,ae){ot.push([se,ie,zt,ae])>1||Nt(se,ie)})})}function Nt(se,ie){try{Yt(Ot[se](ie))}catch(zt){Zt(ot[0][3],zt)}}function Yt(se){se.value instanceof X?Promise.resolve(se.value.v).then(Ct,Xt):Zt(ot[0][2],se)}function Ct(se){Nt("next",se)}function Xt(se){Nt("throw",se)}function Zt(se,ie){se(ie),ot.shift(),ot.length&&Nt(ot[0][0],ot[0][1])}}function tt(wt){var et,rt;return et={},Ot("next"),Ot("throw",function(Dt){throw Dt}),Ot("return"),et[Symbol.iterator]=function(){return this},et;function Ot(Dt,ot){et[Dt]=wt[Dt]?function(xt){return(rt=!rt)?{value:X(wt[Dt](xt)),done:!1}:ot?ot(xt):xt}:ot}}function q(wt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et=wt[Symbol.asyncIterator],rt;return et?et.call(wt):(wt=typeof f=="function"?f(wt):wt[Symbol.iterator](),rt={},Ot("next"),Ot("throw"),Ot("return"),rt[Symbol.asyncIterator]=function(){return this},rt);function Ot(ot){rt[ot]=wt[ot]&&function(xt){return new Promise(function(Nt,Yt){xt=wt[ot](xt),Dt(Nt,Yt,xt.done,xt.value)})}}function Dt(ot,xt,Nt,Yt){Promise.resolve(Yt).then(function(Ct){ot({value:Ct,done:Nt})},xt)}}function at(wt,et){return Object.defineProperty?Object.defineProperty(wt,"raw",{value:et}):wt.raw=et,wt}var pt=Object.create?function(wt,et){Object.defineProperty(wt,"default",{enumerable:!0,value:et})}:function(wt,et){wt.default=et};function ct(wt){if(wt&&wt.__esModule)return wt;var et={};if(wt!=null)for(var rt in wt)rt!=="default"&&Object.prototype.hasOwnProperty.call(wt,rt)&&B(et,wt,rt);return pt(et,wt),et}function St(wt){return wt&&wt.__esModule?wt:{default:wt}}function vt(wt,et,rt,Ot){if(rt==="a"&&!Ot)throw new TypeError("Private accessor was defined without a getter");if(typeof et=="function"?wt!==et||!Ot:!et.has(wt))throw new TypeError("Cannot read private member from an object whose class did not declare it");return rt==="m"?Ot:rt==="a"?Ot.call(wt):Ot?Ot.value:et.get(wt)}function Lt(wt,et,rt,Ot,Dt){if(Ot==="m")throw new TypeError("Private method is not writable");if(Ot==="a"&&!Dt)throw new TypeError("Private accessor was defined without a setter");if(typeof et=="function"?wt!==et||!Dt:!et.has(wt))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Ot==="a"?Dt.call(wt,rt):Dt?Dt.value=rt:et.set(wt,rt),rt}function Mt(wt,et){if(et===null||typeof et!="object"&&typeof et!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof wt=="function"?et===wt:wt.has(et)}},function(W,_,y){"use strict";var R=y(4),w=y(9),M=y(34);_.a=function(P,L,p,g){g===void 0&&(g="...");var S=16,E=Object(M.a)(g,p),b=Object(R.a)(P)?P:Object(w.a)(P),A=L,x=[],T,B;if(Object(M.a)(P,p)<=L)return P;for(;T=b.substr(0,S),B=Object(M.a)(T,p),!(B+E>A&&B>A);)if(x.push(T),A-=B,b=b.substr(S),!b)return x.join("");for(;T=b.substr(0,1),B=Object(M.a)(T,p),!(B+E>A);)if(x.push(T),A-=B,b=b.substr(1),!b)return x.join("");return""+x.join("")+g}},function(W,_,y){"use strict";var R=function(){function w(){this.map={}}return w.prototype.has=function(M){return this.map[M]!==void 0},w.prototype.get=function(M,P){var L=this.map[M];return L===void 0?P:L},w.prototype.set=function(M,P){this.map[M]=P},w.prototype.clear=function(){this.map={}},w.prototype.delete=function(M){delete this.map[M]},w.prototype.size=function(){return Object.keys(this.map).length},w}();_.a=R},function(W,_){function y(p,g,S,E){E===void 0&&(E=[]);var b=this;b.w=p||0,b.h=g||0,b.y=S||0,b.x=0,b.c=E||[],b.cs=E.length,b.prelim=0,b.mod=0,b.shift=0,b.change=0,b.tl=null,b.tr=null,b.el=null,b.er=null,b.msel=0,b.mser=0}y.fromNode=function(p,g){if(!p)return null;var S=[];return p.children.forEach(function(E){S.push(y.fromNode(E,g))}),g?new y(p.height,p.width,p.x,S):new y(p.width,p.height,p.y,S)};function R(p,g,S){S?p.y+=g:p.x+=g,p.children.forEach(function(E){R(E,g,S)})}function w(p,g){var S=g?p.y:p.x;return p.children.forEach(function(E){S=Math.min(w(E,g),S)}),S}function M(p,g){var S=w(p,g);R(p,-S,g)}function P(p,g,S){S?g.y=p.x:g.x=p.x,p.c.forEach(function(E,b){P(E,g.children[b],S)})}function L(p,g,S){S===void 0&&(S=0),g?(p.x=S,S+=p.width):(p.y=S,S+=p.height),p.children.forEach(function(E){L(E,g,S)})}W.exports=function(p,g){g===void 0&&(g={});var S=g.isHorizontal;function E(q){if(q.cs===0){b(q);return}E(q.c[0]);for(var at=K(m(q.c[0].el),0,null),pt=1;pt<q.cs;++pt){E(q.c[pt]);var ct=m(q.c[pt].er);A(q,pt,at),at=K(ct,pt,at)}j(q),b(q)}function b(q){q.cs===0?(q.el=q,q.er=q,q.msel=q.mser=0):(q.el=q.c[0].el,q.msel=q.c[0].msel,q.er=q.c[q.cs-1].er,q.mser=q.c[q.cs-1].mser)}function A(q,at,pt){for(var ct=q.c[at-1],St=ct.mod,vt=q.c[at],Lt=vt.mod;ct!==null&&vt!==null;){m(ct)>pt.low&&(pt=pt.nxt);var Mt=St+ct.prelim+ct.w-(Lt+vt.prelim);Mt>0&&(Lt+=Mt,x(q,at,pt.index,Mt));var wt=m(ct),et=m(vt);wt<=et&&(ct=B(ct),ct!==null&&(St+=ct.mod)),wt>=et&&(vt=T(vt),vt!==null&&(Lt+=vt.mod))}!ct&&vt?f(q,at,vt,Lt):ct&&!vt&&U(q,at,ct,St)}function x(q,at,pt,ct){q.c[at].mod+=ct,q.c[at].msel+=ct,q.c[at].mser+=ct,k(q,at,pt,ct)}function T(q){return q.cs===0?q.tl:q.c[0]}function B(q){return q.cs===0?q.tr:q.c[q.cs-1]}function m(q){return q.y+q.h}function f(q,at,pt,ct){var St=q.c[0].el;St.tl=pt;var vt=ct-pt.mod-q.c[0].msel;St.mod+=vt,St.prelim-=vt,q.c[0].el=q.c[at].el,q.c[0].msel=q.c[at].msel}function U(q,at,pt,ct){var St=q.c[at].er;St.tr=pt;var vt=ct-pt.mod-q.c[at].mser;St.mod+=vt,St.prelim-=vt,q.c[at].er=q.c[at-1].er,q.c[at].mser=q.c[at-1].mser}function j(q){q.prelim=(q.c[0].prelim+q.c[0].mod+q.c[q.cs-1].mod+q.c[q.cs-1].prelim+q.c[q.cs-1].w)/2-q.w/2}function z(q,at){at+=q.mod,q.x=q.prelim+at,X(q);for(var pt=0;pt<q.cs;pt++)z(q.c[pt],at)}function k(q,at,pt,ct){if(pt!==at-1){var St=at-pt;q.c[pt+1].shift+=ct/St,q.c[at].shift-=ct/St,q.c[at].change-=ct-ct/St}}function X(q){for(var at=0,pt=0,ct=0;ct<q.cs;ct++)at+=q.c[ct].shift,pt+=at+q.c[ct].change,q.c[ct].mod+=pt}function K(q,at,pt){for(;pt!==null&&q>=pt.low;)pt=pt.nxt;return{low:q,index:at,nxt:pt}}L(p,S);var tt=y.fromNode(p,S);return E(tt),z(tt,0),P(tt,p,S),M(p,S),p}},function(W,_,y){function R(b,A){b.prototype=Object.create(A.prototype),b.prototype.constructor=b,w(b,A)}function w(b,A){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,B){return T.__proto__=B,T},w(b,A)}var M=y(11),P=y(121),L=y(17),p=y(6),g=function(b){R(A,b);function A(){return b.apply(this,arguments)||this}var x=A.prototype;return x.execute=function(){var B=this;return B.rootNode.width=0,L(B.rootNode,B.options,P)},A}(M),S={};function E(b,A){return A=p.assign({},S,A),new g(b,A).execute()}W.exports=E},function(W,_,y){var R=y(6);function w(L,p){L===void 0&&(L=0),p===void 0&&(p=[]);var g=this;g.x=g.y=0,g.leftChild=g.rightChild=null,g.height=0,g.children=p}var M={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function P(L,p,g){g?(p.x=L.x,p.y=L.y):(p.x=L.y,p.y=L.x),L.children.forEach(function(S,E){P(S,p.children[E],g)})}W.exports=function(L,p){p===void 0&&(p={}),p=R.assign({},M,p);var g=0;function S(T){if(!T)return null;T.width=0,T.depth&&T.depth>g&&(g=T.depth);var B=T.children,m=B.length,f=new w(T.height,[]);return B.forEach(function(U,j){var z=S(U);f.children.push(z),j===0&&(f.leftChild=z),j===m-1&&(f.rightChild=z)}),f.originNode=T,f.isLeaf=T.isLeaf(),f}function E(T){if(T.isLeaf||T.children.length===0)T.drawingDepth=g;else{var B=T.children.map(function(f){return E(f)}),m=Math.min.apply(null,B);T.drawingDepth=m-1}return T.drawingDepth}var b;function A(T){T.x=T.drawingDepth*p.rankSep,T.isLeaf?(T.y=0,b&&(T.y=b.y+b.height+p.nodeSep,T.originNode.parent!==b.originNode.parent&&(T.y+=p.subTreeSep)),b=T):(T.children.forEach(function(B){A(B)}),T.y=(T.leftChild.y+T.rightChild.y)/2)}var x=S(L);return E(x),A(x),P(x,L,p.isHorizontal),L}},function(W,_,y){function R(x,T){x.prototype=Object.create(T.prototype),x.prototype.constructor=x,w(x,T)}function w(x,T){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,f){return m.__proto__=f,m},w(x,T)}var M=y(11),P=y(123),L=y(35),p=y(6),g=["LR","RL","H"],S=g[0],E=function(x){R(T,x);function T(){return x.apply(this,arguments)||this}var B=T.prototype;return B.execute=function(){var f=this,U=f.options,j=f.rootNode;U.isHorizontal=!0;var z=U.indent,k=z===void 0?20:z,X=U.dropCap,K=X===void 0?!0:X,tt=U.direction,q=tt===void 0?S:tt,at=U.align;if(q&&g.indexOf(q)===-1)throw new TypeError("Invalid direction: "+q);if(q===g[0])P(j,k,K,at);else if(q===g[1])P(j,k,K,at),j.right2left();else if(q===g[2]){var pt=L(j,U),ct=pt.left,St=pt.right;P(ct,k,K,at),ct.right2left(),P(St,k,K,at);var vt=ct.getBoundingBox();St.translate(vt.width,0),j.x=St.x-j.width/2}return j},T}(M),b={};function A(x,T){return T=p.assign({},b,T),new E(x,T).execute()}W.exports=A},function(W,_,y){var R=y(6);function w(M,P,L,p,g){var S=typeof L=="function"?L(M):L*M.depth;if(!p)try{if(M.id===M.parent.children[0].id){M.x+=S,M.y=P?P.y:0;return}}catch(A){}if(M.x+=S,P){if(M.y=P.y+R.getHeight(P,M,g),P.parent&&M.parent.id!==P.parent.id){var E=P.parent,b=E.y+R.getHeight(E,M,g);M.y=b>M.y?b:M.y}}else M.y=0}W.exports=function(M,P,L,p){var g=null;M.eachNode(function(S){w(S,g,P,L,p),g=S})}},function(W,_,y){function R(b,A){b.prototype=Object.create(A.prototype),b.prototype.constructor=b,w(b,A)}function w(b,A){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,B){return T.__proto__=B,T},w(b,A)}var M=y(11),P=y(125),L=y(17),p=y(6),g=function(b){R(A,b);function A(){return b.apply(this,arguments)||this}var x=A.prototype;return x.execute=function(){var B=this;return L(B.rootNode,B.options,P)},A}(M),S={};function E(b,A){return A=p.assign({},S,A),new g(b,A).execute()}W.exports=E},function(W,_,y){var R=y(6);function w(L,p){var g=0;return L.children.length?L.children.forEach(function(S){g+=w(S,p)}):g=L.height,L._subTreeSep=p.getSubTreeSep(L.data),L.totalHeight=Math.max(L.height,g)+2*L._subTreeSep,L.totalHeight}function M(L){var p=L.children,g=p.length;if(g){p.forEach(function(T){M(T)});var S=p[0],E=p[g-1],b=E.y-S.y+E.height,A=0;if(p.forEach(function(T){A+=T.totalHeight}),b>L.height)L.y=S.y+b/2-L.height/2;else if(p.length!==1||L.height>A){var x=L.y+(L.height-b)/2-S.y;p.forEach(function(T){T.translate(0,x)})}else L.y=(S.y+S.height/2+E.y+E.height/2)/2-L.height/2}}var P={getSubTreeSep:function(){return 0}};W.exports=function(L,p){p===void 0&&(p={}),p=R.assign({},P,p),L.parent={x:0,width:0,height:0,y:0},L.BFTraverse(function(g){g.x=g.parent.x+g.parent.width}),L.parent=null,w(L,p),L.startY=0,L.y=L.totalHeight/2-L.height/2,L.eachNode(function(g){var S=g.children,E=S.length;if(E){var b=S[0];if(b.startY=g.startY+g._subTreeSep,E===1)b.y=g.y+g.height/2-b.height/2;else{b.y=b.startY+b.totalHeight/2-b.height/2;for(var A=1;A<E;A++){var x=S[A];x.startY=S[A-1].startY+S[A-1].totalHeight,x.y=x.startY+x.totalHeight/2-x.height/2}}}}),M(L)}}])})},483360:function(Ve,W,_){"use strict";var y=this&&this.__createBinding||(Object.create?function(M,P,L,p){p===void 0&&(p=L);var g=Object.getOwnPropertyDescriptor(P,L);(!g||("get"in g?!P.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return P[L]}}),Object.defineProperty(M,p,g)}:function(M,P,L,p){p===void 0&&(p=L),M[p]=P[L]}),R=this&&this.__exportStar||function(M,P){for(var L in M)L!=="default"&&!Object.prototype.hasOwnProperty.call(P,L)&&y(P,M,L)};Object.defineProperty(W,"__esModule",{value:!0}),W.getLayoutByName=W.unRegisterLayout=W.registerLayout=void 0;var w=_(695326);Object.defineProperty(W,"registerLayout",{enumerable:!0,get:function(){return w.registerLayout}}),Object.defineProperty(W,"unRegisterLayout",{enumerable:!0,get:function(){return w.unRegisterLayout}}),Object.defineProperty(W,"getLayoutByName",{enumerable:!0,get:function(){return w.getLayoutByName}}),R(_(702584),W)},762329:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.Base=void 0;var _=function(){function y(){this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.vedges=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return y.prototype.layout=function(R){return this.init(R),this.execute(!0)},y.prototype.init=function(R){this.nodes=R.nodes||[],this.edges=R.edges||[],this.combos=R.combos||[],this.comboEdges=R.comboEdges||[],this.hiddenNodes=R.hiddenNodes||[],this.hiddenEdges=R.hiddenEdges||[],this.hiddenCombos=R.hiddenCombos||[],this.vedges=R.vedges||[]},y.prototype.execute=function(R){},y.prototype.executeWithWorker=function(){},y.prototype.getDefaultCfg=function(){return{}},y.prototype.updateCfg=function(R){R&&Object.assign(this,R)},y.prototype.getType=function(){return"base"},y.prototype.destroy=function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0},y}();W.Base=_},964885:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var g=function(S,E){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,A){b.__proto__=A}||function(b,A){for(var x in A)Object.prototype.hasOwnProperty.call(A,x)&&(b[x]=A[x])},g(S,E)};return function(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");g(S,E);function b(){this.constructor=S}S.prototype=E===null?Object.create(E):(b.prototype=E.prototype,new b)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.CircularLayout=void 0;var R=_(762329),w=_(449784);function M(g,S,E,b){g.forEach(function(A,x){g[x].children=[],g[x].parent=[]}),b?S.forEach(function(A){var x=(0,w.getEdgeTerminal)(A,"source"),T=(0,w.getEdgeTerminal)(A,"target"),B=0;x&&(B=E[x]);var m=0;T&&(m=E[T]);var f=g[B].children,U=g[m].parent;f.push(g[m].id),U.push(g[B].id)}):S.forEach(function(A){var x=(0,w.getEdgeTerminal)(A,"source"),T=(0,w.getEdgeTerminal)(A,"target"),B=0;x&&(B=E[x]);var m=0;T&&(m=E[T]);var f=g[B].children,U=g[m].children;f.push(g[m].id),U.push(g[B].id)})}function P(g,S,E){for(var b=E.length,A=0;A<b;A++){var x=(0,w.getEdgeTerminal)(E[A],"source"),T=(0,w.getEdgeTerminal)(E[A],"target");if(g.id===x&&S.id===T||S.id===x&&g.id===T)return!0}return!1}function L(g,S){var E=g.degree,b=S.degree;return E<b?-1:E>b?1:0}var p=function(g){y(S,g);function S(E){var b=g.call(this)||this;return b.radius=null,b.nodeSize=void 0,b.startRadius=null,b.endRadius=null,b.startAngle=0,b.endAngle=2*Math.PI,b.clockwise=!0,b.divisions=1,b.ordering=null,b.angleRatio=1,b.nodes=[],b.edges=[],b.nodeMap={},b.degrees=[],b.width=300,b.height=300,b.updateCfg(E),b}return S.prototype.getDefaultCfg=function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},S.prototype.execute=function(){var E,b=this,A=b.nodes,x=b.edges,T=A.length;if(T===0){b.onLayoutEnd&&b.onLayoutEnd();return}!b.width&&typeof window!="undefined"&&(b.width=window.innerWidth),!b.height&&typeof window!="undefined"&&(b.height=window.innerHeight),b.center||(b.center=[b.width/2,b.height/2]);var B=b.center;if(T===1){A[0].x=B[0],A[0].y=B[1],b.onLayoutEnd&&b.onLayoutEnd();return}var m=b.radius,f=b.startRadius,U=b.endRadius,j=b.divisions,z=b.startAngle,k=b.endAngle,X=b.angleRatio,K=b.ordering,tt=b.clockwise,q=b.nodeSpacing,at=b.nodeSize,pt=(k-z)/T,ct={};A.forEach(function(Nt,Yt){ct[Nt.id]=Yt}),b.nodeMap=ct;var St=(0,w.getDegree)(A.length,ct,x);if(b.degrees=St,q){var vt=(0,w.getFuncByUnknownType)(10,q),Lt=(0,w.getFuncByUnknownType)(10,at),Mt=-1/0;A.forEach(function(Nt){var Yt=Lt(Nt);Mt<Yt&&(Mt=Yt)});var wt=0;A.forEach(function(Nt,Yt){Yt===0?wt+=Mt||10:wt+=(vt(Nt)||0)+(Mt||10)}),m=wt/(2*Math.PI)}else!m&&!f&&!U?m=b.height>b.width?b.width/2:b.height/2:!f&&U?f=U:f&&!U&&(U=f);var et=pt*X,rt=[];K==="topology"?rt=b.topologyOrdering():K==="topology-directed"?rt=b.topologyOrdering(!0):K==="degree"?rt=b.degreeOrdering():rt=A;for(var Ot=Math.ceil(T/j),Dt=0;Dt<T;++Dt){var ot=m;!ot&&f!==null&&U!==null&&(ot=f+Dt*(U-f)/(T-1)),ot||(ot=10+Dt*100/(T-1));var xt=z+Dt%Ot*et+2*Math.PI/j*Math.floor(Dt/Ot);tt||(xt=k-Dt%Ot*et-2*Math.PI/j*Math.floor(Dt/Ot)),rt[Dt].x=B[0]+Math.cos(xt)*ot,rt[Dt].y=B[1]+Math.sin(xt)*ot,rt[Dt].weight=St[Dt].all}return(E=b.onLayoutEnd)===null||E===void 0||E.call(b),{nodes:rt,edges:this.edges}},S.prototype.topologyOrdering=function(E){E===void 0&&(E=!1);var b=this,A=b.degrees,x=b.edges,T=b.nodes,B=(0,w.clone)(T),m=b.nodeMap,f=[B[0]],U=[T[0]],j=[],z=T.length;j[0]=!0,M(B,x,m,E);var k=0;return B.forEach(function(X,K){if(K!==0)if((K===z-1||A[K].all!==A[K+1].all||P(f[k],X,x))&&!j[K])f.push(X),U.push(T[m[X.id]]),j[K]=!0,k++;else{for(var tt=f[k].children,q=!1,at=0;at<tt.length;at++){var pt=m[tt[at]];if(A[pt].all===A[K].all&&!j[pt]){f.push(B[pt]),U.push(T[m[B[pt].id]]),j[pt]=!0,q=!0;break}}for(var ct=0;!q&&(j[ct]||(f.push(B[ct]),U.push(T[m[B[ct].id]]),j[ct]=!0,q=!0),ct++,ct!==z););}}),U},S.prototype.degreeOrdering=function(){var E=this,b=E.nodes,A=[],x=E.degrees;return b.forEach(function(T,B){T.degree=x[B].all,A.push(T)}),A.sort(L),A},S.prototype.getType=function(){return"circular"},S}(R.Base);W.CircularLayout=p},263861:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var g=function(S,E){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,A){b.__proto__=A}||function(b,A){for(var x in A)Object.prototype.hasOwnProperty.call(A,x)&&(b[x]=A[x])},g(S,E)};return function(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");g(S,E);function b(){this.constructor=S}S.prototype=E===null?Object.create(E):(b.prototype=E.prototype,new b)}}(),R=this&&this.__assign||function(){return R=Object.assign||function(g){for(var S,E=1,b=arguments.length;E<b;E++){S=arguments[E];for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(g[A]=S[A])}return g},R.apply(this,arguments)};Object.defineProperty(W,"__esModule",{value:!0}),W.ComboCombinedLayout=void 0;var w=_(416470),M=_(762329),P=_(449784),L=_(702584),p=function(g){y(S,g);function S(E){var b=g.call(this)||this;return b.center=[0,0],b.nodes=[],b.edges=[],b.combos=[],b.comboEdges=[],b.comboPadding=10,b.comboTrees=[],b.updateCfg(E),b}return S.prototype.getDefaultCfg=function(){return{}},S.prototype.execute=function(){var E=this,b=E.nodes,A=E.center;if(!b||b.length===0){E.onLayoutEnd&&E.onLayoutEnd();return}if(b.length===1){b[0].x=A[0],b[0].y=A[1],E.onLayoutEnd&&E.onLayoutEnd();return}E.initVals(),E.run(),E.onLayoutEnd&&E.onLayoutEnd()},S.prototype.run=function(){var E,b=this,A=b.nodes,x=b.edges,T=b.combos,B=b.comboEdges,m=b.center,f={};A.forEach(function(Mt){f[Mt.id]=Mt});var U={};T.forEach(function(Mt){U[Mt.id]=Mt});var j=b.getInnerGraphs(f),z=[],k=[],X={},K=!0;this.comboTrees.forEach(function(Mt){var wt=j[Mt.id],et=R(R({},Mt),{x:wt.x||U[Mt.id].x,y:wt.y||U[Mt.id].y,fx:wt.fx||U[Mt.id].fx,fy:wt.fy||U[Mt.id].fy,mass:wt.mass||U[Mt.id].mass,size:wt.size});k.push(et),!isNaN(et.x)&&et.x!==0&&!isNaN(et.y)&&et.y!==0?K=!1:(et.x=Math.random()*100,et.y=Math.random()*100),z.push(Mt.id),(0,P.traverseTreeUp)(Mt,function(rt){return rt.id!==Mt.id&&(X[rt.id]=Mt.id),!0})}),A.forEach(function(Mt){if(!(Mt.comboId&&U[Mt.comboId])){var wt=R({},Mt);k.push(wt),!isNaN(wt.x)&&wt.x!==0&&!isNaN(wt.y)&&wt.y!==0?K=!1:(wt.x=Math.random()*100,wt.y=Math.random()*100),z.push(Mt.id)}});var tt=[];if(x.concat(B).forEach(function(Mt){var wt=X[Mt.source]||Mt.source,et=X[Mt.target]||Mt.target;wt!==et&&z.includes(wt)&&z.includes(et)&&tt.push({source:wt,target:et})}),k!=null&&k.length){if(k.length===1)k[0].x=m[0],k[0].y=m[1];else{var q={nodes:k,edges:tt},at=this.outerLayout||new L.GForceLayout({gravity:1,factor:4,linkDistance:function(Mt,wt,et){var rt,Ot,Dt=((((rt=wt.size)===null||rt===void 0?void 0:rt[0])||30)+(((Ot=et.size)===null||Ot===void 0?void 0:Ot[0])||30))/2;return Math.min(Dt*1.5,700)}}),pt=(E=at.getType)===null||E===void 0?void 0:E.call(at);if(at.updateCfg({center:m,kg:5,preventOverlap:!0,animate:!1}),K&&w.FORCE_LAYOUT_TYPE_MAP[pt]){var ct=k.length<100?new L.MDSLayout:new L.GridLayout;ct.layout(q)}at.layout(q)}k.forEach(function(Mt){var wt=j[Mt.id];if(!wt){var et=f[Mt.id];et&&(et.x=Mt.x,et.y=Mt.y);return}wt.visited=!0,wt.x=Mt.x,wt.y=Mt.y,wt.nodes.forEach(function(rt){rt.x+=Mt.x,rt.y+=Mt.y})})}for(var St=Object.keys(j),vt=function(Mt){var wt=St[Mt],et=j[wt];if(!et)return"continue";et.nodes.forEach(function(rt){et.visited||(rt.x+=et.x||0,rt.y+=et.y||0),f[rt.id]&&(f[rt.id].x=rt.x,f[rt.id].y=rt.y)}),U[wt]&&(U[wt].x=et.x,U[wt].y=et.y)},Lt=St.length-1;Lt>=0;Lt--)vt(Lt);return{nodes:A,edges:x,combos:T,comboEdges:B}},S.prototype.getInnerGraphs=function(E){var b=this,A=b.comboTrees,x=b.nodeSize,T=b.edges,B=b.comboPadding,m=b.spacing,f={},U=this.innerLayout||new L.ConcentricLayout({sortBy:"id"});return U.center=[0,0],U.preventOverlap=!0,U.nodeSpacing=m,(A||[]).forEach(function(j){(0,P.traverseTreeUp)(j,function(z){var k,X=(B==null?void 0:B(z))||10;if((0,P.isArray)(X)&&(X=Math.max.apply(Math,X)),!((k=z.children)===null||k===void 0)&&k.length){var tt=z.children.map(function(rt){if(rt.itemType==="combo")return f[rt.id];var Ot=E[rt.id]||{};return R(R({},Ot),rt)}),q=tt.map(function(rt){return rt.id}),at={nodes:tt,edges:T.filter(function(rt){return q.includes(rt.source)&&q.includes(rt.target)})},pt=1/0;tt.forEach(function(rt){var Ot;rt.size||(rt.size=((Ot=f[rt.id])===null||Ot===void 0?void 0:Ot.size)||(x==null?void 0:x(rt))||[30,30]),(0,P.isNumber)(rt.size)&&(rt.size=[rt.size,rt.size]),pt>rt.size[0]&&(pt=rt.size[0]),pt>rt.size[1]&&(pt=rt.size[1])}),U.layout(at);var ct=(0,P.getLayoutBBox)(tt),St=ct.minX,vt=ct.minY,Lt=ct.maxX,Mt=ct.maxY,wt={x:(Lt+St)/2,y:(Mt+vt)/2};at.nodes.forEach(function(rt){rt.x-=wt.x,rt.y-=wt.y});var et=Math.max(Lt-St,Mt-vt,pt)+X*2;f[z.id]={id:z.id,nodes:tt,size:[et,et]}}else if(z.itemType==="combo"){var K=X?[X*2,X*2]:[30,30];f[z.id]={id:z.id,nodes:[],size:K}}return!0})}),f},S.prototype.initVals=function(){var E=this,b=E.nodeSize,A=E.spacing,x,T;if((0,P.isNumber)(A)?T=function(){return A}:(0,P.isFunction)(A)?T=A:T=function(){return 0},this.spacing=T,!b)x=function(z){var k=T(z);if(z.size){if((0,P.isArray)(z.size)){var X=z.size[0]>z.size[1]?z.size[0]:z.size[1];return(X+k)/2}if((0,P.isObject)(z.size)){var X=z.size.width>z.size.height?z.size.width:z.size.height;return(X+k)/2}return(z.size+k)/2}return 10+k/2};else if((0,P.isFunction)(b))x=function(z){var k=b(z),X=T(z);if((0,P.isArray)(z.size)){var K=z.size[0]>z.size[1]?z.size[0]:z.size[1];return(K+X)/2}return((k||10)+X)/2};else if((0,P.isArray)(b)){var B=b[0]>b[1]?b[0]:b[1],m=B/2;x=function(z){return m+T(z)/2}}else{var f=b/2;x=function(z){return f+T(z)/2}}this.nodeSize=x;var U=E.comboPadding,j;(0,P.isNumber)(U)?j=function(){return U}:(0,P.isArray)(U)?j=function(){return Math.max.apply(null,U)}:(0,P.isFunction)(U)?j=U:j=function(){return 0},this.comboPadding=j},S.prototype.getType=function(){return"comboCombined"},S}(M.Base);W.ComboCombinedLayout=p},366590:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var P=function(L,p){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,S){g.__proto__=S}||function(g,S){for(var E in S)Object.prototype.hasOwnProperty.call(S,E)&&(g[E]=S[E])},P(L,p)};return function(L,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");P(L,p);function g(){this.constructor=L}L.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.ComboForceLayout=void 0;var R=_(762329),w=_(449784),M=function(P){y(L,P);function L(p){var g=P.call(this)||this;return g.center=[0,0],g.maxIteration=100,g.gravity=10,g.comboGravity=10,g.linkDistance=10,g.alpha=1,g.alphaMin=.001,g.alphaDecay=1-Math.pow(g.alphaMin,1/300),g.alphaTarget=0,g.velocityDecay=.6,g.edgeStrength=.6,g.nodeStrength=30,g.preventOverlap=!1,g.preventNodeOverlap=!1,g.preventComboOverlap=!1,g.collideStrength=void 0,g.nodeCollideStrength=.5,g.comboCollideStrength=.5,g.comboSpacing=20,g.comboPadding=10,g.optimizeRangeFactor=1,g.onTick=function(){},g.onLayoutEnd=function(){},g.depthAttractiveForceScale=1,g.depthRepulsiveForceScale=2,g.nodes=[],g.edges=[],g.combos=[],g.comboTrees=[],g.width=300,g.height=300,g.bias=[],g.nodeMap={},g.oriComboMap={},g.indexMap={},g.comboMap={},g.previousLayouted=!1,g.updateCfg(p),g}return L.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}},L.prototype.execute=function(){var p=this,g=p.nodes,S=p.center;if(p.comboTree={id:"comboTreeRoot",depth:-1,children:p.comboTrees},!g||g.length===0){p.onLayoutEnd&&p.onLayoutEnd();return}if(g.length===1){g[0].x=S[0],g[0].y=S[1],p.onLayoutEnd&&p.onLayoutEnd();return}p.initVals(),p.run(),p.onLayoutEnd&&p.onLayoutEnd()},L.prototype.run=function(){var p=this,g=p.nodes,S=p.previousLayouted?p.maxIteration/5:p.maxIteration;!p.width&&typeof window!="undefined"&&(p.width=window.innerWidth),!p.height&&typeof window!="undefined"&&(p.height=window.innerHeight);var E=p.center,b=p.velocityDecay,A=p.comboMap;p.previousLayouted||p.initPos(A);for(var x=function(f){var U=[];g.forEach(function(j,z){U[z]={x:0,y:0}}),p.applyCalculate(U),p.applyComboCenterForce(U),g.forEach(function(j,z){!(0,w.isNumber)(j.x)||!(0,w.isNumber)(j.y)||(j.x+=U[z].x*b,j.y+=U[z].y*b)}),p.alpha+=(p.alphaTarget-p.alpha)*p.alphaDecay,p.onTick()},T=0;T<S;T++)x(T);var B=[0,0];g.forEach(function(f){!(0,w.isNumber)(f.x)||!(0,w.isNumber)(f.y)||(B[0]+=f.x,B[1]+=f.y)}),B[0]/=g.length,B[1]/=g.length;var m=[E[0]-B[0],E[1]-B[1]];g.forEach(function(f,U){!(0,w.isNumber)(f.x)||!(0,w.isNumber)(f.y)||(f.x+=m[0],f.y+=m[1])}),p.combos.forEach(function(f){var U=A[f.id];U&&U.empty&&(f.x=U.cx||f.x,f.y=U.cy||f.y)}),p.previousLayouted=!0},L.prototype.initVals=function(){var p=this,g=p.edges,S=p.nodes,E=p.combos,b={},A={},x={};S.forEach(function(ot,xt){A[ot.id]=ot,x[ot.id]=xt}),p.nodeMap=A,p.indexMap=x;var T={};E.forEach(function(ot){T[ot.id]=ot}),p.oriComboMap=T,p.comboMap=p.getComboMap();var B=p.preventOverlap;p.preventComboOverlap=p.preventComboOverlap||B,p.preventNodeOverlap=p.preventNodeOverlap||B;var m=p.collideStrength;m&&(p.comboCollideStrength=m,p.nodeCollideStrength=m),p.comboCollideStrength=p.comboCollideStrength?p.comboCollideStrength:0,p.nodeCollideStrength=p.nodeCollideStrength?p.nodeCollideStrength:0;for(var f=0;f<g.length;++f){var U=(0,w.getEdgeTerminal)(g[f],"source"),j=(0,w.getEdgeTerminal)(g[f],"target");b[U]?b[U]++:b[U]=1,b[j]?b[j]++:b[j]=1}for(var z=[],f=0;f<g.length;++f){var U=(0,w.getEdgeTerminal)(g[f],"source"),j=(0,w.getEdgeTerminal)(g[f],"target");z[f]=b[U]/(b[U]+b[j])}this.bias=z;var k=p.nodeSize,X=p.nodeSpacing,K,tt;if((0,w.isNumber)(X)?tt=function(){return X}:(0,w.isFunction)(X)?tt=X:tt=function(){return 0},this.nodeSpacing=tt,!k)K=function(ot){if(ot.size){if((0,w.isArray)(ot.size)){var xt=ot.size[0]>ot.size[1]?ot.size[0]:ot.size[1];return xt/2}if((0,w.isObject)(ot.size)){var xt=ot.size.width>ot.size.height?ot.size.width:ot.size.height;return xt/2}return ot.size/2}return 10};else if((0,w.isFunction)(k))K=function(ot){return k(ot)};else if((0,w.isArray)(k)){var q=k[0]>k[1]?k[0]:k[1],at=q/2;K=function(ot){return at}}else{var pt=k/2;K=function(ot){return pt}}this.nodeSize=K;var ct=p.comboSpacing,St;(0,w.isNumber)(ct)?St=function(){return ct}:(0,w.isFunction)(ct)?St=ct:St=function(){return 0},this.comboSpacing=St;var vt=p.comboPadding,Lt;(0,w.isNumber)(vt)?Lt=function(){return vt}:(0,w.isArray)(vt)?Lt=function(){return Math.max.apply(null,vt)}:(0,w.isFunction)(vt)?Lt=vt:Lt=function(){return 0},this.comboPadding=Lt;var Mt=this.linkDistance,wt;Mt||(Mt=10),(0,w.isNumber)(Mt)?wt=function(ot){return Mt}:wt=Mt,this.linkDistance=wt;var et=this.edgeStrength,rt;et||(et=1),(0,w.isNumber)(et)?rt=function(ot){return et}:rt=et,this.edgeStrength=rt;var Ot=this.nodeStrength,Dt;Ot||(Ot=30),(0,w.isNumber)(Ot)?Dt=function(ot){return Ot}:Dt=Ot,this.nodeStrength=Dt},L.prototype.initPos=function(p){var g=this,S=g.nodes;S.forEach(function(E,b){var A=E.comboId,x=p[A];A&&x?(E.x=x.cx+100/(b+1),E.y=x.cy+100/(b+1)):(E.x=100/(b+1),E.y=100/(b+1))})},L.prototype.getComboMap=function(){var p=this,g=p.nodeMap,S=p.comboTrees,E=p.oriComboMap,b={};return(S||[]).forEach(function(A){var x=[];(0,w.traverseTreeUp)(A,function(T){if(T.itemType==="node"||!E[T.id])return!0;if(b[T.id]===void 0){var B={id:T.id,name:T.id,cx:0,cy:0,count:0,depth:p.oriComboMap[T.id].depth||0,children:[]};b[T.id]=B}var m=T.children;m&&m.forEach(function(j){if(!b[j.id]&&!g[j.id])return!0;x.push(j)});var f=b[T.id];if(f.cx=0,f.cy=0,x.length===0){f.empty=!0;var U=E[T.id];f.cx=U.x,f.cy=U.y}return x.forEach(function(j){if(f.count++,j.itemType!=="node"){var z=b[j.id];(0,w.isNumber)(z.cx)&&(f.cx+=z.cx),(0,w.isNumber)(z.cy)&&(f.cy+=z.cy);return}var k=g[j.id];k&&((0,w.isNumber)(k.x)&&(f.cx+=k.x),(0,w.isNumber)(k.y)&&(f.cy+=k.y))}),f.cx/=f.count||1,f.cy/=f.count||1,f.children=x,!0})}),b},L.prototype.applyComboCenterForce=function(p){var g=this,S=g.gravity,E=g.comboGravity||S,b=this.alpha,A=g.comboTrees,x=g.indexMap,T=g.nodeMap,B=g.comboMap;(A||[]).forEach(function(m){(0,w.traverseTreeUp)(m,function(f){if(f.itemType==="node")return!0;var U=B[f.id];if(!U)return!0;var j=B[f.id],z=(j.depth+1)/10*.5,k=j.cx,X=j.cy;return j.cx=0,j.cy=0,j.children.forEach(function(K){if(K.itemType!=="node"){var tt=B[K.id];tt&&(0,w.isNumber)(tt.cx)&&(j.cx+=tt.cx),tt&&(0,w.isNumber)(tt.cy)&&(j.cy+=tt.cy);return}var q=T[K.id],at=q.x-k||.005,pt=q.y-X||.005,ct=Math.sqrt(at*at+pt*pt),St=x[q.id],vt=E*b/ct*z;p[St].x-=at*vt,p[St].y-=pt*vt,(0,w.isNumber)(q.x)&&(j.cx+=q.x),(0,w.isNumber)(q.y)&&(j.cy+=q.y)}),j.cx/=j.count||1,j.cy/=j.count||1,!0})})},L.prototype.applyCalculate=function(p){var g=this,S=g.comboMap,E=g.nodes,b={};E.forEach(function(x,T){E.forEach(function(B,m){if(!(T<m)){var f=x.x-B.x||.005,U=x.y-B.y||.005,j=f*f+U*U,z=Math.sqrt(j);j<1&&(j=z),b["".concat(x.id,"-").concat(B.id)]={vx:f,vy:U,vl2:j,vl:z},b["".concat(B.id,"-").concat(x.id)]={vl2:j,vl:z,vx:-f,vy:-U}}})}),g.updateComboSizes(S),g.calRepulsive(p,b),g.calAttractive(p,b);var A=g.preventComboOverlap;A&&g.comboNonOverlapping(p,S)},L.prototype.updateComboSizes=function(p){var g=this,S=g.comboTrees,E=g.nodeMap,b=g.nodeSize,A=g.comboSpacing,x=g.comboPadding;(S||[]).forEach(function(T){var B=[];(0,w.traverseTreeUp)(T,function(m){if(m.itemType==="node")return!0;var f=p[m.id];if(!f)return!1;var U=m.children;U&&U.forEach(function(k){!p[k.id]&&!E[k.id]||B.push(k)}),f.minX=1/0,f.minY=1/0,f.maxX=-1/0,f.maxY=-1/0,B.forEach(function(k){if(k.itemType!=="node")return!0;var X=E[k.id];if(!X)return!0;var K=b(X),tt=X.x-K,q=X.y-K,at=X.x+K,pt=X.y+K;f.minX>tt&&(f.minX=tt),f.minY>q&&(f.minY=q),f.maxX<at&&(f.maxX=at),f.maxY<pt&&(f.maxY=pt)});var j=g.oriComboMap[m.id].size||10;(0,w.isArray)(j)&&(j=j[0]);var z=Math.max(f.maxX-f.minX,f.maxY-f.minY,j);return f.r=z/2+A(f)/2+x(f),!0})})},L.prototype.comboNonOverlapping=function(p,g){var S=this,E=S.comboTree,b=S.comboCollideStrength,A=S.indexMap,x=S.nodeMap;(0,w.traverseTreeUp)(E,function(T){if(!g[T.id]&&!x[T.id]&&T.id!=="comboTreeRoot")return!1;var B=T.children;return B&&B.length>1&&B.forEach(function(m,f){if(m.itemType==="node")return!1;var U=g[m.id];U&&B.forEach(function(j,z){if(f<=z||j.itemType==="node")return!1;var k=g[j.id];if(!k)return!1;var X=U.cx-k.cx||.005,K=U.cy-k.cy||.005,tt=X*X+K*K,q=U.r||1,at=k.r||1,pt=q+at,ct=at*at,St=q*q;if(tt<pt*pt){var vt=m.children;if(!vt||vt.length===0)return!1;var Lt=j.children;if(!Lt||Lt.length===0)return!1;var Mt=Math.sqrt(tt),wt=(pt-Mt)/Mt*b,et=X*wt,rt=K*wt,Ot=ct/(St+ct),Dt=1-Ot;vt.forEach(function(ot){if(ot.itemType!=="node")return!1;if(x[ot.id]){var xt=A[ot.id];Lt.forEach(function(Nt){if(Nt.itemType!=="node"||!x[Nt.id])return!1;var Yt=A[Nt.id];p[xt].x+=et*Ot,p[xt].y+=rt*Ot,p[Yt].x-=et*Dt,p[Yt].y-=rt*Dt})}})}})}),!0})},L.prototype.calRepulsive=function(p,g){var S=this,E=S.nodes,b=S.width*S.optimizeRangeFactor,A=S.nodeStrength,x=S.alpha,T=S.nodeCollideStrength,B=S.preventNodeOverlap,m=S.nodeSize,f=S.nodeSpacing,U=S.depthRepulsiveForceScale,j=S.center;E.forEach(function(z,k){if(!(!z.x||!z.y)){if(j){var X=S.gravity,K=z.x-j[0]||.005,tt=z.y-j[1]||.005,q=Math.sqrt(K*K+tt*tt);p[k].x-=K*X*x/q,p[k].y-=tt*X*x/q}E.forEach(function(at,pt){if(k!==pt&&!(!at.x||!at.y)){var ct=g["".concat(z.id,"-").concat(at.id)],St=ct.vl2,vt=ct.vl;if(!(vt>b)){var Lt=g["".concat(z.id,"-").concat(at.id)],Mt=Lt.vx,wt=Lt.vy,et=Math.log(Math.abs(at.depth-z.depth)/10)+1||1;et=et<1?1:et,at.comboId!==z.comboId&&(et+=1);var rt=et?Math.pow(U,et):1,Ot=A(at)*x/St*rt;if(p[k].x+=Mt*Ot,p[k].y+=wt*Ot,k<pt&&B){var Dt=m(z)+f(z)||1,ot=m(at)+f(at)||1,xt=Dt+ot;if(St<xt*xt){var Nt=(xt-vt)/vt*T,Yt=ot*ot,Ct=Yt/(Dt*Dt+Yt),Xt=Mt*Nt,Zt=wt*Nt;p[k].x+=Xt*Ct,p[k].y+=Zt*Ct,Ct=1-Ct,p[pt].x-=Xt*Ct,p[pt].y-=Zt*Ct}}}}})}})},L.prototype.calAttractive=function(p,g){var S=this,E=S.edges,b=S.linkDistance,A=S.alpha,x=S.edgeStrength,T=S.bias,B=S.depthAttractiveForceScale;E.forEach(function(m,f){var U=(0,w.getEdgeTerminal)(m,"source"),j=(0,w.getEdgeTerminal)(m,"target");if(!(!U||!j||U===j)){var z=S.indexMap[U],k=S.indexMap[j],X=S.nodeMap[U],K=S.nodeMap[j];if(!(!X||!K)){var tt=X.depth===K.depth?0:Math.log(Math.abs(X.depth-K.depth)/10);X.comboId===K.comboId&&(tt=tt/2);var q=tt?Math.pow(B,tt):1;if(X.comboId!==K.comboId&&q===1?q=B/2:X.comboId===K.comboId&&(q=2),!(!(0,w.isNumber)(K.x)||!(0,w.isNumber)(X.x)||!(0,w.isNumber)(K.y)||!(0,w.isNumber)(X.y))){var at=g["".concat(j,"-").concat(U)],pt=at.vl,ct=at.vx,St=at.vy,vt=(pt-b(m))/pt*A*x(m)*q,Lt=ct*vt,Mt=St*vt,wt=T[f];p[k].x-=Lt*wt,p[k].y-=Mt*wt,p[z].x+=Lt*(1-wt),p[z].y+=Mt*(1-wt)}}}})},L.prototype.getType=function(){return"comboForce"},L}(R.Base);W.ComboForceLayout=M},843281:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var P=function(L,p){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,S){g.__proto__=S}||function(g,S){for(var E in S)Object.prototype.hasOwnProperty.call(S,E)&&(g[E]=S[E])},P(L,p)};return function(L,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");P(L,p);function g(){this.constructor=L}L.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.ConcentricLayout=void 0;var R=_(449784),w=_(762329),M=function(P){y(L,P);function L(p){var g=P.call(this)||this;return g.nodeSize=30,g.minNodeSpacing=10,g.nodeSpacing=10,g.preventOverlap=!1,g.equidistant=!1,g.startAngle=3/2*Math.PI,g.clockwise=!0,g.sortBy="degree",g.nodes=[],g.edges=[],g.width=300,g.height=300,g.onLayoutEnd=function(){},g.updateCfg(p),g}return L.prototype.getDefaultCfg=function(){return{nodeSize:30,minNodeSpacing:10,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},L.prototype.execute=function(){var p,g,S=this,E=S.nodes,b=S.edges,A=E.length;if(A===0){(p=S.onLayoutEnd)===null||p===void 0||p.call(S);return}!S.width&&typeof window!="undefined"&&(S.width=window.innerWidth),!S.height&&typeof window!="undefined"&&(S.height=window.innerHeight),S.center||(S.center=[S.width/2,S.height/2]);var x=S.center;if(A===1){E[0].x=x[0],E[0].y=x[1],(g=S.onLayoutEnd)===null||g===void 0||g.call(S);return}var T=S.nodeSize,B=S.nodeSpacing,m=[],f,U=0;(0,R.isArray)(T)?f=Math.max(T[0],T[1]):f=T,(0,R.isArray)(B)?U=Math.max(B[0],B[1]):(0,R.isNumber)(B)&&(U=B),E.forEach(function(et){m.push(et);var rt=f;(0,R.isArray)(et.size)?rt=Math.max(et.size[0],et.size[1]):(0,R.isNumber)(et.size)?rt=et.size:(0,R.isObject)(et.size)&&(rt=Math.max(et.size.width,et.size.height)),f=Math.max(f,rt),(0,R.isFunction)(B)&&(U=Math.max(B(et),U))}),S.clockwise=S.counterclockwise!==void 0?!S.counterclockwise:S.clockwise;var j={},z={};if(m.forEach(function(et,rt){j[et.id]=et,z[et.id]=rt}),(S.sortBy==="degree"||!(0,R.isString)(S.sortBy)||m[0][S.sortBy]===void 0)&&(S.sortBy="degree",!(0,R.isNumber)(E[0].degree))){var k=(0,R.getDegree)(E.length,z,b);m.forEach(function(et,rt){et.degree=k[rt].all})}m.sort(function(et,rt){return rt[S.sortBy]-et[S.sortBy]}),S.maxValueNode=m[0],S.maxLevelDiff=S.maxLevelDiff||S.maxValueNode[S.sortBy]/4;var X=[[]],K=X[0];m.forEach(function(et){if(K.length>0){var rt=Math.abs(K[0][S.sortBy]-et[S.sortBy]);S.maxLevelDiff&&rt>=S.maxLevelDiff&&(K=[],X.push(K))}K.push(et)});var tt=f+(U||S.minNodeSpacing);if(!S.preventOverlap){var q=X.length>0&&X[0].length>1,at=Math.min(S.width,S.height)/2-tt,pt=at/(X.length+(q?1:0));tt=Math.min(tt,pt)}var ct=0;if(X.forEach(function(et){var rt=S.sweep;rt===void 0&&(rt=2*Math.PI-2*Math.PI/et.length);var Ot=et.dTheta=rt/Math.max(1,et.length-1);if(et.length>1&&S.preventOverlap){var Dt=Math.cos(Ot)-Math.cos(0),ot=Math.sin(Ot)-Math.sin(0),xt=Math.sqrt(tt*tt/(Dt*Dt+ot*ot));ct=Math.max(xt,ct)}et.r=ct,ct+=tt}),S.equidistant){for(var St=0,vt=0,Lt=0;Lt<X.length;Lt++){var Mt=X[Lt],wt=Mt.r-vt;St=Math.max(St,wt)}vt=0,X.forEach(function(et,rt){rt===0&&(vt=et.r),et.r=vt,vt+=St})}return X.forEach(function(et){var rt=et.dTheta,Ot=et.r;et.forEach(function(Dt,ot){var xt=S.startAngle+(S.clockwise?1:-1)*rt*ot;Dt.x=x[0]+Ot*Math.cos(xt),Dt.y=x[1]+Ot*Math.sin(xt)})}),S.onLayoutEnd&&S.onLayoutEnd(),{nodes:E,edges:b}},L.prototype.getType=function(){return"concentric"},L}(w.Base);W.ConcentricLayout=M},416470:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.FORCE_LAYOUT_TYPE_MAP=W.LAYOUT_MESSAGE=void 0,W.LAYOUT_MESSAGE={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"},W.FORCE_LAYOUT_TYPE_MAP={gForce:!0,force2:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0}},920171:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var g=function(S,E){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,A){b.__proto__=A}||function(b,A){for(var x in A)Object.prototype.hasOwnProperty.call(A,x)&&(b[x]=A[x])},g(S,E)};return function(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");g(S,E);function b(){this.constructor=S}S.prototype=E===null?Object.create(E):(b.prototype=E.prototype,new b)}}(),R=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(W,"__esModule",{value:!0}),W.DagreLayout=void 0;var w=R(_(441106)),M=_(449784),P=_(762329),L=_(627652),p=function(g){y(S,g);function S(E){var b=g.call(this)||this;return b.rankdir="TB",b.nodesep=50,b.ranksep=50,b.controlPoints=!1,b.sortByCombo=!1,b.edgeLabelSpace=!0,b.radial=!1,b.nodes=[],b.edges=[],b.onLayoutEnd=function(){},b.layoutNode=function(A){var x=b,T=x.nodes,B=T.find(function(f){return f.id===A});if(B){var m=B.layout!==!1;return m}return!0},b.updateCfg(E),b}return S.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null}},S.prototype.execute=function(){var E=this,b,A,x,T=this,B=T.nodes,m=T.nodeSize,f=T.rankdir,U=T.combos,j=T.begin,z=T.radial,k=T.comboEdges,X=k===void 0?[]:k,K=T.vedges,tt=K===void 0?[]:K;if(B){var q=T.edges||[],at=new L.Graph({multigraph:!0,compound:!0}),pt={};B.forEach(function(Ft){Ft.comboId&&(pt[Ft.comboId]=pt[Ft.comboId]||[],pt[Ft.comboId].push(Ft.id))});var ct;m?(0,M.isArray)(m)?ct=function(){return m}:ct=function(){return[m,m]}:ct=function(Ft){return Ft.size?(0,M.isArray)(Ft.size)?Ft.size:(0,M.isObject)(Ft.size)?[Ft.size.width||40,Ft.size.height||40]:[Ft.size,Ft.size]:[40,40]};var St=(0,M.getFunc)(T.ranksep,50,T.ranksepFunc),vt=(0,M.getFunc)(T.nodesep,50,T.nodesepFunc),Lt=vt,Mt=St;(f==="LR"||f==="RL")&&(Lt=St,Mt=vt),at.setDefaultEdgeLabel(function(){return{}}),at.setGraph(T);var wt={};this.sortByCombo&&U&&U.forEach(function(Ft){if(wt[Ft.id]=Ft,Ft.collapsed){var be=ct(Ft),qe=Mt(Ft),Pe=Lt(Ft),Ze=be[0]+2*Pe,Qe=be[1]+2*qe;at.setNode(Ft.id,{width:Ze,height:Qe})}Ft.parentId&&(wt[Ft.parentId]||at.setNode(Ft.parentId,{}),at.setParent(Ft.id,Ft.parentId))}),B.filter(function(Ft){return Ft.layout!==!1}).forEach(function(Ft){var be=ct(Ft),qe=Mt(Ft),Pe=Lt(Ft),Ze=be[0]+2*Pe,Qe=be[1]+2*qe,Ar=Ft.layer;(0,M.isNumber)(Ar)?at.setNode(Ft.id,{width:Ze,height:Qe,layer:Ar}):at.setNode(Ft.id,{width:Ze,height:Qe}),E.sortByCombo&&Ft.comboId&&(wt[Ft.comboId]||(wt[Ft.comboId]={id:Ft.comboId},at.setNode(Ft.comboId,{})),at.setParent(Ft.id,Ft.comboId))}),q.forEach(function(Ft){var be=(0,M.getEdgeTerminal)(Ft,"source"),qe=(0,M.getEdgeTerminal)(Ft,"target");E.layoutNode(be)&&E.layoutNode(qe)&&at.setEdge(be,qe,{weight:Ft.weight||1})}),(b=X==null?void 0:X.concat(tt||[]))===null||b===void 0||b.forEach(function(Ft){var be,qe,Pe=Ft.source,Ze=Ft.target,Qe=!((be=wt[Pe])===null||be===void 0)&&be.collapsed?[Pe]:pt[Pe]||[Pe],Ar=!((qe=wt[Ze])===null||qe===void 0)&&qe.collapsed?[Ze]:pt[Ze]||[Ze];Qe.forEach(function(Hr){Ar.forEach(function(Jr){at.setEdge(Hr,Jr,{weight:Ft.weight||1})})})});var et=void 0;!((A=T.preset)===null||A===void 0)&&A.nodes&&(et=new L.Graph({multigraph:!0,compound:!0}),T.preset.nodes.forEach(function(Ft){et==null||et.setNode(Ft.id,Ft)})),w.default.layout(at,{prevGraph:et,edgeLabelSpace:T.edgeLabelSpace,keepNodeOrder:Boolean(!!T.nodeOrder),nodeOrder:T.nodeOrder});var rt=[0,0];if(j){var Ot=1/0,Dt=1/0;at.nodes().forEach(function(Ft){var be=at.node(Ft);Ot>be.x&&(Ot=be.x),Dt>be.y&&(Dt=be.y)}),at.edges().forEach(function(Ft){var be,qe=at.edge(Ft);(be=qe.points)===null||be===void 0||be.forEach(function(Pe){Ot>Pe.x&&(Ot=Pe.x),Dt>Pe.y&&(Dt=Pe.y)})}),rt[0]=j[0]-Ot,rt[1]=j[1]-Dt}if(z){var ot=this,xt=ot.focusNode,Nt=ot.ranksep,Yt=ot.getRadialPos,Ct=(0,M.isString)(xt)?xt:xt==null?void 0:xt.id,Xt=Ct?(x=at.node(Ct))===null||x===void 0?void 0:x._rank:0,Zt=[],se=f==="LR"||f==="RL",ie=se?"y":"x",zt=se?"height":"width",ae=1/0,Re=-1/0;at.nodes().forEach(function(Ft){var be=at.node(Ft),qe=B.findIndex(function(Jr){return Jr.id===Ft});if(B[qe]){var Pe=vt(B[qe]);if(Xt===0)Zt[be._rank]||(Zt[be._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),Zt[be._rank].nodes.push(Ft),Zt[be._rank].totalWidth+=Pe*2+be[zt],Zt[be._rank].maxSize<Math.max(be.width,be.height)&&(Zt[be._rank].maxSize=Math.max(be.width,be.height));else{var Ze=be._rank-Xt;if(Ze===0)Zt[Ze]||(Zt[Ze]={nodes:[],totalWidth:0,maxSize:-1/0}),Zt[Ze].nodes.push(Ft),Zt[Ze].totalWidth+=Pe*2+be[zt],Zt[Ze].maxSize<Math.max(be.width,be.height)&&(Zt[Ze].maxSize=Math.max(be.width,be.height));else{var Qe=Math.abs(Ze);Zt[Qe]||(Zt[Qe]={left:[],right:[],totalWidth:0,maxSize:-1/0}),Zt[Qe].totalWidth+=Pe*2+be[zt],Zt[Qe].maxSize<Math.max(be.width,be.height)&&(Zt[Qe].maxSize=Math.max(be.width,be.height)),Ze<0?Zt[Qe].left.push(Ft):Zt[Qe].right.push(Ft)}}var Ar=be[ie]-be[zt]/2-Pe,Hr=be[ie]+be[zt]/2+Pe;Ar<ae&&(ae=Ar),Hr>Re&&(Re=Hr)}});var Jt=Nt||50,ue={},ke=(Re-ae)/.9,ye=[(ae+Re-ke)*.5,(ae+Re+ke)*.5],ee=function(Ft,be,qe,Pe){qe===void 0&&(qe=-1/0),Pe===void 0&&(Pe=[0,1]);var Ze=qe;return Ft.forEach(function(Qe){var Ar=at.node(Qe);ue[Qe]=be;var Hr=Yt(Ar[ie],ye,ke,be,Pe),Jr=Hr.x,Cr=Hr.y,bn=B.findIndex(function(Xe){return Xe.id===Qe});if(B[bn]){B[bn].x=Jr+rt[0],B[bn].y=Cr+rt[1],B[bn]._order=Ar._order;var Yr=St(B[bn]);Ze<Yr&&(Ze=Yr)}}),Ze},Ut=!0,bt=0;Zt.forEach(function(Ft){var be,qe,Pe,Ze,Qe,Ar,Hr;if(!(!(!((be=Ft==null?void 0:Ft.nodes)===null||be===void 0)&&be.length)&&!(!((qe=Ft==null?void 0:Ft.left)===null||qe===void 0)&&qe.length)&&!(!((Pe=Ft==null?void 0:Ft.right)===null||Pe===void 0)&&Pe.length))){if(Ut&&Ft.nodes.length===1){var Jr=B.findIndex(function(Yr){return Yr.id===Ft.nodes[0]});if(Jr<=-1)return;B[Jr].x=rt[0],B[Jr].y=rt[1],ue[Ft.nodes[0]]=0,Jt=St(B[Jr]),Ut=!1;return}Jt=Math.max(Jt,Ft.totalWidth/(2*Math.PI));var Cr=-1/0;if(Xt===0||!((Ze=Ft.nodes)===null||Ze===void 0)&&Ze.length)Cr=ee(Ft.nodes,Jt,Cr,[0,1]);else{var bn=((Qe=Ft.left)===null||Qe===void 0?void 0:Qe.length)/(((Ar=Ft.left)===null||Ar===void 0?void 0:Ar.length)+((Hr=Ft.right)===null||Hr===void 0?void 0:Hr.length));Cr=ee(Ft.left,Jt,Cr,[0,bn]),Cr=ee(Ft.right,Jt,Cr,[bn+.05,1])}Jt+=Cr,Ut=!1,bt-Ft.maxSize}}),at.edges().forEach(function(Ft){var be,qe,Pe,Ze=at.edge(Ft),Qe=q.findIndex(function(Ae){var Ue=(0,M.getEdgeTerminal)(Ae,"source"),jr=(0,M.getEdgeTerminal)(Ae,"target");return Ue===Ft.v&&jr===Ft.w});if(!(Qe<=-1)&&T.edgeLabelSpace&&T.controlPoints&&q[Qe].type!=="loop"){var Ar=ie==="x"?"y":"x",Hr=(be=Ze==null?void 0:Ze.points)===null||be===void 0?void 0:be.slice(1,Ze.points.length-1),Jr=[],Cr=(qe=at.node(Ft.v))===null||qe===void 0?void 0:qe[Ar],bn=Cr-((Pe=at.node(Ft.w))===null||Pe===void 0?void 0:Pe[Ar]),Yr=ue[Ft.v],Xe=Yr-ue[Ft.w];Hr==null||Hr.forEach(function(Ae){var Ue=(Ae[Ar]-Cr)/bn*Xe+Yr,jr=Yt(Ae[ie],ye,ke,Ue);Jr.push({x:jr.x+rt[0],y:jr.y+rt[1]})}),q[Qe].controlPoints=Jr}})}else at.nodes().forEach(function(Ft){var be=at.node(Ft);if(be){var qe=B.find(function(Pe){return Pe.id===Ft});qe||(qe=U==null?void 0:U.find(function(Pe){return Pe.id===Ft})),qe&&(qe.x=be.x+rt[0],qe.y=be.y+rt[1],qe._order=be._order)}}),at.edges().forEach(function(Ft){var be,qe=at.edge(Ft),Pe=q.findIndex(function(Ze){var Qe=(0,M.getEdgeTerminal)(Ze,"source"),Ar=(0,M.getEdgeTerminal)(Ze,"target");return Qe===Ft.v&&Ar===Ft.w});Pe<=-1||T.edgeLabelSpace&&T.controlPoints&&q[Pe].type!=="loop"&&(q[Pe].controlPoints=(be=qe==null?void 0:qe.points)===null||be===void 0?void 0:be.slice(1,qe.points.length-1),q[Pe].controlPoints.forEach(function(Ze){Ze.x+=rt[0],Ze.y+=rt[1]}))});return T.onLayoutEnd&&T.onLayoutEnd(),{nodes:B,edges:q}}},S.prototype.getRadialPos=function(E,b,A,x,T){T===void 0&&(T=[0,1]);var B=(E-b[0])/A;B=B*(T[1]-T[0])+T[0];var m=B*2*Math.PI;return{x:Math.cos(m)*x,y:Math.sin(m)*x}},S.prototype.getType=function(){return"dagre"},S}(P.Base);W.DagreLayout=p},627652:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var M=function(P,L){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&(p[S]=g[S])},M(P,L)};return function(P,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");M(P,L);function p(){this.constructor=P}P.prototype=L===null?Object.create(L):(p.prototype=L.prototype,new p)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.Graph=void 0;var R=_(199905),w=function(M){y(P,M);function P(){return M!==null&&M.apply(this,arguments)||this}return P}(R.Graph);W.Graph=w},441106:function(Ve,W,_){"use strict";var y=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(W,"__esModule",{value:!0});var R=y(_(265236)),w=_(269209);W.default={layout:R.default,util:{time:w.time,notime:w.notime}}},178029:function(Ve,W,_){"use strict";var y=this&&this.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(W,"__esModule",{value:!0});var R=y(_(40773)),w=function(L){var p=function(S){return function(E){var b;return((b=S.edge(E))===null||b===void 0?void 0:b.weight)||1}},g=L.graph().acyclicer==="greedy"?(0,R.default)(L,p(L)):M(L);g==null||g.forEach(function(S){var E=L.edge(S);L.removeEdgeObj(S),E.forwardName=S.name,E.reversed=!0,L.setEdge(S.w,S.v,E,"rev-".concat(Math.random()))})},M=function(L){var p=[],g={},S={},E=function(b){var A;S[b]||(S[b]=!0,g[b]=!0,(A=L.outEdges(b))===null||A===void 0||A.forEach(function(x){g[x.w]?p.push(x):E(x.w)}),delete g[b])};return L.nodes().forEach(E),p},P=function(L){L.edges().forEach(function(p){var g=L.edge(p);if(g.reversed){L.removeEdgeObj(p);var S=g.forwardName;delete g.reversed,delete g.forwardName,L.setEdge(p.w,p.v,g,S)}})};W.default={run:w,undo:P}},111500:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var y=_(269209),R=function(M){var P,L=function(p){var g=M.children(p),S=M.node(p);if(g!=null&&g.length&&g.forEach(function(A){return L(A)}),S.hasOwnProperty("minRank")){S.borderLeft=[],S.borderRight=[];for(var E=S.minRank,b=S.maxRank+1;E<b;E+=1)w(M,"borderLeft","_bl",p,S,E),w(M,"borderRight","_br",p,S,E)}};(P=M.children())===null||P===void 0||P.forEach(function(p){return L(p)})},w=function(M,P,L,p,g,S){var E={rank:S,borderType:P,width:0,height:0},b=g[P][S-1],A=(0,y.addDummyNode)(M,"border",E,L);g[P][S]=A,M.setParent(A,p),b&&M.setEdge(b,A,{weight:1})};W.default=R},335279:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var _=function(g){var S,E=(S=g.graph().rankdir)===null||S===void 0?void 0:S.toLowerCase();(E==="lr"||E==="rl")&&R(g)},y=function(g){var S,E=(S=g.graph().rankdir)===null||S===void 0?void 0:S.toLowerCase();(E==="bt"||E==="rl")&&M(g),(E==="lr"||E==="rl")&&(L(g),R(g))},R=function(g){g.nodes().forEach(function(S){w(g.node(S))}),g.edges().forEach(function(S){w(g.edge(S))})},w=function(g){var S=g.width;g.width=g.height,g.height=S},M=function(g){g.nodes().forEach(function(S){P(g.node(S))}),g.edges().forEach(function(S){var E,b=g.edge(S);(E=b.points)===null||E===void 0||E.forEach(function(A){return P(A)}),b.hasOwnProperty("y")&&P(b)})},P=function(g){g!=null&&g.y&&(g.y=-g.y)},L=function(g){g.nodes().forEach(function(S){p(g.node(S))}),g.edges().forEach(function(S){var E,b=g.edge(S);(E=b.points)===null||E===void 0||E.forEach(function(A){return p(A)}),b.hasOwnProperty("x")&&p(b)})},p=function(g){var S=g.x;g.x=g.y,g.y=S};W.default={adjust:_,undo:y}},455532:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var _=function(w,M){if(w!=="next"&&w!=="prev")return M},y=function(w){w.prev.next=w.next,w.next.prev=w.prev,delete w.next,delete w.prev},R=function(){function w(){var M={};M.prev=M,M.next=M.prev,this.shortcut=M}return w.prototype.dequeue=function(){var M=this.shortcut,P=M.prev;if(P&&P!==M)return y(P),P},w.prototype.enqueue=function(M){var P=this.shortcut;M.prev&&M.next&&y(M),M.next=P.next,P.next.prev=M,P.next=M,M.prev=P},w.prototype.toString=function(){for(var M=[],P=this.shortcut,L=P.prev;L!==P;)M.push(JSON.stringify(L,_)),L=L==null?void 0:L.prev;return"[".concat(M.join(", "),"]")},w}();W.default=R},40773:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var x=function(T,B){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var U in f)Object.prototype.hasOwnProperty.call(f,U)&&(m[U]=f[U])},x(T,B)};return function(T,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");x(T,B);function m(){this.constructor=T}T.prototype=B===null?Object.create(B):(m.prototype=B.prototype,new m)}}(),R=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(W,"__esModule",{value:!0});var w=R(_(455532)),M=_(199905),P=function(x){y(T,x);function T(){return x!==null&&x.apply(this,arguments)||this}return T}(w.default),L=function(x){y(T,x);function T(){return x!==null&&x.apply(this,arguments)||this}return T}(M.Graph),p=function(){return 1},g=function(x,T){var B;if(x.nodeCount()<=1)return[];var m=b(x,T||p),f=S(m.graph,m.buckets,m.zeroIdx);return(B=f.map(function(U){return x.outEdges(U.v,U.w)}))===null||B===void 0?void 0:B.flat()},S=function(x,T,B){for(var m=[],f=T[T.length-1],U=T[0],j;x.nodeCount();){for(;j=U.dequeue();)E(x,T,B,j);for(;j=f.dequeue();)E(x,T,B,j);if(x.nodeCount()){for(var z=T.length-2;z>0;--z)if(j=T[z].dequeue(),j){m=m.concat(E(x,T,B,j,!0));break}}}return m},E=function(x,T,B,m,f){var U,j,z=[];return(U=x.inEdges(m.v))===null||U===void 0||U.forEach(function(k){var X=x.edge(k),K=x.node(k.v);f&&z.push({v:k.v,w:k.w,in:0,out:0}),K.out===void 0&&(K.out=0),K.out-=X,A(T,B,K)}),(j=x.outEdges(m.v))===null||j===void 0||j.forEach(function(k){var X=x.edge(k),K=k.w,tt=x.node(K);tt.in===void 0&&(tt.in=0),tt.in-=X,A(T,B,tt)}),x.removeNode(m.v),f?z:void 0},b=function(x,T){var B=new L,m=0,f=0;x.nodes().forEach(function(X){B.setNode(X,{v:X,in:0,out:0})}),x.edges().forEach(function(X){var K=B.edge(X)||0,tt=(T==null?void 0:T(X))||1,q=K+tt;B.setEdge(X.v,X.w,q),f=Math.max(f,B.node(X.v).out+=tt),m=Math.max(m,B.node(X.w).in+=tt)});for(var U=[],j=f+m+3,z=0;z<j;z++)U.push(new P);var k=m+1;return B.nodes().forEach(function(X){A(U,k,B.node(X))}),{buckets:U,zeroIdx:k,graph:B}},A=function(x,T,B){B.out?B.in?x[B.out-B.in+T].enqueue(B):x[x.length-1].enqueue(B):x[0].enqueue(B)};W.default=g},265236:function(Ve,W,_){"use strict";var y=this&&this.__assign||function(){return y=Object.assign||function(Ct){for(var Xt,Zt=1,se=arguments.length;Zt<se;Zt++){Xt=arguments[Zt];for(var ie in Xt)Object.prototype.hasOwnProperty.call(Xt,ie)&&(Ct[ie]=Xt[ie])}return Ct},y.apply(this,arguments)},R=this&&this.__importDefault||function(Ct){return Ct&&Ct.__esModule?Ct:{default:Ct}};Object.defineProperty(W,"__esModule",{value:!0});var w=R(_(178029)),M=R(_(546171)),P=R(_(576827)),L=_(269209),p=R(_(933562)),g=R(_(59596)),S=R(_(111500)),E=R(_(335279)),b=R(_(819597)),A=R(_(100095)),x=R(_(724956)),T=_(627652),B=function(Ct,Xt){var Zt=Xt&&Xt.debugTiming?L.time:L.notime;Zt("layout",function(){Xt&&!Xt.keepNodeOrder&&Xt.prevGraph&&Zt("  inheritOrder",function(){f(Ct,Xt.prevGraph)});var se=Zt("  buildLayoutGraph",function(){return pt(Ct)});Xt&&Xt.edgeLabelSpace===!1||Zt("  makeSpaceForEdgeLabels",function(){ct(se)});try{Zt("  runLayout",function(){m(se,Zt,Xt)})}catch(ie){if(ie.message==="Not possible to find intersection inside of the rectangle"){console.error(`The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:
`,ie);return}throw ie}Zt("  updateInputGraph",function(){U(Ct,se)})})},m=function(Ct,Xt,Zt){Xt("    removeSelfEdges",function(){Dt(Ct)}),Xt("    acyclic",function(){w.default.run(Ct)}),Xt("    nestingGraph.run",function(){g.default.run(Ct)}),Xt("    rank",function(){(0,P.default)((0,L.asNonCompoundGraph)(Ct))}),Xt("    injectEdgeLabelProxies",function(){St(Ct)}),Xt("    removeEmptyRanks",function(){(0,L.removeEmptyRanks)(Ct)}),Xt("    nestingGraph.cleanup",function(){g.default.cleanup(Ct)}),Xt("    normalizeRanks",function(){(0,L.normalizeRanks)(Ct)}),Xt("    assignRankMinMax",function(){vt(Ct)}),Xt("    removeEdgeLabelProxies",function(){Lt(Ct)}),Xt("    normalize.run",function(){M.default.run(Ct)}),Xt("    parentDummyChains",function(){(0,p.default)(Ct)}),Xt("    addBorderSegments",function(){(0,S.default)(Ct)}),Zt&&Zt.keepNodeOrder&&Xt("    initDataOrder",function(){(0,x.default)(Ct,Zt.nodeOrder)}),Xt("    order",function(){(0,b.default)(Ct)}),Xt("    insertSelfEdges",function(){ot(Ct)}),Xt("    adjustCoordinateSystem",function(){E.default.adjust(Ct)}),Xt("    position",function(){(0,A.default)(Ct)}),Xt("    positionSelfEdges",function(){xt(Ct)}),Xt("    removeBorderNodes",function(){Ot(Ct)}),Xt("    normalize.undo",function(){M.default.undo(Ct)}),Xt("    fixupEdgeLabelCoords",function(){et(Ct)}),Xt("    undoCoordinateSystem",function(){E.default.undo(Ct)}),Xt("    translateGraph",function(){Mt(Ct)}),Xt("    assignNodeIntersects",function(){wt(Ct)}),Xt("    reversePoints",function(){rt(Ct)}),Xt("    acyclic.undo",function(){w.default.undo(Ct)})},f=function(Ct,Xt){Ct.nodes().forEach(function(Zt){var se=Ct.node(Zt),ie=Xt.node(Zt);ie!==void 0?(se.fixorder=ie._order,delete ie._order):delete se.fixorder})},U=function(Ct,Xt){Ct.nodes().forEach(function(Zt){var se,ie=Ct.node(Zt);if(ie){var zt=Xt.node(Zt);ie.x=zt.x,ie.y=zt.y,ie._order=zt.order,ie._rank=zt.rank,!((se=Xt.children(Zt))===null||se===void 0)&&se.length&&(ie.width=zt.width,ie.height=zt.height)}}),Ct.edges().forEach(function(Zt){var se=Ct.edge(Zt),ie=Xt.edge(Zt);se.points=ie?ie.points:[],ie&&ie.hasOwnProperty("x")&&(se.x=ie.x,se.y=ie.y)}),Ct.graph().width=Xt.graph().width,Ct.graph().height=Xt.graph().height},j=["nodesep","edgesep","ranksep","marginx","marginy"],z={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},k=["acyclicer","ranker","rankdir","align"],X=["width","height","layer","fixorder"],K={width:0,height:0},tt=["minlen","weight","width","height","labeloffset"],q={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},at=["labelpos"],pt=function(Ct){var Xt=new T.Graph({multigraph:!0,compound:!0}),Zt=Yt(Ct.graph()),se={};return k==null||k.forEach(function(ie){Zt[ie]!==void 0&&(se[ie]=Zt[ie])}),Xt.setGraph(Object.assign({},z,Nt(Zt,j),se)),Ct.nodes().forEach(function(ie){var zt=Yt(Ct.node(ie)),ae=y(y({},K),zt),Re=Nt(ae,X);Xt.setNode(ie,Re),Xt.setParent(ie,Ct.parent(ie))}),Ct.edges().forEach(function(ie){var zt=Yt(Ct.edge(ie)),ae={};at==null||at.forEach(function(Re){zt[Re]!==void 0&&(ae[Re]=zt[Re])}),Xt.setEdgeObj(ie,Object.assign({},q,Nt(zt,tt),ae))}),Xt},ct=function(Ct){var Xt=Ct.graph();Xt.ranksep||(Xt.ranksep=0),Xt.ranksep/=2,Ct.nodes().forEach(function(Zt){var se=Ct.node(Zt);isNaN(se.layer)||se.layer||(se.layer=0)}),Ct.edges().forEach(function(Zt){var se,ie=Ct.edge(Zt);ie.minlen*=2,((se=ie.labelpos)===null||se===void 0?void 0:se.toLowerCase())!=="c"&&(Xt.rankdir==="TB"||Xt.rankdir==="BT"?ie.width+=ie.labeloffset:ie.height+=ie.labeloffset)})},St=function(Ct){Ct.edges().forEach(function(Xt){var Zt=Ct.edge(Xt);if(Zt.width&&Zt.height){var se=Ct.node(Xt.v),ie=Ct.node(Xt.w),zt={e:Xt,rank:(ie.rank-se.rank)/2+se.rank};(0,L.addDummyNode)(Ct,"edge-proxy",zt,"_ep")}})},vt=function(Ct){var Xt=0;Ct.nodes().forEach(function(Zt){var se,ie,zt=Ct.node(Zt);zt.borderTop&&(zt.minRank=(se=Ct.node(zt.borderTop))===null||se===void 0?void 0:se.rank,zt.maxRank=(ie=Ct.node(zt.borderBottom))===null||ie===void 0?void 0:ie.rank,Xt=Math.max(Xt,zt.maxRank||-1/0))}),Ct.graph().maxRank=Xt},Lt=function(Ct){Ct.nodes().forEach(function(Xt){var Zt=Ct.node(Xt);Zt.dummy==="edge-proxy"&&(Ct.edge(Zt.e).labelRank=Zt.rank,Ct.removeNode(Xt))})},Mt=function(Ct){var Xt,Zt=0,se,ie=0,zt=Ct.graph(),ae=zt.marginx||0,Re=zt.marginy||0,Jt=function(ue){if(ue){var ke=ue.x,ye=ue.y,ee=ue.width,Ut=ue.height;!isNaN(ke)&&!isNaN(ee)&&(Xt===void 0&&(Xt=ke-ee/2),Xt=Math.min(Xt,ke-ee/2),Zt=Math.max(Zt,ke+ee/2)),!isNaN(ye)&&!isNaN(Ut)&&(se===void 0&&(se=ye-Ut/2),se=Math.min(se,ye-Ut/2),ie=Math.max(ie,ye+Ut/2))}};Ct.nodes().forEach(function(ue){Jt(Ct.node(ue))}),Ct.edges().forEach(function(ue){var ke=Ct.edge(ue);ke!=null&&ke.hasOwnProperty("x")&&Jt(ke)}),Xt-=ae,se-=Re,Ct.nodes().forEach(function(ue){var ke=Ct.node(ue);ke&&(ke.x-=Xt,ke.y-=se)}),Ct.edges().forEach(function(ue){var ke,ye=Ct.edge(ue);(ke=ye.points)===null||ke===void 0||ke.forEach(function(ee){ee.x-=Xt,ee.y-=se}),ye.hasOwnProperty("x")&&(ye.x-=Xt),ye.hasOwnProperty("y")&&(ye.y-=se)}),zt.width=Zt-Xt+ae,zt.height=ie-se+Re},wt=function(Ct){Ct.edges().forEach(function(Xt){var Zt=Ct.edge(Xt),se=Ct.node(Xt.v),ie=Ct.node(Xt.w),zt,ae;Zt.points?(zt=Zt.points[0],ae=Zt.points[Zt.points.length-1]):(Zt.points=[],zt=ie,ae=se),Zt.points.unshift((0,L.intersectRect)(se,zt)),Zt.points.push((0,L.intersectRect)(ie,ae))})},et=function(Ct){Ct.edges().forEach(function(Xt){var Zt=Ct.edge(Xt);if(Zt!=null&&Zt.hasOwnProperty("x"))switch((Zt.labelpos==="l"||Zt.labelpos==="r")&&(Zt.width-=Zt.labeloffset),Zt.labelpos){case"l":Zt.x-=Zt.width/2+Zt.labeloffset;break;case"r":Zt.x+=Zt.width/2+Zt.labeloffset;break}})},rt=function(Ct){Ct.edges().forEach(function(Xt){var Zt,se=Ct.edge(Xt);se.reversed&&((Zt=se.points)===null||Zt===void 0||Zt.reverse())})},Ot=function(Ct){Ct.nodes().forEach(function(Xt){var Zt,se,ie;if(!((Zt=Ct.children(Xt))===null||Zt===void 0)&&Zt.length){var zt=Ct.node(Xt),ae=Ct.node(zt.borderTop),Re=Ct.node(zt.borderBottom),Jt=Ct.node(zt.borderLeft[((se=zt.borderLeft)===null||se===void 0?void 0:se.length)-1]),ue=Ct.node(zt.borderRight[((ie=zt.borderRight)===null||ie===void 0?void 0:ie.length)-1]);zt.width=Math.abs((ue==null?void 0:ue.x)-(Jt==null?void 0:Jt.x))||10,zt.height=Math.abs((Re==null?void 0:Re.y)-(ae==null?void 0:ae.y))||10,zt.x=((Jt==null?void 0:Jt.x)||0)+zt.width/2,zt.y=((ae==null?void 0:ae.y)||0)+zt.height/2}}),Ct.nodes().forEach(function(Xt){var Zt;((Zt=Ct.node(Xt))===null||Zt===void 0?void 0:Zt.dummy)==="border"&&Ct.removeNode(Xt)})},Dt=function(Ct){Ct.edges().forEach(function(Xt){if(Xt.v===Xt.w){var Zt=Ct.node(Xt.v);Zt.selfEdges||(Zt.selfEdges=[]),Zt.selfEdges.push({e:Xt,label:Ct.edge(Xt)}),Ct.removeEdgeObj(Xt)}})},ot=function(Ct){var Xt=(0,L.buildLayerMatrix)(Ct);Xt==null||Xt.forEach(function(Zt){var se=0;Zt==null||Zt.forEach(function(ie,zt){var ae,Re=Ct.node(ie);Re.order=zt+se,(ae=Re.selfEdges)===null||ae===void 0||ae.forEach(function(Jt){(0,L.addDummyNode)(Ct,"selfedge",{width:Jt.label.width,height:Jt.label.height,rank:Re.rank,order:zt+ ++se,e:Jt.e,label:Jt.label},"_se")}),delete Re.selfEdges})})},xt=function(Ct){Ct.nodes().forEach(function(Xt){var Zt=Ct.node(Xt);if(Zt.dummy==="selfedge"){var se=Ct.node(Zt.e.v),ie=se.x+se.width/2,zt=se.y,ae=Zt.x-ie,Re=se.height/2;Ct.setEdgeObj(Zt.e,Zt.label),Ct.removeNode(Xt),Zt.label.points=[{x:ie+2*ae/3,y:zt-Re},{x:ie+5*ae/6,y:zt-Re},{y:zt,x:ie+ae},{x:ie+5*ae/6,y:zt+Re},{x:ie+2*ae/3,y:zt+Re}],Zt.label.x=Zt.x,Zt.label.y=Zt.y}})},Nt=function(Ct,Xt){var Zt={};return Xt==null||Xt.forEach(function(se){Ct[se]!==void 0&&(Zt[se]=+Ct[se])}),Zt},Yt=function(Ct){Ct===void 0&&(Ct={});var Xt={};return Object.keys(Ct).forEach(function(Zt){Xt[Zt.toLowerCase()]=Ct[Zt]}),Xt};W.default=B},59596:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var y=_(269209),R=function(p){var g,S=(0,y.addDummyNode)(p,"root",{},"_root"),E=M(p),b=Math.max.apply(Math,Object.values(E));Math.abs(b)===1/0&&(b=1);var A=b-1,x=2*A+1;p.graph().nestingRoot=S,p.edges().forEach(function(B){p.edge(B).minlen*=x});var T=P(p)+1;(g=p.children())===null||g===void 0||g.forEach(function(B){w(p,S,x,T,A,E,B)}),p.graph().nodeRankFactor=x},w=function(p,g,S,E,b,A,x){var T=p.children(x);if(!(T!=null&&T.length)){x!==g&&p.setEdge(g,x,{weight:0,minlen:S});return}var B=(0,y.addBorderNode)(p,"_bt"),m=(0,y.addBorderNode)(p,"_bb"),f=p.node(x);p.setParent(B,x),f.borderTop=B,p.setParent(m,x),f.borderBottom=m,T==null||T.forEach(function(U){w(p,g,S,E,b,A,U);var j=p.node(U),z=j.borderTop?j.borderTop:U,k=j.borderBottom?j.borderBottom:U,X=j.borderTop?E:2*E,K=z!==k?1:b-A[x]+1;p.setEdge(B,z,{minlen:K,weight:X,nestingEdge:!0}),p.setEdge(k,m,{minlen:K,weight:X,nestingEdge:!0})}),p.parent(x)||p.setEdge(g,B,{weight:0,minlen:b+A[x]})},M=function(p){var g,S={},E=function(b,A){var x=p.children(b);x==null||x.forEach(function(T){return E(T,A+1)}),S[b]=A};return(g=p.children())===null||g===void 0||g.forEach(function(b){return E(b,1)}),S},P=function(p){var g=0;return p.edges().forEach(function(S){g+=p.edge(S).weight}),g},L=function(p){var g=p.graph();g.nestingRoot&&p.removeNode(g.nestingRoot),delete g.nestingRoot,p.edges().forEach(function(S){var E=p.edge(S);E.nestingEdge&&p.removeEdgeObj(S)})};W.default={run:R,cleanup:L}},546171:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var y=_(269209),R=function(P){P.graph().dummyChains=[],P.edges().forEach(function(L){return w(P,L)})},w=function(P,L){var p=L.v,g=P.node(p).rank,S=L.w,E=P.node(S).rank,b=L.name,A=P.edge(L),x=A.labelRank;if(E!==g+1){P.removeEdgeObj(L);var T=P.graph(),B,m,f;for(f=0,++g;g<E;++f,++g)A.points=[],m={edgeLabel:A,width:0,height:0,edgeObj:L,rank:g},B=(0,y.addDummyNode)(P,"edge",m,"_d"),g===x&&(m.width=A.width,m.height=A.height,m.dummy="edge-label",m.labelpos=A.labelpos),P.setEdge(p,B,{weight:A.weight},b),f===0&&(T.dummyChains||(T.dummyChains=[]),T.dummyChains.push(B)),p=B;P.setEdge(p,S,{weight:A.weight},b)}},M=function(P){var L;(L=P.graph().dummyChains)===null||L===void 0||L.forEach(function(p){var g=P.node(p),S=g.edgeLabel,E;g.edgeObj&&P.setEdgeObj(g.edgeObj,S);for(var b=p;g.dummy;)E=P.successors(b)[0],P.removeNode(b),S.points.push({x:g.x,y:g.y}),g.dummy==="edge-label"&&(S.x=g.x,S.y=g.y,S.width=g.width,S.height=g.height),b=E,g=P.node(b)})};W.default={run:R,undo:M}},680314:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var _=function(y,R,w){var M={},P;w==null||w.forEach(function(L){for(var p=y.parent(L),g,S;p;){if(g=y.parent(p),g?(S=M[g],M[g]=p):(S=P,P=p),S&&S!==p){R.setEdge(S,p);return}p=g}})};W.default=_},989921:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var _=function(y,R){return R.map(function(w){var M=y.inEdges(w);if(!(M!=null&&M.length))return{v:w};{var P={sum:0,weight:0};return M==null||M.forEach(function(L){var p=y.edge(L),g=y.node(L.v);P.sum+=p.weight*g.order,P.weight+=p.weight}),{v:w,barycenter:P.sum/P.weight,weight:P.weight}}})};W.default=_},277006:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var y=_(627652),R=function(M,P,L){var p=w(M),g=new y.Graph({compound:!0}).setGraph({root:p}).setDefaultNodeLabel(function(S){return M.node(S)});return M.nodes().forEach(function(S){var E,b=M.node(S),A=M.parent(S);(b.rank===P||b.minRank<=P&&P<=b.maxRank)&&(g.setNode(S),g.setParent(S,A||p),(E=M[L](S))===null||E===void 0||E.forEach(function(x){var T=x.v===S?x.w:x.v,B=g.edgeFromArgs(T,S),m=B!==void 0?B.weight:0;g.setEdge(T,S,{weight:M.edge(x).weight+m})}),b.hasOwnProperty("minRank")&&g.setNode(S,{borderLeft:b.borderLeft[P],borderRight:b.borderRight[P]}))}),g},w=function(M){for(var P;M.hasNode(P="_root".concat(Math.random())););return P};W.default=R},632957:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var y=_(269209),R=function(M,P,L){for(var p=(0,y.zipObject)(L,L.map(function(T,B){return B})),g=P.map(function(T){var B,m=(B=M.outEdges(T))===null||B===void 0?void 0:B.map(function(f){return{pos:p[f.w]||0,weight:M.edge(f).weight}});return m==null?void 0:m.sort(function(f,U){return f.pos-U.pos})}),S=g.flat().filter(function(T){return T!==void 0}),E=1;E<L.length;)E<<=1;var b=2*E-1;E-=1;var A=Array(b).fill(0,0,b),x=0;return S==null||S.forEach(function(T){if(T){var B=T.pos+E;A[B]+=T.weight;for(var m=0;B>0;)B%2&&(m+=A[B+1]),B=B-1>>1,A[B]+=T.weight;x+=T.weight*m}}),x},w=function(M,P){for(var L=0,p=1;p<(P==null?void 0:P.length);p+=1)L+=R(M,P[p-1],P[p]);return L};W.default=w},819597:function(Ve,W,_){"use strict";var y=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(W,"__esModule",{value:!0});var R=y(_(115697)),w=y(_(632957)),M=y(_(277006)),P=y(_(680314)),L=y(_(99455)),p=_(449784),g=_(627652),S=_(269209),E=function(T){for(var B=(0,S.maxRank)(T),m=[],f=[],U=1;U<B+1;U++)m.push(U);for(var U=B-1;U>-1;U--)f.push(U);var j=b(T,m,"inEdges"),z=b(T,f,"outEdges"),k=(0,R.default)(T);x(T,k);for(var X=Number.POSITIVE_INFINITY,K,U=0,tt=0;tt<4;++U,++tt){A(U%2?j:z,U%4>=2),k=(0,S.buildLayerMatrix)(T);var q=(0,w.default)(T,k);q<X&&(tt=0,K=(0,p.clone)(k),X=q)}k=(0,R.default)(T),x(T,k);for(var U=0,tt=0;tt<4;++U,++tt){A(U%2?j:z,U%4>=2,!0),k=(0,S.buildLayerMatrix)(T);var q=(0,w.default)(T,k);q<X&&(tt=0,K=(0,p.clone)(k),X=q)}x(T,K)},b=function(T,B,m){return B.map(function(f){return(0,M.default)(T,f,m)})},A=function(T,B,m){var f=new g.Graph;T==null||T.forEach(function(U){for(var j,z=U.graph().root,k=(0,L.default)(U,z,f,B,m),X=0;X<((j=k.vs)===null||j===void 0?void 0:j.length);X++){var K=U.node(k.vs[X]);K&&(K.order=X)}(0,P.default)(U,f,k.vs)})},x=function(T,B){B==null||B.forEach(function(m){m==null||m.forEach(function(f,U){T.node(f).order=U})})};W.default=E},724956:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var _=function(y,R){var w=y.nodes().filter(function(p){var g;return!(!((g=y.children(p))===null||g===void 0)&&g.length)}),M=w.map(function(p){return y.node(p).rank}),P=Math.max.apply(Math,M),L=Array(P+1).fill([]);R==null||R.forEach(function(p){var g=y.node(p);!g||g!=null&&g.dummy||isNaN(g.rank)||(g.fixorder=L[g.rank].length,L[g.rank].push(p))})};W.default=_},115697:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var _=function(y){for(var R={},w=y.nodes().filter(function(A){var x;return!(!((x=y.children(A))===null||x===void 0)&&x.length)}),M=w.map(function(A){return y.node(A).rank}),P=Math.max.apply(Math,M),L=[],p=0;p<P+1;p++)L.push([]);var g=function(A){var x;if(!R.hasOwnProperty(A)){R[A]=!0;var T=y.node(A);isNaN(T.rank)||L[T.rank].push(A),(x=y.successors(A))===null||x===void 0||x.forEach(function(B){return g(B)})}},S=w.sort(function(A,x){return y.node(A).rank-y.node(x).rank}),E=S.filter(function(A){return y.node(A).fixorder!==void 0}),b=E.sort(function(A,x){return y.node(A).fixorder-y.node(x).fixorder});return b==null||b.forEach(function(A){isNaN(y.node(A).rank)||L[y.node(A).rank].push(A),R[A]=!0}),S==null||S.forEach(g),L};W.default=_},707043:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var _=function(w,M){var P,L,p,g={};w==null||w.forEach(function(E,b){g[E.v]={i:b,indegree:0,in:[],out:[],vs:[E.v]};var A=g[E.v];E.barycenter!==void 0&&(A.barycenter=E.barycenter,A.weight=E.weight)}),(P=M.edges())===null||P===void 0||P.forEach(function(E){var b=g[E.v],A=g[E.w];b!==void 0&&A!==void 0&&(A.indegree++,b.out.push(g[E.w]))});var S=(p=(L=Object.values(g)).filter)===null||p===void 0?void 0:p.call(L,function(E){return!E.indegree});return y(S)},y=function(w){for(var M,P,L=[],p=function(A){return function(x){x.merged||(x.barycenter===void 0||A.barycenter===void 0||x.barycenter>=A.barycenter)&&R(A,x)}},g=function(A){return function(x){x.in.push(A),--x.indegree===0&&w.push(x)}},S=function(){var A=w.pop();L.push(A),(M=A.in.reverse())===null||M===void 0||M.forEach(function(x){return p(A)(x)}),(P=A.out)===null||P===void 0||P.forEach(function(x){return g(A)(x)})};w!=null&&w.length;)S();var E=L.filter(function(A){return!A.merged}),b=["vs","i","barycenter","weight"];return E.map(function(A){var x={};return b==null||b.forEach(function(T){A[T]!==void 0&&(x[T]=A[T])}),x})},R=function(w,M){var P,L=0,p=0;w.weight&&(L+=w.barycenter*w.weight,p+=w.weight),M.weight&&(L+=M.barycenter*M.weight,p+=M.weight),w.vs=(P=M.vs)===null||P===void 0?void 0:P.concat(w.vs),w.barycenter=L/p,w.weight=p,w.i=Math.min(M.i,w.i),M.merged=!0};W.default=_},99455:function(Ve,W,_){"use strict";var y=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(W,"__esModule",{value:!0});var R=y(_(989921)),w=y(_(707043)),M=y(_(421498)),P=function(g,S,E,b,A){var x,T,B,m,f=g.children(S),U=g.node(S),j=U?U.borderLeft:void 0,z=U?U.borderRight:void 0,k={};j&&(f=f==null?void 0:f.filter(function(pt){return pt!==j&&pt!==z}));var X=(0,R.default)(g,f||[]);X==null||X.forEach(function(pt){var ct;if(!((ct=g.children(pt.v))===null||ct===void 0)&&ct.length){var St=P(g,pt.v,E,b);k[pt.v]=St,St.hasOwnProperty("barycenter")&&p(pt,St)}});var K=(0,w.default)(X,E);L(K,k),(x=K.filter(function(pt){return pt.vs.length>0}))===null||x===void 0||x.forEach(function(pt){var ct=g.node(pt.vs[0]);ct&&(pt.fixorder=ct.fixorder,pt.order=ct.order)});var tt=(0,M.default)(K,b,A);if(j&&(tt.vs=[j,tt.vs,z].flat(),!((T=g.predecessors(j))===null||T===void 0)&&T.length)){var q=g.node(((B=g.predecessors(j))===null||B===void 0?void 0:B[0])||""),at=g.node(((m=g.predecessors(z))===null||m===void 0?void 0:m[0])||"");tt.hasOwnProperty("barycenter")||(tt.barycenter=0,tt.weight=0),tt.barycenter=(tt.barycenter*tt.weight+q.order+at.order)/(tt.weight+2),tt.weight+=2}return tt},L=function(g,S){g==null||g.forEach(function(E){var b,A=(b=E.vs)===null||b===void 0?void 0:b.map(function(x){return S[x]?S[x].vs:x});E.vs=A.flat()})},p=function(g,S){g.barycenter!==void 0?(g.barycenter=(g.barycenter*g.weight+S.barycenter*S.weight)/(g.weight+S.weight),g.weight+=S.weight):(g.barycenter=S.barycenter,g.weight=S.weight)};W.default=P},421498:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var y=_(269209),R=function(P,L,p){var g=(0,y.partition)(P,function(m){return m.hasOwnProperty("fixorder")&&!isNaN(m.fixorder)||m.hasOwnProperty("barycenter")}),S=g.lhs,E=g.rhs.sort(function(m,f){return-m.i- -f.i}),b=[],A=0,x=0,T=0;S==null||S.sort(M(!!L,!!p)),T=w(b,E,T),S==null||S.forEach(function(m){var f;T+=(f=m.vs)===null||f===void 0?void 0:f.length,b.push(m.vs),A+=m.barycenter*m.weight,x+=m.weight,T=w(b,E,T)});var B={vs:b.flat()};return x&&(B.barycenter=A/x,B.weight=x),B},w=function(P,L,p){for(var g=p,S;L.length&&(S=L[L.length-1]).i<=g;)L.pop(),P==null||P.push(S.vs),g++;return g},M=function(P,L){return function(p,g){if(p.fixorder!==void 0&&g.fixorder!==void 0)return p.fixorder-g.fixorder;if(p.barycenter<g.barycenter)return-1;if(p.barycenter>g.barycenter)return 1;if(L&&p.order!==void 0&&g.order!==void 0){if(p.order<g.order)return-1;if(p.order>g.order)return 1}return P?g.i-p.i:p.i-g.i}};W.default=R},933562:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var _=function(w){var M,P={},L=0,p=function(g){var S,E=L;(S=w.children(g))===null||S===void 0||S.forEach(p),P[g]={low:E,lim:L++}};return(M=w.children())===null||M===void 0||M.forEach(p),P},y=function(w,M,P,L){var p=[],g=[],S=Math.min(M[P].low,M[L].low),E=Math.max(M[P].lim,M[L].lim),b,A;b=P;do b=w.parent(b),p.push(b);while(b&&(M[b].low>S||E>M[b].lim));for(A=b,b=L;b&&b!==A;)g.push(b),b=w.parent(b);return{lca:A,path:p.concat(g.reverse())}},R=function(w){var M,P=_(w);(M=w.graph().dummyChains)===null||M===void 0||M.forEach(function(L){var p,g,S=L,E=w.node(S),b=E.edgeObj;if(b)for(var A=y(w,P,b.v,b.w),x=A.path,T=A.lca,B=0,m=x[B],f=!0;S!==b.w;){if(E=w.node(S),f){for(;m!==T&&((p=w.node(m))===null||p===void 0?void 0:p.maxRank)<E.rank;)B++,m=x[B];m===T&&(f=!1)}if(!f){for(;B<x.length-1&&((g=w.node(x[B+1]))===null||g===void 0?void 0:g.minRank)<=E.rank;)B++;m=x[B]}w.setParent(S,m),S=w.successors(S)[0]}})};W.default=R},371963:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var j=function(z,k){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,K){X.__proto__=K}||function(X,K){for(var tt in K)Object.prototype.hasOwnProperty.call(K,tt)&&(X[tt]=K[tt])},j(z,k)};return function(z,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");j(z,k);function X(){this.constructor=z}z.prototype=k===null?Object.create(k):(X.prototype=k.prototype,new X)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.width=W.sep=W.positionX=W.balance=W.alignCoordinates=W.findSmallestWidthAlignment=W.buildBlockGraph=W.horizontalCompaction=W.verticalAlignment=W.hasConflict=W.addConflict=W.findOtherInnerSegmentNode=W.findType2Conflicts=W.findType1Conflicts=void 0;var R=_(199905),w=_(269209),M=function(j){y(z,j);function z(){return j!==null&&j.apply(this,arguments)||this}return z}(R.Graph),P=function(j,z){var k={},X=function(K,tt){var q=0,at=0,pt=K.length,ct=tt==null?void 0:tt[(tt==null?void 0:tt.length)-1];return tt==null||tt.forEach(function(St,vt){var Lt,Mt=(0,W.findOtherInnerSegmentNode)(j,St),wt=Mt?j.node(Mt).order:pt;(Mt||St===ct)&&((Lt=tt.slice(at,vt+1))===null||Lt===void 0||Lt.forEach(function(et){var rt;(rt=j.predecessors(et))===null||rt===void 0||rt.forEach(function(Ot){var Dt,ot=j.node(Ot),xt=ot.order;(xt<q||wt<xt)&&!(ot.dummy&&(!((Dt=j.node(et))===null||Dt===void 0)&&Dt.dummy))&&(0,W.addConflict)(k,Ot,et)})}),at=vt+1,q=wt)}),tt};return z!=null&&z.length&&z.reduce(X),k};W.findType1Conflicts=P;var L=function(j,z){var k={},X=function(tt,q,at,pt,ct){for(var St,vt=[],Lt=q;Lt<at;Lt++)vt.push(Lt);vt.forEach(function(Mt){var wt,et;St=tt[Mt],!((wt=j.node(St))===null||wt===void 0)&&wt.dummy&&((et=j.predecessors(St))===null||et===void 0||et.forEach(function(rt){var Ot=j.node(rt);Ot.dummy&&(Ot.order<pt||Ot.order>ct)&&(0,W.addConflict)(k,rt,St)}))})},K=function(tt,q){var at=-1,pt,ct=0;return q==null||q.forEach(function(St,vt){var Lt;if(((Lt=j.node(St))===null||Lt===void 0?void 0:Lt.dummy)==="border"){var Mt=j.predecessors(St)||[];Mt.length&&(pt=j.node(Mt[0]).order,X(q,ct,vt,at,pt),ct=vt,at=pt)}X(q,ct,q.length,pt,tt.length)}),q};return z!=null&&z.length&&z.reduce(K),k};W.findType2Conflicts=L;var p=function(j,z){var k,X;if(!((k=j.node(z))===null||k===void 0)&&k.dummy)return(X=j.predecessors(z))===null||X===void 0?void 0:X.find(function(K){return j.node(K).dummy})};W.findOtherInnerSegmentNode=p;var g=function(j,z,k){var X=z,K=k;if(X>K){var tt=X;X=K,K=tt}var q=j[X];q||(j[X]=q={}),q[K]=!0};W.addConflict=g;var S=function(j,z,k){var X=z,K=k;if(X>K){var tt=z;X=K,K=tt}return!!j[X]};W.hasConflict=S;var E=function(j,z,k,X){var K={},tt={},q={};return z==null||z.forEach(function(at){at==null||at.forEach(function(pt,ct){K[pt]=pt,tt[pt]=pt,q[pt]=ct})}),z==null||z.forEach(function(at){var pt=-1;at==null||at.forEach(function(ct){var St=X(ct);if(St.length){St=St.sort(function(et,rt){return q[et]-q[rt]});for(var vt=(St.length-1)/2,Lt=Math.floor(vt),Mt=Math.ceil(vt);Lt<=Mt;++Lt){var wt=St[Lt];tt[ct]===ct&&pt<q[wt]&&!(0,W.hasConflict)(k,ct,wt)&&(tt[wt]=ct,tt[ct]=K[ct]=K[wt],pt=q[wt])}}})}),{root:K,align:tt}};W.verticalAlignment=E;var b=function(j,z,k,X,K){var tt,q={},at=(0,W.buildBlockGraph)(j,z,k,K),pt=K?"borderLeft":"borderRight",ct=function(Lt,Mt){for(var wt=at.nodes(),et=wt.pop(),rt={};et;)rt[et]?Lt(et):(rt[et]=!0,wt.push(et),wt=wt.concat(Mt(et))),et=wt.pop()},St=function(Lt){q[Lt]=(at.inEdges(Lt)||[]).reduce(function(Mt,wt){return Math.max(Mt,(q[wt.v]||0)+at.edge(wt))},0)},vt=function(Lt){var Mt=(at.outEdges(Lt)||[]).reduce(function(et,rt){return Math.min(et,(q[rt.w]||0)-at.edge(rt))},Number.POSITIVE_INFINITY),wt=j.node(Lt);Mt!==Number.POSITIVE_INFINITY&&wt.borderType!==pt&&(q[Lt]=Math.max(q[Lt],Mt))};return ct(St,at.predecessors.bind(at)),ct(vt,at.successors.bind(at)),(tt=Object.values(X))===null||tt===void 0||tt.forEach(function(Lt){q[Lt]=q[k[Lt]]}),q};W.horizontalCompaction=b;var A=function(j,z,k,X){var K=new M,tt=j.graph(),q=(0,W.sep)(tt.nodesep,tt.edgesep,X);return z==null||z.forEach(function(at){var pt;at==null||at.forEach(function(ct){var St=k[ct];if(K.setNode(St),pt){var vt=k[pt],Lt=K.edgeFromArgs(vt,St);K.setEdge(vt,St,Math.max(q(j,ct,pt),Lt||0))}pt=ct})}),K};W.buildBlockGraph=A;var x=function(j,z){return(0,w.minBy)(Object.values(z),function(k){var X,K=Number.NEGATIVE_INFINITY,tt=Number.POSITIVE_INFINITY;return(X=Object.keys(k))===null||X===void 0||X.forEach(function(q){var at=k[q],pt=(0,W.width)(j,q)/2;K=Math.max(at+pt,K),tt=Math.min(at-pt,tt)}),K-tt})};W.findSmallestWidthAlignment=x;function T(j,z){var k=Object.values(z),X=Math.min.apply(Math,k),K=Math.max.apply(Math,k);["u","d"].forEach(function(tt){["l","r"].forEach(function(q){var at=tt+q,pt=j[at],ct;if(pt!==z){var St=Object.values(pt);ct=q==="l"?X-Math.min.apply(Math,St):K-Math.max.apply(Math,St),ct&&(j[at]={},Object.keys(pt).forEach(function(vt){j[at][vt]=pt[vt]+ct}))}})})}W.alignCoordinates=T;var B=function(j,z){var k={};return Object.keys(j.ul).forEach(function(X){if(z)k[X]=j[z.toLowerCase()][X];else{var K=Object.values(j).map(function(tt){return tt[X]});k[X]=(K[0]+K[1])/2}}),k};W.balance=B;var m=function(j){var z=(0,w.buildLayerMatrix)(j),k=Object.assign((0,W.findType1Conflicts)(j,z),(0,W.findType2Conflicts)(j,z)),X={},K;["u","d"].forEach(function(q){K=q==="u"?z:Object.values(z).reverse(),["l","r"].forEach(function(at){at==="r"&&(K=K.map(function(vt){return Object.values(vt).reverse()}));var pt=(q==="u"?j.predecessors:j.successors).bind(j),ct=(0,W.verticalAlignment)(j,K,k,pt),St=(0,W.horizontalCompaction)(j,K,ct.root,ct.align,at==="r");at==="r"&&Object.keys(St).forEach(function(vt){St[vt]=-St[vt]}),X[q+at]=St})});var tt=(0,W.findSmallestWidthAlignment)(j,X);return T(X,tt),(0,W.balance)(X,j.graph().align)};W.positionX=m;var f=function(j,z,k){return function(X,K,tt){var q=X.node(K),at=X.node(tt),pt=0,ct;if(pt+=q.width/2,q.hasOwnProperty("labelpos"))switch((q.labelpos||"").toLowerCase()){case"l":ct=-q.width/2;break;case"r":ct=q.width/2;break}if(ct&&(pt+=k?ct:-ct),ct=0,pt+=(q.dummy?z:j)/2,pt+=(at.dummy?z:j)/2,pt+=at.width/2,at.labelpos)switch((at.labelpos||"").toLowerCase()){case"l":ct=at.width/2;break;case"r":ct=-at.width/2;break}return ct&&(pt+=k?ct:-ct),ct=0,pt}};W.sep=f;var U=function(j,z){return j.node(z).width||0};W.width=U},100095:function(Ve,W,_){"use strict";var y=this&&this.__spreadArray||function(p,g,S){if(S||arguments.length===2)for(var E=0,b=g.length,A;E<b;E++)(A||!(E in g))&&(A||(A=Array.prototype.slice.call(g,0,E)),A[E]=g[E]);return p.concat(A||Array.prototype.slice.call(g))};Object.defineProperty(W,"__esModule",{value:!0});var R=_(269209),w=_(371963),M=function(p){var g=(0,R.buildLayerMatrix)(p),S=p.graph().ranksep,E=0;g==null||g.forEach(function(b){var A=b.map(function(T){return p.node(T).height}),x=Math.max.apply(Math,y(y([],A,!1),[0],!1));b==null||b.forEach(function(T){p.node(T).y=E+x/2}),E+=x+S})},P=function(p){var g=(0,R.buildLayerMatrix)(p),S=Object.assign((0,w.findType1Conflicts)(p,g),(0,w.findType2Conflicts)(p,g)),E={},b=[];["u","d"].forEach(function(x){b=x==="u"?g:Object.values(g).reverse(),["l","r"].forEach(function(T){T==="r"&&(b=b.map(function(U){return Object.values(U).reverse()}));var B=(x==="u"?p.predecessors:p.successors).bind(p),m=(0,w.verticalAlignment)(p,b,S,B),f=(0,w.horizontalCompaction)(p,b,m.root,m.align,T==="r");T==="r"&&Object.keys(f).forEach(function(U){return f[U]=-f[U]}),E[x+T]=f})});var A=(0,w.findSmallestWidthAlignment)(p,E);return A&&(0,w.alignCoordinates)(E,A),(0,w.balance)(E,p.graph().align)},L=function(p){var g,S=(0,R.asNonCompoundGraph)(p);M(S);var E=P(S);(g=Object.keys(E))===null||g===void 0||g.forEach(function(b){S.node(b).x=E[b]})};W.default=L},813614:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.feasibleTreeWithLayer=W.feasibleTree=void 0;var y=_(337323),R=_(269209),w=_(627652),M=function(E){var b=new w.Graph({directed:!1}),A=E.nodes()[0],x=E.nodeCount();b.setNode(A,{});for(var T,B;P(b,E)<x;)T=g(b,E),B=b.hasNode(T.v)?(0,y.slack)(E,T):-(0,y.slack)(E,T),S(b,E,B);return b};W.feasibleTree=M;var P=function(E,b){var A=function(x){b.nodeEdges(x).forEach(function(T){var B=T.v,m=x===B?T.w:B;!E.hasNode(m)&&!(0,y.slack)(b,T)&&(E.setNode(m,{}),E.setEdge(x,m,{}),A(m))})};return E.nodes().forEach(A),E.nodeCount()},L=function(E){var b=new w.Graph({directed:!1}),A=E.nodes()[0],x=E.nodes().filter(function(m){return!!E.node(m)}).length;b.setNode(A,{});for(var T,B;p(b,E)<x;)T=g(b,E),B=b.hasNode(T.v)?(0,y.slack)(E,T):-(0,y.slack)(E,T),S(b,E,B);return b};W.feasibleTreeWithLayer=L;var p=function(E,b){var A=function(x){var T;(T=b.nodeEdges(x))===null||T===void 0||T.forEach(function(B){var m=B.v,f=x===m?B.w:m;!E.hasNode(f)&&(b.node(f).layer!==void 0||!(0,y.slack)(b,B))&&(E.setNode(f,{}),E.setEdge(x,f,{}),A(f))})};return E.nodes().forEach(A),E.nodeCount()},g=function(E,b){return(0,R.minBy)(b.edges(),function(A){return E.hasNode(A.v)!==E.hasNode(A.w)?(0,y.slack)(b,A):1/0})},S=function(E,b,A){E.nodes().forEach(function(x){b.node(x).rank||(b.node(x).rank=0),b.node(x).rank+=A})};W.default={feasibleTree:M,feasibleTreeWithLayer:L}},576827:function(Ve,W,_){"use strict";var y=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(W,"__esModule",{value:!0});var R=_(337323),w=_(813614),M=y(_(432253)),P=function(S){switch(S.graph().ranker){case"network-simplex":g(S);break;case"tight-tree":p(S);break;case"longest-path":L(S);break;default:p(S)}},L=R.longestPath,p=function(S){(0,R.longestPathWithLayer)(S),(0,w.feasibleTreeWithLayer)(S)},g=function(S){(0,M.default)(S)};W.default=P},432253:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.exchangeEdges=W.enterEdge=W.leaveEdge=W.initLowLimValues=W.calcCutValue=W.initCutValues=void 0;var y=_(813614),R=_(337323),w=_(269209),M=_(199905),P=M.algorithm.preorder,L=M.algorithm.postorder,p=function(j){var z=(0,w.simplify)(j);(0,R.longestPath)(z);var k=(0,y.feasibleTree)(z);(0,W.initLowLimValues)(k),(0,W.initCutValues)(k,z);for(var X,K;X=(0,W.leaveEdge)(k);)K=(0,W.enterEdge)(k,z,X),(0,W.exchangeEdges)(k,z,X,K)},g=function(j,z){var k=L(j,j.nodes());k=k==null?void 0:k.slice(0,(k==null?void 0:k.length)-1),k==null||k.forEach(function(X){S(j,z,X)})};W.initCutValues=g;var S=function(j,z,k){var X=j.node(k),K=X.parent;j.edgeFromArgs(k,K).cutvalue=(0,W.calcCutValue)(j,z,k)},E=function(j,z,k){var X,K=j.node(k),tt=K.parent,q=!0,at=z.edgeFromArgs(k,tt),pt=0;return at||(q=!1,at=z.edgeFromArgs(tt,k)),pt=at.weight,(X=z.nodeEdges(k))===null||X===void 0||X.forEach(function(ct){var St=ct.v===k,vt=St?ct.w:ct.v;if(vt!==tt){var Lt=St===q,Mt=z.edge(ct).weight;if(pt+=Lt?Mt:-Mt,f(j,k,vt)){var wt=j.edgeFromArgs(k,vt).cutvalue;pt+=Lt?-wt:wt}}}),pt};W.calcCutValue=E;var b=function(j,z){z===void 0&&(z=j.nodes()[0]),A(j,{},1,z)};W.initLowLimValues=b;var A=function(j,z,k,X,K){var tt,q=k,at=k,pt=j.node(X);return z[X]=!0,(tt=j.neighbors(X))===null||tt===void 0||tt.forEach(function(ct){z[ct]||(at=A(j,z,at,ct,X))}),pt.low=q,pt.lim=at++,K?pt.parent=K:delete pt.parent,at},x=function(j){return j.edges().find(function(z){return j.edge(z).cutvalue<0})};W.leaveEdge=x;var T=function(j,z,k){var X=k.v,K=k.w;z.hasEdge(X,K)||(X=k.w,K=k.v);var tt=j.node(X),q=j.node(K),at=tt,pt=!1;tt.lim>q.lim&&(at=q,pt=!0);var ct=z.edges().filter(function(St){return pt===U(j,j.node(St.v),at)&&pt!==U(j,j.node(St.w),at)});return(0,w.minBy)(ct,function(St){return(0,R.slack)(z,St)})};W.enterEdge=T;var B=function(j,z,k,X){var K=k.v,tt=k.w;j.removeEdge(K,tt),j.setEdge(X.v,X.w,{}),(0,W.initLowLimValues)(j),(0,W.initCutValues)(j,z),m(j,z)};W.exchangeEdges=B;var m=function(j,z){var k=j.nodes().find(function(K){var tt;return!(!((tt=z.node(K))===null||tt===void 0)&&tt.parent)}),X=P(j,k);X=X==null?void 0:X.slice(1),X==null||X.forEach(function(K){var tt=j.node(K).parent,q=z.edgeFromArgs(K,tt),at=!1;q||(q=z.edgeFromArgs(tt,K),at=!0),z.node(K).rank=z.node(tt).rank+(at?q.minlen:-q.minlen)})},f=function(j,z,k){return j.hasEdge(z,k)},U=function(j,z,k){return k.low<=z.lim&&z.lim<=k.lim};W.default=p},337323:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.slack=W.longestPathWithLayer=W.longestPath=void 0;var _=function(w){var M,P={},L=function(p){var g,S=w.node(p);if(!S)return 0;if(P[p])return S.rank;P[p]=!0;var E;return(g=w.outEdges(p))===null||g===void 0||g.forEach(function(b){var A=L(b.w),x=w.edge(b).minlen,T=A-x;T&&(E===void 0||T<E)&&(E=T)}),E||(E=0),S.rank=E,E};(M=w.sources())===null||M===void 0||M.forEach(function(p){return L(p)})};W.longestPath=_;var y=function(w){var M,P={},L,p=function(E){var b,A=w.node(E);if(!A)return 0;if(P[E])return A.rank;P[E]=!0;var x;return(b=w.outEdges(E))===null||b===void 0||b.forEach(function(T){var B=p(T.w),m=w.edge(T).minlen,f=B-m;f&&(x===void 0||f<x)&&(x=f)}),x||(x=0),(L===void 0||x<L)&&(L=x),A.rank=x,x};(M=w.sources())===null||M===void 0||M.forEach(function(E){w.node(E)&&p(E)}),L===void 0&&(L=0);var g={},S=function(E,b){var A,x=w.node(E),T=isNaN(x.layer)?b:x.layer;(x.rank===void 0||x.rank<T)&&(x.rank=T),!g[E]&&(g[E]=!0,(A=w.outEdges(E))===null||A===void 0||A.map(function(B){S(B.w,T+w.edge(B).minlen)}))};w.nodes().forEach(function(E){var b=w.node(E);b&&(isNaN(b.layer)?b.rank-=L:S(E,b.layer))})};W.longestPathWithLayer=y;var R=function(w,M){return w.node(M.w).rank-w.node(M.v).rank-w.edge(M).minlen};W.slack=R,W.default={longestPath:_,longestPathWithLayer:y,slack:R}},269209:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.minBy=W.notime=W.time=W.partition=W.maxRank=W.addBorderNode=W.removeEmptyRanks=W.normalizeRanks=W.buildLayerMatrix=W.intersectRect=W.predecessorWeights=W.successorWeights=W.zipObject=W.asNonCompoundGraph=W.simplify=W.addDummyNode=void 0;var y=_(449784),R=_(627652),w=function(z,k){return Number(z)-Number(k)},M=function(z,k,X,K){var tt;do tt="".concat(K).concat(Math.random());while(z.hasNode(tt));return X.dummy=k,z.setNode(tt,X),tt};W.addDummyNode=M;var P=function(z){var k=new R.Graph().setGraph(z.graph());return z.nodes().forEach(function(X){k.setNode(X,z.node(X))}),z.edges().forEach(function(X){var K=k.edgeFromArgs(X.v,X.w)||{weight:0,minlen:1},tt=z.edge(X);k.setEdge(X.v,X.w,{weight:K.weight+tt.weight,minlen:Math.max(K.minlen,tt.minlen)})}),k};W.simplify=P;var L=function(z){var k=new R.Graph({multigraph:z.isMultigraph()}).setGraph(z.graph());return z.nodes().forEach(function(X){var K;!((K=z.children(X))===null||K===void 0)&&K.length||k.setNode(X,z.node(X))}),z.edges().forEach(function(X){k.setEdgeObj(X,z.edge(X))}),k};W.asNonCompoundGraph=L;var p=function(z,k){return z==null?void 0:z.reduce(function(X,K,tt){return X[K]=k[tt],X},{})};W.zipObject=p;var g=function(z){var k={};return z.nodes().forEach(function(X){var K,tt={};(K=z.outEdges(X))===null||K===void 0||K.forEach(function(q){var at;tt[q.w]=(tt[q.w]||0)+(((at=z.edge(q))===null||at===void 0?void 0:at.weight)||0)}),k[X]=tt}),k};W.successorWeights=g;var S=function(z){var k=z.nodes(),X=k.map(function(K){var tt,q={};return(tt=z.inEdges(K))===null||tt===void 0||tt.forEach(function(at){q[at.v]=(q[at.v]||0)+z.edge(at).weight}),q});return(0,W.zipObject)(k,X)};W.predecessorWeights=S;var E=function(z,k){var X=Number(z.x),K=Number(z.y),tt=Number(k.x)-X,q=Number(k.y)-K,at=Number(z.width)/2,pt=Number(z.height)/2;if(!tt&&!q)return{x:0,y:0};var ct,St;return Math.abs(q)*at>Math.abs(tt)*pt?(q<0&&(pt=-pt),ct=pt*tt/q,St=pt):(tt<0&&(at=-at),ct=at,St=at*q/tt),{x:X+ct,y:K+St}};W.intersectRect=E;var b=function(z){for(var k=[],X=(0,W.maxRank)(z)+1,K=0;K<X;K++)k.push([]);z.nodes().forEach(function(tt){var q=z.node(tt);if(q){var at=q.rank;at!==void 0&&k[at]&&k[at].push(tt)}});for(var K=0;K<X;K++)k[K]=k[K].sort(function(q,at){var pt,ct;return w((pt=z.node(q))===null||pt===void 0?void 0:pt.order,(ct=z.node(at))===null||ct===void 0?void 0:ct.order)});return k};W.buildLayerMatrix=b;var A=function(z){var k=z.nodes().filter(function(K){var tt;return((tt=z.node(K))===null||tt===void 0?void 0:tt.rank)!==void 0}).map(function(K){return z.node(K).rank}),X=Math.min.apply(Math,k);z.nodes().forEach(function(K){var tt=z.node(K);tt.hasOwnProperty("rank")&&X!==1/0&&(tt.rank-=X)})};W.normalizeRanks=A;var x=function(z){var k=z.nodes(),X=k.filter(function(St){var vt;return((vt=z.node(St))===null||vt===void 0?void 0:vt.rank)!==void 0}).map(function(St){return z.node(St).rank}),K=Math.min.apply(Math,X),tt=[];k.forEach(function(St){var vt,Lt=(((vt=z.node(St))===null||vt===void 0?void 0:vt.rank)||0)-K;tt[Lt]||(tt[Lt]=[]),tt[Lt].push(St)});for(var q=0,at=z.graph().nodeRankFactor||0,pt=0;pt<tt.length;pt++){var ct=tt[pt];ct===void 0?pt%at!==0&&(q-=1):q&&(ct==null||ct.forEach(function(St){var vt=z.node(St);vt&&(vt.rank=vt.rank||0,vt.rank+=q)}))}};W.removeEmptyRanks=x;var T=function(z,k,X,K){var tt={width:0,height:0};return(0,y.isNumber)(X)&&(0,y.isNumber)(K)&&(tt.rank=X,tt.order=K),(0,W.addDummyNode)(z,"border",tt,k)};W.addBorderNode=T;var B=function(z){var k;return z.nodes().forEach(function(X){var K,tt=(K=z.node(X))===null||K===void 0?void 0:K.rank;tt!==void 0&&(k===void 0||tt>k)&&(k=tt)}),k||(k=0),k};W.maxRank=B;var m=function(z,k){var X={lhs:[],rhs:[]};return z==null||z.forEach(function(K){k(K)?X.lhs.push(K):X.rhs.push(K)}),X};W.partition=m;var f=function(z,k){var X=Date.now();try{return k()}finally{console.log("".concat(z," time: ").concat(Date.now()-X,"ms"))}};W.time=f;var U=function(z,k){return k()};W.notime=U;var j=function(z,k){return z.reduce(function(X,K){var tt=k(X),q=k(K);return tt>q?K:X})};W.minBy=j},177057:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var g=function(S,E){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,A){b.__proto__=A}||function(b,A){for(var x in A)Object.prototype.hasOwnProperty.call(A,x)&&(b[x]=A[x])},g(S,E)};return function(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");g(S,E);function b(){this.constructor=S}S.prototype=E===null?Object.create(E):(b.prototype=E.prototype,new b)}}(),R=this&&this.__assign||function(){return R=Object.assign||function(g){for(var S,E=1,b=arguments.length;E<b;E++){S=arguments[E];for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(g[A]=S[A])}return g},R.apply(this,arguments)},w=this&&this.__spreadArray||function(g,S,E){if(E||arguments.length===2)for(var b=0,A=S.length,x;b<A;b++)(x||!(b in S))&&(x||(x=Array.prototype.slice.call(S,0,b)),x[b]=S[b]);return g.concat(x||Array.prototype.slice.call(S))};Object.defineProperty(W,"__esModule",{value:!0}),W.DagreCompoundLayout=void 0;var M=_(762329),P=_(631969),L=_(449784),p=function(g){y(S,g);function S(E){var b=g.call(this)||this;return b.rankdir="TB",b.nodesep=50,b.edgesep=5,b.ranksep=50,b.controlPoints=!0,b.anchorPoint=!0,b.nodes=[],b.edges=[],b.combos=[],b.onLayoutEnd=function(){},b.updateCfg(E),b}return S.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,begin:void 0,nodeSize:void 0,nodesep:50,ranksep:50,controlPoints:!0,anchorPoint:!0}},S.prototype.init=function(E){var b=E.hiddenNodes||[],A=E.hiddenEdges||[],x=E.hiddenCombos||[];this.nodes=this.getDataByOrder((E.nodes||[]).concat(b)),this.edges=this.getDataByOrder((E.edges||[]).concat(A)),this.combos=(E.combos||[]).concat(x.map(function(T){return R(R({},T),{collapsed:!0})}))},S.prototype.execute=function(){var E=this,b=E.nodes,A=E.edges;if(b){var x=E.getLayoutConfig(),T=x.graphDef,B=x.graphOption,m=x.graphSettings,f=(0,P.buildGraph)(T,B,m),U=(0,P.flatGraph)(f,!0);return this.updatePosition(U),E.onLayoutEnd&&E.onLayoutEnd(),{nodes:b,edges:A}}},S.prototype.getNodePath=function(E){var b=this,A=b.nodes,x=b.combos,T=A.find(function(m){return m.id===E}),B=function(m,f){f===void 0&&(f=[]);var U=x.find(function(j){return j.id===m});return U?(f.unshift(m),U.parentId?B(U.parentId,f):f):f};return T&&T.comboId?B(T.comboId,[E]):[E]},S.prototype.getLayoutConfig=function(){var E,b,A,x=this,T=x.nodes,B=x.edges,m=x.combos,f=x.nodeSize,U=x.rankdir,j=x.align,z=x.edgesep,k=x.nodesep,X=x.ranksep,K=x.settings,tt=(m||[]).reduce(function(Nt,Yt){var Ct=T.filter(function(Zt){return Zt.comboId===Yt.id}).map(function(Zt){return Zt.id}),Xt=(m||[]).filter(function(Zt){return Zt.parentId===Yt.id}).map(function(Zt){return Zt.id});return(Ct.length||Xt.length)&&(Nt[Yt.id]=w(w([],Ct,!0),Xt,!0)),Nt},{}),q;f?(0,L.isArray)(f)?q=function(){return f}:q=function(){return[f,f]}:q=function(Nt){return Nt&&Nt.size?(0,L.isArray)(Nt.size)?Nt.size:(0,L.isObject)(Nt.size)?[Nt.size.width||40,Nt.size.height||40]:[Nt.size,Nt.size]:[40,40]};var at=function(Nt){return Nt&&Nt.size?(0,L.isArray)(Nt.size)?Nt.size:[Nt.size,Nt.size]:[80,40]},pt=at(m==null?void 0:m[0]),ct=pt[0],St=pt[1],vt=(b=(E=x.graphSettings)===null||E===void 0?void 0:E.subScene)===null||b===void 0?void 0:b.meta,Lt=((A=m.find(function(Nt){return!Nt.collapsed}))===null||A===void 0?void 0:A.padding)||[20,20,20,20],Mt=Lt[0],wt=Lt[1],et=Lt[2],rt=Lt[3],Ot={compound:tt,nodes:w([],(T||[]).map(function(Nt){var Yt=q(Nt),Ct=Yt[0],Xt=Yt[1];return R(R({},Nt),{width:Ct,height:Xt})}),!0),edges:w([],(B||[]).map(function(Nt){return R(R({},Nt),{v:Nt.source,w:Nt.target})}),!0)},Dt={expanded:(m||[]).filter(function(Nt){return!Nt.collapsed}).map(function(Nt){return Nt.id})},ot={graph:{meta:{align:j,rankDir:U,nodeSep:k,edgeSep:z,rankSep:X}},subScene:{meta:{paddingTop:Mt||(vt==null?void 0:vt.paddingTop)||20,paddingRight:wt||(vt==null?void 0:vt.paddingRight)||20,paddingBottom:et||(vt==null?void 0:vt.paddingBottom)||20,paddingLeft:rt||(vt==null?void 0:vt.paddingLeft)||20,labelHeight:0}},nodeSize:{meta:{width:ct,height:St}}},xt=(0,P.mergeConfig)(K,R({},(0,P.mergeConfig)(ot,P.LAYOUT_CONFIG)));return x.graphSettings=xt,{graphDef:Ot,graphOption:Dt,graphSettings:xt}},S.prototype.updatePosition=function(E){var b=E.nodes,A=E.edges;this.updateNodePosition(b,A),this.updateEdgePosition(b,A)},S.prototype.getBegin=function(E,b){var A=this,x=A.begin,T=[0,0];if(x){var B=1/0,m=1/0;E.forEach(function(f){B>f.x&&(B=f.x),m>f.y&&(m=f.y)}),b.forEach(function(f){f.points.forEach(function(U){B>U.x&&(B=U.x),m>U.y&&(m=U.y)})}),T[0]=x[0]-B,T[1]=x[1]-m}return T},S.prototype.updateNodePosition=function(E,b){var A=this,x=A.combos,T=A.nodes,B=A.edges,m=A.anchorPoint,f=A.graphSettings,U=this.getBegin(E,b);E.forEach(function(j){var z,k=j.x,X=j.y,K=j.id,tt=j.type,q=j.coreBox;if(tt===P.HierarchyNodeType.META&&K!==P.ROOT_NAME){var at=x.findIndex(function(Lt){return Lt.id===K}),pt=(z=f==null?void 0:f.subScene)===null||z===void 0?void 0:z.meta;x[at].offsetX=k+U[0],x[at].offsetY=X+U[1],x[at].fixSize=[q.width,q.height],x[at].fixCollapseSize=[q.width,q.height],j.expanded?x[at].padding=[pt==null?void 0:pt.paddingTop,pt==null?void 0:pt.paddingRight,pt==null?void 0:pt.paddingBottom,pt==null?void 0:pt.paddingLeft]:x[at].padding=[0,0,0,0]}else if(tt===P.HierarchyNodeType.OP){var at=T.findIndex(function(Mt){return Mt.id===K});if(T[at].x=k+U[0],T[at].y=X+U[1],m){var ct=[],St=b.filter(function(Mt){return Mt.v===K}),vt=b.filter(function(Mt){return Mt.w===K});St.length>0&&St.forEach(function(Mt){var wt=Mt.points[0],et=(wt.x-k)/j.width+.5,rt=(wt.y-X)/j.height+.5;ct.push([et,rt]),Mt.baseEdgeList.forEach(function(Ot){var Dt=B.find(function(ot){return ot.source===Ot.v&&ot.target===Ot.w});Dt&&(Dt.sourceAnchor=ct.length-1)})}),vt.length>0&&vt.forEach(function(Mt){var wt=Mt.points[Mt.points.length-1],et=(wt.x-k)/j.width+.5,rt=(wt.y-X)/j.height+.5;ct.push([et,rt]),Mt.baseEdgeList.forEach(function(Ot){var Dt=B.find(function(ot){return ot.source===Ot.v&&ot.target===Ot.w});Dt&&(Dt.targetAnchor=ct.length-1)})}),T[at].anchorPoints=ct.length>0?ct:T[at].anchorPoints||[]}}})},S.prototype.updateEdgePosition=function(E,b){var A=this,x=A.combos,T=A.edges,B=A.controlPoints,m=this.getBegin(E,b);B&&(x.forEach(function(f){f.inEdges=[],f.outEdges=[]}),T.forEach(function(f){var U,j,z,k,X=E.find(function(Lt){return Lt.id===f.source}),K=E.find(function(Lt){return Lt.id===f.target}),tt=[],q=[];if(X&&K)q=(0,P.getEdges)(X==null?void 0:X.id,K==null?void 0:K.id,E);else if(!X||!K){var at=A.getNodePath(f.source),pt=A.getNodePath(f.target),ct=at.reverse().slice(X?0:1).find(function(Lt){return E.find(function(Mt){return Mt.id===Lt})}),St=pt.reverse().slice(K?0:1).find(function(Lt){return E.find(function(Mt){return Mt.id===Lt})});X=E.find(function(Lt){return Lt.id===ct}),K=E.find(function(Lt){return Lt.id===St}),q=(0,P.getEdges)(X==null?void 0:X.id,K==null?void 0:K.id,E,{v:f.source,w:f.target})}if(tt=q.reduce(function(Lt,Mt){return w(w([],Lt,!0),Mt.points.map(function(wt){return R(R({},wt),{x:wt.x+m[0],y:wt.y+m[1]})}),!0)},[]),tt=tt.slice(1,-1),f.controlPoints=tt,(K==null?void 0:K.type)===P.NodeType.META){var vt=x.findIndex(function(Lt){return Lt.id===(K==null?void 0:K.id)});if(!x[vt]||!((U=x[vt].inEdges)===null||U===void 0)&&U.some(function(Lt){return Lt.source===X.id&&Lt.target===K.id}))return;(j=x[vt].inEdges)===null||j===void 0||j.push({source:X.id,target:K.id,controlPoints:tt})}if((X==null?void 0:X.type)===P.NodeType.META){var vt=x.findIndex(function(Mt){return Mt.id===(X==null?void 0:X.id)});if(!x[vt]||!((z=x[vt].outEdges)===null||z===void 0)&&z.some(function(Mt){return Mt.source===X.id&&Mt.target===K.id}))return;(k=x[vt].outEdges)===null||k===void 0||k.push({source:X.id,target:K.id,controlPoints:tt})}}))},S.prototype.getType=function(){return"dagreCompound"},S.prototype.getDataByOrder=function(E){return E.every(function(b){return b.layoutOrder!==void 0})||E.forEach(function(b,A){b.layoutOrder=A}),E.sort(function(b,A){return b.layoutOrder-A.layoutOrder})},S}(M.Base);W.DagreCompoundLayout=p},934015:function(Ve,W,_){"use strict";var y=this&&this.__assign||function(){return y=Object.assign||function(b){for(var A,x=1,T=arguments.length;x<T;x++){A=arguments[x];for(var B in A)Object.prototype.hasOwnProperty.call(A,B)&&(b[B]=A[B])}return b},y.apply(this,arguments)},R=this&&this.__createBinding||(Object.create?function(b,A,x,T){T===void 0&&(T=x);var B=Object.getOwnPropertyDescriptor(A,x);(!B||("get"in B?!A.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return A[x]}}),Object.defineProperty(b,T,B)}:function(b,A,x,T){T===void 0&&(T=x),b[T]=A[x]}),w=this&&this.__setModuleDefault||(Object.create?function(b,A){Object.defineProperty(b,"default",{enumerable:!0,value:A})}:function(b,A){b.default=A}),M=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var A={};if(b!=null)for(var x in b)x!=="default"&&Object.prototype.hasOwnProperty.call(b,x)&&R(A,b,x);return w(A,b),A},P=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(W,"__esModule",{value:!0});var L=M(_(486880)),p=P(_(788221)),g=P(_(87064)),S=_(920171);function E(b,A){var x=b.nodes,T=b.edges,B=A.width,m=A.height;if(!(x!=null&&x.length))return Promise.resolve();var f=[];x.forEach(function(q){var at=T.filter(function(ct){return ct.source===q.id||ct.target===q.id});if(at.length>1){var pt=y({},q);delete pt.size,f.push(pt)}});var U=[];T.forEach(function(q){var at=f.find(function(ct){return ct.id===q.source}),pt=f.find(function(ct){return ct.id===q.target});at&&pt&&U.push(q)});var j=new S.DagreLayout({type:"dagre",ranksep:A.nodeMinGap,nodesep:A.nodeMinGap}),z=j.layout({nodes:f,edges:U}).nodes;x.forEach(function(q){var at=(z||[]).find(function(pt){return pt.id===q.id});q.x=(at==null?void 0:at.x)||B/2,q.y=(at==null?void 0:at.y)||m/2});var k=JSON.parse(JSON.stringify(x)),X=JSON.parse(JSON.stringify(T)),K=L.forceSimulation().nodes(k).force("link",L.forceLink(X).id(function(q){return q.id}).distance(function(q){var at=U.find(function(pt){return pt.source===q.source&&pt.target===q.target});return at?30:20})).force("charge",L.forceManyBody()).force("center",L.forceCenter(B/2,m/2)).force("x",L.forceX(B/2)).force("y",L.forceY(m/2)).alpha(.3).alphaDecay(.08).alphaMin(.001),tt=new Promise(function(q){K.on("end",function(){x.forEach(function(Mt){var wt=k.find(function(et){return et.id===Mt.id});wt&&(Mt.x=wt.x,Mt.y=wt.y)});var at=Math.min.apply(Math,x.map(function(Mt){return Mt.x})),pt=Math.max.apply(Math,x.map(function(Mt){return Mt.x})),ct=Math.min.apply(Math,x.map(function(Mt){return Mt.y})),St=Math.max.apply(Math,x.map(function(Mt){return Mt.y})),vt=B/(pt-at),Lt=m/(St-ct);x.forEach(function(Mt){Mt.x!==void 0&&vt<1&&(Mt.x=(Mt.x-at)*vt),Mt.y!==void 0&&Lt<1&&(Mt.y=(Mt.y-ct)*Lt)}),x.forEach(function(Mt){Mt.sizeTemp=Mt.size,Mt.size=[10,10]}),(0,g.default)(x,T),x.forEach(function(Mt){Mt.size=Mt.sizeTemp||[],delete Mt.sizeTemp}),(0,p.default)({nodes:x,edges:T},A),q()})});return tt}W.default=E},788221:function(Ve,W,_){"use strict";var y=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(W,"__esModule",{value:!0});var R=y(_(28611));function w(M,P){if(!M.nodes||M.nodes.length===0)return M;var L=P.width,p=P.height,g=P.nodeMinGap,S=1e4,E=1e4;M.nodes.forEach(function(X){var K=X.size[0]||50,tt=X.size[1]||50;S=Math.min(K,S),E=Math.min(tt,E)});var b=new R.default;b.init(L,p,{CELL_H:E,CELL_W:S}),M.nodes.forEach(function(X){var K=b.occupyNearest(X);K&&(K.node={id:X.id,size:X.size},X.x=K.x,X.y=K.y,X.dx=K.dx,X.dy=K.dy)});for(var A=0;A<M.nodes.length;A++){var x=M.nodes[A],T=b.findGridByNodeId(x.id);if(!T)throw new Error("can not find node cell");var B=T.column,m=T.row;if(x.size[0]+g>S){for(var f=Math.ceil((x.size[0]+g)/S)-1,U=f,j=0;j<f;j++){var z=b.additionColumn.indexOf(B+j+1)>-1;if(z&&!b.cells[B+j+1][m].node)U--;else break}b.insertColumn(B,U)}if(x.size[1]+g>E){for(var f=Math.ceil((x.size[1]+g)/E)-1,U=f,j=0;j<f;j++){var z=b.additionRow.indexOf(m+j+1)>-1;if(z&&!b.cells[B][m+j+1].node)U--;else break}b.insertRow(m,U)}}for(var A=0;A<b.columnNum;A++)for(var k=function(K){var tt=b.cells[A][K];if(tt.node){var q=M.nodes.find(function(at){var pt;return at.id===((pt=tt==null?void 0:tt.node)===null||pt===void 0?void 0:pt.id)});q&&(q.x=tt.x+q.size[0]/2,q.y=tt.y+q.size[1]/2)}},j=0;j<b.rowNum;j++)k(j)}W.default=w},28611:function(Ve,W){"use strict";var _=this&&this.__assign||function(){return _=Object.assign||function(R){for(var w,M=1,P=arguments.length;M<P;M++){w=arguments[M];for(var L in w)Object.prototype.hasOwnProperty.call(w,L)&&(R[L]=w[L])}return R},_.apply(this,arguments)};Object.defineProperty(W,"__esModule",{value:!0});var y=function(){function R(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}return R.prototype.init=function(w,M,P){this.cells=[],this.CELL_W=P.CELL_W||R.DEFAULT_CELL_W,this.CELL_H=P.CELL_H||R.DEFAULT_CELL_H,this.columnNum=Math.ceil(w/this.CELL_W),this.rowNum=Math.ceil(M/this.CELL_H),R.MIN_DIST=Math.pow(w,2)+Math.pow(M,2);for(var L=0;L<this.columnNum;L++){for(var p=[],g=0;g<this.rowNum;g++){var S={dx:L,dy:g,x:L*this.CELL_W,y:g*this.CELL_H,occupied:!1};p.push(S)}this.cells.push(p)}},R.prototype.findGridByNodeId=function(w){for(var M,P,L=0;L<this.columnNum;L++)for(var p=0;p<this.rowNum;p++)if(this.cells[L][p].node&&((P=(M=this.cells[L][p])===null||M===void 0?void 0:M.node)===null||P===void 0?void 0:P.id)===w)return{column:L,row:p};return null},R.prototype.sqdist=function(w,M){return Math.pow(w.x-M.x,2)+Math.pow(w.y-M.y,2)},R.prototype.occupyNearest=function(w){for(var M=R.MIN_DIST,P,L=null,p=0;p<this.columnNum;p++)for(var g=0;g<this.rowNum;g++)!this.cells[p][g].occupied&&(P=this.sqdist(w,this.cells[p][g]))<M&&(M=P,L=this.cells[p][g]);return L&&(L.occupied=!0),L},R.prototype.insertColumn=function(w,M){if(!(M<=0)){for(var P=0;P<M;P++){this.cells[P+this.columnNum]=[];for(var L=0;L<this.rowNum;L++)this.cells[P+this.columnNum][L]={dx:P,dy:L,x:P*this.CELL_W,y:L*this.CELL_H,occupied:!1,node:null}}for(var P=this.columnNum-1;P>w;P--)for(var L=0;L<this.rowNum;L++)this.cells[P+M][L]=_(_({},this.cells[P][L]),{x:(P+M)*this.CELL_W,y:L*this.CELL_H}),this.cells[P][L]={x:P*this.CELL_W,y:L*this.CELL_H,occupied:!0,node:null};for(var L=0;L<this.additionColumn.length;L++)this.additionColumn[L]>=w&&(this.additionColumn[L]+=M);for(var P=0;P<M;P++)this.additionColumn.push(w+P+1);this.columnNum+=M}},R.prototype.insertRow=function(w,M){if(!(M<=0)){for(var P=0;P<M;P++)for(var L=0;L<this.columnNum;L++)this.cells[L][P+this.rowNum]={dx:L,dy:P,x:L*this.CELL_W,y:P*this.CELL_H,occupied:!1,node:null};for(var L=0;L<this.columnNum;L++)for(var P=this.rowNum-1;P>w;P--)this.cells[L][P+M]=_(_({},this.cells[L][P]),{dx:L,dy:P+M,x:L*this.CELL_W,y:(P+M)*this.CELL_H}),this.cells[L][P]={dx:L,dy:P,x:L*this.CELL_W,y:P*this.CELL_H,occupied:!1,node:null};for(var P=0;P<this.additionRow.length;P++)this.additionRow[P]>=w&&(this.additionRow[P]+=M);for(var L=0;L<M;L++)this.additionRow.push(w+L+1);this.rowNum+=M}},R.prototype.getNodes=function(){for(var w=[],M=0;M<this.columnNum;M++)for(var P=0;P<this.rowNum;P++)this.cells[M][P].node&&w.push(this.cells[M][P]);return w},R.MIN_DIST=50,R.DEFAULT_CELL_W=80,R.DEFAULT_CELL_H=80,R}();W.default=y},290441:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var L=function(p,g){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var b in E)Object.prototype.hasOwnProperty.call(E,b)&&(S[b]=E[b])},L(p,g)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");L(p,g);function S(){this.constructor=p}p.prototype=g===null?Object.create(g):(S.prototype=g.prototype,new S)}}(),R=this&&this.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(W,"__esModule",{value:!0}),W.ERLayout=void 0;var w=_(762329),M=R(_(934015)),P=function(L){y(p,L);function p(g){var S=L.call(this)||this;return S.width=300,S.height=300,S.nodeMinGap=50,S.onLayoutEnd=function(){},g&&S.updateCfg(g),S}return p.prototype.getDefaultCfg=function(){return{width:300,height:300,nodeMinGap:50}},p.prototype.execute=function(){var g=this,S=g.nodes,E=g.edges;return S==null||S.forEach(function(b){b.size||(b.size=[50,50])}),(0,M.default)({nodes:S,edges:E},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then(function(){g.onLayoutEnd&&g.onLayoutEnd()})},p.prototype.getType=function(){return"er"},p}(w.Base);W.ERLayout=P},87064:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var _=1200,y=800,R=1e7,w=10,M=3.141592653589793,P=1.5707963267948966,L=M*.375,p=M*.625,g=new Map,S=10,E=10,b=.8,A=.1,x=.5;function T(k,X,K){var tt=k.x-k.size[0]/2,q=k.y-k.size[1]/2,at=k.x+k.size[0]/2,pt=k.y+k.size[1]/2,ct=X.x-X.size[0]/2,St=X.y-X.size[1]/2,vt=X.x+X.size[0]/2,Lt=X.y+X.size[1]/2,Mt=k.x,wt=k.y,et=X.x,rt=X.y,Ot=et-Mt,Dt=Math.atan2(Ot,rt-wt),ot=0,xt=0,Nt=0,Yt=0;Dt>P?(xt=q-Lt,ot=ct-at,Nt=parseFloat(xt?(xt/Math.cos(Dt)).toFixed(2):ot.toFixed(2)),Yt=parseFloat(ot?(ot/Math.sin(Dt)).toFixed(2):xt.toFixed(2))):0<Dt&&Dt<=P?(xt=St-pt,ot=ct-at,xt>ot?Nt=Yt=parseFloat(xt?(xt/Math.cos(Dt)).toFixed(2):ot.toFixed(2)):Nt=Yt=parseFloat(ot?(ot/Math.sin(Dt)).toFixed(2):xt.toFixed(2))):Dt<-P?(xt=q-Lt,ot=-(vt-tt),xt>ot?Nt=Yt=parseFloat(xt?(xt/Math.cos(Dt)).toFixed(2):ot.toFixed(2)):Nt=Yt=parseFloat(ot?(ot/Math.sin(Dt)).toFixed(2):xt.toFixed(2))):(xt=St-pt,Math.abs(Ot)>(at-tt)/2?ot=tt-vt:ot=Ot,xt>ot?Nt=Yt=parseFloat(xt?(xt/Math.cos(Dt)).toFixed(2):ot.toFixed(2)):Nt=Yt=parseFloat(ot&&Dt!==0?(ot/Math.sin(Dt)).toFixed(2):xt.toFixed(2)));var Ct=parseFloat(Dt.toFixed(2)),Xt=K;return K&&(Xt=L<Ct&&Ct<p),{distance:Math.abs(Nt<Yt?Nt:Yt),isHoriz:Xt}}function B(k,X){var K=g.get(k.id)||[],tt=K.find(function(ye){return ye.source===X.id||ye.target===X.id}),q=k.size[0]*k.size[1],at=X.size[0]*X.size[1],pt=q>at?X:k,ct=q>at?k:X,St=pt.x-pt.size[0]/2,vt=pt.y-pt.size[1]/2,Lt=pt.x+pt.size[0]/2,Mt=pt.y+pt.size[1]/2,wt=ct.x-ct.size[0]/2,et=ct.y-ct.size[1]/2,rt=ct.x+ct.size[0]/2,Ot=ct.y+ct.size[1]/2,Dt=pt.x,ot=pt.y,xt=ct.x,Nt=ct.y,Yt=Lt>=wt&&rt>=St&&Mt>=et&&Ot>=vt,Ct=0,Xt=0;if(Yt){Xt=Math.sqrt(Math.pow(xt-Dt,2)+Math.pow(Nt-ot,2));var Zt=St>wt?St:wt,se=vt>et?vt:et,ie=Lt<rt?Lt:rt,zt=Mt<Ot?Mt:Ot,ae=ie-Zt,Re=zt-se,Jt=ae*Re;Xt===0&&(Xt=1e-7),Ct=w*1/Xt*100+Jt,Ct*=R}else{var ue=!1,ke=T(pt,ct,ue);Xt=ke.distance,ue=ke.isHoriz,Xt<=w?Xt!==0?tt?Ct+=w+R*1/Xt:Ct+=w+R*w/Xt:Ct+=R:(Ct+=Xt,tt&&(Ct+=Xt*Xt))}return Ct}function m(k){for(var X=0,K=0;K<k.length;K++){var tt=k[K];(tt.x<0||tt.y<0||tt.x>_||tt.y>y)&&(X+=1e12);for(var q=K+1;q<k.length;q++)X+=B(tt,k[q])}return X}function f(k,X,K,tt){var q=new Map;K.forEach(function(Dt,ot){q.set(Dt.id,Dt)});var at=tt.filter(function(Dt){return Dt.source===k.id||Dt.target===k.id})||[],pt=[];at.forEach(function(Dt){var ot=Dt.source===k.id?Dt.target:Dt.source,xt=q.get(ot);xt&&pt.push(xt)});for(var ct=!0,St=0;St<pt.length;St++){var vt=pt[St],Lt=Math.atan((k.y-vt.y)/(vt.x-k.y))*180,Mt=Math.atan((X.y-vt.y)/(vt.x-X.y))*180,wt=Lt<30||Lt>150,et=Mt<30||Mt>150,rt=Lt>70&&Lt<110,Ot=Mt>70&&Mt<110;if(wt&&!et||Lt*Mt<0){ct=!1;break}else if(rt&&!Ot||Lt*Mt<0){ct=!1;break}else if((vt.x-k.x)*(vt.x-X.x)<0){ct=!1;break}else if((vt.y-k.y)*(vt.y-X.y)<0){ct=!1;break}}return ct}function U(k,X){for(var K=!1,tt=1,q=S*tt,at=E*tt,pt=[q,-q,0,0],ct=[0,0,at,-at],St=0;St<k.length;++St)for(var vt=k[St],Lt=j(vt,k),Mt=0;Mt<pt.length;Mt++){var wt=f(vt,{x:vt.x+pt[Mt],y:vt.y+ct[Mt]},k,X);if(wt){vt.x+=pt[Mt],vt.y+=ct[Mt];var et=j(vt,k),rt=Math.random();et<Lt||rt<b&&rt>A?(Lt=et,K=!0):(vt.x-=pt[Mt],vt.y-=ct[Mt])}}return b>A&&(b*=x),K?m(k):0}function j(k,X){var K=0;(k.x<0||k.y<0||k.x+k.size[0]+20>_||k.y+k.size[1]+20>y)&&(K+=1e12);for(var tt=0;tt<X.length;++tt)k.id!==X[tt].id&&(K+=B(k,X[tt]));return K}function z(k,X){if(k.length===0)return{nodes:k,edges:X};k.forEach(function(vt){var Lt=X.filter(function(Mt){return Mt.source===vt.id||Mt.target===vt.id});g.set(vt,Lt)}),k.sort(function(vt,Lt){var Mt,wt;return((Mt=g.get(vt.id))===null||Mt===void 0?void 0:Mt.length)-((wt=g.get(Lt.id))===null||wt===void 0?void 0:wt.length)});for(var K=m(k),tt=20,q=1,at=0,pt=50,ct=0;tt>0&&(ct++,!(ct>=pt));){var St=U(k,X);St!==0&&(at=St),q=at-K,K=at,q===0?--tt:tt=20}return k.forEach(function(vt){vt.x=vt.x-vt.size[0]/2,vt.y=vt.y-vt.size[1]/2}),{nodes:k,edges:X}}W.default=z},589806:function(Ve,W,_){"use strict";var y=this&&this.__createBinding||(Object.create?function(p,g,S,E){E===void 0&&(E=S);var b=Object.getOwnPropertyDescriptor(g,S);(!b||("get"in b?!g.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return g[S]}}),Object.defineProperty(p,E,b)}:function(p,g,S,E){E===void 0&&(E=S),p[E]=g[S]}),R=this&&this.__setModuleDefault||(Object.create?function(p,g){Object.defineProperty(p,"default",{enumerable:!0,value:g})}:function(p,g){p.default=g}),w=this&&this.__importStar||function(p){if(p&&p.__esModule)return p;var g={};if(p!=null)for(var S in p)S!=="default"&&Object.prototype.hasOwnProperty.call(p,S)&&y(g,p,S);return R(g,p),g};Object.defineProperty(W,"__esModule",{value:!0});var M=w(_(486880)),P=_(449784);function L(){function p(zt){return function(){return zt}}var g=function(zt){return zt.cluster},S=p(1),E=p(-1),b=p(100),A=p(.1),x=[0,0],T=[],B={},m=[],f=100,U=100,j={none:{x:0,y:0}},z=[],k,X="force",K=!0,tt=.1;function q(zt){if(!K)return q;k.tick(),Lt();for(var ae=0,Re=T.length,Jt=void 0,ue=zt*tt;ae<Re;++ae)Jt=T[ae],Jt.vx+=(j[g(Jt)].x-Jt.x)*ue,Jt.vy+=(j[g(Jt)].y-Jt.y)*ue}function at(){T&&pt()}function pt(){if(!(!T||!T.length)){if(g(T[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var zt=ct();k=M.forceSimulation(zt.nodes).force("x",M.forceX(f).strength(.1)).force("y",M.forceY(U).strength(.1)).force("collide",M.forceCollide(function(ae){return ae.r}).iterations(4)).force("charge",M.forceManyBody().strength(E)).force("links",M.forceLink(zt.nodes.length?zt.links:[]).distance(b).strength(A)),z=k.nodes(),Lt()}}function ct(){var zt=[],ae=[],Re={},Jt=[],ue={},ke=[];return ue=St(T),ke=vt(m),Jt=Object.keys(ue),Jt.forEach(function(ye,ee){var Ut=ue[ye];zt.push({id:ye,size:Ut.count,r:Math.sqrt(Ut.sumforceNodeSize/Math.PI)}),Re[ye]=ee}),ke.forEach(function(ye){var ee=(0,P.getEdgeTerminal)(ye,"source"),Ut=(0,P.getEdgeTerminal)(ye,"target"),bt=Re[ee],Ft=Re[Ut];bt!==void 0&&Ft!==void 0&&ae.push({source:bt,target:Ft,count:ye.count})}),{nodes:zt,links:ae}}function St(zt){var ae={};return zt.forEach(function(Re){var Jt=g(Re);ae[Jt]||(ae[Jt]={count:0,sumforceNodeSize:0})}),zt.forEach(function(Re){var Jt=g(Re),ue=S(Re),ke=ae[Jt];ke.count=ke.count+1,ke.sumforceNodeSize=ke.sumforceNodeSize+Math.PI*(ue*ue)*1.3,ae[Jt]=ke}),ae}function vt(zt){var ae={},Re=[];zt.forEach(function(ue){var ke=Mt(ue),ye=0;ae[ke]!==void 0&&(ye=ae[ke]),ye+=1,ae[ke]=ye});var Jt=Object.entries(ae);return Jt.forEach(function(ue){var ke=ue[0],ye=ue[1],ee=ke.split("~")[0],Ut=ke.split("~")[1];ee!==void 0&&Ut!==void 0&&Re.push({source:ee,target:Ut,count:ye})}),Re}function Lt(){return j={none:{x:0,y:0}},z.forEach(function(zt){j[zt.id]={x:zt.x-x[0],y:zt.y-x[1]}}),j}function Mt(zt){var ae=(0,P.getEdgeTerminal)(zt,"source"),Re=(0,P.getEdgeTerminal)(zt,"target"),Jt=g(B[ae]),ue=g(B[Re]);return Jt<=ue?"".concat(Jt,"~").concat(ue):"".concat(ue,"~").concat(Jt)}function wt(zt){B={},zt.forEach(function(ae){B[ae.id]=ae})}function et(zt){return arguments.length?(X=zt,at(),q):X}function rt(zt){return arguments.length?typeof zt=="string"?(g=function(ae){return ae[zt]},q):(g=zt,q):g}function Ot(zt){return arguments.length?(K=zt,q):K}function Dt(zt){return arguments.length?(tt=zt,q):tt}function ot(zt){return arguments.length?(f=zt,q):f}function xt(zt){return arguments.length?(U=zt,q):U}function Nt(zt){return arguments.length?(wt(zt||[]),T=zt||[],q):T}function Yt(zt){return arguments.length?(m=zt||[],at(),q):m}function Ct(zt){return arguments.length?(typeof zt=="function"?S=zt:S=p(+zt),at(),q):S}function Xt(zt){return arguments.length?(typeof zt=="function"?E=zt:E=p(+zt),at(),q):E}function Zt(zt){return arguments.length?(typeof zt=="function"?b=zt:b=p(+zt),at(),q):b}function se(zt){return arguments.length?(typeof zt=="function"?A=zt:A=p(+zt),at(),q):A}function ie(zt){return arguments.length?(x=zt,q):x}return q.initialize=function(zt){T=zt,at()},q.template=et,q.groupBy=rt,q.enableGrouping=Ot,q.strength=Dt,q.centerX=ot,q.centerY=xt,q.nodes=Nt,q.links=Yt,q.forceNodeSize=Ct,q.nodeSize=q.forceNodeSize,q.forceCharge=Xt,q.forceLinkDistance=Zt,q.forceLinkStrength=se,q.offset=ie,q.getFocis=Lt,q}W.default=L},508810:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var T=function(B,m){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,U){f.__proto__=U}||function(f,U){for(var j in U)Object.prototype.hasOwnProperty.call(U,j)&&(f[j]=U[j])},T(B,m)};return function(B,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");T(B,m);function f(){this.constructor=B}B.prototype=m===null?Object.create(m):(f.prototype=m.prototype,new f)}}(),R=this&&this.__createBinding||(Object.create?function(T,B,m,f){f===void 0&&(f=m);var U=Object.getOwnPropertyDescriptor(B,m);(!U||("get"in U?!B.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return B[m]}}),Object.defineProperty(T,f,U)}:function(T,B,m,f){f===void 0&&(f=m),T[f]=B[m]}),w=this&&this.__setModuleDefault||(Object.create?function(T,B){Object.defineProperty(T,"default",{enumerable:!0,value:B})}:function(T,B){T.default=B}),M=this&&this.__importStar||function(T){if(T&&T.__esModule)return T;var B={};if(T!=null)for(var m in T)m!=="default"&&Object.prototype.hasOwnProperty.call(T,m)&&R(B,T,m);return w(B,T),B},P=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(W,"__esModule",{value:!0}),W.ForceLayout=void 0;var L=M(_(486880)),p=P(_(589806)),g=_(449784),S=_(762329),E=_(416470),b=function(T){y(B,T);function B(m){var f=T.call(this)||this;return f.center=[0,0],f.nodeStrength=null,f.edgeStrength=null,f.preventOverlap=!1,f.clusterNodeStrength=null,f.clusterEdgeStrength=null,f.clusterEdgeDistance=null,f.clusterNodeSize=null,f.clusterFociStrength=null,f.linkDistance=50,f.alphaDecay=.028,f.alphaMin=.001,f.alpha=.3,f.collideStrength=1,f.workerEnabled=!1,f.tick=function(){},f.onLayoutEnd=function(){},f.ticking=void 0,m&&f.updateCfg(m),f}return B.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}},B.prototype.init=function(m){var f=this;f.nodes=m.nodes||[];var U=m.edges||[];f.edges=U.map(function(j){var z={},k=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(j).forEach(function(X){k.indexOf(X)>-1||(z[X]=j[X])}),z}),f.ticking=!1},B.prototype.execute=function(m){var f=this,U=f.nodes,j=f.edges;if(!f.ticking){var z=f.forceSimulation,k=f.alphaMin,X=f.alphaDecay,K=f.alpha;if(z){if(m){if(f.clustering&&f.clusterForce&&(f.clusterForce.nodes(U),f.clusterForce.links(j)),z.nodes(U),j&&f.edgeForce)f.edgeForce.links(j);else if(j&&!f.edgeForce){var at=L.forceLink().id(function(vt){return vt.id}).links(j);f.edgeStrength&&at.strength(f.edgeStrength),f.linkDistance&&at.distance(f.linkDistance),f.edgeForce=at,z.force("link",at)}}f.preventOverlap&&f.overlapProcess(z),z.alpha(K).restart(),this.ticking=!0}else try{var tt=L.forceManyBody();if(f.nodeStrength&&tt.strength(f.nodeStrength),z=L.forceSimulation().nodes(U),f.clustering){var q=(0,p.default)();q.centerX(f.center[0]).centerY(f.center[1]).template("force").strength(f.clusterFociStrength),j&&q.links(j),U&&q.nodes(U),q.forceLinkDistance(f.clusterEdgeDistance).forceLinkStrength(f.clusterEdgeStrength).forceCharge(f.clusterNodeStrength).forceNodeSize(f.clusterNodeSize),f.clusterForce=q,z.force("group",q)}if(z.force("center",L.forceCenter(f.center[0],f.center[1])).force("charge",tt).alpha(K).alphaDecay(X).alphaMin(k),f.preventOverlap&&f.overlapProcess(z),j){var at=L.forceLink().id(function(St){return St.id}).links(j);f.edgeStrength&&at.strength(f.edgeStrength),f.linkDistance&&at.distance(f.linkDistance),f.edgeForce=at,z.force("link",at)}if(f.workerEnabled&&!x()&&(f.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!f.workerEnabled)z.on("tick",function(){f.tick()}).on("end",function(){f.ticking=!1,f.onLayoutEnd&&f.onLayoutEnd()}),f.ticking=!0;else{z.stop();for(var pt=A(z),ct=1;ct<=pt;ct++)z.tick(),postMessage({nodes:U,currentTick:ct,totalTicks:pt,type:E.LAYOUT_MESSAGE.TICK},void 0);f.ticking=!1}f.forceSimulation=z,f.ticking=!0}catch(St){f.ticking=!1,console.warn(St)}}},B.prototype.overlapProcess=function(m){var f=this,U=f.nodeSize,j=f.nodeSpacing,z,k,X=f.collideStrength;if((0,g.isNumber)(j)?k=function(){return j}:(0,g.isFunction)(j)?k=j:k=function(){return 0},!U)z=function(at){if(at.size){if((0,g.isArray)(at.size)){var pt=at.size[0]>at.size[1]?at.size[0]:at.size[1];return pt/2+k(at)}if((0,g.isObject)(at.size)){var pt=at.size.width>at.size.height?at.size.width:at.size.height;return pt/2+k(at)}return at.size/2+k(at)}return 10+k(at)};else if((0,g.isFunction)(U))z=function(at){var pt=U(at);return pt+k(at)};else if((0,g.isArray)(U)){var K=U[0]>U[1]?U[0]:U[1],tt=K/2;z=function(at){return tt+k(at)}}else if((0,g.isNumber)(U)){var q=U/2;z=function(at){return q+k(at)}}else z=function(){return 10};m.force("collisionForce",L.forceCollide(z).strength(X))},B.prototype.updateCfg=function(m){var f=this;f.ticking&&(f.forceSimulation.stop(),f.ticking=!1),f.forceSimulation=null,Object.assign(f,m)},B.prototype.destroy=function(){var m=this;m.ticking&&(m.forceSimulation.stop(),m.ticking=!1),m.nodes=null,m.edges=null,m.destroyed=!0},B}(S.Base);W.ForceLayout=b;function A(T){var B=T.alphaMin(),m=T.alphaTarget(),f=T.alpha(),U=Math.log((B-m)/(f-m))/Math.log(1-T.alphaDecay()),j=Math.ceil(U);return j}function x(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}},885717:function(Ve,W,_){"use strict";var y=this&&this.__createBinding||(Object.create?function(w,M,P,L){L===void 0&&(L=P);var p=Object.getOwnPropertyDescriptor(M,P);(!p||("get"in p?!M.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return M[P]}}),Object.defineProperty(w,L,p)}:function(w,M,P,L){L===void 0&&(L=P),w[L]=M[P]}),R=this&&this.__exportStar||function(w,M){for(var P in w)P!=="default"&&!Object.prototype.hasOwnProperty.call(M,P)&&y(M,w,P)};Object.defineProperty(W,"__esModule",{value:!0}),R(_(508810),W)},191019:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.forceNBody=void 0;var y=_(971829),R=.81,w=.1;function M(g,S,E,b,A){var x=E/b,T=g.map(function(m,f){var U=S[m.id],j=U.data,z=U.x,k=U.y,X=U.size,K=j.layout.force.nodeStrength;return{x:z,y:k,size:X,index:f,vx:0,vy:0,weight:x*K}}),B=(0,y.quadtree)(T,function(m){return m.x},function(m){return m.y}).visitAfter(P);return T.forEach(function(m){p(m,B)}),T.map(function(m,f){var U=S[g[f].id],j=U.data.layout.force.mass,z=j===void 0?1:j;A[2*f]=m.vx/z,A[2*f+1]=m.vy/z}),A}W.forceNBody=M;function P(g){var S=0,E=0,b=0;if(g.length){for(var A=0;A<4;A++){var x=g[A];x&&x.weight&&(S+=x.weight,E+=x.x*x.weight,b+=x.y*x.weight)}g.x=E/S,g.y=b/S,g.weight=S}else{var x=g;g.x=x.data.x,g.y=x.data.y,g.weight=x.data.weight}}var L=function(g,S,E,b,A,x){var T=x.x-g.x||w,B=x.y-g.y||w,m=b-S,f=T*T+B*B,U=Math.sqrt(f)*f;if(m*m*R<f){var j=g.weight/U;return x.vx+=T*j,x.vy+=B*j,!0}if(g.length)return!1;if(g.data!==x){var j=g.data.weight/U;x.vx+=T*j,x.vy+=B*j}};function p(g,S){S.visit(function(E,b,A,x,T){return L(E,b,A,x,T,g)})}},306740:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var g=function(S,E){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,A){b.__proto__=A}||function(b,A){for(var x in A)Object.prototype.hasOwnProperty.call(A,x)&&(b[x]=A[x])},g(S,E)};return function(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");g(S,E);function b(){this.constructor=S}S.prototype=E===null?Object.create(E):(b.prototype=E.prototype,new b)}}(),R=this&&this.__assign||function(){return R=Object.assign||function(g){for(var S,E=1,b=arguments.length;E<b;E++){S=arguments[E];for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(g[A]=S[A])}return g},R.apply(this,arguments)};Object.defineProperty(W,"__esModule",{value:!0}),W.Force2Layout=void 0;var w=_(762329),M=_(449784),P=_(191019),L=function(g,S){var E;return g?(0,M.isNumber)(g)?E=function(b){return g}:E=g:E=function(b){return S||1},E},p=function(g){y(S,g);function S(E){var b=g.call(this)||this;b.maxIteration=1e3,b.workerEnabled=!1,b.edgeStrength=200,b.nodeStrength=1e3,b.coulombDisScale=.005,b.damping=.9,b.maxSpeed=500,b.minMovement=.4,b.interval=.02,b.factor=1,b.linkDistance=200,b.gravity=0,b.clusterNodeStrength=20,b.preventOverlap=!0,b.distanceThresholdMode="mean",b.tick=function(){},b.nodes=[],b.edges=[],b.width=300,b.height=300,b.nodeMap={},b.nodeIdxMap={},b.judgingDistance=0,b.centripetalOptions={leaf:2,single:2,others:1,center:function(x){return{x:b.width/2,y:b.height/2}}};var A=E.getMass;return b.propsGetMass=A,b.updateCfg(E),b}return S.prototype.getCentripetalOptions=function(){var E=this,b=E.leafCluster,A=E.clustering,x=E.nodeClusterBy,T=E.nodes,B=E.nodeMap,m=E.clusterNodeStrength,f=function(pt){return typeof m=="function"?m(pt):m},U={},j;if(b){j=this.getSameTypeLeafMap()||{};var z=Array.from(new Set(T==null?void 0:T.map(function(pt){return pt[x]})))||[];U={single:100,leaf:function(pt,ct,St){var vt=j[pt.id]||{},Lt=vt.relativeLeafNodes,Mt=vt.sameTypeLeafNodes;return(Mt==null?void 0:Mt.length)===(Lt==null?void 0:Lt.length)||(z==null?void 0:z.length)===1?1:f(pt)},others:1,center:function(pt,ct,St){var vt,Lt=(((vt=pt.data)===null||vt===void 0?void 0:vt.layout)||{}).degree;if(!Lt)return{x:100,y:100};var Mt;if(Lt===1){var wt=(j[pt.id]||{}).sameTypeLeafNodes,et=wt===void 0?[]:wt;et.length===1?Mt=void 0:et.length>1&&(Mt=(0,M.getAvgNodePosition)(et))}else Mt=void 0;return{x:Mt==null?void 0:Mt.x,y:Mt==null?void 0:Mt.y}}}}if(A){j||(j=this.getSameTypeLeafMap());var k=Array.from(new Set(T.map(function(pt,ct){return pt[x]}))).filter(function(pt){return pt!==void 0}),X={};k.forEach(function(pt){var ct=T.filter(function(St){return St[x]===pt}).map(function(St){return B[St.id]});X[pt]=(0,M.getAvgNodePosition)(ct)}),U={single:function(pt){return f(pt)},leaf:function(pt){return f(pt)},others:function(pt){return f(pt)},center:function(pt,ct,St){var vt=X[pt[x]];return{x:vt==null?void 0:vt.x,y:vt==null?void 0:vt.y}}}}this.centripetalOptions=R(R({},this.centripetalOptions),U);var K=this.centripetalOptions,tt=K.leaf,q=K.single,at=K.others;tt&&typeof tt!="function"&&(this.centripetalOptions.leaf=function(){return tt}),q&&typeof q!="function"&&(this.centripetalOptions.single=function(){return q}),at&&typeof at!="function"&&(this.centripetalOptions.others=function(){return at})},S.prototype.updateCfg=function(E){E&&Object.assign(this,E)},S.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},S.prototype.execute=function(){var E=this;E.stop();var b=E.nodes,A=E.edges,x=E.defSpringLen;if(E.judgingDistance=0,!b||b.length===0){E.onLayoutEnd([]);return}!E.width&&typeof window!="undefined"&&(E.width=window.innerWidth),!E.height&&typeof window!="undefined"&&(E.height=window.innerHeight),E.center||(E.center=[E.width/2,E.height/2]);var T=E.center;if(b.length===1){b[0].x=T[0],b[0].y=T[1],E.onLayoutEnd([R({},b[0])]);return}E.degreesMap=(0,M.getDegreeMap)(b,A),E.propsGetMass?E.getMass=E.propsGetMass:E.getMass=function(k){var X=1;(0,M.isNumber)(k.mass)&&(X=k.mass);var K=E.degreesMap[k.id].all;return!K||K<5?X:K*5*X};var B=E.nodeSize,m;if(E.preventOverlap){var f=E.nodeSpacing,U;(0,M.isNumber)(f)?U=function(){return f}:(0,M.isFunction)(f)?U=f:U=function(){return 0},B?(0,M.isArray)(B)?m=function(k){return Math.max(B[0],B[1])+U(k)}:m=function(k){return B+U(k)}:m=function(k){return k.size?(0,M.isArray)(k.size)?Math.max(k.size[0],k.size[1])+U(k):(0,M.isObject)(k.size)?Math.max(k.size.width,k.size.height)+U(k):k.size+U(k):10+U(k)}}E.nodeSize=m,E.linkDistance=L(E.linkDistance,1),E.nodeStrength=L(E.nodeStrength,1),E.edgeStrength=L(E.edgeStrength,1);var j={},z={};b.forEach(function(k,X){(0,M.isNumber)(k.x)||(k.x=Math.random()*E.width),(0,M.isNumber)(k.y)||(k.y=Math.random()*E.height);var K=E.degreesMap[k.id];j[k.id]=R(R({},k),{data:R(R({},k.data),{size:E.nodeSize(k)||30,layout:{inDegree:K.in,outDegree:K.out,degree:K.all,tDegree:K.in,sDegree:K.out,force:{mass:E.getMass(k),nodeStrength:E.nodeStrength(k)}}})}),z[k.id]=X}),E.nodeMap=j,E.nodeIdxMap=z,E.edgeInfos=[],A==null||A.forEach(function(k){var X=j[k.source],K=j[k.target];!X||!K?elf.edgeInfos.push({}):E.edgeInfos.push({edgeStrength:E.edgeStrength(k),linkDistance:x?x(R(R({},k),{source:X,target:K}),X,K):E.linkDistance(k,X,K)||1+(B(X)+B(X)||0)/2})}),this.getCentripetalOptions(),E.onLayoutEnd=E.onLayoutEnd||function(){},E.run()},S.prototype.run=function(){var E=this,b=E.maxIteration,A=E.nodes,x=E.workerEnabled,T=E.minMovement,B=E.animate,m=E.nodeMap;if(A){var f=[];A.forEach(function(K,tt){f[2*tt]=0,f[2*tt+1]=0});var U=b,j=!B;if(x||j){for(var z=0,k=0;(E.judgingDistance>T||k<1)&&k<U;k++)z=k,E.runOneStep(k,f);E.onLayoutEnd(Object.values(m))}else{if(typeof window=="undefined")return;var X=0;this.timeInterval=window.setInterval(function(){A&&(E.runOneStep(X,f),X++,(X>=U||E.judgingDistance<T)&&(E.onLayoutEnd(Object.values(m)),window.clearInterval(E.timeInterval)))},0)}}},S.prototype.runOneStep=function(E,b){var A,x=this,T=x.nodes,B=x.edges,m=x.nodeMap,f=x.monitor,U=[];if(T!=null&&T.length){x.calRepulsive(U),B&&x.calAttractive(U),x.calGravity(U);var j=x.interval;if(x.updateVelocity(U,b,j),x.updatePosition(b,j),(A=x.tick)===null||A===void 0||A.call(x),f){var z=this.calTotalEnergy(U);f({energy:z,nodes:T,edges:B,iterations:E})}}},S.prototype.calTotalEnergy=function(E){var b=this,A=b.nodes,x=b.nodeMap;if(!(A!=null&&A.length))return 0;var T=0;return A.forEach(function(B,m){var f=E[2*m],U=E[2*m+1],j=f*f+U*U,z=x[B.id].data.layout.force.mass,k=z===void 0?1:z;T+=k*j*.5}),T},S.prototype.calRepulsive=function(E){var b=this,A=b.nodes,x=b.nodeMap,T=b.factor,B=b.coulombDisScale,m=b.nodeSize;(0,P.forceNBody)(A,x,T,B*B,E)},S.prototype.calAttractive=function(E){var b=this,A=b.edges,x=b.nodeMap,T=b.nodeIdxMap,B=b.edgeInfos,m=b.nodeSize;A.forEach(function(f,U){var j=(0,M.getEdgeTerminal)(f,"source"),z=(0,M.getEdgeTerminal)(f,"target"),k=x[j],X=x[z];if(!(!k||!X)){var K=X.x-k.x,tt=X.y-k.y;!K&&!tt&&(K=Math.random()*.01,tt=Math.random()*.01);var q=Math.sqrt(K*K+tt*tt),at=K/q,pt=tt/q,ct=B[U]||{},St=ct.linkDistance,vt=St===void 0?200:St,Lt=ct.edgeStrength,Mt=Lt===void 0?200:Lt,wt=vt-q,et=wt*Mt,rt=k.data.layout.force.mass||1,Ot=X.data.layout.force.mass||1,Dt=1/rt,ot=1/Ot,xt=at*et,Nt=pt*et,Yt=2*T[j],Ct=2*T[z];E[Yt]-=xt*Dt,E[Yt+1]-=Nt*Dt,E[Ct]+=xt*ot,E[Ct+1]+=Nt*ot}})},S.prototype.calGravity=function(E){var b,A=this,x=A.nodes,T=A.edges,B=T===void 0?[]:T,m=A.nodeMap,f=A.width,U=A.height,j=A.center,z=A.gravity,k=A.degreesMap,X=A.centripetalOptions;if(x)for(var K=x.length,tt=0;tt<K;tt++){var q=2*tt,at=m[x[tt].id],pt=at.data.layout.force.mass,ct=pt===void 0?1:pt,St=0,vt=0,Lt=z,Mt=k[at.id],wt=Mt.in,et=Mt.out,rt=Mt.all,Ot=(b=A.getCenter)===null||b===void 0?void 0:b.call(A,at,rt);if(Ot){var Dt=Ot[0],ot=Ot[1],xt=Ot[2];St=at.x-Dt,vt=at.y-ot,Lt=xt}else St=at.x-j[0],vt=at.y-j[1];if(Lt&&(E[q]-=Lt*St/ct,E[q+1]-=Lt*vt/ct),X){var Nt=X.leaf,Yt=X.single,Ct=X.others,Xt=X.center,Zt=(Xt==null?void 0:Xt(at,x,B,f,U))||{x:0,y:0,centerStrength:0},se=Zt.x,ie=Zt.y,zt=Zt.centerStrength;if(!(0,M.isNumber)(se)||!(0,M.isNumber)(ie))continue;var ae=(at.x-se)/ct,Re=(at.y-ie)/ct;if(zt&&(E[q]-=zt*ae,E[q+1]-=zt*Re),rt===0){var Jt=Yt(at);if(!Jt)continue;E[q]-=Jt*ae,E[q+1]-=Jt*Re;continue}if(wt===0||et===0){var ue=Nt(at,x,B);if(!ue)continue;E[q]-=ue*ae,E[q+1]-=ue*Re;continue}var ke=Ct(at);if(!ke)continue;E[q]-=ke*ae,E[q+1]-=ke*Re}}},S.prototype.updateVelocity=function(E,b,A){var x=this,T=x.nodes,B=x.damping,m=x.maxSpeed;T!=null&&T.length&&T.forEach(function(f,U){var j=(b[2*U]+E[2*U]*A)*B||.01,z=(b[2*U+1]+E[2*U+1]*A)*B||.01,k=Math.sqrt(j*j+z*z);if(k>m){var X=m/k;j=X*j,z=X*z}b[2*U]=j,b[2*U+1]=z})},S.prototype.updatePosition=function(E,b){var A=this,x=A.nodes,T=A.distanceThresholdMode,B=A.nodeMap;if(!(x!=null&&x.length)){this.judgingDistance=0;return}var m=0;T==="max"?A.judgingDistance=-1/0:T==="min"&&(A.judgingDistance=1/0),x.forEach(function(f,U){var j=B[f.id];if((0,M.isNumber)(f.fx)&&(0,M.isNumber)(f.fy)){f.x=f.fx,f.y=f.fy,j.x=f.x,j.y=f.y;return}var z=E[2*U]*b,k=E[2*U+1]*b;f.x+=z,f.y+=k,j.x=f.x,j.y=f.y;var X=Math.sqrt(z*z+k*k);switch(T){case"max":A.judgingDistance<X&&(A.judgingDistance=X);break;case"min":A.judgingDistance>X&&(A.judgingDistance=X);break;default:m=m+X;break}}),(!T||T==="mean")&&(A.judgingDistance=m/x.length)},S.prototype.stop=function(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)},S.prototype.destroy=function(){var E=this;E.stop(),E.tick=null,E.nodes=null,E.edges=null,E.destroyed=!0},S.prototype.getType=function(){return"force2"},S.prototype.getSameTypeLeafMap=function(){var E=this,b=E.nodeClusterBy,A=E.nodes,x=E.edges,T=E.nodeMap,B=E.degreesMap;if(A!=null&&A.length){var m={};return A.forEach(function(f,U){var j=B[f.id].all;j===1&&(m[f.id]=(0,M.getCoreNodeAndRelativeLeafNodes)("leaf",f,x,b,B,T))}),m}},S}(w.Base);W.Force2Layout=p},19712:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var _=function(){function y(R){this.id=R.id||0,this.rx=R.rx,this.ry=R.ry,this.fx=0,this.fy=0,this.mass=R.mass,this.degree=R.degree,this.g=R.g||0}return y.prototype.distanceTo=function(R){var w=this.rx-R.rx,M=this.ry-R.ry;return Math.hypot(w,M)},y.prototype.setPos=function(R,w){this.rx=R,this.ry=w},y.prototype.resetForce=function(){this.fx=0,this.fy=0},y.prototype.addForce=function(R){var w=R.rx-this.rx,M=R.ry-this.ry,P=Math.hypot(w,M);P=P<1e-4?1e-4:P;var L=this.g*(this.degree+1)*(R.degree+1)/P;this.fx+=L*w/P,this.fy+=L*M/P},y.prototype.in=function(R){return R.contains(this.rx,this.ry)},y.prototype.add=function(R){var w=this.mass+R.mass,M=(this.rx*this.mass+R.rx*R.mass)/w,P=(this.ry*this.mass+R.ry*R.mass)/w,L=this.degree+R.degree,p={rx:M,ry:P,mass:w,degree:L};return new y(p)},y}();W.default=_},148564:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var S=function(E,b){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,x){A.__proto__=x}||function(A,x){for(var T in x)Object.prototype.hasOwnProperty.call(x,T)&&(A[T]=x[T])},S(E,b)};return function(E,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");S(E,b);function A(){this.constructor=E}E.prototype=b===null?Object.create(b):(A.prototype=b.prototype,new A)}}(),R=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(W,"__esModule",{value:!0}),W.ForceAtlas2Layout=void 0;var w=_(762329),M=_(449784),P=R(_(19712)),L=R(_(851638)),p=R(_(762732)),g=function(S){y(E,S);function E(b){var A=S.call(this)||this;return A.center=[0,0],A.width=300,A.height=300,A.nodes=[],A.edges=[],A.kr=5,A.kg=1,A.mode="normal",A.preventOverlap=!1,A.dissuadeHubs=!1,A.barnesHut=void 0,A.maxIteration=0,A.ks=.1,A.ksmax=10,A.tao=.1,A.onLayoutEnd=function(){},A.prune=void 0,A.updateCfg(b),A}return E.prototype.getDefaultCfg=function(){return{}},E.prototype.execute=function(){var b=this,A=b.nodes,x=b.onLayoutEnd,T=b.prune,B=b.maxIteration;!b.width&&typeof window!="undefined"&&(b.width=window.innerWidth),!b.height&&typeof window!="undefined"&&(b.height=window.innerHeight);for(var m=[],f=A.length,U=0;U<f;U+=1){var j=A[U],z=10,k=10;(0,M.isNumber)(j.size)&&(z=j.size,k=j.size),(0,M.isArray)(j.size)?(isNaN(j.size[0])||(z=j.size[0]),isNaN(j.size[1])||(k=j.size[1])):(0,M.isObject)(j.size)&&(z=j.size.width,k=j.size.height),b.getWidth&&!isNaN(b.getWidth(j))&&(k=b.getWidth(j)),b.getHeight&&!isNaN(b.getHeight(j))&&(z=b.getHeight(j));var X=Math.max(z,k);m.push(X)}b.barnesHut===void 0&&f>250&&(b.barnesHut=!0),b.prune===void 0&&f>100&&(b.prune=!0),this.maxIteration===0&&!b.prune?(B=250,f<=200&&f>100?B=1e3:f>200&&(B=1200),this.maxIteration=B):this.maxIteration===0&&T&&(B=100,f<=200&&f>100?B=500:f>200&&(B=950),this.maxIteration=B),b.kr||(b.kr=50,f>100&&f<=500?b.kr=20:f>500&&(b.kr=1)),b.kg||(b.kg=20,f>100&&f<=500?b.kg=10:f>500&&(b.kg=1)),this.nodes=b.updateNodesByForces(m),x()},E.prototype.updateNodesByForces=function(b){for(var A=this,x=A.edges,T=A.maxIteration,B=A.nodes,m=x.filter(function(Mt){var wt=(0,M.getEdgeTerminal)(Mt,"source"),et=(0,M.getEdgeTerminal)(Mt,"target");return wt!==et}),f=B.length,U=m.length,j=[],z={},k={},X=[],K=0;K<f;K+=1)z[B[K].id]=K,j[K]=0,(B[K].x===void 0||isNaN(B[K].x))&&(B[K].x=Math.random()*1e3),(B[K].y===void 0||isNaN(B[K].y))&&(B[K].y=Math.random()*1e3),X.push({x:B[K].x,y:B[K].y});for(var K=0;K<U;K+=1){for(var tt=void 0,q=void 0,at=0,pt=0,ct=0;ct<f;ct+=1){var St=(0,M.getEdgeTerminal)(m[K],"source"),vt=(0,M.getEdgeTerminal)(m[K],"target");B[ct].id===St?(tt=B[ct],at=ct):B[ct].id===vt&&(q=B[ct],pt=ct),k[K]={sourceIdx:at,targetIdx:pt}}tt&&(j[z[tt.id]]+=1),q&&(j[z[q.id]]+=1)}var Lt=T;if(B=this.iterate(Lt,z,k,U,j,b),A.prune){for(var ct=0;ct<U;ct+=1)j[k[ct].sourceIdx]<=1?(B[k[ct].sourceIdx].x=B[k[ct].targetIdx].x,B[k[ct].sourceIdx].y=B[k[ct].targetIdx].y):j[k[ct].targetIdx]<=1&&(B[k[ct].targetIdx].x=B[k[ct].sourceIdx].x,B[k[ct].targetIdx].y=B[k[ct].sourceIdx].y);A.prune=!1,A.barnesHut=!1,Lt=100,B=this.iterate(Lt,z,k,U,j,b)}return B},E.prototype.iterate=function(b,A,x,T,B,m){for(var f=this,U=f.nodes,j=f.kr,z=f.preventOverlap,k=f.barnesHut,X=U.length,K=0,tt=100,q=b,at=50,pt=[],ct=[],St=[],vt=0;vt<X;vt+=1)if(pt[2*vt]=0,pt[2*vt+1]=0,k){var Lt={id:vt,rx:U[vt].x,ry:U[vt].y,mass:1,g:j,degree:B[vt]};St[vt]=new P.default(Lt)}for(;q>0;){for(var vt=0;vt<X;vt+=1)ct[2*vt]=pt[2*vt],ct[2*vt+1]=pt[2*vt+1],pt[2*vt]=0,pt[2*vt+1]=0;pt=this.getAttrForces(q,at,T,A,x,B,m,pt),k&&(z&&q>at||!z)?pt=this.getOptRepGraForces(pt,St,B):pt=this.getRepGraForces(q,at,pt,tt,m,B);var Mt=this.updatePos(pt,ct,K,B);U=Mt.nodes,K=Mt.sg,q--,f.tick&&f.tick()}return U},E.prototype.getAttrForces=function(b,A,x,T,B,m,f,U){for(var j=this,z=j.nodes,k=j.preventOverlap,X=j.dissuadeHubs,K=j.mode,tt=j.prune,q=0;q<x;q+=1){var at=z[B[q].sourceIdx],pt=B[q].sourceIdx,ct=z[B[q].targetIdx],St=B[q].targetIdx;if(!(tt&&(m[pt]<=1||m[St]<=1))){var vt=[ct.x-at.x,ct.y-at.y],Lt=Math.hypot(vt[0],vt[1]);Lt=Lt<1e-4?1e-4:Lt,vt[0]=vt[0]/Lt,vt[1]=vt[1]/Lt,k&&b<A&&(Lt=Lt-f[pt]-f[St]);var Mt=Lt,wt=Mt;K==="linlog"&&(Mt=Math.log(1+Lt),wt=Mt),X&&(Mt=Lt/m[pt],wt=Lt/m[St]),k&&b<A&&Lt<=0?(Mt=0,wt=0):k&&b<A&&Lt>0&&(Mt=Lt,wt=Lt),U[2*T[at.id]]+=Mt*vt[0],U[2*T[ct.id]]-=wt*vt[0],U[2*T[at.id]+1]+=Mt*vt[1],U[2*T[ct.id]+1]-=wt*vt[1]}}return U},E.prototype.getRepGraForces=function(b,A,x,T,B,m){for(var f=this,U=f.nodes,j=f.preventOverlap,z=f.kr,k=f.kg,X=f.center,K=f.prune,tt=U.length,q=0;q<tt;q+=1){for(var at=q+1;at<tt;at+=1)if(!(K&&(m[q]<=1||m[at]<=1))){var pt=[U[at].x-U[q].x,U[at].y-U[q].y],ct=Math.hypot(pt[0],pt[1]);ct=ct<1e-4?1e-4:ct,pt[0]=pt[0]/ct,pt[1]=pt[1]/ct,j&&b<A&&(ct=ct-B[q]-B[at]);var St=z*(m[q]+1)*(m[at]+1)/ct;j&&b<A&&ct<0?St=T*(m[q]+1)*(m[at]+1):j&&b<A&&ct===0?St=0:j&&b<A&&ct>0&&(St=z*(m[q]+1)*(m[at]+1)/ct),x[2*q]-=St*pt[0],x[2*at]+=St*pt[0],x[2*q+1]-=St*pt[1],x[2*at+1]+=St*pt[1]}var vt=[U[q].x-X[0],U[q].y-X[1]],Lt=Math.hypot(vt[0],vt[1]);vt[0]=vt[0]/Lt,vt[1]=vt[1]/Lt;var Mt=k*(m[q]+1);x[2*q]-=Mt*vt[0],x[2*q+1]-=Mt*vt[1]}return x},E.prototype.getOptRepGraForces=function(b,A,x){for(var T=this,B=T.nodes,m=T.kg,f=T.center,U=T.prune,j=B.length,z=9e10,k=-9e10,X=9e10,K=-9e10,tt=0;tt<j;tt+=1)U&&x[tt]<=1||(A[tt].setPos(B[tt].x,B[tt].y),B[tt].x>=k&&(k=B[tt].x),B[tt].x<=z&&(z=B[tt].x),B[tt].y>=K&&(K=B[tt].y),B[tt].y<=X&&(X=B[tt].y));for(var q=Math.max(k-z,K-X),at={xmid:(k+z)/2,ymid:(K+X)/2,length:q,massCenter:f,mass:j},pt=new L.default(at),ct=new p.default(pt),tt=0;tt<j;tt+=1)U&&x[tt]<=1||A[tt].in(pt)&&ct.insert(A[tt]);for(var tt=0;tt<j;tt+=1)if(!(U&&x[tt]<=1)){A[tt].resetForce(),ct.updateForce(A[tt]),b[2*tt]-=A[tt].fx,b[2*tt+1]-=A[tt].fy;var St=[B[tt].x-f[0],B[tt].y-f[1]],vt=Math.hypot(St[0],St[1]);vt=vt<1e-4?1e-4:vt,St[0]=St[0]/vt,St[1]=St[1]/vt;var Lt=m*(x[tt]+1);b[2*tt]-=Lt*St[0],b[2*tt+1]-=Lt*St[1]}return b},E.prototype.updatePos=function(b,A,x,T){for(var B=this,m=B.nodes,f=B.ks,U=B.tao,j=B.prune,z=B.ksmax,k=m.length,X=[],K=[],tt=0,q=0,at=0;at<k;at+=1)if(!(j&&T[at]<=1)){var pt=[b[2*at]-A[2*at],b[2*at+1]-A[2*at+1]],ct=Math.hypot(pt[0],pt[1]),St=[b[2*at]+A[2*at],b[2*at+1]+A[2*at+1]],vt=Math.hypot(St[0],St[1]);X[at]=ct,K[at]=vt/2,tt+=(T[at]+1)*X[at],q+=(T[at]+1)*K[at]}var Lt=x;x=U*q/tt,Lt!==0&&(x=x>1.5*Lt?1.5*Lt:x);for(var at=0;at<k;at+=1)if(!(j&&T[at]<=1)&&!((0,M.isNumber)(m[at].fx)&&(0,M.isNumber)(m[at].fy))){var Mt=f*x/(1+x*Math.sqrt(X[at])),wt=Math.hypot(b[2*at],b[2*at+1]);wt=wt<1e-4?1e-4:wt;var et=z/wt;Mt=Mt>et?et:Mt;var rt=Mt*b[2*at],Ot=Mt*b[2*at+1];m[at].x+=rt,m[at].y+=Ot}return{nodes:m,sg:x}},E}(w.Base);W.ForceAtlas2Layout=g},851638:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var _=function(){function y(R){this.xmid=R.xmid,this.ymid=R.ymid,this.length=R.length,this.massCenter=R.massCenter||[0,0],this.mass=R.mass||1}return y.prototype.getLength=function(){return this.length},y.prototype.contains=function(R,w){var M=this.length/2;return R<=this.xmid+M&&R>=this.xmid-M&&w<=this.ymid+M&&w>=this.ymid-M},y.prototype.NW=function(){var R=this.xmid-this.length/4,w=this.ymid+this.length/4,M=this.length/2,P={xmid:R,ymid:w,length:M},L=new y(P);return L},y.prototype.NE=function(){var R=this.xmid+this.length/4,w=this.ymid+this.length/4,M=this.length/2,P={xmid:R,ymid:w,length:M},L=new y(P);return L},y.prototype.SW=function(){var R=this.xmid-this.length/4,w=this.ymid-this.length/4,M=this.length/2,P={xmid:R,ymid:w,length:M},L=new y(P);return L},y.prototype.SE=function(){var R=this.xmid+this.length/4,w=this.ymid-this.length/4,M=this.length/2,P={xmid:R,ymid:w,length:M},L=new y(P);return L},y}();W.default=_},762732:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var _=function(){function y(R){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,R!=null&&(this.quad=R)}return y.prototype.insert=function(R){if(this.body==null){this.body=R;return}this._isExternal()?(this.quad&&(this.NW=new y(this.quad.NW()),this.NE=new y(this.quad.NE()),this.SW=new y(this.quad.SW()),this.SE=new y(this.quad.SE())),this._putBody(this.body),this._putBody(R),this.body=this.body.add(R)):(this.body=this.body.add(R),this._putBody(R))},y.prototype._putBody=function(R){this.quad&&(R.in(this.quad.NW())&&this.NW?this.NW.insert(R):R.in(this.quad.NE())&&this.NE?this.NE.insert(R):R.in(this.quad.SW())&&this.SW?this.SW.insert(R):R.in(this.quad.SE())&&this.SE&&this.SE.insert(R))},y.prototype._isExternal=function(){return this.NW==null&&this.NE==null&&this.SW==null&&this.SE==null},y.prototype.updateForce=function(R){if(!(this.body==null||R===this.body))if(this._isExternal())R.addForce(this.body);else{var w=this.quad?this.quad.getLength():0,M=this.body.distanceTo(R);w/M<this.theta?R.addForce(this.body):(this.NW&&this.NW.updateForce(R),this.NE&&this.NE.updateForce(R),this.SW&&this.SW.updateForce(R),this.SE&&this.SE.updateForce(R))}},y}();W.default=_},880374:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var L=function(p,g){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var b in E)Object.prototype.hasOwnProperty.call(E,b)&&(S[b]=E[b])},L(p,g)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");L(p,g);function S(){this.constructor=p}p.prototype=g===null?Object.create(g):(S.prototype=g.prototype,new S)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.FruchtermanLayout=void 0;var R=_(762329),w=_(449784),M=800,P=function(L){y(p,L);function p(g){var S=L.call(this)||this;return S.maxIteration=1e3,S.workerEnabled=!1,S.gravity=10,S.speed=5,S.clustering=!1,S.clusterGravity=10,S.nodes=[],S.edges=[],S.width=300,S.height=300,S.nodeMap={},S.nodeIdxMap={},S.onLayoutEnd=function(){},S.tick=function(){},S.animate=!0,S.updateCfg(g),S}return p.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10,animate:!0}},p.prototype.execute=function(){var g=this,S,E,b=this,A=b.nodes;if(b.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(b.timeInterval),!A||A.length===0){(S=b.onLayoutEnd)===null||S===void 0||S.call(b);return}!b.width&&typeof window!="undefined"&&(b.width=window.innerWidth),!b.height&&typeof window!="undefined"&&(b.height=window.innerHeight),b.center||(b.center=[b.width/2,b.height/2]);var x=b.center;if(A.length===1){A[0].x=x[0],A[0].y=x[1],(E=b.onLayoutEnd)===null||E===void 0||E.call(b);return}var T={},B={};return A.forEach(function(m,f){(0,w.isNumber)(m.x)||(m.x=Math.random()*g.width),(0,w.isNumber)(m.y)||(m.y=Math.random()*g.height),T[m.id]=m,B[m.id]=f}),b.nodeMap=T,b.nodeIdxMap=B,b.run()},p.prototype.run=function(){var g,S=this,E=S.nodes;if(E){var b=S.edges,A=S.maxIteration,x=S.workerEnabled,T=S.clustering,B=S.animate,m={};if(T&&E.forEach(function(j){m[j.cluster]===void 0&&(m[j.cluster]={name:j.cluster,cx:0,cy:0,count:0})}),x||!B){for(var f=0;f<A;f++)S.runOneStep(m);(g=S.onLayoutEnd)===null||g===void 0||g.call(S)}else{if(typeof window=="undefined")return;var U=0;this.timeInterval=window.setInterval(function(){var j;S.runOneStep(m),U++,U>=A&&((j=S.onLayoutEnd)===null||j===void 0||j.call(S),window.clearInterval(S.timeInterval))},0)}return{nodes:E,edges:b}}},p.prototype.runOneStep=function(g){var S,E=this,b=E.nodes;if(b){var A=E.edges,x=E.center,T=E.gravity,B=E.speed,m=E.clustering,f=E.height*E.width,U=Math.sqrt(f)/10,j=f/(b.length+1),z=Math.sqrt(j),k=[];if(b.forEach(function(tt,q){k[q]={x:0,y:0}}),E.applyCalculate(b,A,k,z,j),m){for(var X in g)g[X].cx=0,g[X].cy=0,g[X].count=0;b.forEach(function(tt){var q=g[tt.cluster];(0,w.isNumber)(tt.x)&&(q.cx+=tt.x),(0,w.isNumber)(tt.y)&&(q.cy+=tt.y),q.count++});for(var X in g)g[X].cx/=g[X].count,g[X].cy/=g[X].count;var K=E.clusterGravity||T;b.forEach(function(tt,q){if(!(!(0,w.isNumber)(tt.x)||!(0,w.isNumber)(tt.y))){var at=g[tt.cluster],pt=Math.sqrt((tt.x-at.cx)*(tt.x-at.cx)+(tt.y-at.cy)*(tt.y-at.cy)),ct=z*K;k[q].x-=ct*(tt.x-at.cx)/pt,k[q].y-=ct*(tt.y-at.cy)/pt}})}b.forEach(function(tt,q){if(!(!(0,w.isNumber)(tt.x)||!(0,w.isNumber)(tt.y))){var at=.01*z*T;k[q].x-=at*(tt.x-x[0]),k[q].y-=at*(tt.y-x[1])}}),b.forEach(function(tt,q){if((0,w.isNumber)(tt.fx)&&(0,w.isNumber)(tt.fy)){tt.x=tt.fx,tt.y=tt.fy;return}if(!(!(0,w.isNumber)(tt.x)||!(0,w.isNumber)(tt.y))){var at=Math.sqrt(k[q].x*k[q].x+k[q].y*k[q].y);if(at>0){var pt=Math.min(U*(B/M),at);tt.x+=k[q].x/at*pt,tt.y+=k[q].y/at*pt}}}),(S=E.tick)===null||S===void 0||S.call(E)}},p.prototype.applyCalculate=function(g,S,E,b,A){var x=this;x.calRepulsive(g,E,A),S&&x.calAttractive(S,E,b)},p.prototype.calRepulsive=function(g,S,E){g.forEach(function(b,A){S[A]={x:0,y:0},g.forEach(function(x,T){if(A!==T&&!(!(0,w.isNumber)(b.x)||!(0,w.isNumber)(x.x)||!(0,w.isNumber)(b.y)||!(0,w.isNumber)(x.y))){var B=b.x-x.x,m=b.y-x.y,f=B*B+m*m;if(f===0){f=1;var U=A>T?1:-1;B=.01*U,m=.01*U}var j=E/f;S[A].x+=B*j,S[A].y+=m*j}})})},p.prototype.calAttractive=function(g,S,E){var b=this;g.forEach(function(A){var x=(0,w.getEdgeTerminal)(A,"source"),T=(0,w.getEdgeTerminal)(A,"target");if(!(!x||!T)){var B=b.nodeIdxMap[x],m=b.nodeIdxMap[T];if(B!==m){var f=b.nodeMap[x],U=b.nodeMap[T];if(!(!(0,w.isNumber)(U.x)||!(0,w.isNumber)(f.x)||!(0,w.isNumber)(U.y)||!(0,w.isNumber)(f.y))){var j=U.x-f.x,z=U.y-f.y,k=Math.sqrt(j*j+z*z),X=k*k/E;S[m].x-=j/k*X,S[m].y-=z/k*X,S[B].x+=j/k*X,S[B].y+=z/k*X}}}})},p.prototype.stop=function(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)},p.prototype.destroy=function(){var g=this;g.stop(),g.tick=null,g.nodes=null,g.edges=null,g.destroyed=!0},p.prototype.getType=function(){return"fruchterman"},p}(R.Base);W.FruchtermanLayout=P},113653:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var L=function(p,g){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var b in E)Object.prototype.hasOwnProperty.call(E,b)&&(S[b]=E[b])},L(p,g)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");L(p,g);function S(){this.constructor=p}p.prototype=g===null?Object.create(g):(S.prototype=g.prototype,new S)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.GForceLayout=void 0;var R=_(762329),w=_(449784),M=function(L,p){var g;return L?(0,w.isNumber)(L)?g=function(S){return L}:g=L:g=function(S){return p||1},g},P=function(L){y(p,L);function p(g){var S=L.call(this)||this;return S.maxIteration=500,S.workerEnabled=!1,S.edgeStrength=200,S.nodeStrength=1e3,S.coulombDisScale=.005,S.damping=.9,S.maxSpeed=1e3,S.minMovement=.5,S.interval=.02,S.factor=1,S.linkDistance=1,S.gravity=10,S.preventOverlap=!0,S.collideStrength=1,S.tick=function(){},S.nodes=[],S.edges=[],S.width=300,S.height=300,S.nodeMap={},S.nodeIdxMap={},S.animate=!0,S.updateCfg(g),S}return p.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},p.prototype.execute=function(){var g,S,E=this,b=E.nodes;if(E.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(E.timeInterval),!b||b.length===0){(g=E.onLayoutEnd)===null||g===void 0||g.call(E);return}!E.width&&typeof window!="undefined"&&(E.width=window.innerWidth),!E.height&&typeof window!="undefined"&&(E.height=window.innerHeight),E.center||(E.center=[E.width/2,E.height/2]);var A=E.center;if(b.length===1){b[0].x=A[0],b[0].y=A[1],(S=E.onLayoutEnd)===null||S===void 0||S.call(E);return}var x={},T={};b.forEach(function(z,k){(0,w.isNumber)(z.x)||(z.x=Math.random()*E.width),(0,w.isNumber)(z.y)||(z.y=Math.random()*E.height),x[z.id]=z,T[z.id]=k}),E.nodeMap=x,E.nodeIdxMap=T,E.linkDistance=M(E.linkDistance,1),E.nodeStrength=M(E.nodeStrength,1),E.edgeStrength=M(E.edgeStrength,1);var B=E.nodeSize,m;if(E.preventOverlap){var f=E.nodeSpacing,U;(0,w.isNumber)(f)?U=function(){return f}:(0,w.isFunction)(f)?U=f:U=function(){return 0},B?(0,w.isArray)(B)?m=function(z){return Math.max(B[0],B[1])+U(z)}:m=function(z){return B+U(z)}:m=function(z){return z.size?(0,w.isArray)(z.size)?Math.max(z.size[0],z.size[1])+U(z):(0,w.isObject)(z.size)?Math.max(z.size.width,z.size.height)+U(z):z.size+U(z):10+U(z)}}E.nodeSize=m;var j=E.edges;E.degrees=(0,w.getDegree)(b.length,E.nodeIdxMap,j),E.getMass||(E.getMass=function(z){var k=z.mass||E.degrees[E.nodeIdxMap[z.id]].all||1;return k}),E.run()},p.prototype.run=function(){var g,S=this,E=S.maxIteration,b=S.nodes,A=S.workerEnabled,x=S.minMovement,T=S.animate;if(b)if(A||!T){for(var B=0;B<E;B++){var m=S.runOneStep(B);if(S.reachMoveThreshold(b,m,x))break}(g=S.onLayoutEnd)===null||g===void 0||g.call(S)}else{if(typeof window=="undefined")return;var f=0;this.timeInterval=window.setInterval(function(){var U,j;if(b){var z=S.runOneStep(f)||[];S.reachMoveThreshold(b,z,x)&&((U=S.onLayoutEnd)===null||U===void 0||U.call(S),window.clearInterval(S.timeInterval)),f++,f>=E&&((j=S.onLayoutEnd)===null||j===void 0||j.call(S),window.clearInterval(S.timeInterval))}},0)}},p.prototype.reachMoveThreshold=function(g,S,E){var b=0;return g.forEach(function(A,x){var T=A.x-S[x].x,B=A.y-S[x].y;b+=Math.sqrt(T*T+B*B)}),b/=g.length,b<E},p.prototype.runOneStep=function(g){var S,E=this,b=E.nodes,A=E.edges,x=[],T=[];if(b){b.forEach(function(f,U){x[2*U]=0,x[2*U+1]=0,T[2*U]=0,T[2*U+1]=0}),E.calRepulsive(x,b),A&&E.calAttractive(x,A),E.calGravity(x,b);var B=Math.max(.02,E.interval-g*.002);E.updateVelocity(x,T,B,b);var m=[];return b.forEach(function(f){m.push({x:f.x,y:f.y})}),E.updatePosition(T,B,b),(S=E.tick)===null||S===void 0||S.call(E),m}},p.prototype.calRepulsive=function(g,S){var E=this,b=E.getMass,A=E.factor,x=E.coulombDisScale,T=E.preventOverlap,B=E.collideStrength,m=B===void 0?1:B,f=E.nodeStrength,U=E.nodeSize;S.forEach(function(j,z){var k=b?b(j):1;S.forEach(function(X,K){if(!(z>=K)){var tt=j.x-X.x,q=j.y-X.y;tt===0&&q===0&&(tt=Math.random()*.01,q=Math.random()*.01);var at=tt*tt+q*q,pt=Math.sqrt(at),ct=(pt+.1)*x,St=tt/pt,vt=q/pt,Lt=(f(j)+f(X))*.5*A/(ct*ct),Mt=b?b(X):1;if(g[2*z]+=St*Lt,g[2*z+1]+=vt*Lt,g[2*K]-=St*Lt,g[2*K+1]-=vt*Lt,T&&(U(j)+U(X))/2>pt){var wt=m*(f(j)+f(X))*.5/at;g[2*z]+=St*wt/k,g[2*z+1]+=vt*wt/k,g[2*K]-=St*wt/Mt,g[2*K+1]-=vt*wt/Mt}}})})},p.prototype.calAttractive=function(g,S){var E=this,b=E.nodeMap,A=E.nodeIdxMap,x=E.linkDistance,T=E.edgeStrength,B=E.nodeSize,m=E.getMass;S.forEach(function(f,U){var j=(0,w.getEdgeTerminal)(f,"source"),z=(0,w.getEdgeTerminal)(f,"target"),k=b[j],X=b[z],K=X.x-k.x,tt=X.y-k.y;K===0&&tt===0&&(K=Math.random()*.01,tt=Math.random()*.01);var q=Math.sqrt(K*K+tt*tt),at=K/q,pt=tt/q,ct=x(f,k,X)||1+(B(k)+B(X)||0)/2,St=ct-q,vt=St*T(f),Lt=A[j],Mt=A[z],wt=m?m(k):1,et=m?m(X):1;g[2*Lt]-=at*vt/wt,g[2*Lt+1]-=pt*vt/wt,g[2*Mt]+=at*vt/et,g[2*Mt+1]+=pt*vt/et})},p.prototype.calGravity=function(g,S){for(var E=this,b=E.center,A=E.gravity,x=E.degrees,T=S.length,B=0;B<T;B++){var m=S[B],f=m.x-b[0],U=m.y-b[1],j=A;if(E.getCenter){var z=E.getCenter(m,x[B].all);z&&(0,w.isNumber)(z[0])&&(0,w.isNumber)(z[1])&&(0,w.isNumber)(z[2])&&(f=m.x-z[0],U=m.y-z[1],j=z[2])}j&&(g[2*B]-=j*f,g[2*B+1]-=j*U)}},p.prototype.updateVelocity=function(g,S,E,b){var A=this,x=E*A.damping;b.forEach(function(T,B){var m=g[2*B]*x||.01,f=g[2*B+1]*x||.01,U=Math.sqrt(m*m+f*f);if(U>A.maxSpeed){var j=A.maxSpeed/U;m=j*m,f=j*f}S[2*B]=m,S[2*B+1]=f})},p.prototype.updatePosition=function(g,S,E){E.forEach(function(b,A){if((0,w.isNumber)(b.fx)&&(0,w.isNumber)(b.fy)){b.x=b.fx,b.y=b.fy;return}var x=g[2*A]*S,T=g[2*A+1]*S;b.x+=x,b.y+=T})},p.prototype.stop=function(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)},p.prototype.destroy=function(){var g=this;g.stop(),g.tick=null,g.nodes=null,g.edges=null,g.destroyed=!0},p.prototype.getType=function(){return"gForce"},p}(R.Base);W.GForceLayout=P},687745:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var b=function(A,x){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,B){T.__proto__=B}||function(T,B){for(var m in B)Object.prototype.hasOwnProperty.call(B,m)&&(T[m]=B[m])},b(A,x)};return function(A,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");b(A,x);function T(){this.constructor=A}A.prototype=x===null?Object.create(x):(T.prototype=x.prototype,new T)}}(),R=this&&this.__awaiter||function(b,A,x,T){function B(m){return m instanceof x?m:new x(function(f){f(m)})}return new(x||(x=Promise))(function(m,f){function U(k){try{z(T.next(k))}catch(X){f(X)}}function j(k){try{z(T.throw(k))}catch(X){f(X)}}function z(k){k.done?m(k.value):B(k.value).then(U,j)}z((T=T.apply(b,A||[])).next())})},w=this&&this.__generator||function(b,A){var x={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},T,B,m,f;return f={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function U(z){return function(k){return j([z,k])}}function j(z){if(T)throw new TypeError("Generator is already executing.");for(;f&&(f=0,z[0]&&(x=0)),x;)try{if(T=1,B&&(m=z[0]&2?B.return:z[0]?B.throw||((m=B.return)&&m.call(B),0):B.next)&&!(m=m.call(B,z[1])).done)return m;switch(B=0,m&&(z=[z[0]&2,m.value]),z[0]){case 0:case 1:m=z;break;case 4:return x.label++,{value:z[1],done:!1};case 5:x.label++,B=z[1],z=[0];continue;case 7:z=x.ops.pop(),x.trys.pop();continue;default:if(m=x.trys,!(m=m.length>0&&m[m.length-1])&&(z[0]===6||z[0]===2)){x=0;continue}if(z[0]===3&&(!m||z[1]>m[0]&&z[1]<m[3])){x.label=z[1];break}if(z[0]===6&&x.label<m[1]){x.label=m[1],m=z;break}if(m&&x.label<m[2]){x.label=m[2],x.ops.push(z);break}m[2]&&x.ops.pop(),x.trys.pop();continue}z=A.call(b,x)}catch(k){z=[6,k],B=0}finally{T=m=0}if(z[0]&5)throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}};Object.defineProperty(W,"__esModule",{value:!0}),W.FruchtermanGPULayout=void 0;var M=_(762329),P=_(449784),L=_(901029),p=_(248835),g=_(108574),S=_(416470),E=function(b){y(A,b);function A(x){var T=b.call(this)||this;return T.maxIteration=1e3,T.gravity=10,T.speed=1,T.clustering=!1,T.clusterField="cluster",T.clusterGravity=10,T.workerEnabled=!1,T.nodes=[],T.edges=[],T.width=300,T.height=300,T.nodeMap={},T.nodeIdxMap={},T.updateCfg(x),T}return A.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}},A.prototype.execute=function(){return R(this,void 0,void 0,function(){var x,T,B,m,f,U=this;return w(this,function(j){switch(j.label){case 0:return x=this,T=x.nodes,!T||T.length===0?(x.onLayoutEnd&&x.onLayoutEnd(),[2]):(!x.width&&typeof window!="undefined"&&(x.width=window.innerWidth),!x.height&&typeof window!="undefined"&&(x.height=window.innerHeight),x.center||(x.center=[x.width/2,x.height/2]),B=x.center,T.length===1?(T[0].x=B[0],T[0].y=B[1],x.onLayoutEnd&&x.onLayoutEnd(),[2]):(m={},f={},T.forEach(function(z,k){(0,P.isNumber)(z.x)||(z.x=Math.random()*U.width),(0,P.isNumber)(z.y)||(z.y=Math.random()*U.height),m[z.id]=z,f[z.id]=k}),x.nodeMap=m,x.nodeIdxMap=f,[4,x.run()]));case 1:return j.sent(),[2]}})})},A.prototype.executeWithWorker=function(x,T){return R(this,void 0,void 0,function(){var B,m,f,U,j,z=this;return w(this,function(k){switch(k.label){case 0:return B=this,m=B.nodes,f=B.center,!m||m.length===0?[2]:m.length===1?(m[0].x=f[0],m[0].y=f[1],[2]):(U={},j={},m.forEach(function(X,K){(0,P.isNumber)(X.x)||(X.x=Math.random()*z.width),(0,P.isNumber)(X.y)||(X.y=Math.random()*z.height),U[X.id]=X,j[X.id]=K}),B.nodeMap=U,B.nodeIdxMap=j,[4,B.run(x,T)]);case 1:return k.sent(),[2]}})})},A.prototype.run=function(x,T){return R(this,void 0,void 0,function(){var B,m,f,U,j,z,k,X,K,tt,q,at,pt,ct,St,vt,Lt,Mt,wt,et,rt,Ot,Dt,ot,xt,Nt,Yt=this;return w(this,function(Ct){switch(Ct.label){case 0:for(B=this,m=B.nodes,f=B.edges,U=B.maxIteration,j=B.center,z=B.height*B.width,k=Math.sqrt(z)/10,X=z/(m.length+1),K=Math.sqrt(X),tt=B.speed,q=B.clustering,at=(0,p.attributesToTextureData)([B.clusterField],m),pt=at.array,ct=at.count,m.forEach(function(Xt,Zt){var se=0,ie=0;(0,P.isNumber)(Xt.fx)&&(0,P.isNumber)(Xt.fy)&&(se=Xt.fx||.001,ie=Xt.fy||.001),pt[4*Zt+1]=se,pt[4*Zt+2]=ie}),St=m.length,vt=(0,p.buildTextureData)(m,f),Lt=vt.maxEdgePerVetex,Mt=vt.array,wt=B.workerEnabled,wt?et=L.World.create({canvas:x,engineOptions:{supportCompute:!0}}):et=L.World.create({engineOptions:{supportCompute:!0}}),rt=B.onLayoutEnd,Ot=[],Dt=0;Dt<ct;Dt++)Ot.push(0,0,0,0);return ot=et.createKernel(g.fruchtermanBundle).setDispatch([St,1,1]).setBinding({u_Data:Mt,u_K:K,u_K2:X,u_Gravity:B.gravity,u_ClusterGravity:B.clusterGravity||B.gravity||1,u_Speed:tt,u_MaxDisplace:k,u_Clustering:q?1:0,u_Center:j,u_AttributeArray:pt,u_ClusterCenters:Ot,MAX_EDGE_PER_VERTEX:Lt,VERTEX_COUNT:St}),q&&(xt=et.createKernel(g.clusterBundle).setDispatch([ct,1,1]).setBinding({u_Data:Mt,u_NodeAttributes:pt,u_ClusterCenters:Ot,VERTEX_COUNT:St,CLUSTER_COUNT:ct})),Nt=function(){return R(Yt,void 0,void 0,function(){var Xt,Zt;return w(this,function(se){switch(se.label){case 0:Xt=0,se.label=1;case 1:return Xt<U?[4,ot.execute()]:[3,6];case 2:return se.sent(),q?(xt.setBinding({u_Data:ot}),[4,xt.execute()]):[3,4];case 3:se.sent(),ot.setBinding({u_ClusterCenters:xt}),se.label=4;case 4:ot.setBinding({u_MaxDisplace:k*=.99}),se.label=5;case 5:return Xt++,[3,1];case 6:return[4,ot.getOutput()];case 7:return Zt=se.sent(),x?T.postMessage({type:S.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:Zt}):m.forEach(function(ie,zt){var ae=Zt[4*zt],Re=Zt[4*zt+1];ie.x=ae,ie.y=Re}),rt&&rt(),[2]}})})},[4,Nt()];case 1:return Ct.sent(),[2]}})})},A.prototype.getType=function(){return"fruchterman-gpu"},A}(M.Base);W.FruchtermanGPULayout=E},108574:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.clusterBundle=W.clusterCode=W.fruchtermanBundle=W.fruchtermanCode=void 0,W.fruchtermanCode=`
import { globalInvocationID } from 'g-webgpu';
const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class Fruchterman {
  @in @out
  u_Data: vec4[];
  @in
  u_K: float;
  @in
  u_K2: float;
  
  @in
  u_Center: vec2;
  @in
  u_Gravity: float;
  @in
  u_ClusterGravity: float;
  @in
  u_Speed: float;
  @in
  u_MaxDisplace: float;
  @in
  u_Clustering: float;
  @in
  u_AttributeArray: vec4[];
  @in
  u_ClusterCenters: vec4[];
  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const xDist = currentNode[0] - nextNode[0];
        const yDist = currentNode[1] - nextNode[1];
        const dist = (xDist * xDist + yDist * yDist) + 0.01;
        let param = this.u_K2 / dist;
        
        if (dist > 0.0) {
          dx += param * xDist;
          dy += param * yDist;
          if (xDist == 0 && yDist == 0) {
            const sign = i < j ? 1 : -1;
            dx += param * sign;
            dy += param * sign;
          }
        }
      }
    }
    return [dx, dy];
  }
  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // 
    let dx = 0, dy = 0;
    const vx = currentNode[0] - this.u_Center[0];
    const vy = currentNode[1] - this.u_Center[1];
    const gf = 0.01 * this.u_K * this.u_Gravity;
    dx = gf * vx;
    dy = gf * vy;
    if (this.u_Clustering == 1) {
      const clusterIdx = int(nodeAttributes[0]);
      const center = this.u_ClusterCenters[clusterIdx];
      const cvx = currentNode[0] - center[0];
      const cvy = currentNode[1] - center[1];
      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;
      const parma = this.u_K * this.u_ClusterGravity / dist;
      dx += parma * cvx;
      dy += parma * cvy;
    }
    return [dx, dy];
  }
  calcAttractive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    const arr_offset = int(floor(currentNode[2] + 0.5));
    const length = int(floor(currentNode[3] + 0.5));
    const node_buffer: vec4;
    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + p;
      // when arr_idx % 4 == 0 update currentNodedx_buffer
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)];
      }
      const float_j = buf_offset == 0 ? node_buffer[0] :
                      buf_offset == 1 ? node_buffer[1] :
                      buf_offset == 2 ? node_buffer[2] :
                                        node_buffer[3];
      const nextNode = this.u_Data[int(float_j)];
      const xDist = currentNode[0] - nextNode[0];
      const yDist = currentNode[1] - nextNode[1];
      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;
      let attractiveF = dist / this.u_K;
    
      if (dist > 0.0) {
        dx -= xDist * attractiveF;
        dy -= yDist * attractiveF;
        if (xDist == 0 && yDist == 0) {
          const sign = i < int(float_j) ? 1 : -1;
          dx -= sign * attractiveF;
          dy -= sign * attractiveF;
        }
      }
    }
    return [dx, dy];
  }
  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    let dx = 0, dy = 0;
    if (i >= VERTEX_COUNT) {
      this.u_Data[i] = currentNode;
      return;
    }

    // [gravity, fx, fy, 0]
    const nodeAttributes = this.u_AttributeArray[i];

    if (nodeAttributes[1] != 0 && nodeAttributes[2] != 0) {
      // the node is fixed
      this.u_Data[i] = [
        nodeAttributes[1],
        nodeAttributes[2],
        currentNode[2],
        currentNode[3]
      ];
      return;
    }

    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    dx += repulsive[0];
    dy += repulsive[1];
    // attractive
    const attractive = this.calcAttractive(i, currentNode);
    dx += attractive[0];
    dy += attractive[1];
    // gravity
    const gravity = this.calcGravity(currentNode, nodeAttributes);
    dx -= gravity[0];
    dy -= gravity[1];
    // speed
    dx *= this.u_Speed;
    dy *= this.u_Speed;

    // move
    const distLength = sqrt(dx * dx + dy * dy);
    if (distLength > 0.0) {
      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);
      this.u_Data[i] = [
        currentNode[0] + dx / distLength * limitedDist,
        currentNode[1] + dy / distLength * limitedDist,
        currentNode[2],
        currentNode[3]
      ];
    }
  }
}
`,W.fruchtermanBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',W.clusterCode=`
import { globalInvocationID } from 'g-webgpu';
const VERTEX_COUNT;
const CLUSTER_COUNT;
@numthreads(1, 1, 1)
class CalcCenter {
  @in
  u_Data: vec4[];
  @in
  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]
  @in @out
  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]
  @main
  compute() {
    const i = globalInvocationID.x;
    const center = this.u_ClusterCenters[i];
    let sumx = 0;
    let sumy = 0;
    let count = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      const attributes = this.u_NodeAttributes[j];
      const clusterIdx = int(attributes[0]);
      const vertex = this.u_Data[j];
      if (clusterIdx == i) {
        sumx += vertex.x;
        sumy += vertex.y;
        count += 1;
      }
    }
    this.u_ClusterCenters[i] = [
      sumx / count,
      sumy / count,
      count,
      i
    ];
  }
}
`,W.clusterBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}'},785194:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var A=function(x,T){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,m){B.__proto__=m}||function(B,m){for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(B[f]=m[f])},A(x,T)};return function(x,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");A(x,T);function B(){this.constructor=x}x.prototype=T===null?Object.create(T):(B.prototype=T.prototype,new B)}}(),R=this&&this.__awaiter||function(A,x,T,B){function m(f){return f instanceof T?f:new T(function(U){U(f)})}return new(T||(T=Promise))(function(f,U){function j(X){try{k(B.next(X))}catch(K){U(K)}}function z(X){try{k(B.throw(X))}catch(K){U(K)}}function k(X){X.done?f(X.value):m(X.value).then(j,z)}k((B=B.apply(A,x||[])).next())})},w=this&&this.__generator||function(A,x){var T={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},B,m,f,U;return U={next:j(0),throw:j(1),return:j(2)},typeof Symbol=="function"&&(U[Symbol.iterator]=function(){return this}),U;function j(k){return function(X){return z([k,X])}}function z(k){if(B)throw new TypeError("Generator is already executing.");for(;U&&(U=0,k[0]&&(T=0)),T;)try{if(B=1,m&&(f=k[0]&2?m.return:k[0]?m.throw||((f=m.return)&&f.call(m),0):m.next)&&!(f=f.call(m,k[1])).done)return f;switch(m=0,f&&(k=[k[0]&2,f.value]),k[0]){case 0:case 1:f=k;break;case 4:return T.label++,{value:k[1],done:!1};case 5:T.label++,m=k[1],k=[0];continue;case 7:k=T.ops.pop(),T.trys.pop();continue;default:if(f=T.trys,!(f=f.length>0&&f[f.length-1])&&(k[0]===6||k[0]===2)){T=0;continue}if(k[0]===3&&(!f||k[1]>f[0]&&k[1]<f[3])){T.label=k[1];break}if(k[0]===6&&T.label<f[1]){T.label=f[1],f=k;break}if(f&&T.label<f[2]){T.label=f[2],T.ops.push(k);break}f[2]&&T.ops.pop(),T.trys.pop();continue}k=x.call(A,T)}catch(X){k=[6,X],m=0}finally{B=f=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}};Object.defineProperty(W,"__esModule",{value:!0}),W.GForceGPULayout=void 0;var M=_(762329),P=_(449784),L=_(901029),p=_(248835),g=_(280628),S=_(549762),E=_(416470),b=function(A){y(x,A);function x(T){var B=A.call(this)||this;return B.maxIteration=1e3,B.edgeStrength=200,B.nodeStrength=1e3,B.coulombDisScale=.005,B.damping=.9,B.maxSpeed=1e3,B.minMovement=.5,B.interval=.02,B.factor=1,B.linkDistance=1,B.gravity=10,B.workerEnabled=!1,B.nodes=[],B.edges=[],B.width=300,B.height=300,B.nodeMap={},B.nodeIdxMap={},B.updateCfg(T),B}return x.prototype.getDefaultCfg=function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}},x.prototype.execute=function(){return R(this,void 0,void 0,function(){var T,B,m,f,U;return w(this,function(j){switch(j.label){case 0:return T=this,B=T.nodes,!B||B.length===0?(T.onLayoutEnd&&T.onLayoutEnd(),[2]):(!T.width&&typeof window!="undefined"&&(T.width=window.innerWidth),!T.height&&typeof window!="undefined"&&(T.height=window.innerHeight),T.center||(T.center=[T.width/2,T.height/2]),m=T.center,B.length===1?(B[0].x=m[0],B[0].y=m[1],T.onLayoutEnd&&T.onLayoutEnd(),[2]):(f={},U={},B.forEach(function(z,k){(0,P.isNumber)(z.x)||(z.x=Math.random()*T.width),(0,P.isNumber)(z.y)||(z.y=Math.random()*T.height),f[z.id]=z,U[z.id]=k}),T.nodeMap=f,T.nodeIdxMap=U,T.nodeStrength=(0,p.proccessToFunc)(T.nodeStrength,1),T.edgeStrength=(0,p.proccessToFunc)(T.edgeStrength,1),[4,T.run()]));case 1:return j.sent(),[2]}})})},x.prototype.executeWithWorker=function(T,B){var m=this,f=m.nodes,U=m.center;if(!(!f||f.length===0)){if(f.length===1){f[0].x=U[0],f[0].y=U[1];return}var j={},z={};f.forEach(function(k,X){(0,P.isNumber)(k.x)||(k.x=Math.random()*m.width),(0,P.isNumber)(k.y)||(k.y=Math.random()*m.height),j[k.id]=k,z[k.id]=X}),m.nodeMap=j,m.nodeIdxMap=z,m.nodeStrength=(0,p.proccessToFunc)(m.nodeStrength,1),m.edgeStrength=(0,p.proccessToFunc)(m.edgeStrength,1),m.run(T,B)}},x.prototype.run=function(T,B){return R(this,void 0,void 0,function(){var m,f,U,j,z,k,X,K,tt,q,at,pt,ct,St,vt,Lt,Mt,wt,et,rt,Ot,Dt,ot,xt,Nt,Yt,Ct,Xt=this;return w(this,function(Zt){switch(Zt.label){case 0:for(m=this,f=m.nodes,U=m.edges,j=m.maxIteration,!m.width&&typeof window!="undefined"&&(m.width=window.innerWidth),!m.height&&typeof window!="undefined"&&(m.height=window.innerHeight),z=f.length,m.linkDistance=(0,p.proccessToFunc)(m.linkDistance),m.edgeStrength=(0,p.proccessToFunc)(m.edgeStrength),k=(0,p.buildTextureDataWithTwoEdgeAttr)(f,U,m.linkDistance,m.edgeStrength),X=k.maxEdgePerVetex,K=k.array,m.degrees=(0,g.getDegree)(f.length,m.nodeIdxMap,U).map(function(se){return se.all}),tt=[],q=[],at=[],pt=[],ct=[],St=[],vt=[],m.getMass||(m.getMass=function(se){return m.degrees[m.nodeIdxMap[se.id]]||1}),Lt=m.gravity,Mt=m.center,f.forEach(function(se,ie){tt.push(m.getMass(se)),q.push(m.nodeStrength(se)),m.degrees[ie]||(m.degrees[ie]=0);var zt=[Mt[0],Mt[1],Lt];if(m.getCenter){var ae=m.getCenter(se,m.degrees[ie]);ae&&(0,P.isNumber)(ae[0])&&(0,P.isNumber)(ae[1])&&(0,P.isNumber)(ae[2])&&(zt=ae)}at.push(zt[0]),pt.push(zt[1]),ct.push(zt[2]),(0,P.isNumber)(se.fx)&&(0,P.isNumber)(se.fy)?(St.push(se.fx||.001),vt.push(se.fy||.001)):(St.push(0),vt.push(0))}),wt=(0,p.arrayToTextureData)([tt,m.degrees,q,St]),et=(0,p.arrayToTextureData)([at,pt,ct,vt]),rt=m.workerEnabled,rt?Ot=L.World.create({canvas:T,engineOptions:{supportCompute:!0}}):Ot=L.World.create({engineOptions:{supportCompute:!0}}),Dt=m.onLayoutEnd,ot=[],K.forEach(function(se){ot.push(se)}),xt=0;xt<4;xt++)ot.push(0);return Nt=Ot.createKernel(S.gForceBundle).setDispatch([z,1,1]).setBinding({u_Data:K,u_damping:m.damping,u_maxSpeed:m.maxSpeed,u_minMovement:m.minMovement,u_coulombDisScale:m.coulombDisScale,u_factor:m.factor,u_NodeAttributeArray1:wt,u_NodeAttributeArray2:et,MAX_EDGE_PER_VERTEX:X,VERTEX_COUNT:z,u_AveMovement:ot,u_interval:m.interval}),Yt=Ot.createKernel(S.aveMovementBundle).setDispatch([1,1,1]).setBinding({u_Data:K,VERTEX_COUNT:z,u_AveMovement:[0,0,0,0]}),Ct=function(){return R(Xt,void 0,void 0,function(){var se,ie,zt;return w(this,function(ae){switch(ae.label){case 0:se=0,ae.label=1;case 1:return se<j?[4,Nt.execute()]:[3,5];case 2:return ae.sent(),Yt.setBinding({u_Data:Nt}),[4,Yt.execute()];case 3:ae.sent(),ie=Math.max(.02,m.interval-se*.002),Nt.setBinding({u_interval:ie,u_AveMovement:Yt}),ae.label=4;case 4:return se++,[3,1];case 5:return[4,Nt.getOutput()];case 6:return zt=ae.sent(),T?B.postMessage({type:E.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:zt}):f.forEach(function(Re,Jt){var ue=zt[4*Jt],ke=zt[4*Jt+1];Re.x=ue,Re.y=ke}),Dt&&Dt(),[2]}})})},[4,Ct()];case 1:return Zt.sent(),[2]}})})},x.prototype.getType=function(){return"gForce-gpu"},x}(M.Base);W.GForceGPULayout=b},549762:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.aveMovementBundle=W.aveMovementCode=W.gForceBundle=W.gForceCode=void 0,W.gForceCode=`
import { globalInvocationID } from 'g-webgpu';

const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
const SHIFT_20 = 1048576;

@numthreads(1, 1, 1)
class GGForce {
  @in @out
  u_Data: vec4[];

  @in
  u_damping: float;
  
  @in
  u_maxSpeed: float;

  @in
  u_minMovement: float;

  @in
  u_AveMovement: vec4[];

  @in
  u_coulombDisScale: float;

  @in
  u_factor: float;

  @in
  u_NodeAttributeArray1: vec4[];

  @in
  u_NodeAttributeArray2: vec4[];

  @in
  u_interval: float;

  unpack_float(packedValue: float): ivec2 {
    const packedIntValue = int(packedValue);
    const v0 = packedIntValue / SHIFT_20;
    return [v0, packedIntValue - v0 * SHIFT_20];
  }

  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let ax = 0, ay = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const vx = currentNode[0] - nextNode[0];
        const vy = currentNode[1] - nextNode[1];
        const dist = sqrt(vx * vx + vy * vy) + 0.01;
        const n_dist = (dist + 0.1) * this.u_coulombDisScale;
        const direx = vx / dist;
        const direy = vy / dist;
        const attributesi = this.u_NodeAttributeArray1[i];
        const attributesj = this.u_NodeAttributeArray1[j];
        const massi = attributesi[0];
        const nodeStrengthi = attributesi[2];
        const nodeStrengthj = attributesj[2];
        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;
        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);
        const param = nodeStrength * this.u_factor / (n_dist * n_dist);
        ax += direx * param;
        ay += direy * param;
      }
    }
    return [ax, ay];
  }

  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {
    // note: attributes2 = [centerX, centerY, gravity, 0]

    const vx = currentNode[0] - attributes2[0];
    const vy = currentNode[1] - attributes2[1];
    
    const ax = vx * attributes2[2];
    const ay = vy * attributes2[2];
    
    return [ax, ay];
  }

  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {
    // note: attributes1 = [mass, degree, nodeSterngth, 0]

    const mass = attributes1[0];
    let ax = 0, ay = 0;
    // const arr_offset = int(floor(currentNode[2] + 0.5));
    // const length = int(floor(currentNode[3] + 0.5));

    const compressed = this.unpack_float(currentNode[2]);
    const length = compressed[0];
    const arr_offset = compressed[1];

    const node_buffer: vec4;
    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + 4 * p; // i \u8282\u70B9\u7684\u7B2C p \u6761\u8FB9\u5F00\u59CB\u7684\u5C0F\u683C\u5B50\u4F4D\u7F6E
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)]; // \u5927\u683C\u5B50\uFF0C\u5927\u683C\u5B50\u4F4D\u7F6E=\u5C0F\u4E2A\u5B50\u4F4D\u7F6E / 4\uFF0C
      }

      let float_j: float = node_buffer[0];

      const nextNode = this.u_Data[int(float_j)];
      const vx = nextNode[0] - currentNode[0];
      const vy = nextNode[1] - currentNode[1];
      const dist = sqrt(vx * vx + vy * vy) + 0.01;
      const direx = vx / dist;
      const direy = vy / dist;
      const edgeLength = node_buffer[1];
      const edgeStrength = node_buffer[2];
      const diff: float = edgeLength - dist;//edgeLength
      // const param = diff * this.u_stiffness / mass; //
      const param = diff * edgeStrength / mass; // 
      ax -= direx * param;
      ay -= direy * param;
    }
    return [ax, ay];
  }

  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    const movement = u_AveMovement[0];
    let ax = 0, ay = 0;

    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {
      this.u_Data[i] = currentNode;
      return;
    }

    // \u6BCF\u4E2A\u8282\u70B9\u5C5E\u6027\u5360\u4E24\u4E2A\u6570\u7EC4\u4E2D\u5404\u4E00\u683C
    // [mass, degree, nodeStrength, fx]
    const nodeAttributes1 = this.u_NodeAttributeArray1[i];
    // [centerX, centerY, centerGravity, fy]
    const nodeAttributes2 = this.u_NodeAttributeArray2[i];

    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    ax += repulsive[0];
    ay += repulsive[1];

    // attractive
    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);
    ax += attractive[0];
    ay += attractive[1];

    // gravity
    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);
    ax -= gravity[0];
    ay -= gravity[1];

    // speed
    const param = this.u_interval * this.u_damping;
    let vx = ax * param;
    let vy = ay * param;
    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;
    if (vlength > this.u_maxSpeed) {
      const param2 = this.u_maxSpeed / vlength;
      vx = param2 * vx;
      vy = param2 * vy;
    }

    // move
    if (nodeAttributes1[3] != 0 && nodeAttributes2[3] != 0) {
      this.u_Data[i] = [
        nodeAttributes1[3],
        nodeAttributes2[3],
        currentNode[2],
        0
      ];
    } else {
      const distx = vx * this.u_interval;
      const disty = vy * this.u_interval;
      const distLength = sqrt(distx * distx + disty * disty);
      this.u_Data[i] = [
        currentNode[0] + distx,
        currentNode[1] + disty,
        currentNode[2],
        distLength
      ];
    }
    
    // the avarage move distance
    // need to share memory
    
  }
}
`,W.gForceBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {float distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\ngl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',W.aveMovementCode=`
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class CalcAveMovement {
  @in
  u_Data: vec4[];
  @in
  u_iter: float;
  @in @out
  u_AveMovement: vec4[];
  @main
  compute() {
    let movement = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      const vertex = this.u_Data[j];
      movement += vertex[3];
    }
    movement = movement / float(VERTEX_COUNT);
    this.u_AveMovement[0] = [movement, 0, 0, 0];
  }
}
`,W.aveMovementBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}'},694414:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var P=function(L,p){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,S){g.__proto__=S}||function(g,S){for(var E in S)Object.prototype.hasOwnProperty.call(S,E)&&(g[E]=S[E])},P(L,p)};return function(L,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");P(L,p);function g(){this.constructor=L}L.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.GridLayout=void 0;var R=_(449784),w=_(762329),M=function(P){y(L,P);function L(p){var g=P.call(this)||this;return g.begin=[0,0],g.preventOverlap=!0,g.preventOverlapPadding=10,g.condense=!1,g.sortBy="degree",g.nodes=[],g.edges=[],g.width=300,g.height=300,g.row=0,g.col=0,g.cellWidth=0,g.cellHeight=0,g.cellUsed={},g.id2manPos={},g.onLayoutEnd=function(){},g.updateCfg(p),g}return L.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},L.prototype.execute=function(){var p=this,g=p.nodes,S=p.edges,E=p.begin,b=g.length;if(b===0)return p.onLayoutEnd&&p.onLayoutEnd(),{nodes:g,edges:S};if(b===1)return g[0].x=E[0],g[0].y=E[1],p.onLayoutEnd&&p.onLayoutEnd(),{nodes:g,edges:S};var A=p.sortBy,x=p.width,T=p.height,B=p.condense,m=p.preventOverlapPadding,f=p.preventOverlap,U=p.nodeSpacing,j=p.nodeSize,z=[];g.forEach(function(wt){z.push(wt)});var k={};if(z.forEach(function(wt,et){k[wt.id]=et}),(A==="degree"||!(0,R.isString)(A)||z[0][A]===void 0)&&(A="degree",(0,R.isNaN)(g[0].degree))){var X=(0,R.getDegree)(z.length,k,S);z.forEach(function(wt,et){wt.degree=X[et].all})}z.sort(function(wt,et){return et[A]-wt[A]}),!x&&typeof window!="undefined"&&(x=window.innerWidth),!T&&typeof window!="undefined"&&(T=window.innerHeight);var K=p.rows,tt=p.cols!=null?p.cols:p.columns;if(p.cells=b,K!=null&&tt!=null?(p.rows=K,p.cols=tt):K!=null&&tt==null?(p.rows=K,p.cols=Math.ceil(p.cells/p.rows)):K==null&&tt!=null?(p.cols=tt,p.rows=Math.ceil(p.cells/p.cols)):(p.splits=Math.sqrt(p.cells*p.height/p.width),p.rows=Math.round(p.splits),p.cols=Math.round(p.width/p.height*p.splits)),p.rows=Math.max(p.rows,1),p.cols=Math.max(p.cols,1),p.cols*p.rows>p.cells){var q=p.small(),at=p.large();(q-1)*at>=p.cells?p.small(q-1):(at-1)*q>=p.cells&&p.large(at-1)}else for(;p.cols*p.rows<p.cells;){var q=p.small(),at=p.large();(at+1)*q>=p.cells?p.large(at+1):p.small(q+1)}if(p.cellWidth=x/p.cols,p.cellHeight=T/p.rows,B&&(p.cellWidth=0,p.cellHeight=0),f||U){var pt=(0,R.getFuncByUnknownType)(10,U),ct=(0,R.getFuncByUnknownType)(30,j,!1);z.forEach(function(wt){(!wt.x||!wt.y)&&(wt.x=0,wt.y=0);var et=ct(wt)||30,rt,Ot;(0,R.isArray)(et)?(rt=et[0],Ot=et[1]):(rt=et,Ot=et);var Dt=pt!==void 0?pt(wt):m,ot=rt+Dt,xt=Ot+Dt;p.cellWidth=Math.max(p.cellWidth,ot),p.cellHeight=Math.max(p.cellHeight,xt)})}p.cellUsed={},p.row=0,p.col=0,p.id2manPos={};for(var St=0;St<z.length;St++){var vt=z[St],Lt=void 0;if(p.position&&(Lt=p.position(vt)),Lt&&(Lt.row!==void 0||Lt.col!==void 0)){var Mt={row:Lt.row,col:Lt.col};if(Mt.col===void 0)for(Mt.col=0;p.used(Mt.row,Mt.col);)Mt.col++;else if(Mt.row===void 0)for(Mt.row=0;p.used(Mt.row,Mt.col);)Mt.row++;p.id2manPos[vt.id]=Mt,p.use(Mt.row,Mt.col)}p.getPos(vt)}return p.onLayoutEnd&&p.onLayoutEnd(),{edges:S,nodes:z}},L.prototype.small=function(p){var g=this,S,E=g.rows||5,b=g.cols||5;if(p==null)S=Math.min(E,b);else{var A=Math.min(E,b);A===g.rows?g.rows=p:g.cols=p}return S},L.prototype.large=function(p){var g=this,S,E=g.rows||5,b=g.cols||5;if(p==null)S=Math.max(E,b);else{var A=Math.max(E,b);A===g.rows?g.rows=p:g.cols=p}return S},L.prototype.used=function(p,g){var S=this;return S.cellUsed["c-".concat(p,"-").concat(g)]||!1},L.prototype.use=function(p,g){var S=this;S.cellUsed["c-".concat(p,"-").concat(g)]=!0},L.prototype.moveToNextCell=function(){var p=this,g=p.cols||5;p.col++,p.col>=g&&(p.col=0,p.row++)},L.prototype.getPos=function(p){var g=this,S=g.begin,E=g.cellWidth,b=g.cellHeight,A,x,T=g.id2manPos[p.id];if(T)A=T.col*E+E/2+S[0],x=T.row*b+b/2+S[1];else{for(;g.used(g.row,g.col);)g.moveToNextCell();A=g.col*E+E/2+S[0],x=g.row*b+b/2+S[1],g.use(g.row,g.col),g.moveToNextCell()}p.x=A,p.y=x},L.prototype.getType=function(){return"grid"},L}(w.Base);W.GridLayout=M},702584:function(Ve,W,_){"use strict";var y=this&&this.__createBinding||(Object.create?function(X,K,tt,q){q===void 0&&(q=tt);var at=Object.getOwnPropertyDescriptor(K,tt);(!at||("get"in at?!K.__esModule:at.writable||at.configurable))&&(at={enumerable:!0,get:function(){return K[tt]}}),Object.defineProperty(X,q,at)}:function(X,K,tt,q){q===void 0&&(q=tt),X[q]=K[tt]}),R=this&&this.__exportStar||function(X,K){for(var tt in X)tt!=="default"&&!Object.prototype.hasOwnProperty.call(K,tt)&&y(K,X,tt)};Object.defineProperty(W,"__esModule",{value:!0}),W.ERLayout=W.ForceAtlas2Layout=W.ComboCombinedLayout=W.ComboForceLayout=W.GForceGPULayout=W.FruchtermanGPULayout=W.FruchtermanLayout=W.MDSLayout=W.ConcentricLayout=W.RadialLayout=W.DagreCompoundLayout=W.DagreLayout=W.CircularLayout=W.ForceLayout=W.Force2Layout=W.GForceLayout=W.RandomLayout=W.GridLayout=W.Layouts=W.Layout=void 0;var w=_(694414);Object.defineProperty(W,"GridLayout",{enumerable:!0,get:function(){return w.GridLayout}});var M=_(539711);Object.defineProperty(W,"RandomLayout",{enumerable:!0,get:function(){return M.RandomLayout}});var P=_(113653);Object.defineProperty(W,"GForceLayout",{enumerable:!0,get:function(){return P.GForceLayout}});var L=_(306740);Object.defineProperty(W,"Force2Layout",{enumerable:!0,get:function(){return L.Force2Layout}});var p=_(885717);Object.defineProperty(W,"ForceLayout",{enumerable:!0,get:function(){return p.ForceLayout}});var g=_(964885);Object.defineProperty(W,"CircularLayout",{enumerable:!0,get:function(){return g.CircularLayout}});var S=_(920171);Object.defineProperty(W,"DagreLayout",{enumerable:!0,get:function(){return S.DagreLayout}});var E=_(177057);Object.defineProperty(W,"DagreCompoundLayout",{enumerable:!0,get:function(){return E.DagreCompoundLayout}});var b=_(847944);Object.defineProperty(W,"RadialLayout",{enumerable:!0,get:function(){return b.RadialLayout}});var A=_(843281);Object.defineProperty(W,"ConcentricLayout",{enumerable:!0,get:function(){return A.ConcentricLayout}});var x=_(352899);Object.defineProperty(W,"MDSLayout",{enumerable:!0,get:function(){return x.MDSLayout}});var T=_(880374);Object.defineProperty(W,"FruchtermanLayout",{enumerable:!0,get:function(){return T.FruchtermanLayout}});var B=_(687745);Object.defineProperty(W,"FruchtermanGPULayout",{enumerable:!0,get:function(){return B.FruchtermanGPULayout}});var m=_(785194);Object.defineProperty(W,"GForceGPULayout",{enumerable:!0,get:function(){return m.GForceGPULayout}});var f=_(366590);Object.defineProperty(W,"ComboForceLayout",{enumerable:!0,get:function(){return f.ComboForceLayout}});var U=_(263861);Object.defineProperty(W,"ComboCombinedLayout",{enumerable:!0,get:function(){return U.ComboCombinedLayout}});var j=_(148564);Object.defineProperty(W,"ForceAtlas2Layout",{enumerable:!0,get:function(){return j.ForceAtlas2Layout}});var z=_(290441);Object.defineProperty(W,"ERLayout",{enumerable:!0,get:function(){return z.ERLayout}});var k=_(842875);Object.defineProperty(W,"Layout",{enumerable:!0,get:function(){return k.Layout}}),Object.defineProperty(W,"Layouts",{enumerable:!0,get:function(){return k.Layouts}}),R(_(932867),W)},842875:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.Layouts=W.Layout=void 0;var y=_(695326),R=_(694414),w=_(539711),M=_(306740),P=_(113653),L=_(885717),p=_(964885),g=_(920171),S=_(847944),E=_(843281),b=_(352899),A=_(880374),x=_(687745),T=_(785194),B=_(366590),m=_(263861),f=_(148564),U=_(290441),j=_(177057),z=_(449784),k=function(){function X(K){var tt=(0,y.getLayoutByName)(K.type);this.layoutInstance=new tt(K)}return X.prototype.layout=function(K){return this.layoutInstance.layout(K)},X.prototype.updateCfg=function(K){this.layoutInstance.updateCfg(K)},X.prototype.init=function(K){this.correctLayers(K.nodes),this.layoutInstance.init(K)},X.prototype.correctLayers=function(K){if(K!=null&&K.length){var tt=1/0,q=[];if(K.forEach(function(pt){(0,z.isString)(pt.layer)&&(pt.layer=parseInt(pt.layer,10)),!(pt.layer===void 0||isNaN(pt.layer))&&(q.push(pt),pt.layer<tt&&(tt=pt.layer))}),tt<=0){var at=Math.abs(tt)+1;q.forEach(function(pt){return pt.layer+=at})}}},X.prototype.execute=function(){this.layoutInstance.execute()},X.prototype.getDefaultCfg=function(){return this.layoutInstance.getDefaultCfg()},X.prototype.destroy=function(){return this.layoutInstance.destroy()},X}();W.Layout=k,W.Layouts={force:L.ForceLayout,fruchterman:A.FruchtermanLayout,forceAtlas2:f.ForceAtlas2Layout,gForce:P.GForceLayout,force2:M.Force2Layout,dagre:g.DagreLayout,dagreCompound:j.DagreCompoundLayout,circular:p.CircularLayout,radial:S.RadialLayout,concentric:E.ConcentricLayout,grid:R.GridLayout,mds:b.MDSLayout,comboForce:B.ComboForceLayout,comboCombined:m.ComboCombinedLayout,random:w.RandomLayout,"gForce-gpu":T.GForceGPULayout,"fruchterman-gpu":x.FruchtermanGPULayout,er:U.ERLayout}},352899:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var L=function(p,g){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var b in E)Object.prototype.hasOwnProperty.call(E,b)&&(S[b]=E[b])},L(p,g)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");L(p,g);function S(){this.constructor=p}p.prototype=g===null?Object.create(g):(S.prototype=g.prototype,new S)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.MDSLayout=void 0;var R=_(405237),w=_(449784),M=_(762329),P=function(L){y(p,L);function p(g){var S=L.call(this)||this;return S.center=[0,0],S.linkDistance=50,S.nodes=[],S.edges=[],S.onLayoutEnd=function(){},S.updateCfg(g),S}return p.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},p.prototype.execute=function(){var g=this,S=g.nodes,E=g.edges,b=E===void 0?[]:E,A=g.center;if(!S||S.length===0){g.onLayoutEnd&&g.onLayoutEnd();return}if(S.length===1){S[0].x=A[0],S[0].y=A[1],g.onLayoutEnd&&g.onLayoutEnd();return}var x=g.linkDistance,T=(0,w.getAdjMatrix)({nodes:S,edges:b},!1),B=(0,w.floydWarshall)(T);g.handleInfinity(B);var m=(0,w.scaleMatrix)(B,x);g.scaledDistances=m;var f=g.runMDS();return g.positions=f,f.forEach(function(U,j){S[j].x=U[0]+A[0],S[j].y=U[1]+A[1]}),g.onLayoutEnd&&g.onLayoutEnd(),{nodes:S,edges:b}},p.prototype.runMDS=function(){var g=this,S=2,E=g.scaledDistances,b=R.Matrix.mul(R.Matrix.pow(E,2),-.5),A=b.mean("row"),x=b.mean("column"),T=b.mean();b.add(T).subRowVector(A).subColumnVector(x);var B=new R.SingularValueDecomposition(b),m=R.Matrix.sqrt(B.diagonalMatrix).diagonal();return B.leftSingularVectors.toJSON().map(function(f){return R.Matrix.mul([f],[m]).toJSON()[0].splice(0,S)})},p.prototype.handleInfinity=function(g){var S=-999999;g.forEach(function(E){E.forEach(function(b){b!==1/0&&S<b&&(S=b)})}),g.forEach(function(E,b){E.forEach(function(A,x){A===1/0&&(g[b][x]=S)})})},p.prototype.getType=function(){return"mds"},p}(M.Base);W.MDSLayout=P},847944:function(Ve,W,_){"use strict";var y=this&&this.__createBinding||(Object.create?function(w,M,P,L){L===void 0&&(L=P);var p=Object.getOwnPropertyDescriptor(M,P);(!p||("get"in p?!M.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return M[P]}}),Object.defineProperty(w,L,p)}:function(w,M,P,L){L===void 0&&(L=P),w[L]=M[P]}),R=this&&this.__exportStar||function(w,M){for(var P in w)P!=="default"&&!Object.prototype.hasOwnProperty.call(M,P)&&y(M,w,P)};Object.defineProperty(W,"__esModule",{value:!0}),R(_(255974),W)},366082:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var y=_(405237),R=function(){function w(M){this.distances=M.distances,this.dimension=M.dimension||2,this.linkDistance=M.linkDistance}return w.prototype.layout=function(){var M=this,P=M.dimension,L=M.distances,p=M.linkDistance;try{var g=y.Matrix.mul(y.Matrix.pow(L,2),-.5),S=g.mean("row"),E=g.mean("column"),b=g.mean();g.add(b).subRowVector(S).subColumnVector(E);var A=new y.SingularValueDecomposition(g),x=y.Matrix.sqrt(A.diagonalMatrix).diagonal();return A.leftSingularVectors.toJSON().map(function(U){return y.Matrix.mul([U],[x]).toJSON()[0].splice(0,P)})}catch(U){for(var T=[],B=0;B<L.length;B++){var m=Math.random()*p,f=Math.random()*p;T.push([m,f])}return T}},w}();W.default=R},255974:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var b=function(A,x){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,B){T.__proto__=B}||function(T,B){for(var m in B)Object.prototype.hasOwnProperty.call(B,m)&&(T[m]=B[m])},b(A,x)};return function(A,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");b(A,x);function T(){this.constructor=A}A.prototype=x===null?Object.create(x):(T.prototype=x.prototype,new T)}}(),R=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(W,"__esModule",{value:!0}),W.RadialLayout=void 0;var w=_(449784),M=_(762329),P=R(_(366082)),L=R(_(706290));function p(b){for(var A=b.length,x=b[0].length,T=[],B=0;B<A;B++){for(var m=[],f=0;f<x;f++)b[B][f]!==0?m.push(1/(b[B][f]*b[B][f])):m.push(0);T.push(m)}return T}function g(b,A){var x=-1;return b.forEach(function(T,B){T.id===A&&(x=B)}),x}function S(b,A){return Math.sqrt((b[0]-A[0])*(b[0]-A[0])+(b[1]-A[1])*(b[1]-A[1]))}var E=function(b){y(A,b);function A(x){var T=b.call(this)||this;return T.maxIteration=1e3,T.focusNode=null,T.unitRadius=null,T.linkDistance=50,T.preventOverlap=!1,T.strictRadial=!0,T.maxPreventOverlapIteration=200,T.sortStrength=10,T.nodes=[],T.edges=[],T.updateCfg(x),T}return A.prototype.getDefaultCfg=function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},A.prototype.execute=function(){var x=this,T=x.nodes,B=x.edges||[];if(!T||T.length===0){x.onLayoutEnd&&x.onLayoutEnd();return}!x.width&&typeof window!="undefined"&&(x.width=window.innerWidth),!x.height&&typeof window!="undefined"&&(x.height=window.innerHeight),x.center||(x.center=[x.width/2,x.height/2]);var m=x.center;if(T.length===1){T[0].x=m[0],T[0].y=m[1],x.onLayoutEnd&&x.onLayoutEnd();return}var f=x.linkDistance,U=null;if((0,w.isString)(x.focusNode)){for(var j=!1,z=0;z<T.length;z++)T[z].id===x.focusNode&&(U=T[z],x.focusNode=U,j=!0,z=T.length);j||(U=null)}else U=x.focusNode;U||(U=T[0],x.focusNode=U);var k=g(T,U.id);k<0&&(k=0),x.focusIndex=k;var X=(0,w.getAdjMatrix)({nodes:T,edges:B},!1),K=(0,w.floydWarshall)(X),tt=x.maxToFocus(K,k);x.handleInfinity(K,k,tt+1),x.distances=K;var q=K[k],at=x.width||500,pt=x.height||500,ct=at-m[0]>m[0]?m[0]:at-m[0],St=pt-m[1]>m[1]?m[1]:pt-m[1];ct===0&&(ct=at/2),St===0&&(St=pt/2);var vt=St>ct?ct:St,Lt=Math.max.apply(Math,q),Mt=[];q.forEach(function(se,ie){x.unitRadius||(x.unitRadius=vt/Lt),Mt[ie]=se*x.unitRadius}),x.radii=Mt;var wt=x.eIdealDisMatrix();x.eIdealDistances=wt;var et=p(wt);x.weights=et;var rt=new P.default({linkDistance:f,distances:wt}),Ot=rt.layout();Ot.forEach(function(se){(0,w.isNaN)(se[0])&&(se[0]=Math.random()*f),(0,w.isNaN)(se[1])&&(se[1]=Math.random()*f)}),x.positions=Ot,Ot.forEach(function(se,ie){T[ie].x=se[0]+m[0],T[ie].y=se[1]+m[1]}),Ot.forEach(function(se){se[0]-=Ot[k][0],se[1]-=Ot[k][1]}),x.run();var Dt=x.preventOverlap,ot=x.nodeSize,xt,Nt=x.strictRadial;if(Dt){var Yt=x.nodeSpacing,Ct;(0,w.isNumber)(Yt)?Ct=function(){return Yt}:(0,w.isFunction)(Yt)?Ct=Yt:Ct=function(){return 0},ot?(0,w.isArray)(ot)?xt=function(se){var ie=ot[0]>ot[1]?ot[0]:ot[1];return ie+Ct(se)}:xt=function(se){return ot+Ct(se)}:xt=function(se){if(se.size){if((0,w.isArray)(se.size)){var ie=se.size[0]>se.size[1]?se.size[0]:se.size[1];return ie+Ct(se)}if((0,w.isObject)(se.size)){var ie=se.size.width>se.size.height?se.size.width:se.size.height;return ie+Ct(se)}return se.size+Ct(se)}return 10+Ct(se)};var Xt={nodes:T,nodeSizeFunc:xt,adjMatrix:X,positions:Ot,radii:Mt,height:pt,width:at,strictRadial:Nt,focusID:k,iterations:x.maxPreventOverlapIteration||200,k:Ot.length/4.5},Zt=new L.default(Xt);Ot=Zt.layout()}return Ot.forEach(function(se,ie){T[ie].x=se[0]+m[0],T[ie].y=se[1]+m[1]}),x.onLayoutEnd&&x.onLayoutEnd(),{nodes:T,edges:B}},A.prototype.run=function(){for(var x=this,T=x.maxIteration,B=x.positions||[],m=x.weights||[],f=x.eIdealDistances||[],U=x.radii||[],j=0;j<=T;j++){var z=j/T;x.oneIteration(z,B,U,f,m)}},A.prototype.oneIteration=function(x,T,B,m,f){var U=this,j=1-x,z=U.focusIndex;T.forEach(function(k,X){var K=S(k,[0,0]),tt=K===0?0:1/K;if(X!==z){var q=0,at=0,pt=0;T.forEach(function(St,vt){if(X!==vt){var Lt=S(k,St),Mt=Lt===0?0:1/Lt,wt=m[vt][X];pt+=f[X][vt],q+=f[X][vt]*(St[0]+wt*(k[0]-St[0])*Mt),at+=f[X][vt]*(St[1]+wt*(k[1]-St[1])*Mt)}});var ct=B[X]===0?0:1/B[X];pt*=j,pt+=x*ct*ct,q*=j,q+=x*ct*k[0]*tt,k[0]=q/pt,at*=j,at+=x*ct*k[1]*tt,k[1]=at/pt}})},A.prototype.eIdealDisMatrix=function(){var x=this,T=x.nodes;if(!T)return[];var B=x.distances,m=x.linkDistance,f=x.radii||[],U=x.unitRadius||50,j=[];return B&&B.forEach(function(z,k){var X=[];z.forEach(function(K,tt){if(k===tt)X.push(0);else if(f[k]===f[tt])if(x.sortBy==="data")X.push(K*(Math.abs(k-tt)*x.sortStrength)/(f[k]/U));else if(x.sortBy){var q=T[k][x.sortBy]||0,at=T[tt][x.sortBy]||0;(0,w.isString)(q)&&(q=q.charCodeAt(0)),(0,w.isString)(at)&&(at=at.charCodeAt(0)),X.push(K*(Math.abs(q-at)*x.sortStrength)/(f[k]/U))}else X.push(K*m/(f[k]/U));else{var pt=(m+U)/2;X.push(K*pt)}}),j.push(X)}),j},A.prototype.handleInfinity=function(x,T,B){for(var m=x.length,f=0;f<m;f++)if(x[T][f]===1/0){x[T][f]=B,x[f][T]=B;for(var U=0;U<m;U++)x[f][U]!==1/0&&x[T][U]===1/0&&(x[T][U]=B+x[f][U],x[U][T]=B+x[f][U])}for(var f=0;f<m;f++)if(f!==T){for(var U=0;U<m;U++)if(x[f][U]===1/0){var j=Math.abs(x[T][f]-x[T][U]);j=j===0?1:j,x[f][U]=j}}},A.prototype.maxToFocus=function(x,T){for(var B=0,m=0;m<x[T].length;m++)x[T][m]!==1/0&&(B=x[T][m]>B?x[T][m]:B);return B},A.prototype.getType=function(){return"radial"},A}(M.Base);W.RadialLayout=E},706290:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var _=800,y=function(){function R(w){this.disp=[],this.positions=w.positions,this.adjMatrix=w.adjMatrix,this.focusID=w.focusID,this.radii=w.radii,this.iterations=w.iterations||10,this.height=w.height||10,this.width=w.width||10,this.speed=w.speed||100,this.gravity=w.gravity||10,this.nodeSizeFunc=w.nodeSizeFunc,this.k=w.k||5,this.strictRadial=w.strictRadial,this.nodes=w.nodes}return R.prototype.layout=function(){var w=this,M=w.positions,P=[],L=w.iterations,p=w.width/10;w.maxDisplace=p,w.disp=P;for(var g=0;g<L;g++)M.forEach(function(S,E){P[E]={x:0,y:0}}),w.getRepulsion(),w.updatePositions();return M},R.prototype.getRepulsion=function(){var w=this,M=w.positions,P=w.nodes,L=w.disp,p=w.k,g=w.radii||[];M.forEach(function(S,E){L[E]={x:0,y:0},M.forEach(function(b,A){if(E!==A&&g[E]===g[A]){var x=S[0]-b[0],T=S[1]-b[1],B=Math.sqrt(x*x+T*T);if(B===0){B=1;var m=E>A?1:-1;x=.01*m,T=.01*m}if(B<w.nodeSizeFunc(P[E])/2+w.nodeSizeFunc(P[A])/2){var f=p*p/B;L[E].x+=x/B*f,L[E].y+=T/B*f}}})})},R.prototype.updatePositions=function(){var w=this,M=w.positions,P=w.disp,L=w.speed,p=w.strictRadial,g=w.focusID,S=w.maxDisplace||w.width/10;p&&P.forEach(function(b,A){var x=M[A][0]-M[g][0],T=M[A][1]-M[g][1],B=Math.sqrt(x*x+T*T),m=T/B,f=-x/B,U=Math.sqrt(b.x*b.x+b.y*b.y),j=Math.acos((m*b.x+f*b.y)/U);j>Math.PI/2&&(j-=Math.PI/2,m*=-1,f*=-1);var z=Math.cos(j)*U;b.x=m*z,b.y=f*z});var E=w.radii;M.forEach(function(b,A){if(A!==g){var x=Math.sqrt(P[A].x*P[A].x+P[A].y*P[A].y);if(x>0&&A!==g){var T=Math.min(S*(L/_),x);if(b[0]+=P[A].x/x*T,b[1]+=P[A].y/x*T,p){var B=b[0]-M[g][0],m=b[1]-M[g][1],f=Math.sqrt(B*B+m*m);B=B/f*E[A],m=m/f*E[A],b[0]=M[g][0]+B,b[1]=M[g][1]+m}}}})},R}();W.default=y},539711:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var M=function(P,L){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&(p[S]=g[S])},M(P,L)};return function(P,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");M(P,L);function p(){this.constructor=P}P.prototype=L===null?Object.create(L):(p.prototype=L.prototype,new p)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.RandomLayout=void 0;var R=_(762329),w=function(M){y(P,M);function P(L){var p=M.call(this)||this;return p.center=[0,0],p.width=300,p.height=300,p.nodes=[],p.edges=[],p.onLayoutEnd=function(){},p.updateCfg(L),p}return P.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},P.prototype.execute=function(){var L=this,p=L.nodes,g=.9,S=L.center;return!L.width&&typeof window!="undefined"&&(L.width=window.innerWidth),!L.height&&typeof window!="undefined"&&(L.height=window.innerHeight),p&&p.forEach(function(E){E.x=(Math.random()-.5)*g*L.width+S[0],E.y=(Math.random()-.5)*g*L.height+S[1]}),L.onLayoutEnd&&L.onLayoutEnd(),{nodes:p,edges:this.edges}},P.prototype.getType=function(){return"random"},P}(R.Base);W.RandomLayout=w},932867:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0})},695326:function(Ve,W,_){"use strict";var y=this&&this.__extends||function(){var g=function(S,E){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,A){b.__proto__=A}||function(b,A){for(var x in A)Object.prototype.hasOwnProperty.call(A,x)&&(b[x]=A[x])},g(S,E)};return function(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");g(S,E);function b(){this.constructor=S}S.prototype=E===null?Object.create(E):(b.prototype=E.prototype,new b)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.getLayoutByName=W.unRegisterLayout=W.registerLayout=void 0;var R=_(762329),w=_(449784),M=new Map,P=function(g,S){if(M.get(g)&&console.warn("The layout with the name ".concat(g," exists already, it will be overridden")),(0,w.isObject)(S)){var E=function(b){y(A,b);function A(x){var T=b.call(this)||this,B=T,m={},f=B.getDefaultCfg();return Object.assign(m,f,S,x),Object.keys(m).forEach(function(U){var j=m[U];B[U]=j}),T}return A}(R.Base);M.set(g,E)}else M.set(g,S);return M.get(g)};W.registerLayout=P;var L=function(g){M.has(g)&&M.delete(g)};W.unRegisterLayout=L;var p=function(g){return M.has(g)?M.get(g):null};W.getLayoutByName=p},185087:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.isArray=void 0,W.isArray=Array.isArray},578732:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.getFuncByUnknownType=W.getFunc=W.isFunction=void 0;var y=_(449784),R=_(330627),w=function(L){return typeof L=="function"};W.isFunction=w;var M=function(L,p,g){var S;return g?S=g:(0,R.isNumber)(L)?S=function(){return L}:S=function(){return p},S};W.getFunc=M;var P=function(L,p,g){return g===void 0&&(g=!0),!p&&p!==0?function(S){return S.size?(0,y.isArray)(S.size)?S.size[0]>S.size[1]?S.size[0]:S.size[1]:(0,y.isObject)(S.size)?S.size.width>S.size.height?S.size.width:S.size.height:S.size:L}:(0,W.isFunction)(p)?p:(0,R.isNumber)(p)?function(){return p}:(0,y.isArray)(p)?function(){if(g){var S=Math.max.apply(Math,p);return isNaN(S)?L:S}return p}:(0,y.isObject)(p)?function(){if(g){var S=Math.max(p.width,p.height);return isNaN(S)?L:S}return[p.width,p.height]}:function(){return L}};W.getFuncByUnknownType=P},248835:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.arrayToTextureData=W.attributesToTextureData=W.buildTextureDataWithTwoEdgeAttr=W.buildTextureData=W.proccessToFunc=void 0;var y=_(449784),R=_(280628),w=function(g,S){var E;return g?(0,y.isNumber)(g)?E=function(){return g}:E=g:E=function(){return S||1},E};W.proccessToFunc=w;var M=function(g,S){var E=[],b=[],A={},x=0;for(x=0;x<g.length;x++){var T=g[x];A[T.id]=x,E.push(T.x),E.push(T.y),E.push(0),E.push(0),b.push([])}for(x=0;x<S.length;x++){var B=S[x],m=(0,R.getEdgeTerminal)(B,"source"),f=(0,R.getEdgeTerminal)(B,"target");!isNaN(A[m])&&!isNaN(A[f])&&(b[A[m]].push(A[f]),b[A[f]].push(A[m]))}var U=0;for(x=0;x<g.length;x++){var j=E.length,z=b[x],k=z.length;E[x*4+2]=j,E[x*4+3]=k,U=Math.max(U,k);for(var X=0;X<k;++X){var K=z[X];E.push(+K)}}for(;E.length%4!==0;)E.push(0);return{maxEdgePerVetex:U,array:new Float32Array(E)}};W.buildTextureData=M;var P=function(g,S,E,b){var A=[],x=[],T={},B=0;for(B=0;B<g.length;B++){var m=g[B];T[m.id]=B,A.push(m.x),A.push(m.y),A.push(0),A.push(0),x.push([])}for(B=0;B<S.length;B++){var f=S[B],U=(0,R.getEdgeTerminal)(f,"source"),j=(0,R.getEdgeTerminal)(f,"target");x[T[U]].push(T[j]),x[T[U]].push(E(f)),x[T[U]].push(b(f)),x[T[U]].push(0),x[T[j]].push(T[U]),x[T[j]].push(E(f)),x[T[j]].push(b(f)),x[T[j]].push(0)}var z=0;for(B=0;B<g.length;B++){var k=A.length,X=x[B],K=X.length;A[B*4+2]=k+1048576*K/4,A[B*4+3]=0,z=Math.max(z,K/4);for(var tt=0;tt<K;++tt){var q=X[tt];A.push(+q)}}for(;A.length%4!==0;)A.push(0);return{maxEdgePerVetex:z,array:new Float32Array(A)}};W.buildTextureDataWithTwoEdgeAttr=P;var L=function(g,S){var E=[],b=g.length,A={};return S.forEach(function(x){g.forEach(function(T,B){if(A[x[T]]===void 0&&(A[x[T]]=Object.keys(A).length),E.push(A[x[T]]),B===b-1)for(;E.length%4!==0;)E.push(0)})}),{array:new Float32Array(E),count:Object.keys(A).length}};W.attributesToTextureData=L;var p=function(g){for(var S=[],E=g.length,b=g[0].length,A=function(T){g.forEach(function(B,m){if(S.push(B[T]),m===E-1)for(;S.length%4!==0;)S.push(0)})},x=0;x<b;x++)A(x);return new Float32Array(S)};W.arrayToTextureData=p},449784:function(Ve,W,_){"use strict";var y=this&&this.__createBinding||(Object.create?function(w,M,P,L){L===void 0&&(L=P);var p=Object.getOwnPropertyDescriptor(M,P);(!p||("get"in p?!M.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return M[P]}}),Object.defineProperty(w,L,p)}:function(w,M,P,L){L===void 0&&(L=P),w[L]=M[P]}),R=this&&this.__exportStar||function(w,M){for(var P in w)P!=="default"&&!Object.prototype.hasOwnProperty.call(M,P)&&y(M,w,P)};Object.defineProperty(W,"__esModule",{value:!0}),R(_(708055),W),R(_(185087),W),R(_(330627),W),R(_(280628),W),R(_(898130),W),R(_(578732),W)},280628:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.getCoreNodeAndRelativeLeafNodes=W.getAvgNodePosition=W.getLayoutBBox=W.traverseTreeUp=W.scaleMatrix=W.getAdjMatrix=W.floydWarshall=W.getDegreeMap=W.getDegree=W.getEdgeTerminal=void 0;var y=_(185087),R=_(330627),w=_(898130),M=function(U,j){var z=U[j];return(0,w.isObject)(z)?z.cell:z};W.getEdgeTerminal=M;var P=function(U,j,z){for(var k=[],X=0;X<U;X++)k[X]={in:0,out:0,all:0};return z&&z.forEach(function(K){var tt=(0,W.getEdgeTerminal)(K,"source"),q=(0,W.getEdgeTerminal)(K,"target");tt&&k[j[tt]]&&(k[j[tt]].out+=1,k[j[tt]].all+=1),q&&k[j[q]]&&(k[j[q]].in+=1,k[j[q]].all+=1)}),k};W.getDegree=P;var L=function(U,j){var z={};return U.forEach(function(k){z[k.id]={in:0,out:0,all:0}}),j&&j.forEach(function(k){var X=(0,W.getEdgeTerminal)(k,"source"),K=(0,W.getEdgeTerminal)(k,"target");X&&(z[X].out+=1,z[X].all+=1),K&&(z[K].in+=1,z[K].all+=1)}),z};W.getDegreeMap=L;var p=function(U){for(var j=[],z=U.length,k=0;k<z;k+=1){j[k]=[];for(var X=0;X<z;X+=1)k===X?j[k][X]=0:U[k][X]===0||!U[k][X]?j[k][X]=1/0:j[k][X]=U[k][X]}for(var K=0;K<z;K+=1)for(var k=0;k<z;k+=1)for(var X=0;X<z;X+=1)j[k][X]>j[k][K]+j[K][X]&&(j[k][X]=j[k][K]+j[K][X]);return j};W.floydWarshall=p;var g=function(U,j){var z=U.nodes,k=U.edges,X=[],K={};if(!z)throw new Error("invalid nodes data!");return z&&z.forEach(function(tt,q){K[tt.id]=q;var at=[];X.push(at)}),k==null||k.forEach(function(tt){var q=(0,W.getEdgeTerminal)(tt,"source"),at=(0,W.getEdgeTerminal)(tt,"target"),pt=K[q],ct=K[at];pt===void 0||ct===void 0||(X[pt][ct]=1,j||(X[ct][pt]=1))}),X};W.getAdjMatrix=g;var S=function(U,j){var z=[];return U.forEach(function(k){var X=[];k.forEach(function(K){X.push(K*j)}),z.push(X)}),z};W.scaleMatrix=S;var E=function(U,j){if(U&&U.children){for(var z=U.children.length-1;z>=0;z--)if(!E(U.children[z],j))return}return!!j(U)},b=function(U,j){typeof j=="function"&&E(U,j)};W.traverseTreeUp=b;var A=function(U){var j=1/0,z=1/0,k=-1/0,X=-1/0;return U.forEach(function(K){var tt=K.size;(0,y.isArray)(tt)?tt.length===1&&(tt=[tt[0],tt[0]]):(0,R.isNumber)(tt)?tt=[tt,tt]:(tt===void 0||isNaN(tt))&&(tt=[30,30]);var q=[tt[0]/2,tt[1]/2],at=K.x-q[0],pt=K.x+q[0],ct=K.y-q[1],St=K.y+q[1];j>at&&(j=at),z>ct&&(z=ct),k<pt&&(k=pt),X<St&&(X=St)}),{minX:j,minY:z,maxX:k,maxY:X}};W.getLayoutBBox=A;var x=function(U){var j={x:0,y:0};U.forEach(function(k){j.x+=k.x||0,j.y+=k.y||0});var z=U.length||1;return{x:j.x/z,y:j.y/z}};W.getAvgNodePosition=x;var T=function(U,j,z){var k,X;return U==="source"?((k=z==null?void 0:z.find(function(K){return K.target===j.id}))===null||k===void 0?void 0:k.source)||{}:((X=z==null?void 0:z.find(function(K){return K.source===j.id}))===null||X===void 0?void 0:X.target)||{}},B=function(U,j,z){var k=[];switch(U){case"source":k=z==null?void 0:z.filter(function(K){return K.source===j.id}).map(function(K){return K.target});break;case"target":k=z==null?void 0:z.filter(function(K){return K.target===j.id}).map(function(K){return K.source});break;case"both":k=z==null?void 0:z.filter(function(K){return K.source===j.id}).map(function(K){return K.target}).concat(z==null?void 0:z.filter(function(K){return K.target===j.id}).map(function(K){return K.source}));break;default:break}var X=new Set(k);return Array.from(X)},m=function(U,j,z,k,X){var K=z[j]||"",tt=(k==null?void 0:k.filter(function(q){return q[j]===K}))||[];return U==="leaf"&&(tt=tt.filter(function(q){var at,pt;return((at=X[q.id])===null||at===void 0?void 0:at.in)===0||((pt=X[q.id])===null||pt===void 0?void 0:pt.out)===0})),tt},f=function(U,j,z,k,X,K){var tt=X[j.id],q=tt.in,at=tt.out,pt=j,ct=[];q===0?(pt=T("source",j,z),ct=B("both",pt,z).map(function(vt){return K[vt]})):at===0&&(pt=T("target",j,z),ct=B("both",pt,z).map(function(vt){return K[vt]})),ct=ct.filter(function(vt){return X[vt.id]&&(X[vt.id].in===0||X[vt.id].out===0)});var St=m(U,k,j,ct,X);return{coreNode:pt,relativeLeafNodes:ct,sameTypeLeafNodes:St}};W.getCoreNodeAndRelativeLeafNodes=f},330627:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.toNumber=W.isNaN=W.isNumber=void 0;var _=function(w){return typeof w=="number"};W.isNumber=_;var y=function(w){return Number.isNaN(Number(w))};W.isNaN=y;var R=function(w){var M=parseFloat(w);return(0,W.isNaN)(M)?w:M};W.toNumber=R},898130:function(Ve,W){"use strict";var _=this&&this.__assign||function(){return _=Object.assign||function(w){for(var M,P=1,L=arguments.length;P<L;P++){M=arguments[P];for(var p in M)Object.prototype.hasOwnProperty.call(M,p)&&(w[p]=M[p])}return w},_.apply(this,arguments)};Object.defineProperty(W,"__esModule",{value:!0}),W.clone=W.isObject=void 0;var y=function(w){return w!==null&&typeof w=="object"};W.isObject=y;var R=function(w){if(w===null)return w;if(w instanceof Date)return new Date(w.getTime());if(w instanceof Array){var M=[];return w.forEach(function(L){M.push(L)}),M.map(function(L){return(0,W.clone)(L)})}if(typeof w=="object"&&Object.keys(w).length){var P=_({},w);return Object.keys(P).forEach(function(L){P[L]=(0,W.clone)(P[L])}),P}return w};W.clone=R},708055:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.camelize=W.isString=void 0;var _=function(w){return typeof w=="string"};W.isString=_;var y=function(w){var M=Object.create(null);return function(P){var L=M[P];return L||(M[P]=w(P))}},R=/-(\w)/g;W.camelize=y(function(w){return w.replace(R,function(M,P){return P?P.toUpperCase():""})})},731278:function(Ve,W,_){"use strict";var y;y={value:!0};var R=_(858204);function w(b,A,x){var T=[0,0,0,0,0,0,0,0,0];return R.mat3.fromTranslation(T,x),R.mat3.multiply(b,T,A)}y=w;function M(b,A,x){var T=[0,0,0,0,0,0,0,0,0];return R.mat3.fromRotation(T,x),R.mat3.multiply(b,T,A)}y=M;function P(b,A,x){var T=[0,0,0,0,0,0,0,0,0];return R.mat3.fromScaling(T,x),R.mat3.multiply(b,T,A)}y=P;function L(b,A,x){return R.mat3.multiply(b,x,A)}function p(b,A){for(var x=b?[].concat(b):[1,0,0,0,1,0,0,0,1],T=0,B=A.length;T<B;T++){var m=A[T];switch(m[0]){case"t":w(x,x,[m[1],m[2]]);break;case"s":P(x,x,[m[1],m[2]]);break;case"r":M(x,x,m[1]);break;case"m":L(x,x,m[1]);break;default:break}}return x}W.vs=p;function g(b,A){return b[0]*A[1]-A[0]*b[1]}y=g;function S(b,A,x){var T=R.vec2.angle(b,A),B=g(b,A)>=0;return x?B?Math.PI*2-T:T:B?T:Math.PI*2-T}y=S;function E(b,A,x){return x?(b[0]=A[1],b[1]=-1*A[0]):(b[0]=-1*A[1],b[1]=A[0]),b}y=E},413810:function(Ve,W,_){"use strict";_.r(W),_.d(W,{Cache:function(){return va},assign:function(){return tn},augment:function(){return An},clamp:function(){return gt},clearAnimationFrame:function(){return Ir},clone:function(){return Wn},contains:function(){return M},debounce:function(){return oa},deepMix:function(){return Pa},difference:function(){return g},each:function(){return U},endsWith:function(){return Jr},every:function(){return bn},extend:function(){return si},filter:function(){return L},find:function(){return ct},findIndex:function(){return vt},firstValue:function(){return Mt},fixedBase:function(){return Gt},flatten:function(){return et},flattenDeep:function(){return Ot},forIn:function(){return pe},get:function(){return Ii},getEllipsisText:function(){return Bo},getRange:function(){return Nt},getType:function(){return Lo},getWrapBehavior:function(){return mn},group:function(){return Sn},groupBy:function(){return jr},groupToMap:function(){return Br},has:function(){return _e},hasKey:function(){return xe},hasValue:function(){return gr},head:function(){return Pe},identity:function(){return ao},includes:function(){return M},indexOf:function(){return Na},isArguments:function(){return ci},isArray:function(){return B},isArrayLike:function(){return R},isBoolean:function(){return _i},isDate:function(){return Wa},isDecimal:function(){return fe},isElement:function(){return cr},isEmpty:function(){return fi},isEqual:function(){return di},isEqualWith:function(){return Di},isError:function(){return So},isEven:function(){return ft},isFinite:function(){return Mo},isFunction:function(){return A},isInteger:function(){return O},isMatch:function(){return X},isNegative:function(){return $},isNil:function(){return T},isNull:function(){return eo},isNumber:function(){return he},isNumberEqual:function(){return kt},isObject:function(){return m},isObjectLike:function(){return tt},isOdd:function(){return qt},isPlainObject:function(){return at},isPositive:function(){return Me},isPrototype:function(){return Oi},isRegExp:function(){return Jn},isString:function(){return ye},isType:function(){return b},isUndefined:function(){return ce},keys:function(){return z},last:function(){return Ze},lowerCase:function(){return an},lowerFirst:function(){return un},map:function(){return Ri},mapValues:function(){return wo},max:function(){return Dt},maxBy:function(){return Ke},measureTextWidth:function(){return ko},memoize:function(){return Ya},min:function(){return ot},minBy:function(){return vr},mix:function(){return tn},mod:function(){return Rr},noop:function(){return yi},number2color:function(){return Cn},omit:function(){return Ma},parseRadius:function(){return $t},pick:function(){return Pi},pull:function(){return se},pullAt:function(){return ae},reduce:function(){return Jt},remove:function(){return ke},requestAnimationFrame:function(){return Lr},set:function(){return Ra},size:function(){return Ro},some:function(){return Xe},sortBy:function(){return Ut},startsWith:function(){return Ar},substitute:function(){return Zn},throttle:function(){return ki},toArray:function(){return no},toDegree:function(){return pr},toInteger:function(){return kr},toRadian:function(){return Wt},toString:function(){return Zr},union:function(){return be},uniq:function(){return bt},uniqueId:function(){return Co},upperCase:function(){return ra},upperFirst:function(){return Ua},values:function(){return lr},valuesOfKey:function(){return qe},wrapBehavior:function(){return sn}});var y=function(Bt){return Bt!==null&&typeof Bt!="function"&&isFinite(Bt.length)},R=y,w=function(Bt,Fe){return R(Bt)?Bt.indexOf(Fe)>-1:!1},M=w,P=function(Bt,Fe){if(!R(Bt))return Bt;for(var or=[],Er=0;Er<Bt.length;Er++){var qr=Bt[Er];Fe(qr,Er)&&or.push(qr)}return or},L=P,p=function(Bt,Fe){return Fe===void 0&&(Fe=[]),L(Bt,function(or){return!M(Fe,or)})},g=p,S={}.toString,E=function(Bt,Fe){return S.call(Bt)==="[object "+Fe+"]"},b=E,A=function(Bt){return b(Bt,"Function")},x=function(Bt){return Bt==null},T=x,B=function(Bt){return Array.isArray?Array.isArray(Bt):b(Bt,"Array")},m=function(Bt){var Fe=typeof Bt;return Bt!==null&&Fe==="object"||Fe==="function"};function f(Bt,Fe){if(Bt){var or;if(B(Bt))for(var Er=0,qr=Bt.length;Er<qr&&(or=Fe(Bt[Er],Er),or!==!1);Er++);else if(m(Bt)){for(var hn in Bt)if(Bt.hasOwnProperty(hn)&&(or=Fe(Bt[hn],hn),or===!1))break}}}var U=f,j=Object.keys?function(Bt){return Object.keys(Bt)}:function(Bt){var Fe=[];return U(Bt,function(or,Er){A(Bt)&&Er==="prototype"||Fe.push(Er)}),Fe},z=j;function k(Bt,Fe){var or=z(Fe),Er=or.length;if(T(Bt))return!Er;for(var qr=0;qr<Er;qr+=1){var hn=or[qr];if(Fe[hn]!==Bt[hn]||!(hn in Bt))return!1}return!0}var X=k,K=function(Bt){return typeof Bt=="object"&&Bt!==null},tt=K,q=function(Bt){if(!tt(Bt)||!b(Bt,"Object"))return!1;if(Object.getPrototypeOf(Bt)===null)return!0;for(var Fe=Bt;Object.getPrototypeOf(Fe)!==null;)Fe=Object.getPrototypeOf(Fe);return Object.getPrototypeOf(Bt)===Fe},at=q;function pt(Bt,Fe){if(!B(Bt))return null;var or;if(A(Fe)&&(or=Fe),at(Fe)&&(or=function(qr){return X(qr,Fe)}),or){for(var Er=0;Er<Bt.length;Er+=1)if(or(Bt[Er]))return Bt[Er]}return null}var ct=pt;function St(Bt,Fe,or){or===void 0&&(or=0);for(var Er=or;Er<Bt.length;Er++)if(Fe(Bt[Er],Er))return Er;return-1}var vt=St,Lt=function(Bt,Fe){for(var or=null,Er=0;Er<Bt.length;Er++){var qr=Bt[Er],hn=qr[Fe];if(!T(hn)){B(hn)?or=hn[0]:or=hn;break}}return or},Mt=Lt,wt=function(Bt){if(!B(Bt))return[];for(var Fe=[],or=0;or<Bt.length;or++)Fe=Fe.concat(Bt[or]);return Fe},et=wt,rt=function(Bt,Fe){if(Fe===void 0&&(Fe=[]),!B(Bt))Fe.push(Bt);else for(var or=0;or<Bt.length;or+=1)rt(Bt[or],Fe);return Fe},Ot=rt,Dt=function(Bt){if(B(Bt))return Bt.reduce(function(Fe,or){return Math.max(Fe,or)},Bt[0])},ot=function(Bt){if(B(Bt))return Bt.reduce(function(Fe,or){return Math.min(Fe,or)},Bt[0])},xt=function(Bt){var Fe=Bt.filter(function(zn){return!isNaN(zn)});if(!Fe.length)return{min:0,max:0};if(B(Bt[0])){for(var or=[],Er=0;Er<Bt.length;Er++)or=or.concat(Bt[Er]);Fe=or}var qr=Dt(Fe),hn=ot(Fe);return{min:hn,max:qr}},Nt=xt,Yt=Array.prototype,Ct=Yt.splice,Xt=Yt.indexOf,Zt=function(Bt){for(var Fe=[],or=1;or<arguments.length;or++)Fe[or-1]=arguments[or];for(var Er=0;Er<Fe.length;Er++)for(var qr=Fe[Er],hn=-1;(hn=Xt.call(Bt,qr))>-1;)Ct.call(Bt,hn,1);return Bt},se=Zt,ie=Array.prototype.splice,zt=function(Fe,or){if(!R(Fe))return[];for(var Er=Fe?or.length:0,qr=Er-1;Er--;){var hn=void 0,zn=or[Er];(Er===qr||zn!==hn)&&(hn=zn,ie.call(Fe,zn,1))}return Fe},ae=zt,Re=function(Bt,Fe,or){if(!B(Bt)&&!at(Bt))return Bt;var Er=or;return U(Bt,function(qr,hn){Er=Fe(Er,qr,hn)}),Er},Jt=Re,ue=function(Bt,Fe){var or=[];if(!R(Bt))return or;for(var Er=-1,qr=[],hn=Bt.length;++Er<hn;){var zn=Bt[Er];Fe(zn,Er,Bt)&&(or.push(zn),qr.push(Er))}return ae(Bt,qr),or},ke=ue,ye=function(Bt){return b(Bt,"String")};function ee(Bt,Fe){var or;if(A(Fe))or=function(qr,hn){return Fe(qr)-Fe(hn)};else{var Er=[];ye(Fe)?Er.push(Fe):B(Fe)&&(Er=Fe),or=function(qr,hn){for(var zn=0;zn<Er.length;zn+=1){var Da=Er[zn];if(qr[Da]>hn[Da])return 1;if(qr[Da]<hn[Da])return-1}return 0}}return Bt.sort(or),Bt}var Ut=ee;function bt(Bt,Fe){Fe===void 0&&(Fe=new Map);var or=[];if(Array.isArray(Bt))for(var Er=0,qr=Bt.length;Er<qr;Er++){var hn=Bt[Er];Fe.has(hn)||(or.push(hn),Fe.set(hn,!0))}return or}var Ft=function(){for(var Bt=[],Fe=0;Fe<arguments.length;Fe++)Bt[Fe]=arguments[Fe];return bt([].concat.apply([],Bt))},be=Ft,qe=function(Bt,Fe){for(var or=[],Er={},qr=0;qr<Bt.length;qr++){var hn=Bt[qr],zn=hn[Fe];if(!T(zn)){B(zn)||(zn=[zn]);for(var Da=0;Da<zn.length;Da++){var hi=zn[Da];Er[hi]||(or.push(hi),Er[hi]=!0)}}}return or};function Pe(Bt){if(R(Bt))return Bt[0]}function Ze(Bt){if(R(Bt)){var Fe=Bt;return Fe[Fe.length-1]}}function Qe(Bt,Fe){return B(Bt)||ye(Bt)?Bt[0]===Fe:!1}var Ar=Qe;function Hr(Bt,Fe){return B(Bt)||ye(Bt)?Bt[Bt.length-1]===Fe:!1}var Jr=Hr,Cr=function(Bt,Fe){for(var or=0;or<Bt.length;or++)if(!Fe(Bt[or],or))return!1;return!0},bn=Cr,Yr=function(Bt,Fe){for(var or=0;or<Bt.length;or++)if(Fe(Bt[or],or))return!0;return!1},Xe=Yr,Ae=Object.prototype.hasOwnProperty;function Ue(Bt,Fe){if(!Fe||!B(Bt))return{};for(var or={},Er=A(Fe)?Fe:function(Da){return Da[Fe]},qr,hn=0;hn<Bt.length;hn++){var zn=Bt[hn];qr=Er(zn),Ae.call(or,qr)?or[qr].push(zn):or[qr]=[zn]}return or}var jr=Ue;function Br(Bt,Fe){if(!Fe)return{0:Bt};if(!A(Fe)){var or=B(Fe)?Fe:Fe.replace(/\s+/g,"").split("*");Fe=function(Er){for(var qr="_",hn=0,zn=or.length;hn<zn;hn++)qr+=Er[or[hn]]&&Er[or[hn]].toString();return qr}}return jr(Bt,Fe)}var Sn=function(Bt,Fe){if(!Fe)return[Bt];var or=Br(Bt,Fe),Er=[];for(var qr in or)Er.push(or[qr]);return Er};function ir(Bt,Fe){return Bt["_wrap_"+Fe]}var mn=ir;function Or(Bt,Fe){if(Bt["_wrap_"+Fe])return Bt["_wrap_"+Fe];var or=function(Er){Bt[Fe](Er)};return Bt["_wrap_"+Fe]=or,or}var sn=Or,ln={};function cn(Bt){var Fe=ln[Bt];if(!Fe){for(var or=Bt.toString(16),Er=or.length;Er<6;Er++)or="0"+or;Fe="#"+or,ln[Bt]=Fe}return Fe}var Cn=cn;function V(Bt){var Fe=0,or=0,Er=0,qr=0;return B(Bt)?Bt.length===1?Fe=or=Er=qr=Bt[0]:Bt.length===2?(Fe=Er=Bt[0],or=qr=Bt[1]):Bt.length===3?(Fe=Bt[0],or=qr=Bt[1],Er=Bt[2]):(Fe=Bt[0],or=Bt[1],Er=Bt[2],qr=Bt[3]):Fe=or=Er=qr=Bt,{r1:Fe,r2:or,r3:Er,r4:qr}}var $t=V,Q=function(Bt,Fe,or){return Bt<Fe?Fe:Bt>or?or:Bt},gt=Q,lt=function(Bt,Fe){var or=Fe.toString(),Er=or.indexOf(".");if(Er===-1)return Math.round(Bt);var qr=or.substr(Er+1).length;return qr>20&&(qr=20),parseFloat(Bt.toFixed(qr))},Gt=lt,Qt=function(Bt){return b(Bt,"Number")},he=Qt,de=function(Bt){return he(Bt)&&Bt%1!==0},fe=de,it=function(Bt){return he(Bt)&&Bt%2===0},ft=it,G=Number.isInteger?Number.isInteger:function(Bt){return he(Bt)&&Bt%1===0},O=G,D=function(Bt){return he(Bt)&&Bt<0},$=D,mt=1e-5;function kt(Bt,Fe,or){return or===void 0&&(or=mt),Math.abs(Bt-Fe)<or}var Rt=function(Bt){return he(Bt)&&Bt%2!==0},qt=Rt,Le=function(Bt){return he(Bt)&&Bt>0},Me=Le,Ke=function(Bt,Fe){if(B(Bt)){for(var or,Er=-1/0,qr=0;qr<Bt.length;qr++){var hn=Bt[qr],zn=A(Fe)?Fe(hn):hn[Fe];zn>Er&&(or=hn,Er=zn)}return or}},vr=function(Bt,Fe){if(B(Bt)){for(var or,Er=1/0,qr=0;qr<Bt.length;qr++){var hn=Bt[qr],zn=A(Fe)?Fe(hn):hn[Fe];zn<Er&&(or=hn,Er=zn)}return or}},He=function(Bt,Fe){return(Bt%Fe+Fe)%Fe},Rr=He,fn=180/Math.PI,Je=function(Bt){return fn*Bt},pr=Je,kr=parseInt,Pr=Math.PI/180,oe=function(Bt){return Pr*Bt},Wt=oe,pe=U,_e=function(Bt,Fe){return Bt.hasOwnProperty(Fe)},xe=_e,Ge=Object.values?function(Bt){return Object.values(Bt)}:function(Bt){var Fe=[];return U(Bt,function(or,Er){A(Bt)&&Er==="prototype"||Fe.push(or)}),Fe},lr=Ge,gr=function(Bt,Fe){return M(lr(Bt),Fe)},Zr=function(Bt){return T(Bt)?"":Bt.toString()},Tn=function(Bt){return Zr(Bt).toLowerCase()},an=Tn,kn=function(Bt){var Fe=Zr(Bt);return Fe.charAt(0).toLowerCase()+Fe.substring(1)},un=kn;function Bn(Bt,Fe){return!Bt||!Fe?Bt:Bt.replace(/\\?\{([^{}]+)\}/g,function(or,Er){return or.charAt(0)==="\\"?or.slice(1):Fe[Er]===void 0?"":Fe[Er]})}var Zn=Bn,na=function(Bt){return Zr(Bt).toUpperCase()},ra=na,ti=function(Bt){var Fe=Zr(Bt);return Fe.charAt(0).toUpperCase()+Fe.substring(1)},Ua=ti,Ia={}.toString,oi=function(Bt){return Ia.call(Bt).replace(/^\[object /,"").replace(/]$/,"")},Lo=oi,gi=function(Bt){return b(Bt,"Arguments")},ci=gi,xa=function(Bt){return b(Bt,"Boolean")},_i=xa,No=function(Bt){return b(Bt,"Date")},Wa=No,go=function(Bt){return b(Bt,"Error")},So=go;function Mo(Bt){return he(Bt)&&isFinite(Bt)}var Wi=function(Bt){return Bt===null},eo=Wi,_o=Object.prototype,is=function(Bt){var Fe=Bt&&Bt.constructor,or=typeof Fe=="function"&&Fe.prototype||_o;return Bt===or},Oi=is,ro=function(Bt){return b(Bt,"RegExp")},Jn=ro,Kt=function(Bt){return Bt===void 0},ce=Kt,Be=function(Bt){return Bt instanceof Element||Bt instanceof HTMLDocument},cr=Be;function Lr(Bt){var Fe=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(or){return setTimeout(or,16)};return Fe(Bt)}function Ir(Bt){var Fe=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;Fe(Bt)}function Sr(Bt,Fe){for(var or in Fe)Fe.hasOwnProperty(or)&&or!=="constructor"&&Fe[or]!==void 0&&(Bt[or]=Fe[or])}function tn(Bt,Fe,or,Er){return Fe&&Sr(Bt,Fe),or&&Sr(Bt,or),Er&&Sr(Bt,Er),Bt}var dn=function(){for(var Bt=[],Fe=0;Fe<arguments.length;Fe++)Bt[Fe]=arguments[Fe];for(var or=Bt[0],Er=1;Er<Bt.length;Er++){var qr=Bt[Er];A(qr)&&(qr=qr.prototype),tn(or.prototype,qr)}},An=dn,Kn=function(Bt){if(typeof Bt!="object"||Bt===null)return Bt;var Fe;if(B(Bt)){Fe=[];for(var or=0,Er=Bt.length;or<Er;or++)typeof Bt[or]=="object"&&Bt[or]!=null?Fe[or]=Kn(Bt[or]):Fe[or]=Bt[or]}else{Fe={};for(var qr in Bt)typeof Bt[qr]=="object"&&Bt[qr]!=null?Fe[qr]=Kn(Bt[qr]):Fe[qr]=Bt[qr]}return Fe},Wn=Kn;function aa(Bt,Fe,or){var Er;return function(){var qr=this,hn=arguments,zn=function(){Er=null,or||Bt.apply(qr,hn)},Da=or&&!Er;clearTimeout(Er),Er=setTimeout(zn,Fe),Da&&Bt.apply(qr,hn)}}var oa=aa,Ya=function(Bt,Fe){if(!A(Bt))throw new TypeError("Expected a function");var or=function(){for(var Er=[],qr=0;qr<arguments.length;qr++)Er[qr]=arguments[qr];var hn=Fe?Fe.apply(this,Er):Er[0],zn=or.cache;if(zn.has(hn))return zn.get(hn);var Da=Bt.apply(this,Er);return zn.set(hn,Da),Da};return or.cache=new Map,or},ua=5;function qn(Bt,Fe,or,Er){or=or||0,Er=Er||ua;for(var qr in Fe)if(Fe.hasOwnProperty(qr)){var hn=Fe[qr];hn!==null&&at(hn)?(at(Bt[qr])||(Bt[qr]={}),or<Er?qn(Bt[qr],hn,or+1,Er):Bt[qr]=Fe[qr]):B(hn)?(Bt[qr]=[],Bt[qr]=Bt[qr].concat(hn)):hn!==void 0&&(Bt[qr]=hn)}}var za=function(Bt){for(var Fe=[],or=1;or<arguments.length;or++)Fe[or-1]=arguments[or];for(var Er=0;Er<Fe.length;Er+=1)qn(Bt,Fe[Er]);return Bt},Pa=za,Ea=function(Bt,Fe,or,Er){A(Fe)||(or=Fe,Fe=Bt,Bt=function(){});var qr=Object.create?function(zn,Da){return Object.create(zn,{constructor:{value:Da}})}:function(zn,Da){function hi(){}hi.prototype=zn;var Hi=new hi;return Hi.constructor=Da,Hi},hn=qr(Fe.prototype,Bt);return Bt.prototype=tn(hn,Bt.prototype),Bt.superclass=qr(Fe.prototype,Fe),tn(hn,or),tn(Bt,Er),Bt},si=Ea,qa=function(Bt,Fe){if(!R(Bt))return-1;var or=Array.prototype.indexOf;if(or)return or.call(Bt,Fe);for(var Er=-1,qr=0;qr<Bt.length;qr++)if(Bt[qr]===Fe){Er=qr;break}return Er},Na=qa,_a=Object.prototype.hasOwnProperty;function pa(Bt){if(T(Bt))return!0;if(R(Bt))return!Bt.length;var Fe=Lo(Bt);if(Fe==="Map"||Fe==="Set")return!Bt.size;if(Oi(Bt))return!Object.keys(Bt).length;for(var or in Bt)if(_a.call(Bt,or))return!1;return!0}var fi=pa,ri=function(Bt,Fe){if(Bt===Fe)return!0;if(!Bt||!Fe||ye(Bt)||ye(Fe))return!1;if(R(Bt)||R(Fe)){if(Bt.length!==Fe.length)return!1;for(var or=!0,Er=0;Er<Bt.length&&(or=ri(Bt[Er],Fe[Er]),!!or);Er++);return or}if(tt(Bt)||tt(Fe)){var qr=Object.keys(Bt),hn=Object.keys(Fe);if(qr.length!==hn.length)return!1;for(var or=!0,Er=0;Er<qr.length&&(or=ri(Bt[qr[Er]],Fe[qr[Er]]),!!or);Er++);return or}return!1},di=ri,Di=function(Bt,Fe,or){return A(or)?!!or(Bt,Fe):di(Bt,Fe)},Ci=function(Bt,Fe){if(!R(Bt))return Bt;for(var or=[],Er=0;Er<Bt.length;Er++){var qr=Bt[Er];or.push(Fe(qr,Er))}return or},Ri=Ci,Eo=function(Bt){return Bt},wo=function(Bt,Fe){Fe===void 0&&(Fe=Eo);var or={};return m(Bt)&&!T(Bt)&&Object.keys(Bt).forEach(function(Er){or[Er]=Fe(Bt[Er],Er)}),or},Ii=function(Bt,Fe,or){for(var Er=0,qr=ye(Fe)?Fe.split("."):Fe;Bt&&Er<qr.length;)Bt=Bt[qr[Er++]];return Bt===void 0||Er<qr.length?or:Bt},Ra=function(Bt,Fe,or){var Er=Bt,qr=ye(Fe)?Fe.split("."):Fe;return qr.forEach(function(hn,zn){zn<qr.length-1?(m(Er[hn])||(Er[hn]=he(qr[zn+1])?[]:{}),Er=Er[hn]):Er[hn]=or}),Bt},mi=Object.prototype.hasOwnProperty,Pi=function(Bt,Fe){if(Bt===null||!at(Bt))return{};var or={};return U(Fe,function(Er){mi.call(Bt,Er)&&(or[Er]=Bt[Er])}),or},Ma=function(Bt,Fe){return Jt(Bt,function(or,Er,qr){return Fe.includes(qr)||(or[qr]=Er),or},{})},ki=function(Bt,Fe,or){var Er,qr,hn,zn,Da=0;or||(or={});var hi=function(){Da=or.leading===!1?0:Date.now(),Er=null,zn=Bt.apply(qr,hn),Er||(qr=hn=null)},Hi=function(){var mo=Date.now();!Da&&or.leading===!1&&(Da=mo);var fs=Fe-(mo-Da);return qr=this,hn=arguments,fs<=0||fs>Fe?(Er&&(clearTimeout(Er),Er=null),Da=mo,zn=Bt.apply(qr,hn),Er||(qr=hn=null)):!Er&&or.trailing!==!1&&(Er=setTimeout(hi,fs)),zn};return Hi.cancel=function(){clearTimeout(Er),Da=0,Er=qr=hn=null},Hi},no=function(Bt){return R(Bt)?Array.prototype.slice.call(Bt):[]},Mi={},Co=function(Bt){return Bt=Bt||"g",Mi[Bt]?Mi[Bt]+=1:Mi[Bt]=1,Bt+Mi[Bt]},yi=function(){},ao=function(Bt){return Bt};function Ro(Bt){return T(Bt)?0:R(Bt)?Bt.length:Object.keys(Bt).length}var es=_(570655),Bi,ko=Ya(function(Bt,Fe){Fe===void 0&&(Fe={});var or=Fe.fontSize,Er=Fe.fontFamily,qr=Fe.fontWeight,hn=Fe.fontStyle,zn=Fe.fontVariant;return Bi||(Bi=document.createElement("canvas").getContext("2d")),Bi.font=[hn,zn,qr,or+"px",Er].join(" "),Bi.measureText(ye(Bt)?Bt:"").width},function(Bt,Fe){return Fe===void 0&&(Fe={}),(0,es.__spreadArrays)([Bt],lr(Fe)).join("")}),Bo=function(Bt,Fe,or,Er){Er===void 0&&(Er="...");var qr=16,hn=ko(Er,or),zn=ye(Bt)?Bt:Zr(Bt),Da=Fe,hi=[],Hi,mo;if(ko(Bt,or)<=Fe)return Bt;for(;Hi=zn.substr(0,qr),mo=ko(Hi,or),!(mo+hn>Da&&mo>Da);)if(hi.push(Hi),Da-=mo,zn=zn.substr(qr),!zn)return hi.join("");for(;Hi=zn.substr(0,1),mo=ko(Hi,or),!(mo+hn>Da);)if(hi.push(Hi),Da-=mo,zn=zn.substr(1),!zn)return hi.join("");return""+hi.join("")+Er},cs=function(){function Bt(){this.map={}}return Bt.prototype.has=function(Fe){return this.map[Fe]!==void 0},Bt.prototype.get=function(Fe,or){var Er=this.map[Fe];return Er===void 0?or:Er},Bt.prototype.set=function(Fe,or){this.map[Fe]=or},Bt.prototype.clear=function(){this.map={}},Bt.prototype.delete=function(Fe){delete this.map[Fe]},Bt.prototype.size=function(){return Object.keys(this.map).length},Bt}(),va=cs},960887:function(Ve,W,_){"use strict";_.d(W,{LB:function(){return na},g4:function(){return Xe},we:function(){return Or},VK:function(){return Nt},Cj:function(){return oi},O1:function(){return Ia},Zj:function(){return ci},VT:function(){return f}});var y=_(667294),R=_(973935),w=_(724285);const M={display:"none"};function P(Kt){let{id:ce,value:Be}=Kt;return y.createElement("div",{id:ce,style:M},Be)}const L={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function p(Kt){let{id:ce,announcement:Be}=Kt;return y.createElement("div",{id:ce,style:L,role:"status","aria-live":"assertive","aria-atomic":!0},Be)}function g(){const[Kt,ce]=(0,y.useState)("");return{announce:(0,y.useCallback)(cr=>{cr!=null&&ce(cr)},[]),announcement:Kt}}const S=(0,y.createContext)(null);function E(Kt){const ce=(0,y.useContext)(S);(0,y.useEffect)(()=>{if(!ce)throw new Error("useDndMonitor must be used within a children of <DndContext>");return ce(Kt)},[Kt,ce])}function b(){const[Kt]=(0,y.useState)(()=>new Set),ce=(0,y.useCallback)(cr=>(Kt.add(cr),()=>Kt.delete(cr)),[Kt]);return[(0,y.useCallback)(cr=>{let{type:Lr,event:Ir}=cr;Kt.forEach(Sr=>{var tn;return(tn=Sr[Lr])==null?void 0:tn.call(Sr,Ir)})},[Kt]),ce]}const A={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},x={onDragStart(Kt){let{active:ce}=Kt;return"Picked up draggable item "+ce.id+"."},onDragOver(Kt){let{active:ce,over:Be}=Kt;return Be?"Draggable item "+ce.id+" was moved over droppable area "+Be.id+".":"Draggable item "+ce.id+" is no longer over a droppable area."},onDragEnd(Kt){let{active:ce,over:Be}=Kt;return Be?"Draggable item "+ce.id+" was dropped over droppable area "+Be.id:"Draggable item "+ce.id+" was dropped."},onDragCancel(Kt){let{active:ce}=Kt;return"Dragging was cancelled. Draggable item "+ce.id+" was dropped."}};function T(Kt){let{announcements:ce=x,container:Be,hiddenTextDescribedById:cr,screenReaderInstructions:Lr=A}=Kt;const{announce:Ir,announcement:Sr}=g(),tn=(0,w.Ld)("DndLiveRegion"),[dn,An]=(0,y.useState)(!1);if((0,y.useEffect)(()=>{An(!0)},[]),E((0,y.useMemo)(()=>({onDragStart(Wn){let{active:aa}=Wn;Ir(ce.onDragStart({active:aa}))},onDragMove(Wn){let{active:aa,over:oa}=Wn;ce.onDragMove&&Ir(ce.onDragMove({active:aa,over:oa}))},onDragOver(Wn){let{active:aa,over:oa}=Wn;Ir(ce.onDragOver({active:aa,over:oa}))},onDragEnd(Wn){let{active:aa,over:oa}=Wn;Ir(ce.onDragEnd({active:aa,over:oa}))},onDragCancel(Wn){let{active:aa,over:oa}=Wn;Ir(ce.onDragCancel({active:aa,over:oa}))}}),[Ir,ce])),!dn)return null;const Kn=y.createElement(y.Fragment,null,y.createElement(P,{id:cr,value:Lr.draggable}),y.createElement(p,{id:tn,announcement:Sr}));return Be?(0,R.createPortal)(Kn,Be):Kn}var B;(function(Kt){Kt.DragStart="dragStart",Kt.DragMove="dragMove",Kt.DragEnd="dragEnd",Kt.DragCancel="dragCancel",Kt.DragOver="dragOver",Kt.RegisterDroppable="registerDroppable",Kt.SetDroppableDisabled="setDroppableDisabled",Kt.UnregisterDroppable="unregisterDroppable"})(B||(B={}));function m(){}function f(Kt,ce){return(0,y.useMemo)(()=>({sensor:Kt,options:ce!=null?ce:{}}),[Kt,ce])}function U(){for(var Kt=arguments.length,ce=new Array(Kt),Be=0;Be<Kt;Be++)ce[Be]=arguments[Be];return useMemo(()=>[...ce].filter(cr=>cr!=null),[...ce])}const j=Object.freeze({x:0,y:0});function z(Kt,ce){return Math.sqrt(Math.pow(Kt.x-ce.x,2)+Math.pow(Kt.y-ce.y,2))}function k(Kt,ce){const Be=getEventCoordinates(Kt);if(!Be)return"0 0";const cr={x:(Be.x-ce.left)/ce.width*100,y:(Be.y-ce.top)/ce.height*100};return cr.x+"% "+cr.y+"%"}function X(Kt,ce){let{data:{value:Be}}=Kt,{data:{value:cr}}=ce;return Be-cr}function K(Kt,ce){let{data:{value:Be}}=Kt,{data:{value:cr}}=ce;return cr-Be}function tt(Kt){let{left:ce,top:Be,height:cr,width:Lr}=Kt;return[{x:ce,y:Be},{x:ce+Lr,y:Be},{x:ce,y:Be+cr},{x:ce+Lr,y:Be+cr}]}function q(Kt,ce){if(!Kt||Kt.length===0)return null;const[Be]=Kt;return ce?Be[ce]:Be}function at(Kt,ce,Be){return ce===void 0&&(ce=Kt.left),Be===void 0&&(Be=Kt.top),{x:ce+Kt.width*.5,y:Be+Kt.height*.5}}const pt=Kt=>{let{collisionRect:ce,droppableRects:Be,droppableContainers:cr}=Kt;const Lr=at(ce,ce.left,ce.top),Ir=[];for(const Sr of cr){const{id:tn}=Sr,dn=Be.get(tn);if(dn){const An=z(at(dn),Lr);Ir.push({id:tn,data:{droppableContainer:Sr,value:An}})}}return Ir.sort(X)},ct=Kt=>{let{collisionRect:ce,droppableRects:Be,droppableContainers:cr}=Kt;const Lr=tt(ce),Ir=[];for(const Sr of cr){const{id:tn}=Sr,dn=Be.get(tn);if(dn){const An=tt(dn),Kn=Lr.reduce((aa,oa,Ya)=>aa+z(An[Ya],oa),0),Wn=Number((Kn/4).toFixed(4));Ir.push({id:tn,data:{droppableContainer:Sr,value:Wn}})}}return Ir.sort(X)};function St(Kt,ce){const Be=Math.max(ce.top,Kt.top),cr=Math.max(ce.left,Kt.left),Lr=Math.min(ce.left+ce.width,Kt.left+Kt.width),Ir=Math.min(ce.top+ce.height,Kt.top+Kt.height),Sr=Lr-cr,tn=Ir-Be;if(cr<Lr&&Be<Ir){const dn=ce.width*ce.height,An=Kt.width*Kt.height,Kn=Sr*tn,Wn=Kn/(dn+An-Kn);return Number(Wn.toFixed(4))}return 0}const vt=Kt=>{let{collisionRect:ce,droppableRects:Be,droppableContainers:cr}=Kt;const Lr=[];for(const Ir of cr){const{id:Sr}=Ir,tn=Be.get(Sr);if(tn){const dn=St(tn,ce);dn>0&&Lr.push({id:Sr,data:{droppableContainer:Ir,value:dn}})}}return Lr.sort(K)};function Lt(Kt,ce){const{top:Be,left:cr,bottom:Lr,right:Ir}=ce;return Be<=Kt.y&&Kt.y<=Lr&&cr<=Kt.x&&Kt.x<=Ir}const Mt=Kt=>{let{droppableContainers:ce,droppableRects:Be,pointerCoordinates:cr}=Kt;if(!cr)return[];const Lr=[];for(const Ir of ce){const{id:Sr}=Ir,tn=Be.get(Sr);if(tn&&Lt(cr,tn)){const An=tt(tn).reduce((Wn,aa)=>Wn+z(cr,aa),0),Kn=Number((An/4).toFixed(4));Lr.push({id:Sr,data:{droppableContainer:Ir,value:Kn}})}}return Lr.sort(X)};function wt(Kt,ce,Be){return to(Sa({},Kt),{scaleX:ce&&Be?ce.width/Be.width:1,scaleY:ce&&Be?ce.height/Be.height:1})}function et(Kt,ce){return Kt&&ce?{x:Kt.left-ce.left,y:Kt.top-ce.top}:j}function rt(Kt){return function(Be){for(var cr=arguments.length,Lr=new Array(cr>1?cr-1:0),Ir=1;Ir<cr;Ir++)Lr[Ir-1]=arguments[Ir];return Lr.reduce((Sr,tn)=>to(Sa({},Sr),{top:Sr.top+Kt*tn.y,bottom:Sr.bottom+Kt*tn.y,left:Sr.left+Kt*tn.x,right:Sr.right+Kt*tn.x}),Sa({},Be))}}const Ot=rt(1);function Dt(Kt){if(Kt.startsWith("matrix3d(")){const ce=Kt.slice(9,-1).split(/, /);return{x:+ce[12],y:+ce[13],scaleX:+ce[0],scaleY:+ce[5]}}else if(Kt.startsWith("matrix(")){const ce=Kt.slice(7,-1).split(/, /);return{x:+ce[4],y:+ce[5],scaleX:+ce[0],scaleY:+ce[3]}}return null}function ot(Kt,ce,Be){const cr=Dt(ce);if(!cr)return Kt;const{scaleX:Lr,scaleY:Ir,x:Sr,y:tn}=cr,dn=Kt.left-Sr-(1-Lr)*parseFloat(Be),An=Kt.top-tn-(1-Ir)*parseFloat(Be.slice(Be.indexOf(" ")+1)),Kn=Lr?Kt.width/Lr:Kt.width,Wn=Ir?Kt.height/Ir:Kt.height;return{width:Kn,height:Wn,top:An,right:dn+Kn,bottom:An+Wn,left:dn}}const xt={ignoreTransform:!1};function Nt(Kt,ce){ce===void 0&&(ce=xt);let Be=Kt.getBoundingClientRect();if(ce.ignoreTransform){const{transform:An,transformOrigin:Kn}=(0,w.Jj)(Kt).getComputedStyle(Kt);An&&(Be=ot(Be,An,Kn))}const{top:cr,left:Lr,width:Ir,height:Sr,bottom:tn,right:dn}=Be;return{top:cr,left:Lr,width:Ir,height:Sr,bottom:tn,right:dn}}function Yt(Kt){return Nt(Kt,{ignoreTransform:!0})}function Ct(Kt){const ce=Kt.innerWidth,Be=Kt.innerHeight;return{top:0,left:0,right:ce,bottom:Be,width:ce,height:Be}}function Xt(Kt,ce){return ce===void 0&&(ce=(0,w.Jj)(Kt).getComputedStyle(Kt)),ce.position==="fixed"}function Zt(Kt,ce){ce===void 0&&(ce=(0,w.Jj)(Kt).getComputedStyle(Kt));const Be=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(Lr=>{const Ir=ce[Lr];return typeof Ir=="string"?Be.test(Ir):!1})}function se(Kt,ce){const Be=[];function cr(Lr){if(ce!=null&&Be.length>=ce||!Lr)return Be;if((0,w.qk)(Lr)&&Lr.scrollingElement!=null&&!Be.includes(Lr.scrollingElement))return Be.push(Lr.scrollingElement),Be;if(!(0,w.Re)(Lr)||(0,w.vZ)(Lr)||Be.includes(Lr))return Be;const Ir=(0,w.Jj)(Kt).getComputedStyle(Lr);return Lr!==Kt&&Zt(Lr,Ir)&&Be.push(Lr),Xt(Lr,Ir)?Be:cr(Lr.parentNode)}return Kt?cr(Kt):Be}function ie(Kt){const[ce]=se(Kt,1);return ce!=null?ce:null}function zt(Kt){return!w.Nq||!Kt?null:(0,w.FJ)(Kt)?Kt:(0,w.UG)(Kt)?(0,w.qk)(Kt)||Kt===(0,w.r3)(Kt).scrollingElement?window:(0,w.Re)(Kt)?Kt:null:null}function ae(Kt){return(0,w.FJ)(Kt)?Kt.scrollX:Kt.scrollLeft}function Re(Kt){return(0,w.FJ)(Kt)?Kt.scrollY:Kt.scrollTop}function Jt(Kt){return{x:ae(Kt),y:Re(Kt)}}var ue;(function(Kt){Kt[Kt.Forward=1]="Forward",Kt[Kt.Backward=-1]="Backward"})(ue||(ue={}));function ke(Kt){return!w.Nq||!Kt?!1:Kt===document.scrollingElement}function ye(Kt){const ce={x:0,y:0},Be=ke(Kt)?{height:window.innerHeight,width:window.innerWidth}:{height:Kt.clientHeight,width:Kt.clientWidth},cr={x:Kt.scrollWidth-Be.width,y:Kt.scrollHeight-Be.height},Lr=Kt.scrollTop<=ce.y,Ir=Kt.scrollLeft<=ce.x,Sr=Kt.scrollTop>=cr.y,tn=Kt.scrollLeft>=cr.x;return{isTop:Lr,isLeft:Ir,isBottom:Sr,isRight:tn,maxScroll:cr,minScroll:ce}}const ee={x:.2,y:.2};function Ut(Kt,ce,Be,cr,Lr){let{top:Ir,left:Sr,right:tn,bottom:dn}=Be;cr===void 0&&(cr=10),Lr===void 0&&(Lr=ee);const{isTop:An,isBottom:Kn,isLeft:Wn,isRight:aa}=ye(Kt),oa={x:0,y:0},Ya={x:0,y:0},ua={height:ce.height*Lr.y,width:ce.width*Lr.x};return!An&&Ir<=ce.top+ua.height?(oa.y=ue.Backward,Ya.y=cr*Math.abs((ce.top+ua.height-Ir)/ua.height)):!Kn&&dn>=ce.bottom-ua.height&&(oa.y=ue.Forward,Ya.y=cr*Math.abs((ce.bottom-ua.height-dn)/ua.height)),!aa&&tn>=ce.right-ua.width?(oa.x=ue.Forward,Ya.x=cr*Math.abs((ce.right-ua.width-tn)/ua.width)):!Wn&&Sr<=ce.left+ua.width&&(oa.x=ue.Backward,Ya.x=cr*Math.abs((ce.left+ua.width-Sr)/ua.width)),{direction:oa,speed:Ya}}function bt(Kt){if(Kt===document.scrollingElement){const{innerWidth:Ir,innerHeight:Sr}=window;return{top:0,left:0,right:Ir,bottom:Sr,width:Ir,height:Sr}}const{top:ce,left:Be,right:cr,bottom:Lr}=Kt.getBoundingClientRect();return{top:ce,left:Be,right:cr,bottom:Lr,width:Kt.clientWidth,height:Kt.clientHeight}}function Ft(Kt){return Kt.reduce((ce,Be)=>(0,w.IH)(ce,Jt(Be)),j)}function be(Kt){return Kt.reduce((ce,Be)=>ce+ae(Be),0)}function qe(Kt){return Kt.reduce((ce,Be)=>ce+Re(Be),0)}function Pe(Kt,ce){if(ce===void 0&&(ce=Nt),!Kt)return;const{top:Be,left:cr,bottom:Lr,right:Ir}=ce(Kt);ie(Kt)&&(Lr<=0||Ir<=0||Be>=window.innerHeight||cr>=window.innerWidth)&&Kt.scrollIntoView({block:"center",inline:"center"})}const Ze=[["x",["left","right"],be],["y",["top","bottom"],qe]];class Qe{constructor(ce,Be){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const cr=se(Be),Lr=Ft(cr);this.rect=Sa({},ce),this.width=ce.width,this.height=ce.height;for(const[Ir,Sr,tn]of Ze)for(const dn of Sr)Object.defineProperty(this,dn,{get:()=>{const An=tn(cr),Kn=Lr[Ir]-An;return this.rect[dn]+Kn},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ar{constructor(ce){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(Be=>{var cr;return(cr=this.target)==null?void 0:cr.removeEventListener(...Be)})},this.target=ce}add(ce,Be,cr){var Lr;(Lr=this.target)==null||Lr.addEventListener(ce,Be,cr),this.listeners.push([ce,Be,cr])}}function Hr(Kt){const{EventTarget:ce}=(0,w.Jj)(Kt);return Kt instanceof ce?Kt:(0,w.r3)(Kt)}function Jr(Kt,ce){const Be=Math.abs(Kt.x),cr=Math.abs(Kt.y);return typeof ce=="number"?Math.sqrt(Dv(Be,2)+Dv(cr,2))>ce:"x"in ce&&"y"in ce?Be>ce.x&&cr>ce.y:"x"in ce?Be>ce.x:"y"in ce?cr>ce.y:!1}var Cr;(function(Kt){Kt.Click="click",Kt.DragStart="dragstart",Kt.Keydown="keydown",Kt.ContextMenu="contextmenu",Kt.Resize="resize",Kt.SelectionChange="selectionchange",Kt.VisibilityChange="visibilitychange"})(Cr||(Cr={}));function bn(Kt){Kt.preventDefault()}function Yr(Kt){Kt.stopPropagation()}var Xe;(function(Kt){Kt.Space="Space",Kt.Down="ArrowDown",Kt.Right="ArrowRight",Kt.Left="ArrowLeft",Kt.Up="ArrowUp",Kt.Esc="Escape",Kt.Enter="Enter"})(Xe||(Xe={}));const Ae={start:[Xe.Space,Xe.Enter],cancel:[Xe.Esc],end:[Xe.Space,Xe.Enter]},Ue=(Kt,ce)=>{let{currentCoordinates:Be}=ce;switch(Kt.code){case Xe.Right:return to(Sa({},Be),{x:Be.x+25});case Xe.Left:return to(Sa({},Be),{x:Be.x-25});case Xe.Down:return to(Sa({},Be),{y:Be.y+25});case Xe.Up:return to(Sa({},Be),{y:Be.y-25})}};class jr{constructor(ce){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=ce;const{event:{target:Be}}=ce;this.props=ce,this.listeners=new Ar((0,w.r3)(Be)),this.windowListeners=new Ar((0,w.Jj)(Be)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Cr.Resize,this.handleCancel),this.windowListeners.add(Cr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Cr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:ce,onStart:Be}=this.props,cr=ce.node.current;cr&&Pe(cr),Be(j)}handleKeyDown(ce){if((0,w.vd)(ce)){const{active:Be,context:cr,options:Lr}=this.props,{keyboardCodes:Ir=Ae,coordinateGetter:Sr=Ue,scrollBehavior:tn="smooth"}=Lr,{code:dn}=ce;if(Ir.end.includes(dn)){this.handleEnd(ce);return}if(Ir.cancel.includes(dn)){this.handleCancel(ce);return}const{collisionRect:An}=cr.current,Kn=An?{x:An.left,y:An.top}:j;this.referenceCoordinates||(this.referenceCoordinates=Kn);const Wn=Sr(ce,{active:Be,context:cr.current,currentCoordinates:Kn});if(Wn){const aa=(0,w.$X)(Wn,Kn),oa={x:0,y:0},{scrollableAncestors:Ya}=cr.current;for(const ua of Ya){const qn=ce.code,{isTop:za,isRight:Pa,isLeft:Ea,isBottom:si,maxScroll:qa,minScroll:Na}=ye(ua),_a=bt(ua),pa={x:Math.min(qn===Xe.Right?_a.right-_a.width/2:_a.right,Math.max(qn===Xe.Right?_a.left:_a.left+_a.width/2,Wn.x)),y:Math.min(qn===Xe.Down?_a.bottom-_a.height/2:_a.bottom,Math.max(qn===Xe.Down?_a.top:_a.top+_a.height/2,Wn.y))},fi=qn===Xe.Right&&!Pa||qn===Xe.Left&&!Ea,ri=qn===Xe.Down&&!si||qn===Xe.Up&&!za;if(fi&&pa.x!==Wn.x){const di=ua.scrollLeft+aa.x,Di=qn===Xe.Right&&di<=qa.x||qn===Xe.Left&&di>=Na.x;if(Di&&!aa.y){ua.scrollTo({left:di,behavior:tn});return}Di?oa.x=ua.scrollLeft-di:oa.x=qn===Xe.Right?ua.scrollLeft-qa.x:ua.scrollLeft-Na.x,oa.x&&ua.scrollBy({left:-oa.x,behavior:tn});break}else if(ri&&pa.y!==Wn.y){const di=ua.scrollTop+aa.y,Di=qn===Xe.Down&&di<=qa.y||qn===Xe.Up&&di>=Na.y;if(Di&&!aa.x){ua.scrollTo({top:di,behavior:tn});return}Di?oa.y=ua.scrollTop-di:oa.y=qn===Xe.Down?ua.scrollTop-qa.y:ua.scrollTop-Na.y,oa.y&&ua.scrollBy({top:-oa.y,behavior:tn});break}}this.handleMove(ce,(0,w.IH)((0,w.$X)(Wn,this.referenceCoordinates),oa))}}}handleMove(ce,Be){const{onMove:cr}=this.props;ce.preventDefault(),cr(Be)}handleEnd(ce){const{onEnd:Be}=this.props;ce.preventDefault(),this.detach(),Be()}handleCancel(ce){const{onCancel:Be}=this.props;ce.preventDefault(),this.detach(),Be()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}jr.activators=[{eventName:"onKeyDown",handler:(Kt,ce,Be)=>{let{keyboardCodes:cr=Ae,onActivation:Lr}=ce,{active:Ir}=Be;const{code:Sr}=Kt.nativeEvent;if(cr.start.includes(Sr)){const tn=Ir.activatorNode.current;return tn&&Kt.target!==tn?!1:(Kt.preventDefault(),Lr==null||Lr({event:Kt.nativeEvent}),!0)}return!1}}];function Br(Kt){return Boolean(Kt&&"distance"in Kt)}function Sn(Kt){return Boolean(Kt&&"delay"in Kt)}class ir{constructor(ce,Be,cr){var Lr;cr===void 0&&(cr=Hr(ce.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=ce,this.events=Be;const{event:Ir}=ce,{target:Sr}=Ir;this.props=ce,this.events=Be,this.document=(0,w.r3)(Sr),this.documentListeners=new Ar(this.document),this.listeners=new Ar(cr),this.windowListeners=new Ar((0,w.Jj)(Sr)),this.initialCoordinates=(Lr=(0,w.DC)(Ir))!=null?Lr:j,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:ce,props:{options:{activationConstraint:Be}}}=this;if(this.listeners.add(ce.move.name,this.handleMove,{passive:!1}),this.listeners.add(ce.end.name,this.handleEnd),this.windowListeners.add(Cr.Resize,this.handleCancel),this.windowListeners.add(Cr.DragStart,bn),this.windowListeners.add(Cr.VisibilityChange,this.handleCancel),this.windowListeners.add(Cr.ContextMenu,bn),this.documentListeners.add(Cr.Keydown,this.handleKeydown),Be){if(Br(Be))return;if(Sn(Be)){this.timeoutId=setTimeout(this.handleStart,Be.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:ce}=this,{onStart:Be}=this.props;ce&&(this.activated=!0,this.documentListeners.add(Cr.Click,Yr,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Cr.SelectionChange,this.removeTextSelection),Be(ce))}handleMove(ce){var Be;const{activated:cr,initialCoordinates:Lr,props:Ir}=this,{onMove:Sr,options:{activationConstraint:tn}}=Ir;if(!Lr)return;const dn=(Be=(0,w.DC)(ce))!=null?Be:j,An=(0,w.$X)(Lr,dn);if(!cr&&tn){if(Sn(tn))return Jr(An,tn.tolerance)?this.handleCancel():void 0;if(Br(tn))return tn.tolerance!=null&&Jr(An,tn.tolerance)?this.handleCancel():Jr(An,tn.distance)?this.handleStart():void 0}ce.cancelable&&ce.preventDefault(),Sr(dn)}handleEnd(){const{onEnd:ce}=this.props;this.detach(),ce()}handleCancel(){const{onCancel:ce}=this.props;this.detach(),ce()}handleKeydown(ce){ce.code===Xe.Esc&&this.handleCancel()}removeTextSelection(){var ce;(ce=this.document.getSelection())==null||ce.removeAllRanges()}}const mn={move:{name:"pointermove"},end:{name:"pointerup"}};class Or extends ir{constructor(ce){const{event:Be}=ce,cr=(0,w.r3)(Be.target);super(ce,mn,cr)}}Or.activators=[{eventName:"onPointerDown",handler:(Kt,ce)=>{let{nativeEvent:Be}=Kt,{onActivation:cr}=ce;return!Be.isPrimary||Be.button!==0?!1:(cr==null||cr({event:Be}),!0)}}];const sn={move:{name:"mousemove"},end:{name:"mouseup"}};var ln;(function(Kt){Kt[Kt.RightClick=2]="RightClick"})(ln||(ln={}));class cn extends ir{constructor(ce){super(ce,sn,(0,w.r3)(ce.event.target))}}cn.activators=[{eventName:"onMouseDown",handler:(Kt,ce)=>{let{nativeEvent:Be}=Kt,{onActivation:cr}=ce;return Be.button===ln.RightClick?!1:(cr==null||cr({event:Be}),!0)}}];const Cn={move:{name:"touchmove"},end:{name:"touchend"}};class V extends ir{constructor(ce){super(ce,Cn)}static setup(){return window.addEventListener(Cn.move.name,ce,{capture:!1,passive:!1}),function(){window.removeEventListener(Cn.move.name,ce)};function ce(){}}}V.activators=[{eventName:"onTouchStart",handler:(Kt,ce)=>{let{nativeEvent:Be}=Kt,{onActivation:cr}=ce;const{touches:Lr}=Be;return Lr.length>1?!1:(cr==null||cr({event:Be}),!0)}}];var $t;(function(Kt){Kt[Kt.Pointer=0]="Pointer",Kt[Kt.DraggableRect=1]="DraggableRect"})($t||($t={}));var Q;(function(Kt){Kt[Kt.TreeOrder=0]="TreeOrder",Kt[Kt.ReversedTreeOrder=1]="ReversedTreeOrder"})(Q||(Q={}));function gt(Kt){let{acceleration:ce,activator:Be=$t.Pointer,canScroll:cr,draggingRect:Lr,enabled:Ir,interval:Sr=5,order:tn=Q.TreeOrder,pointerCoordinates:dn,scrollableAncestors:An,scrollableAncestorRects:Kn,delta:Wn,threshold:aa}=Kt;const oa=Gt({delta:Wn,disabled:!Ir}),[Ya,ua]=(0,w.Yz)(),qn=(0,y.useRef)({x:0,y:0}),za=(0,y.useRef)({x:0,y:0}),Pa=(0,y.useMemo)(()=>{switch(Be){case $t.Pointer:return dn?{top:dn.y,bottom:dn.y,left:dn.x,right:dn.x}:null;case $t.DraggableRect:return Lr}},[Be,Lr,dn]),Ea=(0,y.useRef)(null),si=(0,y.useCallback)(()=>{const Na=Ea.current;if(!Na)return;const _a=qn.current.x*za.current.x,pa=qn.current.y*za.current.y;Na.scrollBy(_a,pa)},[]),qa=(0,y.useMemo)(()=>tn===Q.TreeOrder?[...An].reverse():An,[tn,An]);(0,y.useEffect)(()=>{if(!Ir||!An.length||!Pa){ua();return}for(const Na of qa){if((cr==null?void 0:cr(Na))===!1)continue;const _a=An.indexOf(Na),pa=Kn[_a];if(!pa)continue;const{direction:fi,speed:ri}=Ut(Na,pa,Pa,ce,aa);for(const di of["x","y"])oa[di][fi[di]]||(ri[di]=0,fi[di]=0);if(ri.x>0||ri.y>0){ua(),Ea.current=Na,Ya(si,Sr),qn.current=ri,za.current=fi;return}}qn.current={x:0,y:0},za.current={x:0,y:0},ua()},[ce,si,cr,ua,Ir,Sr,JSON.stringify(Pa),JSON.stringify(oa),Ya,An,qa,Kn,JSON.stringify(aa)])}const lt={x:{[ue.Backward]:!1,[ue.Forward]:!1},y:{[ue.Backward]:!1,[ue.Forward]:!1}};function Gt(Kt){let{delta:ce,disabled:Be}=Kt;const cr=(0,w.D9)(ce);return(0,w.Gj)(Lr=>{if(Be||!cr||!Lr)return lt;const Ir={x:Math.sign(ce.x-cr.x),y:Math.sign(ce.y-cr.y)};return{x:{[ue.Backward]:Lr.x[ue.Backward]||Ir.x===-1,[ue.Forward]:Lr.x[ue.Forward]||Ir.x===1},y:{[ue.Backward]:Lr.y[ue.Backward]||Ir.y===-1,[ue.Forward]:Lr.y[ue.Forward]||Ir.y===1}}},[Be,ce,cr])}function Qt(Kt,ce){const Be=ce!==null?Kt.get(ce):void 0,cr=Be?Be.node.current:null;return(0,w.Gj)(Lr=>{var Ir;return ce===null?null:(Ir=cr!=null?cr:Lr)!=null?Ir:null},[cr,ce])}function he(Kt,ce){return(0,y.useMemo)(()=>Kt.reduce((Be,cr)=>{const{sensor:Lr}=cr,Ir=Lr.activators.map(Sr=>({eventName:Sr.eventName,handler:ce(Sr.handler,cr)}));return[...Be,...Ir]},[]),[Kt,ce])}var de;(function(Kt){Kt[Kt.Always=0]="Always",Kt[Kt.BeforeDragging=1]="BeforeDragging",Kt[Kt.WhileDragging=2]="WhileDragging"})(de||(de={}));var fe;(function(Kt){Kt.Optimized="optimized"})(fe||(fe={}));const it=new Map;function ft(Kt,ce){let{dragging:Be,dependencies:cr,config:Lr}=ce;const[Ir,Sr]=(0,y.useState)(null),{frequency:tn,measure:dn,strategy:An}=Lr,Kn=(0,y.useRef)(Kt),Wn=qn(),aa=(0,w.Ey)(Wn),oa=(0,y.useCallback)(function(za){za===void 0&&(za=[]),!aa.current&&Sr(Pa=>Pa===null?za:Pa.concat(za.filter(Ea=>!Pa.includes(Ea))))},[aa]),Ya=(0,y.useRef)(null),ua=(0,w.Gj)(za=>{if(Wn&&!Be)return it;if(!za||za===it||Kn.current!==Kt||Ir!=null){const Pa=new Map;for(let Ea of Kt){if(!Ea)continue;if(Ir&&Ir.length>0&&!Ir.includes(Ea.id)&&Ea.rect.current){Pa.set(Ea.id,Ea.rect.current);continue}const si=Ea.node.current,qa=si?new Qe(dn(si),si):null;Ea.rect.current=qa,qa&&Pa.set(Ea.id,qa)}return Pa}return za},[Kt,Ir,Be,Wn,dn]);return(0,y.useEffect)(()=>{Kn.current=Kt},[Kt]),(0,y.useEffect)(()=>{Wn||oa()},[Be,Wn]),(0,y.useEffect)(()=>{Ir&&Ir.length>0&&Sr(null)},[JSON.stringify(Ir)]),(0,y.useEffect)(()=>{Wn||typeof tn!="number"||Ya.current!==null||(Ya.current=setTimeout(()=>{oa(),Ya.current=null},tn))},[tn,Wn,oa,...cr]),{droppableRects:ua,measureDroppableContainers:oa,measuringScheduled:Ir!=null};function qn(){switch(An){case de.Always:return!1;case de.BeforeDragging:return Be;default:return!Be}}}function G(Kt,ce){return(0,w.Gj)(Be=>Kt?Be||(typeof ce=="function"?ce(Kt):Kt):null,[ce,Kt])}function O(Kt,ce){return G(Kt,ce)}function D(Kt){let{callback:ce,disabled:Be}=Kt;const cr=(0,w.zX)(ce),Lr=(0,y.useMemo)(()=>{if(Be||typeof window=="undefined"||typeof window.MutationObserver=="undefined")return;const{MutationObserver:Ir}=window;return new Ir(cr)},[cr,Be]);return(0,y.useEffect)(()=>()=>Lr==null?void 0:Lr.disconnect(),[Lr]),Lr}function $(Kt){let{callback:ce,disabled:Be}=Kt;const cr=(0,w.zX)(ce),Lr=(0,y.useMemo)(()=>{if(Be||typeof window=="undefined"||typeof window.ResizeObserver=="undefined")return;const{ResizeObserver:Ir}=window;return new Ir(cr)},[Be]);return(0,y.useEffect)(()=>()=>Lr==null?void 0:Lr.disconnect(),[Lr]),Lr}function mt(Kt){return new Qe(Nt(Kt),Kt)}function kt(Kt,ce,Be){ce===void 0&&(ce=mt);const[cr,Lr]=(0,y.useReducer)(tn,null),Ir=D({callback(dn){if(Kt)for(const An of dn){const{type:Kn,target:Wn}=An;if(Kn==="childList"&&Wn instanceof HTMLElement&&Wn.contains(Kt)){Lr();break}}}}),Sr=$({callback:Lr});return(0,w.LI)(()=>{Lr(),Kt?(Sr==null||Sr.observe(Kt),Ir==null||Ir.observe(document.body,{childList:!0,subtree:!0})):(Sr==null||Sr.disconnect(),Ir==null||Ir.disconnect())},[Kt]),cr;function tn(dn){if(!Kt)return null;if(Kt.isConnected===!1){var An;return(An=dn!=null?dn:Be)!=null?An:null}const Kn=ce(Kt);return JSON.stringify(dn)===JSON.stringify(Kn)?dn:Kn}}function Rt(Kt){const ce=G(Kt);return et(Kt,ce)}const qt=[];function Le(Kt){const ce=(0,y.useRef)(Kt),Be=(0,w.Gj)(cr=>Kt?cr&&cr!==qt&&Kt&&ce.current&&Kt.parentNode===ce.current.parentNode?cr:se(Kt):qt,[Kt]);return(0,y.useEffect)(()=>{ce.current=Kt},[Kt]),Be}function Me(Kt){const[ce,Be]=(0,y.useState)(null),cr=(0,y.useRef)(Kt),Lr=(0,y.useCallback)(Ir=>{const Sr=zt(Ir.target);Sr&&Be(tn=>tn?(tn.set(Sr,Jt(Sr)),new Map(tn)):null)},[]);return(0,y.useEffect)(()=>{const Ir=cr.current;if(Kt!==Ir){Sr(Ir);const tn=Kt.map(dn=>{const An=zt(dn);return An?(An.addEventListener("scroll",Lr,{passive:!0}),[An,Jt(An)]):null}).filter(dn=>dn!=null);Be(tn.length?new Map(tn):null),cr.current=Kt}return()=>{Sr(Kt),Sr(Ir)};function Sr(tn){tn.forEach(dn=>{const An=zt(dn);An==null||An.removeEventListener("scroll",Lr)})}},[Lr,Kt]),(0,y.useMemo)(()=>Kt.length?ce?Array.from(ce.values()).reduce((Ir,Sr)=>(0,w.IH)(Ir,Sr),j):Ft(Kt):j,[Kt,ce])}function Ke(Kt,ce){ce===void 0&&(ce=[]);const Be=(0,y.useRef)(null);return(0,y.useEffect)(()=>{Be.current=null},ce),(0,y.useEffect)(()=>{const cr=Kt!==j;cr&&!Be.current&&(Be.current=Kt),!cr&&Be.current&&(Be.current=null)},[Kt]),Be.current?(0,w.$X)(Kt,Be.current):j}function vr(Kt){(0,y.useEffect)(()=>{if(!w.Nq)return;const ce=Kt.map(Be=>{let{sensor:cr}=Be;return cr.setup==null?void 0:cr.setup()});return()=>{for(const Be of ce)Be==null||Be()}},Kt.map(ce=>{let{sensor:Be}=ce;return Be}))}function He(Kt,ce){return(0,y.useMemo)(()=>Kt.reduce((Be,cr)=>{let{eventName:Lr,handler:Ir}=cr;return Be[Lr]=Sr=>{Ir(Sr,ce)},Be},{}),[Kt,ce])}function Rr(Kt){return(0,y.useMemo)(()=>Kt?Ct(Kt):null,[Kt])}const fn=[];function Je(Kt,ce){ce===void 0&&(ce=Nt);const[Be]=Kt,cr=Rr(Be?(0,w.Jj)(Be):null),[Lr,Ir]=(0,y.useReducer)(tn,fn),Sr=$({callback:Ir});return Kt.length>0&&Lr===fn&&Ir(),(0,w.LI)(()=>{Kt.length?Kt.forEach(dn=>Sr==null?void 0:Sr.observe(dn)):(Sr==null||Sr.disconnect(),Ir())},[Kt]),Lr;function tn(){return Kt.length?Kt.map(dn=>ke(dn)?cr:new Qe(ce(dn),dn)):fn}}function pr(Kt){if(!Kt)return null;if(Kt.children.length>1)return Kt;const ce=Kt.children[0];return(0,w.Re)(ce)?ce:Kt}function kr(Kt){let{measure:ce}=Kt;const[Be,cr]=(0,y.useState)(null),Lr=(0,y.useCallback)(An=>{for(const{target:Kn}of An)if((0,w.Re)(Kn)){cr(Wn=>{const aa=ce(Kn);return Wn?to(Sa({},Wn),{width:aa.width,height:aa.height}):aa});break}},[ce]),Ir=$({callback:Lr}),Sr=(0,y.useCallback)(An=>{const Kn=pr(An);Ir==null||Ir.disconnect(),Kn&&(Ir==null||Ir.observe(Kn)),cr(Kn?ce(Kn):null)},[ce,Ir]),[tn,dn]=(0,w.wm)(Sr);return(0,y.useMemo)(()=>({nodeRef:tn,rect:Be,setRef:dn}),[Be,tn,dn])}const Pr=[{sensor:Or,options:{}},{sensor:jr,options:{}}],oe={current:{}},Wt={draggable:{measure:Yt},droppable:{measure:Yt,strategy:de.WhileDragging,frequency:fe.Optimized},dragOverlay:{measure:Nt}};class pe extends Map{get(ce){var Be;return ce!=null&&(Be=super.get(ce))!=null?Be:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(ce=>{let{disabled:Be}=ce;return!Be})}getNodeFor(ce){var Be,cr;return(Be=(cr=this.get(ce))==null?void 0:cr.node.current)!=null?Be:void 0}}const _e={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new pe,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:m},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Wt,measureDroppableContainers:m,windowRect:null,measuringScheduled:!1},xe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:m,draggableNodes:new Map,over:null,measureDroppableContainers:m},Ge=(0,y.createContext)(xe),lr=(0,y.createContext)(_e);function gr(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new pe}}}function Zr(Kt,ce){switch(ce.type){case B.DragStart:return to(Sa({},Kt),{draggable:to(Sa({},Kt.draggable),{initialCoordinates:ce.initialCoordinates,active:ce.active})});case B.DragMove:return Kt.draggable.active?to(Sa({},Kt),{draggable:to(Sa({},Kt.draggable),{translate:{x:ce.coordinates.x-Kt.draggable.initialCoordinates.x,y:ce.coordinates.y-Kt.draggable.initialCoordinates.y}})}):Kt;case B.DragEnd:case B.DragCancel:return to(Sa({},Kt),{draggable:to(Sa({},Kt.draggable),{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case B.RegisterDroppable:{const{element:Be}=ce,{id:cr}=Be,Lr=new pe(Kt.droppable.containers);return Lr.set(cr,Be),to(Sa({},Kt),{droppable:to(Sa({},Kt.droppable),{containers:Lr})})}case B.SetDroppableDisabled:{const{id:Be,key:cr,disabled:Lr}=ce,Ir=Kt.droppable.containers.get(Be);if(!Ir||cr!==Ir.key)return Kt;const Sr=new pe(Kt.droppable.containers);return Sr.set(Be,to(Sa({},Ir),{disabled:Lr})),to(Sa({},Kt),{droppable:to(Sa({},Kt.droppable),{containers:Sr})})}case B.UnregisterDroppable:{const{id:Be,key:cr}=ce,Lr=Kt.droppable.containers.get(Be);if(!Lr||cr!==Lr.key)return Kt;const Ir=new pe(Kt.droppable.containers);return Ir.delete(Be),to(Sa({},Kt),{droppable:to(Sa({},Kt.droppable),{containers:Ir})})}default:return Kt}}function Tn(Kt){let{disabled:ce}=Kt;const{active:Be,activatorEvent:cr,draggableNodes:Lr}=(0,y.useContext)(Ge),Ir=(0,w.D9)(cr),Sr=(0,w.D9)(Be==null?void 0:Be.id);return(0,y.useEffect)(()=>{if(!ce&&!cr&&Ir&&Sr!=null){if(!(0,w.vd)(Ir)||document.activeElement===Ir.target)return;const tn=Lr.get(Sr);if(!tn)return;const{activatorNode:dn,node:An}=tn;if(!dn.current&&!An.current)return;requestAnimationFrame(()=>{for(const Kn of[dn.current,An.current]){if(!Kn)continue;const Wn=(0,w.so)(Kn);if(Wn){Wn.focus();break}}})}},[cr,ce,Lr,Sr,Ir]),null}function an(Kt,ce){let Lr=ce,{transform:Be}=Lr,cr=Th(Lr,["transform"]);return Kt!=null&&Kt.length?Kt.reduce((Ir,Sr)=>Sr(Sa({transform:Ir},cr)),Be):Be}function kn(Kt){return(0,y.useMemo)(()=>({draggable:Sa(Sa({},Wt.draggable),Kt==null?void 0:Kt.draggable),droppable:Sa(Sa({},Wt.droppable),Kt==null?void 0:Kt.droppable),dragOverlay:Sa(Sa({},Wt.dragOverlay),Kt==null?void 0:Kt.dragOverlay)}),[Kt==null?void 0:Kt.draggable,Kt==null?void 0:Kt.droppable,Kt==null?void 0:Kt.dragOverlay])}function un(Kt){let{activeNode:ce,measure:Be,initialRect:cr,config:Lr=!0}=Kt;const Ir=(0,y.useRef)(!1),{x:Sr,y:tn}=typeof Lr=="boolean"?{x:Lr,y:Lr}:Lr;(0,w.LI)(()=>{if(!Sr&&!tn||!ce){Ir.current=!1;return}if(Ir.current||!cr)return;const An=ce==null?void 0:ce.node.current;if(!An||An.isConnected===!1)return;const Kn=Be(An),Wn=et(Kn,cr);if(Sr||(Wn.x=0),tn||(Wn.y=0),Ir.current=!0,Math.abs(Wn.x)>0||Math.abs(Wn.y)>0){const aa=ie(An);aa&&aa.scrollBy({top:Wn.y,left:Wn.x})}},[ce,Sr,tn,cr,Be])}const Bn=(0,y.createContext)(to(Sa({},j),{scaleX:1,scaleY:1}));var Zn;(function(Kt){Kt[Kt.Uninitialized=0]="Uninitialized",Kt[Kt.Initializing=1]="Initializing",Kt[Kt.Initialized=2]="Initialized"})(Zn||(Zn={}));const na=(0,y.memo)(function(ce){var Be,cr,Lr,Ir;let wu=ce,{id:Sr,accessibility:tn,autoScroll:dn=!0,children:An,sensors:Kn=Pr,collisionDetection:Wn=vt,measuring:aa,modifiers:oa}=wu,Ya=Th(wu,["id","accessibility","autoScroll","children","sensors","collisionDetection","measuring","modifiers"]);const ua=(0,y.useReducer)(Zr,void 0,gr),[qn,za]=ua,[Pa,Ea]=b(),[si,qa]=(0,y.useState)(Zn.Uninitialized),Na=si===Zn.Initialized,{draggable:{active:_a,nodes:pa,translate:fi},droppable:{containers:ri}}=qn,di=_a?pa.get(_a):null,Di=(0,y.useRef)({initial:null,translated:null}),Ci=(0,y.useMemo)(()=>{var Fi;return _a!=null?{id:_a,data:(Fi=di==null?void 0:di.data)!=null?Fi:oe,rect:Di}:null},[_a,di]),Ri=(0,y.useRef)(null),[Eo,wo]=(0,y.useState)(null),[Ii,Ra]=(0,y.useState)(null),mi=(0,w.Ey)(Ya,Object.values(Ya)),Pi=(0,w.Ld)("DndDescribedBy",Sr),Ma=(0,y.useMemo)(()=>ri.getEnabled(),[ri]),ki=kn(aa),{droppableRects:no,measureDroppableContainers:Mi,measuringScheduled:Co}=ft(Ma,{dragging:Na,dependencies:[fi.x,fi.y],config:ki.droppable}),yi=Qt(pa,_a),ao=(0,y.useMemo)(()=>Ii?(0,w.DC)(Ii):null,[Ii]),Ro=Eu(),es=O(yi,ki.draggable.measure);un({activeNode:_a?pa.get(_a):null,config:Ro.layoutShiftCompensation,initialRect:es,measure:ki.draggable.measure});const Bi=kt(yi,ki.draggable.measure,es),ko=kt(yi?yi.parentElement:null),Bo=(0,y.useRef)({activatorEvent:null,active:null,activeNode:yi,collisionRect:null,collisions:null,droppableRects:no,draggableNodes:pa,draggingNode:null,draggingNodeRect:null,droppableContainers:ri,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),cs=ri.getNodeFor((Be=Bo.current.over)==null?void 0:Be.id),va=kr({measure:ki.dragOverlay.measure}),Bt=(cr=va.nodeRef.current)!=null?cr:yi,Fe=Na?(Lr=va.rect)!=null?Lr:Bi:null,or=Boolean(va.nodeRef.current&&va.rect),Er=Rt(or?null:Bi),qr=Rr(Bt?(0,w.Jj)(Bt):null),hn=Le(Na?cs!=null?cs:yi:null),zn=Je(hn),Da=an(oa,{transform:{x:fi.x-Er.x,y:fi.y-Er.y,scaleX:1,scaleY:1},activatorEvent:Ii,active:Ci,activeNodeRect:Bi,containerNodeRect:ko,draggingNodeRect:Fe,over:Bo.current.over,overlayNodeRect:va.rect,scrollableAncestors:hn,scrollableAncestorRects:zn,windowRect:qr}),hi=ao?(0,w.IH)(ao,fi):null,Hi=Me(hn),mo=Ke(Hi),fs=Ke(Hi,[Bi]),Ti=(0,w.IH)(Da,mo),Zi=Fe?Ot(Fe,Da):null,Fo=Ci&&Zi?Wn({active:Ci,collisionRect:Zi,droppableRects:no,droppableContainers:Ma,pointerCoordinates:hi}):null,ds=q(Fo,"id"),[qo,bs]=(0,y.useState)(null),Os=or?Da:(0,w.IH)(Da,fs),xs=wt(Os,(Ir=qo==null?void 0:qo.rect)!=null?Ir:null,Bi),nu=(0,y.useCallback)((Fi,yo)=>{let{sensor:Ao,options:h}=yo;if(Ri.current==null)return;const Y=pa.get(Ri.current);if(!Y)return;const Et=Fi.nativeEvent,Pt=new Ao({active:Ri.current,activeNode:Y,event:Et,options:h,context:Bo,onStart(le){const ve=Ri.current;if(ve==null)return;const Ce=pa.get(ve);if(!Ce)return;const{onDragStart:Ne}=mi.current,$e={active:{id:ve,data:Ce.data,rect:Di}};(0,R.unstable_batchedUpdates)(()=>{Ne==null||Ne($e),qa(Zn.Initializing),za({type:B.DragStart,initialCoordinates:le,active:ve}),Pa({type:"onDragStart",event:$e})})},onMove(le){za({type:B.DragMove,coordinates:le})},onEnd:Ht(B.DragEnd),onCancel:Ht(B.DragCancel)});(0,R.unstable_batchedUpdates)(()=>{wo(Pt),Ra(Fi.nativeEvent)});function Ht(le){return function(){return Y0(this,null,function*(){const{active:Ce,collisions:Ne,over:$e,scrollAdjustedTranslate:fr}=Bo.current;let zr=null;if(Ce&&fr){const{cancelDrop:Wr}=mi.current;zr={activatorEvent:Et,active:Ce,collisions:Ne,delta:fr,over:$e},le===B.DragEnd&&typeof Wr=="function"&&(yield Promise.resolve(Wr(zr)))&&(le=B.DragCancel)}Ri.current=null,(0,R.unstable_batchedUpdates)(()=>{za({type:le}),qa(Zn.Uninitialized),bs(null),wo(null),Ra(null);const Wr=le===B.DragEnd?"onDragEnd":"onDragCancel";if(zr){const Gr=mi.current[Wr];Gr==null||Gr(zr),Pa({type:Wr,event:zr})}})})}}},[pa]),jo=(0,y.useCallback)((Fi,yo)=>(Ao,h)=>{const Y=Ao.nativeEvent,Et=pa.get(h);if(Ri.current!==null||!Et||Y.dndKit||Y.defaultPrevented)return;const Pt={active:Et};Fi(Ao,yo.options,Pt)===!0&&(Y.dndKit={capturedBy:yo.sensor},Ri.current=h,nu(Ao,yo))},[pa,nu]),os=he(Kn,jo);vr(Kn),(0,w.LI)(()=>{Bi&&si===Zn.Initializing&&qa(Zn.Initialized)},[Bi,si]),(0,y.useEffect)(()=>{const{onDragMove:Fi}=mi.current,{active:yo,activatorEvent:Ao,collisions:h,over:Y}=Bo.current;if(!yo||!Ao)return;const Et={active:yo,activatorEvent:Ao,collisions:h,delta:{x:Ti.x,y:Ti.y},over:Y};(0,R.unstable_batchedUpdates)(()=>{Fi==null||Fi(Et),Pa({type:"onDragMove",event:Et})})},[Ti.x,Ti.y]),(0,y.useEffect)(()=>{const{active:Fi,activatorEvent:yo,collisions:Ao,droppableContainers:h,scrollAdjustedTranslate:Y}=Bo.current;if(!Fi||Ri.current==null||!yo||!Y)return;const{onDragOver:Et}=mi.current,Pt=h.get(ds),Ht=Pt&&Pt.rect.current?{id:Pt.id,rect:Pt.rect.current,data:Pt.data,disabled:Pt.disabled}:null,le={active:Fi,activatorEvent:yo,collisions:Ao,delta:{x:Y.x,y:Y.y},over:Ht};(0,R.unstable_batchedUpdates)(()=>{bs(Ht),Et==null||Et(le),Pa({type:"onDragOver",event:le})})},[ds]),(0,w.LI)(()=>{Bo.current={activatorEvent:Ii,active:Ci,activeNode:yi,collisionRect:Zi,collisions:Fo,droppableRects:no,draggableNodes:pa,draggingNode:Bt,draggingNodeRect:Fe,droppableContainers:ri,over:qo,scrollableAncestors:hn,scrollAdjustedTranslate:Ti},Di.current={initial:Fe,translated:Zi}},[Ci,yi,Fo,Zi,pa,Bt,Fe,no,ri,qo,hn,Ti]),gt(to(Sa({},Ro),{delta:fi,draggingRect:Zi,pointerCoordinates:hi,scrollableAncestors:hn,scrollableAncestorRects:zn}));const hs=(0,y.useMemo)(()=>({active:Ci,activeNode:yi,activeNodeRect:Bi,activatorEvent:Ii,collisions:Fo,containerNodeRect:ko,dragOverlay:va,draggableNodes:pa,droppableContainers:ri,droppableRects:no,over:qo,measureDroppableContainers:Mi,scrollableAncestors:hn,scrollableAncestorRects:zn,measuringConfiguration:ki,measuringScheduled:Co,windowRect:qr}),[Ci,yi,Bi,Ii,Fo,ko,va,pa,ri,no,qo,Mi,hn,zn,ki,Co,qr]),To=(0,y.useMemo)(()=>({activatorEvent:Ii,activators:os,active:Ci,activeNodeRect:Bi,ariaDescribedById:{draggable:Pi},dispatch:za,draggableNodes:pa,over:qo,measureDroppableContainers:Mi}),[Ii,os,Ci,Bi,za,Pi,pa,qo,Mi]);return y.createElement(S.Provider,{value:Ea},y.createElement(Ge.Provider,{value:To},y.createElement(lr.Provider,{value:hs},y.createElement(Bn.Provider,{value:xs},An)),y.createElement(Tn,{disabled:(tn==null?void 0:tn.restoreFocus)===!1})),y.createElement(T,to(Sa({},tn),{hiddenTextDescribedById:Pi})));function Eu(){const Fi=(Eo==null?void 0:Eo.autoScrollEnabled)===!1,yo=typeof dn=="object"?dn.enabled===!1:dn===!1,Ao=Na&&!Fi&&!yo;return typeof dn=="object"?to(Sa({},dn),{enabled:Ao}):{enabled:Ao}}}),ra=(0,y.createContext)(null),ti="button",Ua="Droppable";function Ia(Kt){let{id:ce,data:Be,disabled:cr=!1,attributes:Lr}=Kt;const Ir=(0,w.Ld)(Ua),{activators:Sr,activatorEvent:tn,active:dn,activeNodeRect:An,ariaDescribedById:Kn,draggableNodes:Wn,over:aa}=(0,y.useContext)(Ge),{role:oa=ti,roleDescription:Ya="draggable",tabIndex:ua=0}=Lr!=null?Lr:{},qn=(dn==null?void 0:dn.id)===ce,za=(0,y.useContext)(qn?Bn:ra),[Pa,Ea]=(0,w.wm)(),[si,qa]=(0,w.wm)(),Na=He(Sr,ce),_a=(0,w.Ey)(Be);(0,w.LI)(()=>(Wn.set(ce,{id:ce,key:Ir,node:Pa,activatorNode:si,data:_a}),()=>{const fi=Wn.get(ce);fi&&fi.key===Ir&&Wn.delete(ce)}),[Wn,ce]);const pa=(0,y.useMemo)(()=>({role:oa,tabIndex:ua,"aria-disabled":cr,"aria-pressed":qn&&oa===ti?!0:void 0,"aria-roledescription":Ya,"aria-describedby":Kn.draggable}),[cr,oa,ua,qn,Ya,Kn.draggable]);return{active:dn,activatorEvent:tn,activeNodeRect:An,attributes:pa,isDragging:qn,listeners:cr?void 0:Na,node:Pa,over:aa,setNodeRef:Ea,setActivatorNodeRef:qa,transform:za}}function oi(){return(0,y.useContext)(lr)}const Lo="Droppable",gi={timeout:25};function ci(Kt){let{data:ce,disabled:Be=!1,id:cr,resizeObserverConfig:Lr}=Kt;const Ir=(0,w.Ld)(Lo),{active:Sr,dispatch:tn,over:dn,measureDroppableContainers:An}=(0,y.useContext)(Ge),Kn=(0,y.useRef)({disabled:Be}),Wn=(0,y.useRef)(!1),aa=(0,y.useRef)(null),oa=(0,y.useRef)(null),{disabled:Ya,updateMeasurementsFor:ua,timeout:qn}=Sa(Sa({},gi),Lr),za=(0,w.Ey)(ua!=null?ua:cr),Pa=(0,y.useCallback)(()=>{if(!Wn.current){Wn.current=!0;return}oa.current!=null&&clearTimeout(oa.current),oa.current=setTimeout(()=>{An(Array.isArray(za.current)?za.current:[za.current]),oa.current=null},qn)},[qn]),Ea=$({callback:Pa,disabled:Ya||!Sr}),si=(0,y.useCallback)((pa,fi)=>{Ea&&(fi&&(Ea.unobserve(fi),Wn.current=!1),pa&&Ea.observe(pa))},[Ea]),[qa,Na]=(0,w.wm)(si),_a=(0,w.Ey)(ce);return(0,y.useEffect)(()=>{!Ea||!qa.current||(Ea.disconnect(),Wn.current=!1,Ea.observe(qa.current))},[qa,Ea]),(0,w.LI)(()=>(tn({type:B.RegisterDroppable,element:{id:cr,key:Ir,disabled:Be,node:qa,rect:aa,data:_a}}),()=>tn({type:B.UnregisterDroppable,key:Ir,id:cr})),[cr]),(0,y.useEffect)(()=>{Be!==Kn.current.disabled&&(tn({type:B.SetDroppableDisabled,id:cr,key:Ir,disabled:Be}),Kn.current.disabled=Be)},[cr,Ir,Be,tn]),{active:Sr,rect:aa,isOver:(dn==null?void 0:dn.id)===cr,node:qa,over:dn,setNodeRef:Na}}function xa(Kt){let{animation:ce,children:Be}=Kt;const[cr,Lr]=useState(null),[Ir,Sr]=useState(null),tn=usePrevious(Be);return!Be&&!cr&&tn&&Lr(tn),useIsomorphicLayoutEffect(()=>{if(!Ir)return;const dn=cr==null?void 0:cr.key,An=cr==null?void 0:cr.props.id;if(dn==null||An==null){Lr(null);return}Promise.resolve(ce(An,Ir)).then(()=>{Lr(null)})},[ce,cr,Ir]),React.createElement(React.Fragment,null,Be,cr?cloneElement(cr,{ref:Sr}):null)}const _i={x:0,y:0,scaleX:1,scaleY:1};function No(Kt){let{children:ce}=Kt;return React.createElement(Ge.Provider,{value:xe},React.createElement(Bn.Provider,{value:_i},ce))}const Wa={position:"fixed",touchAction:"none"},go=Kt=>isKeyboardEvent(Kt)?"transform 250ms ease":void 0,So=null,eo={duration:250,easing:"ease",keyframes:Kt=>{let{transform:{initial:ce,final:Be}}=Kt;return[{transform:w.ux.Transform.toString(ce)},{transform:w.ux.Transform.toString(Be)}]},sideEffects:(Kt=>ce=>{let{active:Be,dragOverlay:cr}=ce;const Lr={},{styles:Ir,className:Sr}=Kt;if(Ir!=null&&Ir.active)for(const[tn,dn]of Object.entries(Ir.active))dn!==void 0&&(Lr[tn]=Be.node.style.getPropertyValue(tn),Be.node.style.setProperty(tn,dn));if(Ir!=null&&Ir.dragOverlay)for(const[tn,dn]of Object.entries(Ir.dragOverlay))dn!==void 0&&cr.node.style.setProperty(tn,dn);return Sr!=null&&Sr.active&&Be.node.classList.add(Sr.active),Sr!=null&&Sr.dragOverlay&&cr.node.classList.add(Sr.dragOverlay),function(){for(const[dn,An]of Object.entries(Lr))Be.node.style.setProperty(dn,An);Sr!=null&&Sr.active&&Be.node.classList.remove(Sr.active)}})({styles:{active:{opacity:"0"}}})};function _o(Kt){let{config:ce,draggableNodes:Be,droppableContainers:cr,measuringConfiguration:Lr}=Kt;return useEvent((Ir,Sr)=>{if(ce===null)return;const tn=Be.get(Ir);if(!tn)return;const dn=tn.node.current;if(!dn)return;const An=pr(Sr);if(!An)return;const{transform:Kn}=getWindow(Sr).getComputedStyle(Sr),Wn=Dt(Kn);if(!Wn)return;const aa=typeof ce=="function"?ce:is(ce);return Pe(dn,Lr.draggable.measure),aa({active:{id:Ir,data:tn.data,node:dn,rect:Lr.draggable.measure(dn)},draggableNodes:Be,dragOverlay:{node:Sr,rect:Lr.dragOverlay.measure(An)},droppableContainers:cr,measuringConfiguration:Lr,transform:Wn})})}function is(Kt){const{duration:ce,easing:Be,sideEffects:cr,keyframes:Lr}=Sa(Sa({},eo),Kt);return Ir=>{let Pa=Ir,{active:Sr,dragOverlay:tn,transform:dn}=Pa,An=Th(Pa,["active","dragOverlay","transform"]);if(!ce)return;const Kn={x:tn.rect.left-Sr.rect.left,y:tn.rect.top-Sr.rect.top},Wn={scaleX:dn.scaleX!==1?Sr.rect.width*dn.scaleX/tn.rect.width:1,scaleY:dn.scaleY!==1?Sr.rect.height*dn.scaleY/tn.rect.height:1},aa=Sa({x:dn.x-Kn.x,y:dn.y-Kn.y},Wn),oa=Lr(to(Sa({},An),{active:Sr,dragOverlay:tn,transform:{initial:dn,final:aa}})),[Ya]=oa,ua=oa[oa.length-1];if(JSON.stringify(Ya)===JSON.stringify(ua))return;const qn=cr==null?void 0:cr(Sa({active:Sr,dragOverlay:tn},An)),za=tn.node.animate(oa,{duration:ce,easing:Be,fill:"forwards"});return new Promise(Ea=>{za.onfinish=()=>{qn==null||qn(),Ea()}})}}let Oi=0;function ro(Kt){return useMemo(()=>{if(Kt!=null)return Oi++,Oi},[Kt])}const Jn=null},245587:function(Ve,W,_){"use strict";_.d(W,{Fo:function(){return z},PG:function(){return b},Rp:function(){return M},nB:function(){return ct},qw:function(){return m}});var y=_(667294),R=_(960887),w=_(724285);function M(rt,Ot,Dt){const ot=rt.slice();return ot.splice(Dt<0?ot.length+Dt:Dt,0,ot.splice(Ot,1)[0]),ot}function P(rt,Ot,Dt){const ot=rt.slice();return ot[Ot]=rt[Dt],ot[Dt]=rt[Ot],ot}function L(rt,Ot){return rt.reduce((Dt,ot,xt)=>{const Nt=Ot.get(ot);return Nt&&(Dt[xt]=Nt),Dt},Array(rt.length))}function p(rt){return rt!==null&&rt>=0}function g(rt,Ot){if(rt===Ot)return!0;if(rt.length!==Ot.length)return!1;for(let Dt=0;Dt<rt.length;Dt++)if(rt[Dt]!==Ot[Dt])return!1;return!0}function S(rt){return typeof rt=="boolean"?{draggable:rt,droppable:rt}:rt}const E={scaleX:1,scaleY:1},b=rt=>{var Ot;let{rects:Dt,activeNodeRect:ot,activeIndex:xt,overIndex:Nt,index:Yt}=rt;const Ct=(Ot=Dt[xt])!=null?Ot:ot;if(!Ct)return null;const Xt=A(Dt,Yt,xt);if(Yt===xt){const Zt=Dt[Nt];return Zt?Sa({x:xt<Nt?Zt.left+Zt.width-(Ct.left+Ct.width):Zt.left-Ct.left,y:0},E):null}return Yt>xt&&Yt<=Nt?Sa({x:-Ct.width-Xt,y:0},E):Yt<xt&&Yt>=Nt?Sa({x:Ct.width+Xt,y:0},E):Sa({x:0,y:0},E)};function A(rt,Ot,Dt){const ot=rt[Ot],xt=rt[Ot-1],Nt=rt[Ot+1];return!ot||!xt&&!Nt?0:Dt<Ot?xt?ot.left-(xt.left+xt.width):Nt.left-(ot.left+ot.width):Nt?Nt.left-(ot.left+ot.width):ot.left-(xt.left+xt.width)}const x=rt=>{let{rects:Ot,activeIndex:Dt,overIndex:ot,index:xt}=rt;const Nt=M(Ot,ot,Dt),Yt=Ot[xt],Ct=Nt[xt];return!Ct||!Yt?null:{x:Ct.left-Yt.left,y:Ct.top-Yt.top,scaleX:Ct.width/Yt.width,scaleY:Ct.height/Yt.height}},T=rt=>{let{activeIndex:Ot,index:Dt,rects:ot,overIndex:xt}=rt,Nt,Yt;return Dt===Ot&&(Nt=ot[Dt],Yt=ot[xt]),Dt===xt&&(Nt=ot[Dt],Yt=ot[Ot]),!Yt||!Nt?null:{x:Yt.left-Nt.left,y:Yt.top-Nt.top,scaleX:Yt.width/Nt.width,scaleY:Yt.height/Nt.height}},B={scaleX:1,scaleY:1},m=rt=>{var Ot;let{activeIndex:Dt,activeNodeRect:ot,index:xt,rects:Nt,overIndex:Yt}=rt;const Ct=(Ot=Nt[Dt])!=null?Ot:ot;if(!Ct)return null;if(xt===Dt){const Zt=Nt[Yt];return Zt?Sa({x:0,y:Dt<Yt?Zt.top+Zt.height-(Ct.top+Ct.height):Zt.top-Ct.top},B):null}const Xt=f(Nt,xt,Dt);return xt>Dt&&xt<=Yt?Sa({x:0,y:-Ct.height-Xt},B):xt<Dt&&xt>=Yt?Sa({x:0,y:Ct.height+Xt},B):Sa({x:0,y:0},B)};function f(rt,Ot,Dt){const ot=rt[Ot],xt=rt[Ot-1],Nt=rt[Ot+1];return ot?Dt<Ot?xt?ot.top-(xt.top+xt.height):Nt?Nt.top-(ot.top+ot.height):0:Nt?Nt.top-(ot.top+ot.height):xt?ot.top-(xt.top+xt.height):0:0}const U="Sortable",j=y.createContext({activeIndex:-1,containerId:U,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:x,disabled:{draggable:!1,droppable:!1}});function z(rt){let{children:Ot,id:Dt,items:ot,strategy:xt=x,disabled:Nt=!1}=rt;const{active:Yt,dragOverlay:Ct,droppableRects:Xt,over:Zt,measureDroppableContainers:se}=(0,R.Cj)(),ie=(0,w.Ld)(U,Dt),zt=Boolean(Ct.rect!==null),ae=(0,y.useMemo)(()=>ot.map(Ft=>typeof Ft=="object"&&"id"in Ft?Ft.id:Ft),[ot]),Re=Yt!=null,Jt=Yt?ae.indexOf(Yt.id):-1,ue=Zt?ae.indexOf(Zt.id):-1,ke=(0,y.useRef)(ae),ye=!g(ae,ke.current),ee=ue!==-1&&Jt===-1||ye,Ut=S(Nt);(0,w.LI)(()=>{ye&&Re&&se(ae)},[ye,ae,Re,se]),(0,y.useEffect)(()=>{ke.current=ae},[ae]);const bt=(0,y.useMemo)(()=>({activeIndex:Jt,containerId:ie,disabled:Ut,disableTransforms:ee,items:ae,overIndex:ue,useDragOverlay:zt,sortedRects:L(ae,Xt),strategy:xt}),[Jt,ie,Ut.draggable,Ut.droppable,ee,ae,ue,Xt,zt,xt]);return y.createElement(j.Provider,{value:bt},Ot)}const k=rt=>{let{id:Ot,items:Dt,activeIndex:ot,overIndex:xt}=rt;return M(Dt,ot,xt).indexOf(Ot)},X=rt=>{let{containerId:Ot,isSorting:Dt,wasDragging:ot,index:xt,items:Nt,newIndex:Yt,previousItems:Ct,previousContainerId:Xt,transition:Zt}=rt;return!Zt||!ot||Ct!==Nt&&xt===Yt?!1:Dt?!0:Yt!==xt&&Ot===Xt},K={duration:200,easing:"ease"},tt="transform",q=w.ux.Transition.toString({property:tt,duration:0,easing:"linear"}),at={roleDescription:"sortable"};function pt(rt){let{disabled:Ot,index:Dt,node:ot,rect:xt}=rt;const[Nt,Yt]=(0,y.useState)(null),Ct=(0,y.useRef)(Dt);return(0,w.LI)(()=>{if(!Ot&&Dt!==Ct.current&&ot.current){const Xt=xt.current;if(Xt){const Zt=(0,R.VK)(ot.current,{ignoreTransform:!0}),se={x:Xt.left-Zt.left,y:Xt.top-Zt.top,scaleX:Xt.width/Zt.width,scaleY:Xt.height/Zt.height};(se.x||se.y)&&Yt(se)}}Dt!==Ct.current&&(Ct.current=Dt)},[Ot,Dt,ot,xt]),(0,y.useEffect)(()=>{Nt&&Yt(null)},[Nt]),Nt}function ct(rt){let{animateLayoutChanges:Ot=X,attributes:Dt,disabled:ot,data:xt,getNewIndex:Nt=k,id:Yt,strategy:Ct,resizeObserverConfig:Xt,transition:Zt=K}=rt;const{items:se,containerId:ie,activeIndex:zt,disabled:ae,disableTransforms:Re,sortedRects:Jt,overIndex:ue,useDragOverlay:ke,strategy:ye}=(0,y.useContext)(j),ee=St(ot,ae),Ut=se.indexOf(Yt),bt=(0,y.useMemo)(()=>Sa({sortable:{containerId:ie,index:Ut,items:se}},xt),[ie,xt,Ut,se]),Ft=(0,y.useMemo)(()=>se.slice(se.indexOf(Yt)),[se,Yt]),{rect:be,node:qe,isOver:Pe,setNodeRef:Ze}=(0,R.Zj)({id:Yt,data:bt,disabled:ee.droppable,resizeObserverConfig:Sa({updateMeasurementsFor:Ft},Xt)}),{active:Qe,activatorEvent:Ar,activeNodeRect:Hr,attributes:Jr,setNodeRef:Cr,listeners:bn,isDragging:Yr,over:Xe,setActivatorNodeRef:Ae,transform:Ue}=(0,R.O1)({id:Yt,data:bt,attributes:Sa(Sa({},at),Dt),disabled:ee.draggable}),jr=(0,w.HB)(Ze,Cr),Br=Boolean(Qe),Sn=Br&&!Re&&p(zt)&&p(ue),ir=!ke&&Yr,mn=ir&&Sn?Ue:null,Or=Ct!=null?Ct:ye,sn=Sn?mn!=null?mn:Or({rects:Jt,activeNodeRect:Hr,activeIndex:zt,overIndex:ue,index:Ut}):null,ln=p(zt)&&p(ue)?Nt({id:Yt,items:se,activeIndex:zt,overIndex:ue}):Ut,cn=Qe==null?void 0:Qe.id,Cn=(0,y.useRef)({activeId:cn,items:se,newIndex:ln,containerId:ie}),V=se!==Cn.current.items,$t=Ot({active:Qe,containerId:ie,isDragging:Yr,isSorting:Br,id:Yt,index:Ut,items:se,newIndex:Cn.current.newIndex,previousItems:Cn.current.items,previousContainerId:Cn.current.containerId,transition:Zt,wasDragging:Cn.current.activeId!=null}),Q=pt({disabled:!$t,index:Ut,node:qe,rect:be});return(0,y.useEffect)(()=>{Br&&Cn.current.newIndex!==ln&&(Cn.current.newIndex=ln),ie!==Cn.current.containerId&&(Cn.current.containerId=ie),se!==Cn.current.items&&(Cn.current.items=se)},[Br,ln,ie,se]),(0,y.useEffect)(()=>{if(cn===Cn.current.activeId)return;if(cn&&!Cn.current.activeId){Cn.current.activeId=cn;return}const lt=setTimeout(()=>{Cn.current.activeId=cn},50);return()=>clearTimeout(lt)},[cn]),{active:Qe,activeIndex:zt,attributes:Jr,data:bt,rect:be,index:Ut,newIndex:ln,items:se,isOver:Pe,isSorting:Br,isDragging:Yr,listeners:bn,node:qe,overIndex:ue,over:Xe,setNodeRef:jr,setActivatorNodeRef:Ae,setDroppableNodeRef:Ze,setDraggableNodeRef:Cr,transform:Q!=null?Q:sn,transition:gt()};function gt(){if(Q||V&&Cn.current.newIndex===Ut)return q;if(!(ir&&!(0,w.vd)(Ar)||!Zt)&&(Br||$t))return w.ux.Transition.toString(to(Sa({},Zt),{property:tt}))}}function St(rt,Ot){var Dt,ot;return typeof rt=="boolean"?{draggable:rt,droppable:!1}:{draggable:(Dt=rt==null?void 0:rt.draggable)!=null?Dt:Ot.draggable,droppable:(ot=rt==null?void 0:rt.droppable)!=null?ot:Ot.droppable}}function vt(rt){if(!rt)return!1;const Ot=rt.data.current;return!!(Ot&&"sortable"in Ot&&typeof Ot.sortable=="object"&&"containerId"in Ot.sortable&&"items"in Ot.sortable&&"index"in Ot.sortable)}const Lt=[R.g4.Down,R.g4.Right,R.g4.Up,R.g4.Left],Mt=(rt,Ot)=>{let{context:{active:Dt,collisionRect:ot,droppableRects:xt,droppableContainers:Nt,over:Yt,scrollableAncestors:Ct}}=Ot;if(Lt.includes(rt.code)){if(rt.preventDefault(),!Dt||!ot)return;const Xt=[];Nt.getEnabled().forEach(ie=>{if(!ie||ie!=null&&ie.disabled)return;const zt=xt.get(ie.id);if(zt)switch(rt.code){case KeyboardCode.Down:ot.top<zt.top&&Xt.push(ie);break;case KeyboardCode.Up:ot.top>zt.top&&Xt.push(ie);break;case KeyboardCode.Left:ot.left>zt.left&&Xt.push(ie);break;case KeyboardCode.Right:ot.left<zt.left&&Xt.push(ie);break}});const Zt=closestCorners({active:Dt,collisionRect:ot,droppableRects:xt,droppableContainers:Xt,pointerCoordinates:null});let se=getFirstCollision(Zt,"id");if(se===(Yt==null?void 0:Yt.id)&&Zt.length>1&&(se=Zt[1].id),se!=null){const ie=Nt.get(Dt.id),zt=Nt.get(se),ae=zt?xt.get(zt.id):null,Re=zt==null?void 0:zt.node.current;if(Re&&ae&&ie&&zt){const ue=getScrollableAncestors(Re).some((Ft,be)=>Ct[be]!==Ft),ke=wt(ie,zt),ye=et(ie,zt),ee=ue||!ke?{x:0,y:0}:{x:ye?ot.width-ae.width:0,y:ye?ot.height-ae.height:0},Ut={x:ae.left,y:ae.top};return ee.x&&ee.y?Ut:subtract(Ut,ee)}}}};function wt(rt,Ot){return!vt(rt)||!vt(Ot)?!1:rt.data.current.sortable.containerId===Ot.data.current.sortable.containerId}function et(rt,Ot){return!vt(rt)||!vt(Ot)||!wt(rt,Ot)?!1:rt.data.current.sortable.index<Ot.data.current.sortable.index}},724285:function(Ve,W,_){"use strict";_.d(W,{$X:function(){return X},D9:function(){return f},DC:function(){return at},Ey:function(){return T},FJ:function(){return M},Gj:function(){return B},HB:function(){return R},IH:function(){return k},Jj:function(){return L},LI:function(){return b},Ld:function(){return j},Nq:function(){return w},Re:function(){return g},UG:function(){return P},Yz:function(){return x},qk:function(){return p},r3:function(){return E},so:function(){return St},ux:function(){return pt},vZ:function(){return S},vd:function(){return tt},wm:function(){return m},zX:function(){return A}});var y=_(667294);function R(){for(var vt=arguments.length,Lt=new Array(vt),Mt=0;Mt<vt;Mt++)Lt[Mt]=arguments[Mt];return(0,y.useMemo)(()=>wt=>{Lt.forEach(et=>et(wt))},Lt)}const w=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";function M(vt){const Lt=Object.prototype.toString.call(vt);return Lt==="[object Window]"||Lt==="[object global]"}function P(vt){return"nodeType"in vt}function L(vt){var Lt,Mt;return vt?M(vt)?vt:P(vt)&&(Lt=(Mt=vt.ownerDocument)==null?void 0:Mt.defaultView)!=null?Lt:window:window}function p(vt){const{Document:Lt}=L(vt);return vt instanceof Lt}function g(vt){return M(vt)?!1:vt instanceof L(vt).HTMLElement}function S(vt){return vt instanceof L(vt).SVGElement}function E(vt){return vt?M(vt)?vt.document:P(vt)?p(vt)?vt:g(vt)?vt.ownerDocument:document:document:document}const b=w?y.useLayoutEffect:y.useEffect;function A(vt){const Lt=(0,y.useRef)(vt);return b(()=>{Lt.current=vt}),(0,y.useCallback)(function(){for(var Mt=arguments.length,wt=new Array(Mt),et=0;et<Mt;et++)wt[et]=arguments[et];return Lt.current==null?void 0:Lt.current(...wt)},[])}function x(){const vt=(0,y.useRef)(null),Lt=(0,y.useCallback)((wt,et)=>{vt.current=setInterval(wt,et)},[]),Mt=(0,y.useCallback)(()=>{vt.current!==null&&(clearInterval(vt.current),vt.current=null)},[]);return[Lt,Mt]}function T(vt,Lt){Lt===void 0&&(Lt=[vt]);const Mt=(0,y.useRef)(vt);return b(()=>{Mt.current!==vt&&(Mt.current=vt)},Lt),Mt}function B(vt,Lt){const Mt=(0,y.useRef)();return(0,y.useMemo)(()=>{const wt=vt(Mt.current);return Mt.current=wt,wt},[...Lt])}function m(vt){const Lt=A(vt),Mt=(0,y.useRef)(null),wt=(0,y.useCallback)(et=>{et!==Mt.current&&(Lt==null||Lt(et,Mt.current)),Mt.current=et},[]);return[Mt,wt]}function f(vt){const Lt=(0,y.useRef)();return(0,y.useEffect)(()=>{Lt.current=vt},[vt]),Lt.current}let U={};function j(vt,Lt){return(0,y.useMemo)(()=>{if(Lt)return Lt;const Mt=U[vt]==null?0:U[vt]+1;return U[vt]=Mt,vt+"-"+Mt},[vt,Lt])}function z(vt){return function(Lt){for(var Mt=arguments.length,wt=new Array(Mt>1?Mt-1:0),et=1;et<Mt;et++)wt[et-1]=arguments[et];return wt.reduce((rt,Ot)=>{const Dt=Object.entries(Ot);for(const[ot,xt]of Dt){const Nt=rt[ot];Nt!=null&&(rt[ot]=Nt+vt*xt)}return rt},Sa({},Lt))}}const k=z(1),X=z(-1);function K(vt){return"clientX"in vt&&"clientY"in vt}function tt(vt){if(!vt)return!1;const{KeyboardEvent:Lt}=L(vt.target);return Lt&&vt instanceof Lt}function q(vt){if(!vt)return!1;const{TouchEvent:Lt}=L(vt.target);return Lt&&vt instanceof Lt}function at(vt){if(q(vt)){if(vt.touches&&vt.touches.length){const{clientX:Lt,clientY:Mt}=vt.touches[0];return{x:Lt,y:Mt}}else if(vt.changedTouches&&vt.changedTouches.length){const{clientX:Lt,clientY:Mt}=vt.changedTouches[0];return{x:Lt,y:Mt}}}return K(vt)?{x:vt.clientX,y:vt.clientY}:null}const pt=Object.freeze({Translate:{toString(vt){if(!vt)return;const{x:Lt,y:Mt}=vt;return"translate3d("+(Lt?Math.round(Lt):0)+"px, "+(Mt?Math.round(Mt):0)+"px, 0)"}},Scale:{toString(vt){if(!vt)return;const{scaleX:Lt,scaleY:Mt}=vt;return"scaleX("+Lt+") scaleY("+Mt+")"}},Transform:{toString(vt){if(vt)return[pt.Translate.toString(vt),pt.Scale.toString(vt)].join(" ")}},Transition:{toString(vt){let{property:Lt,duration:Mt,easing:wt}=vt;return Lt+" "+Mt+"ms "+wt}}}),ct="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function St(vt){return vt.matches(ct)?vt:vt.querySelector(ct)}},486880:function(Ve,W,_){"use strict";_.r(W),_.d(W,{forceCenter:function(){return y},forceCollide:function(){return p},forceLink:function(){return A},forceManyBody:function(){return Re},forceRadial:function(){return Jt},forceSimulation:function(){return ae},forceX:function(){return ue},forceY:function(){return ke}});function y(ye,ee){var Ut,bt=1;ye==null&&(ye=0),ee==null&&(ee=0);function Ft(){var be,qe=Ut.length,Pe,Ze=0,Qe=0;for(be=0;be<qe;++be)Pe=Ut[be],Ze+=Pe.x,Qe+=Pe.y;for(Ze=(Ze/qe-ye)*bt,Qe=(Qe/qe-ee)*bt,be=0;be<qe;++be)Pe=Ut[be],Pe.x-=Ze,Pe.y-=Qe}return Ft.initialize=function(be){Ut=be},Ft.x=function(be){return arguments.length?(ye=+be,Ft):ye},Ft.y=function(be){return arguments.length?(ee=+be,Ft):ee},Ft.strength=function(be){return arguments.length?(bt=+be,Ft):bt},Ft}var R=_(547148);function w(ye){return function(){return ye}}function M(ye){return(ye()-.5)*1e-6}function P(ye){return ye.x+ye.vx}function L(ye){return ye.y+ye.vy}function p(ye){var ee,Ut,bt,Ft=1,be=1;typeof ye!="function"&&(ye=w(ye==null?1:+ye));function qe(){for(var Qe,Ar=ee.length,Hr,Jr,Cr,bn,Yr,Xe,Ae=0;Ae<be;++Ae)for(Hr=(0,R.Z)(ee,P,L).visitAfter(Pe),Qe=0;Qe<Ar;++Qe)Jr=ee[Qe],Yr=Ut[Jr.index],Xe=Yr*Yr,Cr=Jr.x+Jr.vx,bn=Jr.y+Jr.vy,Hr.visit(Ue);function Ue(jr,Br,Sn,ir,mn){var Or=jr.data,sn=jr.r,ln=Yr+sn;if(Or){if(Or.index>Jr.index){var cn=Cr-Or.x-Or.vx,Cn=bn-Or.y-Or.vy,V=cn*cn+Cn*Cn;V<ln*ln&&(cn===0&&(cn=M(bt),V+=cn*cn),Cn===0&&(Cn=M(bt),V+=Cn*Cn),V=(ln-(V=Math.sqrt(V)))/V*Ft,Jr.vx+=(cn*=V)*(ln=(sn*=sn)/(Xe+sn)),Jr.vy+=(Cn*=V)*ln,Or.vx-=cn*(ln=1-ln),Or.vy-=Cn*ln)}return}return Br>Cr+ln||ir<Cr-ln||Sn>bn+ln||mn<bn-ln}}function Pe(Qe){if(Qe.data)return Qe.r=Ut[Qe.data.index];for(var Ar=Qe.r=0;Ar<4;++Ar)Qe[Ar]&&Qe[Ar].r>Qe.r&&(Qe.r=Qe[Ar].r)}function Ze(){if(ee){var Qe,Ar=ee.length,Hr;for(Ut=new Array(Ar),Qe=0;Qe<Ar;++Qe)Hr=ee[Qe],Ut[Hr.index]=+ye(Hr,Qe,ee)}}return qe.initialize=function(Qe,Ar){ee=Qe,bt=Ar,Ze()},qe.iterations=function(Qe){return arguments.length?(be=+Qe,qe):be},qe.strength=function(Qe){return arguments.length?(Ft=+Qe,qe):Ft},qe.radius=function(Qe){return arguments.length?(ye=typeof Qe=="function"?Qe:w(+Qe),Ze(),qe):ye},qe}var g=_(918698),S=_.n(g);function E(ye){return ye.index}function b(ye,ee){var Ut=ye.get(ee);if(!Ut)throw new Error("node not found: "+ee);return Ut}function A(ye){var ee=E,Ut=Hr,bt,Ft=w(30),be,qe,Pe,Ze,Qe,Ar=1;ye==null&&(ye=[]);function Hr(Xe){return 1/Math.min(Pe[Xe.source.index],Pe[Xe.target.index])}function Jr(Xe){for(var Ae=0,Ue=ye.length;Ae<Ar;++Ae)for(var jr=0,Br,Sn,ir,mn,Or,sn,ln;jr<Ue;++jr)Br=ye[jr],Sn=Br.source,ir=Br.target,mn=ir.x+ir.vx-Sn.x-Sn.vx||M(Qe),Or=ir.y+ir.vy-Sn.y-Sn.vy||M(Qe),sn=Math.sqrt(mn*mn+Or*Or),sn=(sn-be[jr])/sn*Xe*bt[jr],mn*=sn,Or*=sn,ir.vx-=mn*(ln=Ze[jr]),ir.vy-=Or*ln,Sn.vx+=mn*(ln=1-ln),Sn.vy+=Or*ln}function Cr(){if(qe){var Xe,Ae=qe.length,Ue=ye.length,jr=new Map(qe.map(function(Sn,ir){return[ee(Sn,ir,qe),Sn]})),Br;for(Xe=0,Pe=new Array(Ae);Xe<Ue;++Xe)Br=ye[Xe],Br.index=Xe,S()(Br.source)!=="object"&&(Br.source=b(jr,Br.source)),S()(Br.target)!=="object"&&(Br.target=b(jr,Br.target)),Pe[Br.source.index]=(Pe[Br.source.index]||0)+1,Pe[Br.target.index]=(Pe[Br.target.index]||0)+1;for(Xe=0,Ze=new Array(Ue);Xe<Ue;++Xe)Br=ye[Xe],Ze[Xe]=Pe[Br.source.index]/(Pe[Br.source.index]+Pe[Br.target.index]);bt=new Array(Ue),bn(),be=new Array(Ue),Yr()}}function bn(){if(qe)for(var Xe=0,Ae=ye.length;Xe<Ae;++Xe)bt[Xe]=+Ut(ye[Xe],Xe,ye)}function Yr(){if(qe)for(var Xe=0,Ae=ye.length;Xe<Ae;++Xe)be[Xe]=+Ft(ye[Xe],Xe,ye)}return Jr.initialize=function(Xe,Ae){qe=Xe,Qe=Ae,Cr()},Jr.links=function(Xe){return arguments.length?(ye=Xe,Cr(),Jr):ye},Jr.id=function(Xe){return arguments.length?(ee=Xe,Jr):ee},Jr.iterations=function(Xe){return arguments.length?(Ar=+Xe,Jr):Ar},Jr.strength=function(Xe){return arguments.length?(Ut=typeof Xe=="function"?Xe:w(+Xe),bn(),Jr):Ut},Jr.distance=function(Xe){return arguments.length?(Ft=typeof Xe=="function"?Xe:w(+Xe),Yr(),Jr):Ft},Jr}var x={value:function(){}};function T(){for(var ye=0,ee=arguments.length,Ut={},bt;ye<ee;++ye){if(!(bt=arguments[ye]+"")||bt in Ut||/[\s.]/.test(bt))throw new Error("illegal type: "+bt);Ut[bt]=[]}return new B(Ut)}function B(ye){this._=ye}function m(ye,ee){return ye.trim().split(/^|\s+/).map(function(Ut){var bt="",Ft=Ut.indexOf(".");if(Ft>=0&&(bt=Ut.slice(Ft+1),Ut=Ut.slice(0,Ft)),Ut&&!ee.hasOwnProperty(Ut))throw new Error("unknown type: "+Ut);return{type:Ut,name:bt}})}B.prototype=T.prototype={constructor:B,on:function(ee,Ut){var bt=this._,Ft=m(ee+"",bt),be,qe=-1,Pe=Ft.length;if(arguments.length<2){for(;++qe<Pe;)if((be=(ee=Ft[qe]).type)&&(be=f(bt[be],ee.name)))return be;return}if(Ut!=null&&typeof Ut!="function")throw new Error("invalid callback: "+Ut);for(;++qe<Pe;)if(be=(ee=Ft[qe]).type)bt[be]=U(bt[be],ee.name,Ut);else if(Ut==null)for(be in bt)bt[be]=U(bt[be],ee.name,null);return this},copy:function(){var ee={},Ut=this._;for(var bt in Ut)ee[bt]=Ut[bt].slice();return new B(ee)},call:function(ee,Ut){if((be=arguments.length-2)>0)for(var bt=new Array(be),Ft=0,be,qe;Ft<be;++Ft)bt[Ft]=arguments[Ft+2];if(!this._.hasOwnProperty(ee))throw new Error("unknown type: "+ee);for(qe=this._[ee],Ft=0,be=qe.length;Ft<be;++Ft)qe[Ft].value.apply(Ut,bt)},apply:function(ee,Ut,bt){if(!this._.hasOwnProperty(ee))throw new Error("unknown type: "+ee);for(var Ft=this._[ee],be=0,qe=Ft.length;be<qe;++be)Ft[be].value.apply(Ut,bt)}};function f(ye,ee){for(var Ut=0,bt=ye.length,Ft;Ut<bt;++Ut)if((Ft=ye[Ut]).name===ee)return Ft.value}function U(ye,ee,Ut){for(var bt=0,Ft=ye.length;bt<Ft;++bt)if(ye[bt].name===ee){ye[bt]=x,ye=ye.slice(0,bt).concat(ye.slice(bt+1));break}return Ut!=null&&ye.push({name:ee,value:Ut}),ye}var j=T,z=0,k=0,X=0,K=1e3,tt,q,at=0,pt=0,ct=0,St=typeof performance=="object"&&performance.now?performance:Date,vt=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(ye){setTimeout(ye,17)};function Lt(){return pt||(vt(Mt),pt=St.now()+ct)}function Mt(){pt=0}function wt(){this._call=this._time=this._next=null}wt.prototype=et.prototype={constructor:wt,restart:function(ye,ee,Ut){if(typeof ye!="function")throw new TypeError("callback is not a function");Ut=(Ut==null?Lt():+Ut)+(ee==null?0:+ee),!this._next&&q!==this&&(q?q._next=this:tt=this,q=this),this._call=ye,this._time=Ut,xt()},stop:function(){this._call&&(this._call=null,this._time=1/0,xt())}};function et(ye,ee,Ut){var bt=new wt;return bt.restart(ye,ee,Ut),bt}function rt(){Lt(),++z;for(var ye=tt,ee;ye;)(ee=pt-ye._time)>=0&&ye._call.call(null,ee),ye=ye._next;--z}function Ot(){pt=(at=St.now())+ct,z=k=0;try{rt()}finally{z=0,ot(),pt=0}}function Dt(){var ye=St.now(),ee=ye-at;ee>K&&(ct-=ee,at=ye)}function ot(){for(var ye,ee=tt,Ut,bt=1/0;ee;)ee._call?(bt>ee._time&&(bt=ee._time),ye=ee,ee=ee._next):(Ut=ee._next,ee._next=null,ee=ye?ye._next=Ut:tt=Ut);q=ye,xt(bt)}function xt(ye){if(!z){k&&(k=clearTimeout(k));var ee=ye-pt;ee>24?(ye<1/0&&(k=setTimeout(Ot,ye-St.now()-ct)),X&&(X=clearInterval(X))):(X||(at=St.now(),X=setInterval(Dt,K)),z=1,vt(Ot))}}var Nt=1664525,Yt=1013904223,Ct=4294967296;function Xt(){var ye=1;return function(){return(ye=(Nt*ye+Yt)%Ct)/Ct}}function Zt(ye){return ye.x}function se(ye){return ye.y}var ie=10,zt=Math.PI*(3-Math.sqrt(5));function ae(ye){var ee,Ut=1,bt=.001,Ft=1-Math.pow(bt,1/300),be=0,qe=.6,Pe=new Map,Ze=et(Hr),Qe=j("tick","end"),Ar=Xt();ye==null&&(ye=[]);function Hr(){Jr(),Qe.call("tick",ee),Ut<bt&&(Ze.stop(),Qe.call("end",ee))}function Jr(Yr){var Xe,Ae=ye.length,Ue;Yr===void 0&&(Yr=1);for(var jr=0;jr<Yr;++jr)for(Ut+=(be-Ut)*Ft,Pe.forEach(function(Br){Br(Ut)}),Xe=0;Xe<Ae;++Xe)Ue=ye[Xe],Ue.fx==null?Ue.x+=Ue.vx*=qe:(Ue.x=Ue.fx,Ue.vx=0),Ue.fy==null?Ue.y+=Ue.vy*=qe:(Ue.y=Ue.fy,Ue.vy=0);return ee}function Cr(){for(var Yr=0,Xe=ye.length,Ae;Yr<Xe;++Yr){if(Ae=ye[Yr],Ae.index=Yr,Ae.fx!=null&&(Ae.x=Ae.fx),Ae.fy!=null&&(Ae.y=Ae.fy),isNaN(Ae.x)||isNaN(Ae.y)){var Ue=ie*Math.sqrt(.5+Yr),jr=Yr*zt;Ae.x=Ue*Math.cos(jr),Ae.y=Ue*Math.sin(jr)}(isNaN(Ae.vx)||isNaN(Ae.vy))&&(Ae.vx=Ae.vy=0)}}function bn(Yr){return Yr.initialize&&Yr.initialize(ye,Ar),Yr}return Cr(),ee={tick:Jr,restart:function(){return Ze.restart(Hr),ee},stop:function(){return Ze.stop(),ee},nodes:function(Xe){return arguments.length?(ye=Xe,Cr(),Pe.forEach(bn),ee):ye},alpha:function(Xe){return arguments.length?(Ut=+Xe,ee):Ut},alphaMin:function(Xe){return arguments.length?(bt=+Xe,ee):bt},alphaDecay:function(Xe){return arguments.length?(Ft=+Xe,ee):+Ft},alphaTarget:function(Xe){return arguments.length?(be=+Xe,ee):be},velocityDecay:function(Xe){return arguments.length?(qe=1-Xe,ee):1-qe},randomSource:function(Xe){return arguments.length?(Ar=Xe,Pe.forEach(bn),ee):Ar},force:function(Xe,Ae){return arguments.length>1?(Ae==null?Pe.delete(Xe):Pe.set(Xe,bn(Ae)),ee):Pe.get(Xe)},find:function(Xe,Ae,Ue){var jr=0,Br=ye.length,Sn,ir,mn,Or,sn;for(Ue==null?Ue=1/0:Ue*=Ue,jr=0;jr<Br;++jr)Or=ye[jr],Sn=Xe-Or.x,ir=Ae-Or.y,mn=Sn*Sn+ir*ir,mn<Ue&&(sn=Or,Ue=mn);return sn},on:function(Xe,Ae){return arguments.length>1?(Qe.on(Xe,Ae),ee):Qe.on(Xe)}}}function Re(){var ye,ee,Ut,bt,Ft=w(-30),be,qe=1,Pe=1/0,Ze=.81;function Qe(Cr){var bn,Yr=ye.length,Xe=(0,R.Z)(ye,Zt,se).visitAfter(Hr);for(bt=Cr,bn=0;bn<Yr;++bn)ee=ye[bn],Xe.visit(Jr)}function Ar(){if(ye){var Cr,bn=ye.length,Yr;for(be=new Array(bn),Cr=0;Cr<bn;++Cr)Yr=ye[Cr],be[Yr.index]=+Ft(Yr,Cr,ye)}}function Hr(Cr){var bn=0,Yr,Xe,Ae=0,Ue,jr,Br;if(Cr.length){for(Ue=jr=Br=0;Br<4;++Br)(Yr=Cr[Br])&&(Xe=Math.abs(Yr.value))&&(bn+=Yr.value,Ae+=Xe,Ue+=Xe*Yr.x,jr+=Xe*Yr.y);Cr.x=Ue/Ae,Cr.y=jr/Ae}else{Yr=Cr,Yr.x=Yr.data.x,Yr.y=Yr.data.y;do bn+=be[Yr.data.index];while(Yr=Yr.next)}Cr.value=bn}function Jr(Cr,bn,Yr,Xe){if(!Cr.value)return!0;var Ae=Cr.x-ee.x,Ue=Cr.y-ee.y,jr=Xe-bn,Br=Ae*Ae+Ue*Ue;if(jr*jr/Ze<Br)return Br<Pe&&(Ae===0&&(Ae=M(Ut),Br+=Ae*Ae),Ue===0&&(Ue=M(Ut),Br+=Ue*Ue),Br<qe&&(Br=Math.sqrt(qe*Br)),ee.vx+=Ae*Cr.value*bt/Br,ee.vy+=Ue*Cr.value*bt/Br),!0;if(Cr.length||Br>=Pe)return;(Cr.data!==ee||Cr.next)&&(Ae===0&&(Ae=M(Ut),Br+=Ae*Ae),Ue===0&&(Ue=M(Ut),Br+=Ue*Ue),Br<qe&&(Br=Math.sqrt(qe*Br)));do Cr.data!==ee&&(jr=be[Cr.data.index]*bt/Br,ee.vx+=Ae*jr,ee.vy+=Ue*jr);while(Cr=Cr.next)}return Qe.initialize=function(Cr,bn){ye=Cr,Ut=bn,Ar()},Qe.strength=function(Cr){return arguments.length?(Ft=typeof Cr=="function"?Cr:w(+Cr),Ar(),Qe):Ft},Qe.distanceMin=function(Cr){return arguments.length?(qe=Cr*Cr,Qe):Math.sqrt(qe)},Qe.distanceMax=function(Cr){return arguments.length?(Pe=Cr*Cr,Qe):Math.sqrt(Pe)},Qe.theta=function(Cr){return arguments.length?(Ze=Cr*Cr,Qe):Math.sqrt(Ze)},Qe}function Jt(ye,ee,Ut){var bt,Ft=w(.1),be,qe;typeof ye!="function"&&(ye=w(+ye)),ee==null&&(ee=0),Ut==null&&(Ut=0);function Pe(Qe){for(var Ar=0,Hr=bt.length;Ar<Hr;++Ar){var Jr=bt[Ar],Cr=Jr.x-ee||1e-6,bn=Jr.y-Ut||1e-6,Yr=Math.sqrt(Cr*Cr+bn*bn),Xe=(qe[Ar]-Yr)*be[Ar]*Qe/Yr;Jr.vx+=Cr*Xe,Jr.vy+=bn*Xe}}function Ze(){if(bt){var Qe,Ar=bt.length;for(be=new Array(Ar),qe=new Array(Ar),Qe=0;Qe<Ar;++Qe)qe[Qe]=+ye(bt[Qe],Qe,bt),be[Qe]=isNaN(qe[Qe])?0:+Ft(bt[Qe],Qe,bt)}}return Pe.initialize=function(Qe){bt=Qe,Ze()},Pe.strength=function(Qe){return arguments.length?(Ft=typeof Qe=="function"?Qe:w(+Qe),Ze(),Pe):Ft},Pe.radius=function(Qe){return arguments.length?(ye=typeof Qe=="function"?Qe:w(+Qe),Ze(),Pe):ye},Pe.x=function(Qe){return arguments.length?(ee=+Qe,Pe):ee},Pe.y=function(Qe){return arguments.length?(Ut=+Qe,Pe):Ut},Pe}function ue(ye){var ee=w(.1),Ut,bt,Ft;typeof ye!="function"&&(ye=w(ye==null?0:+ye));function be(Pe){for(var Ze=0,Qe=Ut.length,Ar;Ze<Qe;++Ze)Ar=Ut[Ze],Ar.vx+=(Ft[Ze]-Ar.x)*bt[Ze]*Pe}function qe(){if(Ut){var Pe,Ze=Ut.length;for(bt=new Array(Ze),Ft=new Array(Ze),Pe=0;Pe<Ze;++Pe)bt[Pe]=isNaN(Ft[Pe]=+ye(Ut[Pe],Pe,Ut))?0:+ee(Ut[Pe],Pe,Ut)}}return be.initialize=function(Pe){Ut=Pe,qe()},be.strength=function(Pe){return arguments.length?(ee=typeof Pe=="function"?Pe:w(+Pe),qe(),be):ee},be.x=function(Pe){return arguments.length?(ye=typeof Pe=="function"?Pe:w(+Pe),qe(),be):ye},be}function ke(ye){var ee=w(.1),Ut,bt,Ft;typeof ye!="function"&&(ye=w(ye==null?0:+ye));function be(Pe){for(var Ze=0,Qe=Ut.length,Ar;Ze<Qe;++Ze)Ar=Ut[Ze],Ar.vy+=(Ft[Ze]-Ar.y)*bt[Ze]*Pe}function qe(){if(Ut){var Pe,Ze=Ut.length;for(bt=new Array(Ze),Ft=new Array(Ze),Pe=0;Pe<Ze;++Pe)bt[Pe]=isNaN(Ft[Pe]=+ye(Ut[Pe],Pe,Ut))?0:+ee(Ut[Pe],Pe,Ut)}}return be.initialize=function(Pe){Ut=Pe,qe()},be.strength=function(Pe){return arguments.length?(ee=typeof Pe=="function"?Pe:w(+Pe),qe(),be):ee},be.y=function(Pe){return arguments.length?(ye=typeof Pe=="function"?Pe:w(+Pe),qe(),be):ye},be}},405237:function(Ve,W,_){"use strict";_.r(W),_.d(W,{AbstractMatrix:function(){return ee},CHO:function(){return de},CholeskyDecomposition:function(){return de},EVD:function(){return Q},EigenvalueDecomposition:function(){return Q},LU:function(){return Ue},LuDecomposition:function(){return Ue},Matrix:function(){return Ft},MatrixColumnSelectionView:function(){return Pe},MatrixColumnView:function(){return qe},MatrixFlipColumnView:function(){return Ze},MatrixFlipRowView:function(){return Qe},MatrixRowSelectionView:function(){return Hr},MatrixRowView:function(){return Ar},MatrixSelectionView:function(){return Jr},MatrixSubView:function(){return Cr},MatrixTransposeView:function(){return bn},NIPALS:function(){return fe},Nipals:function(){return fe},QR:function(){return Br},QrDecomposition:function(){return Br},SVD:function(){return Sn},SingularValueDecomposition:function(){return Sn},WrapperMatrix1D:function(){return Yr},WrapperMatrix2D:function(){return Xe},correlation:function(){return $t},covariance:function(){return V},default:function(){return Ft},determinant:function(){return Or},inverse:function(){return ir},linearDependencies:function(){return cn},pseudoInverse:function(){return Cn},solve:function(){return mn},wrap:function(){return Ae}});var y=_(994993),R=_.n(y),w=_(861655),M=_.n(w),P=_(226389),L=_.n(P),p=_(918698),g=_.n(p),S=_(856690),E=_.n(S),b=_(689728),A=_.n(b);const x=Object.prototype.toString;function T(it){return x.call(it).endsWith("Array]")}function B(it){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!T(it))throw new TypeError("input must be an array");if(it.length===0)throw new TypeError("input must not be empty");var G=ft.fromIndex,O=G===void 0?0:G,D=ft.toIndex,$=D===void 0?it.length:D;if(O<0||O>=it.length||!Number.isInteger(O))throw new Error("fromIndex must be a positive integer smaller than length");if($<=O||$>it.length||!Number.isInteger($))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var mt=it[O],kt=O+1;kt<$;kt++)it[kt]>mt&&(mt=it[kt]);return mt}function m(it){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!T(it))throw new TypeError("input must be an array");if(it.length===0)throw new TypeError("input must not be empty");var G=ft.fromIndex,O=G===void 0?0:G,D=ft.toIndex,$=D===void 0?it.length:D;if(O<0||O>=it.length||!Number.isInteger(O))throw new Error("fromIndex must be a positive integer smaller than length");if($<=O||$>it.length||!Number.isInteger($))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var mt=it[O],kt=O+1;kt<$;kt++)it[kt]<mt&&(mt=it[kt]);return mt}function f(it){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T(it)){if(it.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var G;if(ft.output!==void 0){if(!T(ft.output))throw new TypeError("output option must be an array if specified");G=ft.output}else G=new Array(it.length);var O=m(it),D=B(it);if(O===D)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var $=ft.min,mt=$===void 0?ft.autoMinMax?O:0:$,kt=ft.max,Rt=kt===void 0?ft.autoMinMax?D:1:kt;if(mt>=Rt)throw new RangeError("min option must be smaller than max option");for(var qt=(Rt-mt)/(D-O),Le=0;Le<it.length;Le++)G[Le]=(it[Le]-O)*qt+mt;return G}var U=" ".repeat(2),j=" ".repeat(4);function z(){return k(this)}function k(it){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=ft.maxRows,O=G===void 0?15:G,D=ft.maxColumns,$=D===void 0?10:D,mt=ft.maxNumSize,kt=mt===void 0?8:mt,Rt=ft.padMinus,qt=Rt===void 0?"auto":Rt;return"".concat(it.constructor.name,` {
`).concat(U,`[
`).concat(j).concat(X(it,O,$,kt,qt),`
`).concat(U,`]
`).concat(U,"rows: ").concat(it.rows,`
`).concat(U,"columns: ").concat(it.columns,`
}`)}function X(it,ft,G,O,D){var $=it.rows,mt=it.columns,kt=Math.min($,ft),Rt=Math.min(mt,G),qt=[];if(D==="auto"){D=!1;t:for(var Le=0;Le<kt;Le++)for(var Me=0;Me<Rt;Me++)if(it.get(Le,Me)<0){D=!0;break t}}for(var Ke=0;Ke<kt;Ke++){for(var vr=[],He=0;He<Rt;He++)vr.push(K(it.get(Ke,He),O,D));qt.push("".concat(vr.join(" ")))}return Rt!==mt&&(qt[qt.length-1]+=" ... ".concat(mt-G," more columns")),kt!==$&&qt.push("... ".concat($-ft," more rows")),qt.join(`
`.concat(j))}function K(it,ft,G){return(it>=0&&G?" ".concat(tt(it,ft-1)):tt(it,ft)).padEnd(ft)}function tt(it,ft){var G=it.toString();if(G.length<=ft)return G;var O=it.toFixed(ft);if(O.length>ft&&(O=it.toFixed(Math.max(0,ft-(O.length-ft)))),O.length<=ft&&!O.startsWith("0.000")&&!O.startsWith("-0.000"))return O;var D=it.toExponential(ft);return D.length>ft&&(D=it.toExponential(Math.max(0,ft-(D.length-ft)))),D.slice(0)}function q(it,ft){it.prototype.add=function(O){return typeof O=="number"?this.addS(O):this.addM(O)},it.prototype.addS=function(O){for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)+O);return this},it.prototype.addM=function(O){if(O=ft.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)+O.get(D,$));return this},it.add=function(O,D){var $=new ft(O);return $.add(D)},it.prototype.sub=function(O){return typeof O=="number"?this.subS(O):this.subM(O)},it.prototype.subS=function(O){for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)-O);return this},it.prototype.subM=function(O){if(O=ft.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)-O.get(D,$));return this},it.sub=function(O,D){var $=new ft(O);return $.sub(D)},it.prototype.subtract=it.prototype.sub,it.prototype.subtractS=it.prototype.subS,it.prototype.subtractM=it.prototype.subM,it.subtract=it.sub,it.prototype.mul=function(O){return typeof O=="number"?this.mulS(O):this.mulM(O)},it.prototype.mulS=function(O){for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)*O);return this},it.prototype.mulM=function(O){if(O=ft.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)*O.get(D,$));return this},it.mul=function(O,D){var $=new ft(O);return $.mul(D)},it.prototype.multiply=it.prototype.mul,it.prototype.multiplyS=it.prototype.mulS,it.prototype.multiplyM=it.prototype.mulM,it.multiply=it.mul,it.prototype.div=function(O){return typeof O=="number"?this.divS(O):this.divM(O)},it.prototype.divS=function(O){for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)/O);return this},it.prototype.divM=function(O){if(O=ft.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)/O.get(D,$));return this},it.div=function(O,D){var $=new ft(O);return $.div(D)},it.prototype.divide=it.prototype.div,it.prototype.divideS=it.prototype.divS,it.prototype.divideM=it.prototype.divM,it.divide=it.div,it.prototype.mod=function(O){return typeof O=="number"?this.modS(O):this.modM(O)},it.prototype.modS=function(O){for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)%O);return this},it.prototype.modM=function(O){if(O=ft.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)%O.get(D,$));return this},it.mod=function(O,D){var $=new ft(O);return $.mod(D)},it.prototype.modulus=it.prototype.mod,it.prototype.modulusS=it.prototype.modS,it.prototype.modulusM=it.prototype.modM,it.modulus=it.mod,it.prototype.and=function(O){return typeof O=="number"?this.andS(O):this.andM(O)},it.prototype.andS=function(O){for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)&O);return this},it.prototype.andM=function(O){if(O=ft.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)&O.get(D,$));return this},it.and=function(O,D){var $=new ft(O);return $.and(D)},it.prototype.or=function(O){return typeof O=="number"?this.orS(O):this.orM(O)},it.prototype.orS=function(O){for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)|O);return this},it.prototype.orM=function(O){if(O=ft.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)|O.get(D,$));return this},it.or=function(O,D){var $=new ft(O);return $.or(D)},it.prototype.xor=function(O){return typeof O=="number"?this.xorS(O):this.xorM(O)},it.prototype.xorS=function(O){for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)^O);return this},it.prototype.xorM=function(O){if(O=ft.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)^O.get(D,$));return this},it.xor=function(O,D){var $=new ft(O);return $.xor(D)},it.prototype.leftShift=function(O){return typeof O=="number"?this.leftShiftS(O):this.leftShiftM(O)},it.prototype.leftShiftS=function(O){for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)<<O);return this},it.prototype.leftShiftM=function(O){if(O=ft.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)<<O.get(D,$));return this},it.leftShift=function(O,D){var $=new ft(O);return $.leftShift(D)},it.prototype.signPropagatingRightShift=function(O){return typeof O=="number"?this.signPropagatingRightShiftS(O):this.signPropagatingRightShiftM(O)},it.prototype.signPropagatingRightShiftS=function(O){for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)>>O);return this},it.prototype.signPropagatingRightShiftM=function(O){if(O=ft.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)>>O.get(D,$));return this},it.signPropagatingRightShift=function(O,D){var $=new ft(O);return $.signPropagatingRightShift(D)},it.prototype.rightShift=function(O){return typeof O=="number"?this.rightShiftS(O):this.rightShiftM(O)},it.prototype.rightShiftS=function(O){for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)>>>O);return this},it.prototype.rightShiftM=function(O){if(O=ft.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,this.get(D,$)>>>O.get(D,$));return this},it.rightShift=function(O,D){var $=new ft(O);return $.rightShift(D)},it.prototype.zeroFillRightShift=it.prototype.rightShift,it.prototype.zeroFillRightShiftS=it.prototype.rightShiftS,it.prototype.zeroFillRightShiftM=it.prototype.rightShiftM,it.zeroFillRightShift=it.rightShift,it.prototype.not=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,~this.get(O,D));return this},it.not=function(O){var D=new ft(O);return D.not()},it.prototype.abs=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.abs(this.get(O,D)));return this},it.abs=function(O){var D=new ft(O);return D.abs()},it.prototype.acos=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.acos(this.get(O,D)));return this},it.acos=function(O){var D=new ft(O);return D.acos()},it.prototype.acosh=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.acosh(this.get(O,D)));return this},it.acosh=function(O){var D=new ft(O);return D.acosh()},it.prototype.asin=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.asin(this.get(O,D)));return this},it.asin=function(O){var D=new ft(O);return D.asin()},it.prototype.asinh=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.asinh(this.get(O,D)));return this},it.asinh=function(O){var D=new ft(O);return D.asinh()},it.prototype.atan=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.atan(this.get(O,D)));return this},it.atan=function(O){var D=new ft(O);return D.atan()},it.prototype.atanh=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.atanh(this.get(O,D)));return this},it.atanh=function(O){var D=new ft(O);return D.atanh()},it.prototype.cbrt=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.cbrt(this.get(O,D)));return this},it.cbrt=function(O){var D=new ft(O);return D.cbrt()},it.prototype.ceil=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.ceil(this.get(O,D)));return this},it.ceil=function(O){var D=new ft(O);return D.ceil()},it.prototype.clz32=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.clz32(this.get(O,D)));return this},it.clz32=function(O){var D=new ft(O);return D.clz32()},it.prototype.cos=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.cos(this.get(O,D)));return this},it.cos=function(O){var D=new ft(O);return D.cos()},it.prototype.cosh=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.cosh(this.get(O,D)));return this},it.cosh=function(O){var D=new ft(O);return D.cosh()},it.prototype.exp=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.exp(this.get(O,D)));return this},it.exp=function(O){var D=new ft(O);return D.exp()},it.prototype.expm1=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.expm1(this.get(O,D)));return this},it.expm1=function(O){var D=new ft(O);return D.expm1()},it.prototype.floor=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.floor(this.get(O,D)));return this},it.floor=function(O){var D=new ft(O);return D.floor()},it.prototype.fround=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.fround(this.get(O,D)));return this},it.fround=function(O){var D=new ft(O);return D.fround()},it.prototype.log=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.log(this.get(O,D)));return this},it.log=function(O){var D=new ft(O);return D.log()},it.prototype.log1p=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.log1p(this.get(O,D)));return this},it.log1p=function(O){var D=new ft(O);return D.log1p()},it.prototype.log10=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.log10(this.get(O,D)));return this},it.log10=function(O){var D=new ft(O);return D.log10()},it.prototype.log2=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.log2(this.get(O,D)));return this},it.log2=function(O){var D=new ft(O);return D.log2()},it.prototype.round=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.round(this.get(O,D)));return this},it.round=function(O){var D=new ft(O);return D.round()},it.prototype.sign=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.sign(this.get(O,D)));return this},it.sign=function(O){var D=new ft(O);return D.sign()},it.prototype.sin=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.sin(this.get(O,D)));return this},it.sin=function(O){var D=new ft(O);return D.sin()},it.prototype.sinh=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.sinh(this.get(O,D)));return this},it.sinh=function(O){var D=new ft(O);return D.sinh()},it.prototype.sqrt=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.sqrt(this.get(O,D)));return this},it.sqrt=function(O){var D=new ft(O);return D.sqrt()},it.prototype.tan=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.tan(this.get(O,D)));return this},it.tan=function(O){var D=new ft(O);return D.tan()},it.prototype.tanh=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.tanh(this.get(O,D)));return this},it.tanh=function(O){var D=new ft(O);return D.tanh()},it.prototype.trunc=function(){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,Math.trunc(this.get(O,D)));return this},it.trunc=function(O){var D=new ft(O);return D.trunc()},it.pow=function(O,D){var $=new ft(O);return $.pow(D)},it.prototype.pow=function(O){return typeof O=="number"?this.powS(O):this.powM(O)},it.prototype.powS=function(O){for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,Math.pow(this.get(D,$),O));return this},it.prototype.powM=function(O){if(O=ft.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.set(D,$,Math.pow(this.get(D,$),O.get(D,$)));return this}}function at(it,ft,G){var O=G?it.rows:it.rows-1;if(ft<0||ft>O)throw new RangeError("Row index out of range")}function pt(it,ft,G){var O=G?it.columns:it.columns-1;if(ft<0||ft>O)throw new RangeError("Column index out of range")}function ct(it,ft){if(ft.to1DArray&&(ft=ft.to1DArray()),ft.length!==it.columns)throw new RangeError("vector size must be the same as the number of columns");return ft}function St(it,ft){if(ft.to1DArray&&(ft=ft.to1DArray()),ft.length!==it.rows)throw new RangeError("vector size must be the same as the number of rows");return ft}function vt(it,ft){if(!T(ft))throw new TypeError("row indices must be an array");for(var G=0;G<ft.length;G++)if(ft[G]<0||ft[G]>=it.rows)throw new RangeError("row indices are out of range")}function Lt(it,ft){if(!T(ft))throw new TypeError("column indices must be an array");for(var G=0;G<ft.length;G++)if(ft[G]<0||ft[G]>=it.columns)throw new RangeError("column indices are out of range")}function Mt(it,ft,G,O,D){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(et("startRow",ft),et("endRow",G),et("startColumn",O),et("endColumn",D),ft>G||O>D||ft<0||ft>=it.rows||G<0||G>=it.rows||O<0||O>=it.columns||D<0||D>=it.columns)throw new RangeError("Submatrix indices are out of range")}function wt(it){for(var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,G=[],O=0;O<it;O++)G.push(ft);return G}function et(it,ft){if(typeof ft!="number")throw new TypeError("".concat(it," must be a number"))}function rt(it){if(it.isEmpty())throw new Error("Empty matrix has no elements to index")}function Ot(it){for(var ft=wt(it.rows),G=0;G<it.rows;++G)for(var O=0;O<it.columns;++O)ft[G]+=it.get(G,O);return ft}function Dt(it){for(var ft=wt(it.columns),G=0;G<it.rows;++G)for(var O=0;O<it.columns;++O)ft[O]+=it.get(G,O);return ft}function ot(it){for(var ft=0,G=0;G<it.rows;G++)for(var O=0;O<it.columns;O++)ft+=it.get(G,O);return ft}function xt(it){for(var ft=wt(it.rows,1),G=0;G<it.rows;++G)for(var O=0;O<it.columns;++O)ft[G]*=it.get(G,O);return ft}function Nt(it){for(var ft=wt(it.columns,1),G=0;G<it.rows;++G)for(var O=0;O<it.columns;++O)ft[O]*=it.get(G,O);return ft}function Yt(it){for(var ft=1,G=0;G<it.rows;G++)for(var O=0;O<it.columns;O++)ft*=it.get(G,O);return ft}function Ct(it,ft,G){for(var O=it.rows,D=it.columns,$=[],mt=0;mt<O;mt++){for(var kt=0,Rt=0,qt=0,Le=0;Le<D;Le++)qt=it.get(mt,Le)-G[mt],kt+=qt,Rt+=qt*qt;ft?$.push((Rt-kt*kt/D)/(D-1)):$.push((Rt-kt*kt/D)/D)}return $}function Xt(it,ft,G){for(var O=it.rows,D=it.columns,$=[],mt=0;mt<D;mt++){for(var kt=0,Rt=0,qt=0,Le=0;Le<O;Le++)qt=it.get(Le,mt)-G[mt],kt+=qt,Rt+=qt*qt;ft?$.push((Rt-kt*kt/O)/(O-1)):$.push((Rt-kt*kt/O)/O)}return $}function Zt(it,ft,G){for(var O=it.rows,D=it.columns,$=O*D,mt=0,kt=0,Rt=0,qt=0;qt<O;qt++)for(var Le=0;Le<D;Le++)Rt=it.get(qt,Le)-G,mt+=Rt,kt+=Rt*Rt;return ft?(kt-mt*mt/$)/($-1):(kt-mt*mt/$)/$}function se(it,ft){for(var G=0;G<it.rows;G++)for(var O=0;O<it.columns;O++)it.set(G,O,it.get(G,O)-ft[G])}function ie(it,ft){for(var G=0;G<it.rows;G++)for(var O=0;O<it.columns;O++)it.set(G,O,it.get(G,O)-ft[O])}function zt(it,ft){for(var G=0;G<it.rows;G++)for(var O=0;O<it.columns;O++)it.set(G,O,it.get(G,O)-ft)}function ae(it){for(var ft=[],G=0;G<it.rows;G++){for(var O=0,D=0;D<it.columns;D++)O+=Math.pow(it.get(G,D),2)/(it.columns-1);ft.push(Math.sqrt(O))}return ft}function Re(it,ft){for(var G=0;G<it.rows;G++)for(var O=0;O<it.columns;O++)it.set(G,O,it.get(G,O)/ft[G])}function Jt(it){for(var ft=[],G=0;G<it.columns;G++){for(var O=0,D=0;D<it.rows;D++)O+=Math.pow(it.get(D,G),2)/(it.rows-1);ft.push(Math.sqrt(O))}return ft}function ue(it,ft){for(var G=0;G<it.rows;G++)for(var O=0;O<it.columns;O++)it.set(G,O,it.get(G,O)/ft[O])}function ke(it){for(var ft=it.size-1,G=0,O=0;O<it.columns;O++)for(var D=0;D<it.rows;D++)G+=Math.pow(it.get(D,O),2)/ft;return Math.sqrt(G)}function ye(it,ft){for(var G=0;G<it.rows;G++)for(var O=0;O<it.columns;O++)it.set(G,O,it.get(G,O)/ft)}var ee=function(){function it(){E()(this,it)}return A()(it,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(G){if(typeof G!="function")throw new TypeError("callback must be a function");for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)G.call(this,O,D);return this}},{key:"to1DArray",value:function(){for(var G=[],O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)G.push(this.get(O,D));return G}},{key:"to2DArray",value:function(){for(var G=[],O=0;O<this.rows;O++){G.push([]);for(var D=0;D<this.columns;D++)G[O].push(this.get(O,D))}return G}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var G=0;G<this.rows;G++)for(var O=0;O<=G;O++)if(this.get(G,O)!==this.get(O,G))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var G=0,O=0,D=-1,$=!0,mt=!1;G<this.rows&&$;){for(O=0,mt=!1;O<this.columns&&mt===!1;)this.get(G,O)===0?O++:this.get(G,O)===1&&O>D?(mt=!0,D=O):($=!1,mt=!0);G++}return $}},{key:"isReducedEchelonForm",value:function(){for(var G=0,O=0,D=-1,$=!0,mt=!1;G<this.rows&&$;){for(O=0,mt=!1;O<this.columns&&mt===!1;)this.get(G,O)===0?O++:this.get(G,O)===1&&O>D?(mt=!0,D=O):($=!1,mt=!0);for(var kt=O+1;kt<this.rows;kt++)this.get(G,kt)!==0&&($=!1);G++}return $}},{key:"echelonForm",value:function(){for(var G=this.clone(),O=0,D=0;O<G.rows&&D<G.columns;){for(var $=O,mt=O;mt<G.rows;mt++)G.get(mt,D)>G.get($,D)&&($=mt);if(G.get($,D)===0)D++;else{G.swapRows(O,$);for(var kt=G.get(O,D),Rt=D;Rt<G.columns;Rt++)G.set(O,Rt,G.get(O,Rt)/kt);for(var qt=O+1;qt<G.rows;qt++){var Le=G.get(qt,D)/G.get(O,D);G.set(qt,D,0);for(var Me=D+1;Me<G.columns;Me++)G.set(qt,Me,G.get(qt,Me)-G.get(O,Me)*Le)}O++,D++}}return G}},{key:"reducedEchelonForm",value:function(){for(var G=this.echelonForm(),O=G.columns,D=G.rows,$=D-1;$>=0;)if(G.maxRow($)===0)$--;else{for(var mt=0,kt=!1;mt<D&&kt===!1;)G.get($,mt)===1?kt=!0:mt++;for(var Rt=0;Rt<$;Rt++)for(var qt=G.get(Rt,mt),Le=mt;Le<O;Le++){var Me=G.get(Rt,Le)-qt*G.get($,Le);G.set(Rt,Le,Me)}$--}return G}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(g()(G)!=="object")throw new TypeError("options must be an object");var O=G.rows,D=O===void 0?1:O,$=G.columns,mt=$===void 0?1:$;if(!Number.isInteger(D)||D<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(mt)||mt<=0)throw new TypeError("columns must be a positive integer");for(var kt=new Ft(this.rows*D,this.columns*mt),Rt=0;Rt<D;Rt++)for(var qt=0;qt<mt;qt++)kt.setSubMatrix(this,this.rows*Rt,this.columns*qt);return kt}},{key:"fill",value:function(G){for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,G);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(G){at(this,G);for(var O=[],D=0;D<this.columns;D++)O.push(this.get(G,D));return O}},{key:"getRowVector",value:function(G){return Ft.rowVector(this.getRow(G))}},{key:"setRow",value:function(G,O){at(this,G),O=ct(this,O);for(var D=0;D<this.columns;D++)this.set(G,D,O[D]);return this}},{key:"swapRows",value:function(G,O){at(this,G),at(this,O);for(var D=0;D<this.columns;D++){var $=this.get(G,D);this.set(G,D,this.get(O,D)),this.set(O,D,$)}return this}},{key:"getColumn",value:function(G){pt(this,G);for(var O=[],D=0;D<this.rows;D++)O.push(this.get(D,G));return O}},{key:"getColumnVector",value:function(G){return Ft.columnVector(this.getColumn(G))}},{key:"setColumn",value:function(G,O){pt(this,G),O=St(this,O);for(var D=0;D<this.rows;D++)this.set(D,G,O[D]);return this}},{key:"swapColumns",value:function(G,O){pt(this,G),pt(this,O);for(var D=0;D<this.rows;D++){var $=this.get(D,G);this.set(D,G,this.get(D,O)),this.set(D,O,$)}return this}},{key:"addRowVector",value:function(G){G=ct(this,G);for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,this.get(O,D)+G[D]);return this}},{key:"subRowVector",value:function(G){G=ct(this,G);for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,this.get(O,D)-G[D]);return this}},{key:"mulRowVector",value:function(G){G=ct(this,G);for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,this.get(O,D)*G[D]);return this}},{key:"divRowVector",value:function(G){G=ct(this,G);for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,this.get(O,D)/G[D]);return this}},{key:"addColumnVector",value:function(G){G=St(this,G);for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,this.get(O,D)+G[O]);return this}},{key:"subColumnVector",value:function(G){G=St(this,G);for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,this.get(O,D)-G[O]);return this}},{key:"mulColumnVector",value:function(G){G=St(this,G);for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,this.get(O,D)*G[O]);return this}},{key:"divColumnVector",value:function(G){G=St(this,G);for(var O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)this.set(O,D,this.get(O,D)/G[O]);return this}},{key:"mulRow",value:function(G,O){at(this,G);for(var D=0;D<this.columns;D++)this.set(G,D,this.get(G,D)*O);return this}},{key:"mulColumn",value:function(G,O){pt(this,G);for(var D=0;D<this.rows;D++)this.set(D,G,this.get(D,G)*O);return this}},{key:"max",value:function(G){if(this.isEmpty())return NaN;switch(G){case"row":{for(var O=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.get(D,$)>O[D]&&(O[D]=this.get(D,$));return O}case"column":{for(var mt=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),kt=0;kt<this.rows;kt++)for(var Rt=0;Rt<this.columns;Rt++)this.get(kt,Rt)>mt[Rt]&&(mt[Rt]=this.get(kt,Rt));return mt}case void 0:{for(var qt=this.get(0,0),Le=0;Le<this.rows;Le++)for(var Me=0;Me<this.columns;Me++)this.get(Le,Me)>qt&&(qt=this.get(Le,Me));return qt}default:throw new Error("invalid option: ".concat(G))}}},{key:"maxIndex",value:function(){rt(this);for(var G=this.get(0,0),O=[0,0],D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.get(D,$)>G&&(G=this.get(D,$),O[0]=D,O[1]=$);return O}},{key:"min",value:function(G){if(this.isEmpty())return NaN;switch(G){case"row":{for(var O=new Array(this.rows).fill(Number.POSITIVE_INFINITY),D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.get(D,$)<O[D]&&(O[D]=this.get(D,$));return O}case"column":{for(var mt=new Array(this.columns).fill(Number.POSITIVE_INFINITY),kt=0;kt<this.rows;kt++)for(var Rt=0;Rt<this.columns;Rt++)this.get(kt,Rt)<mt[Rt]&&(mt[Rt]=this.get(kt,Rt));return mt}case void 0:{for(var qt=this.get(0,0),Le=0;Le<this.rows;Le++)for(var Me=0;Me<this.columns;Me++)this.get(Le,Me)<qt&&(qt=this.get(Le,Me));return qt}default:throw new Error("invalid option: ".concat(G))}}},{key:"minIndex",value:function(){rt(this);for(var G=this.get(0,0),O=[0,0],D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)this.get(D,$)<G&&(G=this.get(D,$),O[0]=D,O[1]=$);return O}},{key:"maxRow",value:function(G){if(at(this,G),this.isEmpty())return NaN;for(var O=this.get(G,0),D=1;D<this.columns;D++)this.get(G,D)>O&&(O=this.get(G,D));return O}},{key:"maxRowIndex",value:function(G){at(this,G),rt(this);for(var O=this.get(G,0),D=[G,0],$=1;$<this.columns;$++)this.get(G,$)>O&&(O=this.get(G,$),D[1]=$);return D}},{key:"minRow",value:function(G){if(at(this,G),this.isEmpty())return NaN;for(var O=this.get(G,0),D=1;D<this.columns;D++)this.get(G,D)<O&&(O=this.get(G,D));return O}},{key:"minRowIndex",value:function(G){at(this,G),rt(this);for(var O=this.get(G,0),D=[G,0],$=1;$<this.columns;$++)this.get(G,$)<O&&(O=this.get(G,$),D[1]=$);return D}},{key:"maxColumn",value:function(G){if(pt(this,G),this.isEmpty())return NaN;for(var O=this.get(0,G),D=1;D<this.rows;D++)this.get(D,G)>O&&(O=this.get(D,G));return O}},{key:"maxColumnIndex",value:function(G){pt(this,G),rt(this);for(var O=this.get(0,G),D=[0,G],$=1;$<this.rows;$++)this.get($,G)>O&&(O=this.get($,G),D[0]=$);return D}},{key:"minColumn",value:function(G){if(pt(this,G),this.isEmpty())return NaN;for(var O=this.get(0,G),D=1;D<this.rows;D++)this.get(D,G)<O&&(O=this.get(D,G));return O}},{key:"minColumnIndex",value:function(G){pt(this,G),rt(this);for(var O=this.get(0,G),D=[0,G],$=1;$<this.rows;$++)this.get($,G)<O&&(O=this.get($,G),D[0]=$);return D}},{key:"diag",value:function(){for(var G=Math.min(this.rows,this.columns),O=[],D=0;D<G;D++)O.push(this.get(D,D));return O}},{key:"norm",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",O=0;if(G==="max")return this.max();if(G==="frobenius"){for(var D=0;D<this.rows;D++)for(var $=0;$<this.columns;$++)O=O+this.get(D,$)*this.get(D,$);return Math.sqrt(O)}else throw new RangeError("unknown norm type: ".concat(G))}},{key:"cumulativeSum",value:function(){for(var G=0,O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)G+=this.get(O,D),this.set(O,D,G);return this}},{key:"dot",value:function(G){it.isMatrix(G)&&(G=G.to1DArray());var O=this.to1DArray();if(O.length!==G.length)throw new RangeError("vectors do not have the same size");for(var D=0,$=0;$<O.length;$++)D+=O[$]*G[$];return D}},{key:"mmul",value:function(G){G=Ft.checkMatrix(G);for(var O=this.rows,D=this.columns,$=G.columns,mt=new Ft(O,$),kt=new Float64Array(D),Rt=0;Rt<$;Rt++){for(var qt=0;qt<D;qt++)kt[qt]=G.get(qt,Rt);for(var Le=0;Le<O;Le++){for(var Me=0,Ke=0;Ke<D;Ke++)Me+=this.get(Le,Ke)*kt[Ke];mt.set(Le,Rt,Me)}}return mt}},{key:"strassen2x2",value:function(G){G=Ft.checkMatrix(G);var O=new Ft(2,2),D=this.get(0,0),$=G.get(0,0),mt=this.get(0,1),kt=G.get(0,1),Rt=this.get(1,0),qt=G.get(1,0),Le=this.get(1,1),Me=G.get(1,1),Ke=(D+Le)*($+Me),vr=(Rt+Le)*$,He=D*(kt-Me),Rr=Le*(qt-$),fn=(D+mt)*Me,Je=(Rt-D)*($+kt),pr=(mt-Le)*(qt+Me),kr=Ke+Rr-fn+pr,Pr=He+fn,oe=vr+Rr,Wt=Ke-vr+He+Je;return O.set(0,0,kr),O.set(0,1,Pr),O.set(1,0,oe),O.set(1,1,Wt),O}},{key:"strassen3x3",value:function(G){G=Ft.checkMatrix(G);var O=new Ft(3,3),D=this.get(0,0),$=this.get(0,1),mt=this.get(0,2),kt=this.get(1,0),Rt=this.get(1,1),qt=this.get(1,2),Le=this.get(2,0),Me=this.get(2,1),Ke=this.get(2,2),vr=G.get(0,0),He=G.get(0,1),Rr=G.get(0,2),fn=G.get(1,0),Je=G.get(1,1),pr=G.get(1,2),kr=G.get(2,0),Pr=G.get(2,1),oe=G.get(2,2),Wt=(D+$+mt-kt-Rt-Me-Ke)*Je,pe=(D-kt)*(-He+Je),_e=Rt*(-vr+He+fn-Je-pr-kr+oe),xe=(-D+kt+Rt)*(vr-He+Je),Ge=(kt+Rt)*(-vr+He),lr=D*vr,gr=(-D+Le+Me)*(vr-Rr+pr),Zr=(-D+Le)*(Rr-pr),Tn=(Le+Me)*(-vr+Rr),an=(D+$+mt-Rt-qt-Le-Me)*pr,kn=Me*(-vr+Rr+fn-Je-pr-kr+Pr),un=(-mt+Me+Ke)*(Je+kr-Pr),Bn=(mt-Ke)*(Je-Pr),Zn=mt*kr,na=(Me+Ke)*(-kr+Pr),ra=(-mt+Rt+qt)*(pr+kr-oe),ti=(mt-qt)*(pr-oe),Ua=(Rt+qt)*(-kr+oe),Ia=$*fn,oi=qt*Pr,Lo=kt*Rr,gi=Le*He,ci=Ke*oe,xa=lr+Zn+Ia,_i=Wt+xe+Ge+lr+un+Zn+na,No=lr+gr+Tn+an+Zn+ra+Ua,Wa=pe+_e+xe+lr+Zn+ra+ti,go=pe+xe+Ge+lr+oi,So=Zn+ra+ti+Ua+Lo,Mo=lr+gr+Zr+kn+un+Bn+Zn,Wi=un+Bn+Zn+na+gi,eo=lr+gr+Zr+Tn+ci;return O.set(0,0,xa),O.set(0,1,_i),O.set(0,2,No),O.set(1,0,Wa),O.set(1,1,go),O.set(1,2,So),O.set(2,0,Mo),O.set(2,1,Wi),O.set(2,2,eo),O}},{key:"mmulStrassen",value:function(G){G=Ft.checkMatrix(G);var O=this.clone(),D=O.rows,$=O.columns,mt=G.rows,kt=G.columns;$!==mt&&console.warn("Multiplying ".concat(D," x ").concat($," and ").concat(mt," x ").concat(kt," matrix: dimensions do not match."));function Rt(Ke,vr,He){var Rr=Ke.rows,fn=Ke.columns;if(Rr===vr&&fn===He)return Ke;var Je=it.zeros(vr,He);return Je=Je.setSubMatrix(Ke,0,0),Je}var qt=Math.max(D,mt),Le=Math.max($,kt);O=Rt(O,qt,Le),G=Rt(G,qt,Le);function Me(Ke,vr,He,Rr){if(He<=512||Rr<=512)return Ke.mmul(vr);He%2===1&&Rr%2===1?(Ke=Rt(Ke,He+1,Rr+1),vr=Rt(vr,He+1,Rr+1)):He%2===1?(Ke=Rt(Ke,He+1,Rr),vr=Rt(vr,He+1,Rr)):Rr%2===1&&(Ke=Rt(Ke,He,Rr+1),vr=Rt(vr,He,Rr+1));var fn=parseInt(Ke.rows/2,10),Je=parseInt(Ke.columns/2,10),pr=Ke.subMatrix(0,fn-1,0,Je-1),kr=vr.subMatrix(0,fn-1,0,Je-1),Pr=Ke.subMatrix(0,fn-1,Je,Ke.columns-1),oe=vr.subMatrix(0,fn-1,Je,vr.columns-1),Wt=Ke.subMatrix(fn,Ke.rows-1,0,Je-1),pe=vr.subMatrix(fn,vr.rows-1,0,Je-1),_e=Ke.subMatrix(fn,Ke.rows-1,Je,Ke.columns-1),xe=vr.subMatrix(fn,vr.rows-1,Je,vr.columns-1),Ge=Me(it.add(pr,_e),it.add(kr,xe),fn,Je),lr=Me(it.add(Wt,_e),kr,fn,Je),gr=Me(pr,it.sub(oe,xe),fn,Je),Zr=Me(_e,it.sub(pe,kr),fn,Je),Tn=Me(it.add(pr,Pr),xe,fn,Je),an=Me(it.sub(Wt,pr),it.add(kr,oe),fn,Je),kn=Me(it.sub(Pr,_e),it.add(pe,xe),fn,Je),un=it.add(Ge,Zr);un.sub(Tn),un.add(kn);var Bn=it.add(gr,Tn),Zn=it.add(lr,Zr),na=it.sub(Ge,lr);na.add(gr),na.add(an);var ra=it.zeros(2*un.rows,2*un.columns);return ra=ra.setSubMatrix(un,0,0),ra=ra.setSubMatrix(Bn,un.rows,0),ra=ra.setSubMatrix(Zn,0,un.columns),ra=ra.setSubMatrix(na,un.rows,un.columns),ra.subMatrix(0,He-1,0,Rr-1)}return Me(O,G,qt,Le)}},{key:"scaleRows",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(g()(G)!=="object")throw new TypeError("options must be an object");var O=G.min,D=O===void 0?0:O,$=G.max,mt=$===void 0?1:$;if(!Number.isFinite(D))throw new TypeError("min must be a number");if(!Number.isFinite(mt))throw new TypeError("max must be a number");if(D>=mt)throw new RangeError("min must be smaller than max");for(var kt=new Ft(this.rows,this.columns),Rt=0;Rt<this.rows;Rt++){var qt=this.getRow(Rt);qt.length>0&&f(qt,{min:D,max:mt,output:qt}),kt.setRow(Rt,qt)}return kt}},{key:"scaleColumns",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(g()(G)!=="object")throw new TypeError("options must be an object");var O=G.min,D=O===void 0?0:O,$=G.max,mt=$===void 0?1:$;if(!Number.isFinite(D))throw new TypeError("min must be a number");if(!Number.isFinite(mt))throw new TypeError("max must be a number");if(D>=mt)throw new RangeError("min must be smaller than max");for(var kt=new Ft(this.rows,this.columns),Rt=0;Rt<this.columns;Rt++){var qt=this.getColumn(Rt);qt.length&&f(qt,{min:D,max:mt,output:qt}),kt.setColumn(Rt,qt)}return kt}},{key:"flipRows",value:function(){for(var G=Math.ceil(this.columns/2),O=0;O<this.rows;O++)for(var D=0;D<G;D++){var $=this.get(O,D),mt=this.get(O,this.columns-1-D);this.set(O,D,mt),this.set(O,this.columns-1-D,$)}return this}},{key:"flipColumns",value:function(){for(var G=Math.ceil(this.rows/2),O=0;O<this.columns;O++)for(var D=0;D<G;D++){var $=this.get(D,O),mt=this.get(this.rows-1-D,O);this.set(D,O,mt),this.set(this.rows-1-D,O,$)}return this}},{key:"kroneckerProduct",value:function(G){G=Ft.checkMatrix(G);for(var O=this.rows,D=this.columns,$=G.rows,mt=G.columns,kt=new Ft(O*$,D*mt),Rt=0;Rt<O;Rt++)for(var qt=0;qt<D;qt++)for(var Le=0;Le<$;Le++)for(var Me=0;Me<mt;Me++)kt.set($*Rt+Le,mt*qt+Me,this.get(Rt,qt)*G.get(Le,Me));return kt}},{key:"kroneckerSum",value:function(G){if(G=Ft.checkMatrix(G),!this.isSquare()||!G.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var O=this.rows,D=G.rows,$=this.kroneckerProduct(Ft.eye(D,D)),mt=Ft.eye(O,O).kroneckerProduct(G);return $.add(mt)}},{key:"transpose",value:function(){for(var G=new Ft(this.columns,this.rows),O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)G.set(D,O,this.get(O,D));return G}},{key:"sortRows",value:function(){for(var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ut,O=0;O<this.rows;O++)this.setRow(O,this.getRow(O).sort(G));return this}},{key:"sortColumns",value:function(){for(var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ut,O=0;O<this.columns;O++)this.setColumn(O,this.getColumn(O).sort(G));return this}},{key:"subMatrix",value:function(G,O,D,$){Mt(this,G,O,D,$);for(var mt=new Ft(O-G+1,$-D+1),kt=G;kt<=O;kt++)for(var Rt=D;Rt<=$;Rt++)mt.set(kt-G,Rt-D,this.get(kt,Rt));return mt}},{key:"subMatrixRow",value:function(G,O,D){if(O===void 0&&(O=0),D===void 0&&(D=this.columns-1),O>D||O<0||O>=this.columns||D<0||D>=this.columns)throw new RangeError("Argument out of range");for(var $=new Ft(G.length,D-O+1),mt=0;mt<G.length;mt++)for(var kt=O;kt<=D;kt++){if(G[mt]<0||G[mt]>=this.rows)throw new RangeError("Row index out of range: ".concat(G[mt]));$.set(mt,kt-O,this.get(G[mt],kt))}return $}},{key:"subMatrixColumn",value:function(G,O,D){if(O===void 0&&(O=0),D===void 0&&(D=this.rows-1),O>D||O<0||O>=this.rows||D<0||D>=this.rows)throw new RangeError("Argument out of range");for(var $=new Ft(D-O+1,G.length),mt=0;mt<G.length;mt++)for(var kt=O;kt<=D;kt++){if(G[mt]<0||G[mt]>=this.columns)throw new RangeError("Column index out of range: ".concat(G[mt]));$.set(kt-O,mt,this.get(kt,G[mt]))}return $}},{key:"setSubMatrix",value:function(G,O,D){if(G=Ft.checkMatrix(G),G.isEmpty())return this;var $=O+G.rows-1,mt=D+G.columns-1;Mt(this,O,$,D,mt);for(var kt=0;kt<G.rows;kt++)for(var Rt=0;Rt<G.columns;Rt++)this.set(O+kt,D+Rt,G.get(kt,Rt));return this}},{key:"selection",value:function(G,O){vt(this,G),Lt(this,O);for(var D=new Ft(G.length,O.length),$=0;$<G.length;$++)for(var mt=G[$],kt=0;kt<O.length;kt++){var Rt=O[kt];D.set($,kt,this.get(mt,Rt))}return D}},{key:"trace",value:function(){for(var G=Math.min(this.rows,this.columns),O=0,D=0;D<G;D++)O+=this.get(D,D);return O}},{key:"clone",value:function(){for(var G=new Ft(this.rows,this.columns),O=0;O<this.rows;O++)for(var D=0;D<this.columns;D++)G.set(O,D,this.get(O,D));return G}},{key:"sum",value:function(G){switch(G){case"row":return Ot(this);case"column":return Dt(this);case void 0:return ot(this);default:throw new Error("invalid option: ".concat(G))}}},{key:"product",value:function(G){switch(G){case"row":return xt(this);case"column":return Nt(this);case void 0:return Yt(this);default:throw new Error("invalid option: ".concat(G))}}},{key:"mean",value:function(G){var O=this.sum(G);switch(G){case"row":{for(var D=0;D<this.rows;D++)O[D]/=this.columns;return O}case"column":{for(var $=0;$<this.columns;$++)O[$]/=this.rows;return O}case void 0:return O/this.size;default:throw new Error("invalid option: ".concat(G))}}},{key:"variance",value:function(G){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(g()(G)==="object"&&(O=G,G=void 0),g()(O)!=="object")throw new TypeError("options must be an object");var D=O,$=D.unbiased,mt=$===void 0?!0:$,kt=D.mean,Rt=kt===void 0?this.mean(G):kt;if(typeof mt!="boolean")throw new TypeError("unbiased must be a boolean");switch(G){case"row":{if(!T(Rt))throw new TypeError("mean must be an array");return Ct(this,mt,Rt)}case"column":{if(!T(Rt))throw new TypeError("mean must be an array");return Xt(this,mt,Rt)}case void 0:{if(typeof Rt!="number")throw new TypeError("mean must be a number");return Zt(this,mt,Rt)}default:throw new Error("invalid option: ".concat(G))}}},{key:"standardDeviation",value:function(G,O){g()(G)==="object"&&(O=G,G=void 0);var D=this.variance(G,O);if(G===void 0)return Math.sqrt(D);for(var $=0;$<D.length;$++)D[$]=Math.sqrt(D[$]);return D}},{key:"center",value:function(G){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(g()(G)==="object"&&(O=G,G=void 0),g()(O)!=="object")throw new TypeError("options must be an object");var D=O,$=D.center,mt=$===void 0?this.mean(G):$;switch(G){case"row":{if(!T(mt))throw new TypeError("center must be an array");return se(this,mt),this}case"column":{if(!T(mt))throw new TypeError("center must be an array");return ie(this,mt),this}case void 0:{if(typeof mt!="number")throw new TypeError("center must be a number");return zt(this,mt),this}default:throw new Error("invalid option: ".concat(G))}}},{key:"scale",value:function(G){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(g()(G)==="object"&&(O=G,G=void 0),g()(O)!=="object")throw new TypeError("options must be an object");var D=O.scale;switch(G){case"row":{if(D===void 0)D=ae(this);else if(!T(D))throw new TypeError("scale must be an array");return Re(this,D),this}case"column":{if(D===void 0)D=Jt(this);else if(!T(D))throw new TypeError("scale must be an array");return ue(this,D),this}case void 0:{if(D===void 0)D=ke(this);else if(typeof D!="number")throw new TypeError("scale must be a number");return ye(this,D),this}default:throw new Error("invalid option: ".concat(G))}}},{key:"toString",value:function(G){return k(this,G)}}],[{key:"from1DArray",value:function(G,O,D){var $=G*O;if($!==D.length)throw new RangeError("data length does not match given dimensions");for(var mt=new Ft(G,O),kt=0;kt<G;kt++)for(var Rt=0;Rt<O;Rt++)mt.set(kt,Rt,D[kt*O+Rt]);return mt}},{key:"rowVector",value:function(G){for(var O=new Ft(1,G.length),D=0;D<G.length;D++)O.set(0,D,G[D]);return O}},{key:"columnVector",value:function(G){for(var O=new Ft(G.length,1),D=0;D<G.length;D++)O.set(D,0,G[D]);return O}},{key:"zeros",value:function(G,O){return new Ft(G,O)}},{key:"ones",value:function(G,O){return new Ft(G,O).fill(1)}},{key:"rand",value:function(G,O){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(g()(D)!=="object")throw new TypeError("options must be an object");for(var $=D.random,mt=$===void 0?Math.random:$,kt=new Ft(G,O),Rt=0;Rt<G;Rt++)for(var qt=0;qt<O;qt++)kt.set(Rt,qt,mt());return kt}},{key:"randInt",value:function(G,O){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(g()(D)!=="object")throw new TypeError("options must be an object");var $=D.min,mt=$===void 0?0:$,kt=D.max,Rt=kt===void 0?1e3:kt,qt=D.random,Le=qt===void 0?Math.random:qt;if(!Number.isInteger(mt))throw new TypeError("min must be an integer");if(!Number.isInteger(Rt))throw new TypeError("max must be an integer");if(mt>=Rt)throw new RangeError("min must be smaller than max");for(var Me=Rt-mt,Ke=new Ft(G,O),vr=0;vr<G;vr++)for(var He=0;He<O;He++){var Rr=mt+Math.round(Le()*Me);Ke.set(vr,He,Rr)}return Ke}},{key:"eye",value:function(G,O,D){O===void 0&&(O=G),D===void 0&&(D=1);for(var $=Math.min(G,O),mt=this.zeros(G,O),kt=0;kt<$;kt++)mt.set(kt,kt,D);return mt}},{key:"diag",value:function(G,O,D){var $=G.length;O===void 0&&(O=$),D===void 0&&(D=O);for(var mt=Math.min($,O,D),kt=this.zeros(O,D),Rt=0;Rt<mt;Rt++)kt.set(Rt,Rt,G[Rt]);return kt}},{key:"min",value:function(G,O){G=this.checkMatrix(G),O=this.checkMatrix(O);for(var D=G.rows,$=G.columns,mt=new Ft(D,$),kt=0;kt<D;kt++)for(var Rt=0;Rt<$;Rt++)mt.set(kt,Rt,Math.min(G.get(kt,Rt),O.get(kt,Rt)));return mt}},{key:"max",value:function(G,O){G=this.checkMatrix(G),O=this.checkMatrix(O);for(var D=G.rows,$=G.columns,mt=new this(D,$),kt=0;kt<D;kt++)for(var Rt=0;Rt<$;Rt++)mt.set(kt,Rt,Math.max(G.get(kt,Rt),O.get(kt,Rt)));return mt}},{key:"checkMatrix",value:function(G){return it.isMatrix(G)?G:new Ft(G)}},{key:"isMatrix",value:function(G){return G!=null&&G.klass==="Matrix"}}]),it}();ee.prototype.klass="Matrix",typeof Symbol!="undefined"&&(ee.prototype[Symbol.for("nodejs.util.inspect.custom")]=z);function Ut(it,ft){return it-ft}function bt(it){return it.every(function(ft){return typeof ft=="number"})}ee.random=ee.rand,ee.randomInt=ee.randInt,ee.diagonal=ee.diag,ee.prototype.diagonal=ee.prototype.diag,ee.identity=ee.eye,ee.prototype.negate=ee.prototype.neg,ee.prototype.tensorProduct=ee.prototype.kroneckerProduct;var Ft=function(it){M()(G,it);var ft=L()(G);function G(O,D){var $;if(E()(this,G),$=ft.call(this),G.isMatrix(O))return R()($,O.clone());if(Number.isInteger(O)&&O>=0)if($.data=[],Number.isInteger(D)&&D>=0)for(var mt=0;mt<O;mt++)$.data.push(new Float64Array(D));else throw new TypeError("nColumns must be a positive integer");else if(T(O)){var kt=O;if(O=kt.length,D=O?kt[0].length:0,typeof D!="number")throw new TypeError("Data must be a 2D array with at least one element");$.data=[];for(var Rt=0;Rt<O;Rt++){if(kt[Rt].length!==D)throw new RangeError("Inconsistent array dimensions");if(!bt(kt[Rt]))throw new TypeError("Input data contains non-numeric values");$.data.push(Float64Array.from(kt[Rt]))}}else throw new TypeError("First argument must be a positive number or an array");return $.rows=O,$.columns=D,$}return A()(G,[{key:"set",value:function(D,$,mt){return this.data[D][$]=mt,this}},{key:"get",value:function(D,$){return this.data[D][$]}},{key:"removeRow",value:function(D){return at(this,D),this.data.splice(D,1),this.rows-=1,this}},{key:"addRow",value:function(D,$){return $===void 0&&($=D,D=this.rows),at(this,D,!0),$=Float64Array.from(ct(this,$)),this.data.splice(D,0,$),this.rows+=1,this}},{key:"removeColumn",value:function(D){pt(this,D);for(var $=0;$<this.rows;$++){for(var mt=new Float64Array(this.columns-1),kt=0;kt<D;kt++)mt[kt]=this.data[$][kt];for(var Rt=D+1;Rt<this.columns;Rt++)mt[Rt-1]=this.data[$][Rt];this.data[$]=mt}return this.columns-=1,this}},{key:"addColumn",value:function(D,$){typeof $=="undefined"&&($=D,D=this.columns),pt(this,D,!0),$=St(this,$);for(var mt=0;mt<this.rows;mt++){for(var kt=new Float64Array(this.columns+1),Rt=0;Rt<D;Rt++)kt[Rt]=this.data[mt][Rt];for(kt[Rt++]=$[mt];Rt<this.columns+1;Rt++)kt[Rt]=this.data[mt][Rt-1];this.data[mt]=kt}return this.columns+=1,this}}]),G}(ee);q(ee,Ft);var be=function(it){M()(G,it);var ft=L()(G);function G(O,D,$){var mt;return E()(this,G),mt=ft.call(this),mt.matrix=O,mt.rows=D,mt.columns=$,mt}return A()(G)}(ee),qe=function(it){M()(G,it);var ft=L()(G);function G(O,D){var $;return E()(this,G),pt(O,D),$=ft.call(this,O,O.rows,1),$.column=D,$}return A()(G,[{key:"set",value:function(D,$,mt){return this.matrix.set(D,this.column,mt),this}},{key:"get",value:function(D){return this.matrix.get(D,this.column)}}]),G}(be),Pe=function(it){M()(G,it);var ft=L()(G);function G(O,D){var $;return E()(this,G),Lt(O,D),$=ft.call(this,O,O.rows,D.length),$.columnIndices=D,$}return A()(G,[{key:"set",value:function(D,$,mt){return this.matrix.set(D,this.columnIndices[$],mt),this}},{key:"get",value:function(D,$){return this.matrix.get(D,this.columnIndices[$])}}]),G}(be),Ze=function(it){M()(G,it);var ft=L()(G);function G(O){return E()(this,G),ft.call(this,O,O.rows,O.columns)}return A()(G,[{key:"set",value:function(D,$,mt){return this.matrix.set(D,this.columns-$-1,mt),this}},{key:"get",value:function(D,$){return this.matrix.get(D,this.columns-$-1)}}]),G}(be),Qe=function(it){M()(G,it);var ft=L()(G);function G(O){return E()(this,G),ft.call(this,O,O.rows,O.columns)}return A()(G,[{key:"set",value:function(D,$,mt){return this.matrix.set(this.rows-D-1,$,mt),this}},{key:"get",value:function(D,$){return this.matrix.get(this.rows-D-1,$)}}]),G}(be),Ar=function(it){M()(G,it);var ft=L()(G);function G(O,D){var $;return E()(this,G),at(O,D),$=ft.call(this,O,1,O.columns),$.row=D,$}return A()(G,[{key:"set",value:function(D,$,mt){return this.matrix.set(this.row,$,mt),this}},{key:"get",value:function(D,$){return this.matrix.get(this.row,$)}}]),G}(be),Hr=function(it){M()(G,it);var ft=L()(G);function G(O,D){var $;return E()(this,G),vt(O,D),$=ft.call(this,O,D.length,O.columns),$.rowIndices=D,$}return A()(G,[{key:"set",value:function(D,$,mt){return this.matrix.set(this.rowIndices[D],$,mt),this}},{key:"get",value:function(D,$){return this.matrix.get(this.rowIndices[D],$)}}]),G}(be),Jr=function(it){M()(G,it);var ft=L()(G);function G(O,D,$){var mt;return E()(this,G),vt(O,D),Lt(O,$),mt=ft.call(this,O,D.length,$.length),mt.rowIndices=D,mt.columnIndices=$,mt}return A()(G,[{key:"set",value:function(D,$,mt){return this.matrix.set(this.rowIndices[D],this.columnIndices[$],mt),this}},{key:"get",value:function(D,$){return this.matrix.get(this.rowIndices[D],this.columnIndices[$])}}]),G}(be),Cr=function(it){M()(G,it);var ft=L()(G);function G(O,D,$,mt,kt){var Rt;return E()(this,G),Mt(O,D,$,mt,kt),Rt=ft.call(this,O,$-D+1,kt-mt+1),Rt.startRow=D,Rt.startColumn=mt,Rt}return A()(G,[{key:"set",value:function(D,$,mt){return this.matrix.set(this.startRow+D,this.startColumn+$,mt),this}},{key:"get",value:function(D,$){return this.matrix.get(this.startRow+D,this.startColumn+$)}}]),G}(be),bn=function(it){M()(G,it);var ft=L()(G);function G(O){return E()(this,G),ft.call(this,O,O.columns,O.rows)}return A()(G,[{key:"set",value:function(D,$,mt){return this.matrix.set($,D,mt),this}},{key:"get",value:function(D,$){return this.matrix.get($,D)}}]),G}(be),Yr=function(it){M()(G,it);var ft=L()(G);function G(O){var D,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};E()(this,G);var mt=$.rows,kt=mt===void 0?1:mt;if(O.length%kt!==0)throw new Error("the data length is not divisible by the number of rows");return D=ft.call(this),D.rows=kt,D.columns=O.length/kt,D.data=O,D}return A()(G,[{key:"set",value:function(D,$,mt){var kt=this._calculateIndex(D,$);return this.data[kt]=mt,this}},{key:"get",value:function(D,$){var mt=this._calculateIndex(D,$);return this.data[mt]}},{key:"_calculateIndex",value:function(D,$){return D*this.columns+$}}]),G}(ee),Xe=function(it){M()(G,it);var ft=L()(G);function G(O){var D;return E()(this,G),D=ft.call(this),D.data=O,D.rows=O.length,D.columns=O[0].length,D}return A()(G,[{key:"set",value:function(D,$,mt){return this.data[D][$]=mt,this}},{key:"get",value:function(D,$){return this.data[D][$]}}]),G}(ee);function Ae(it,ft){if(T(it))return it[0]&&T(it[0])?new Xe(it):new Yr(it,ft);throw new Error("the argument is not an array")}var Ue=function(){function it(ft){E()(this,it),ft=Xe.checkMatrix(ft);var G=ft.clone(),O=G.rows,D=G.columns,$=new Float64Array(O),mt=1,kt,Rt,qt,Le,Me,Ke,vr,He,Rr;for(kt=0;kt<O;kt++)$[kt]=kt;for(He=new Float64Array(O),Rt=0;Rt<D;Rt++){for(kt=0;kt<O;kt++)He[kt]=G.get(kt,Rt);for(kt=0;kt<O;kt++){for(Rr=Math.min(kt,Rt),Me=0,qt=0;qt<Rr;qt++)Me+=G.get(kt,qt)*He[qt];He[kt]-=Me,G.set(kt,Rt,He[kt])}for(Le=Rt,kt=Rt+1;kt<O;kt++)Math.abs(He[kt])>Math.abs(He[Le])&&(Le=kt);if(Le!==Rt){for(qt=0;qt<D;qt++)Ke=G.get(Le,qt),G.set(Le,qt,G.get(Rt,qt)),G.set(Rt,qt,Ke);vr=$[Le],$[Le]=$[Rt],$[Rt]=vr,mt=-mt}if(Rt<O&&G.get(Rt,Rt)!==0)for(kt=Rt+1;kt<O;kt++)G.set(kt,Rt,G.get(kt,Rt)/G.get(Rt,Rt))}this.LU=G,this.pivotVector=$,this.pivotSign=mt}return A()(it,[{key:"isSingular",value:function(){for(var G=this.LU,O=G.columns,D=0;D<O;D++)if(G.get(D,D)===0)return!0;return!1}},{key:"solve",value:function(G){G=Ft.checkMatrix(G);var O=this.LU,D=O.rows;if(D!==G.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var $=G.columns,mt=G.subMatrixRow(this.pivotVector,0,$-1),kt=O.columns,Rt,qt,Le;for(Le=0;Le<kt;Le++)for(Rt=Le+1;Rt<kt;Rt++)for(qt=0;qt<$;qt++)mt.set(Rt,qt,mt.get(Rt,qt)-mt.get(Le,qt)*O.get(Rt,Le));for(Le=kt-1;Le>=0;Le--){for(qt=0;qt<$;qt++)mt.set(Le,qt,mt.get(Le,qt)/O.get(Le,Le));for(Rt=0;Rt<Le;Rt++)for(qt=0;qt<$;qt++)mt.set(Rt,qt,mt.get(Rt,qt)-mt.get(Le,qt)*O.get(Rt,Le))}return mt}},{key:"determinant",get:function(){var G=this.LU;if(!G.isSquare())throw new Error("Matrix must be square");for(var O=this.pivotSign,D=G.columns,$=0;$<D;$++)O*=G.get($,$);return O}},{key:"lowerTriangularMatrix",get:function(){for(var G=this.LU,O=G.rows,D=G.columns,$=new Ft(O,D),mt=0;mt<O;mt++)for(var kt=0;kt<D;kt++)mt>kt?$.set(mt,kt,G.get(mt,kt)):mt===kt?$.set(mt,kt,1):$.set(mt,kt,0);return $}},{key:"upperTriangularMatrix",get:function(){for(var G=this.LU,O=G.rows,D=G.columns,$=new Ft(O,D),mt=0;mt<O;mt++)for(var kt=0;kt<D;kt++)mt<=kt?$.set(mt,kt,G.get(mt,kt)):$.set(mt,kt,0);return $}},{key:"pivotPermutationVector",get:function(){return Array.from(this.pivotVector)}}]),it}();function jr(it,ft){var G=0;return Math.abs(it)>Math.abs(ft)?(G=ft/it,Math.abs(it)*Math.sqrt(1+G*G)):ft!==0?(G=it/ft,Math.abs(ft)*Math.sqrt(1+G*G)):0}var Br=function(){function it(ft){E()(this,it),ft=Xe.checkMatrix(ft);var G=ft.clone(),O=ft.rows,D=ft.columns,$=new Float64Array(D),mt,kt,Rt,qt;for(Rt=0;Rt<D;Rt++){var Le=0;for(mt=Rt;mt<O;mt++)Le=jr(Le,G.get(mt,Rt));if(Le!==0){for(G.get(Rt,Rt)<0&&(Le=-Le),mt=Rt;mt<O;mt++)G.set(mt,Rt,G.get(mt,Rt)/Le);for(G.set(Rt,Rt,G.get(Rt,Rt)+1),kt=Rt+1;kt<D;kt++){for(qt=0,mt=Rt;mt<O;mt++)qt+=G.get(mt,Rt)*G.get(mt,kt);for(qt=-qt/G.get(Rt,Rt),mt=Rt;mt<O;mt++)G.set(mt,kt,G.get(mt,kt)+qt*G.get(mt,Rt))}}$[Rt]=-Le}this.QR=G,this.Rdiag=$}return A()(it,[{key:"solve",value:function(G){G=Ft.checkMatrix(G);var O=this.QR,D=O.rows;if(G.rows!==D)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var $=G.columns,mt=G.clone(),kt=O.columns,Rt,qt,Le,Me;for(Le=0;Le<kt;Le++)for(qt=0;qt<$;qt++){for(Me=0,Rt=Le;Rt<D;Rt++)Me+=O.get(Rt,Le)*mt.get(Rt,qt);for(Me=-Me/O.get(Le,Le),Rt=Le;Rt<D;Rt++)mt.set(Rt,qt,mt.get(Rt,qt)+Me*O.get(Rt,Le))}for(Le=kt-1;Le>=0;Le--){for(qt=0;qt<$;qt++)mt.set(Le,qt,mt.get(Le,qt)/this.Rdiag[Le]);for(Rt=0;Rt<Le;Rt++)for(qt=0;qt<$;qt++)mt.set(Rt,qt,mt.get(Rt,qt)-mt.get(Le,qt)*O.get(Rt,Le))}return mt.subMatrix(0,kt-1,0,$-1)}},{key:"isFullRank",value:function(){for(var G=this.QR.columns,O=0;O<G;O++)if(this.Rdiag[O]===0)return!1;return!0}},{key:"upperTriangularMatrix",get:function(){var G=this.QR,O=G.columns,D=new Ft(O,O),$,mt;for($=0;$<O;$++)for(mt=0;mt<O;mt++)$<mt?D.set($,mt,G.get($,mt)):$===mt?D.set($,mt,this.Rdiag[$]):D.set($,mt,0);return D}},{key:"orthogonalMatrix",get:function(){var G=this.QR,O=G.rows,D=G.columns,$=new Ft(O,D),mt,kt,Rt,qt;for(Rt=D-1;Rt>=0;Rt--){for(mt=0;mt<O;mt++)$.set(mt,Rt,0);for($.set(Rt,Rt,1),kt=Rt;kt<D;kt++)if(G.get(Rt,Rt)!==0){for(qt=0,mt=Rt;mt<O;mt++)qt+=G.get(mt,Rt)*$.get(mt,kt);for(qt=-qt/G.get(Rt,Rt),mt=Rt;mt<O;mt++)$.set(mt,kt,$.get(mt,kt)+qt*G.get(mt,Rt))}}return $}}]),it}(),Sn=function(){function it(ft){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(E()(this,it),ft=Xe.checkMatrix(ft),ft.isEmpty())throw new Error("Matrix must be non-empty");var O=ft.rows,D=ft.columns,$=G.computeLeftSingularVectors,mt=$===void 0?!0:$,kt=G.computeRightSingularVectors,Rt=kt===void 0?!0:kt,qt=G.autoTranspose,Le=qt===void 0?!1:qt,Me=Boolean(mt),Ke=Boolean(Rt),vr=!1,He;if(O<D)if(!Le)He=ft.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{He=ft.transpose(),O=He.rows,D=He.columns,vr=!0;var Rr=Me;Me=Ke,Ke=Rr}else He=ft.clone();for(var fn=Math.min(O,D),Je=Math.min(O+1,D),pr=new Float64Array(Je),kr=new Ft(O,fn),Pr=new Ft(D,D),oe=new Float64Array(D),Wt=new Float64Array(O),pe=new Float64Array(Je),_e=0;_e<Je;_e++)pe[_e]=_e;for(var xe=Math.min(O-1,D),Ge=Math.max(0,Math.min(D-2,O)),lr=Math.max(xe,Ge),gr=0;gr<lr;gr++){if(gr<xe){pr[gr]=0;for(var Zr=gr;Zr<O;Zr++)pr[gr]=jr(pr[gr],He.get(Zr,gr));if(pr[gr]!==0){He.get(gr,gr)<0&&(pr[gr]=-pr[gr]);for(var Tn=gr;Tn<O;Tn++)He.set(Tn,gr,He.get(Tn,gr)/pr[gr]);He.set(gr,gr,He.get(gr,gr)+1)}pr[gr]=-pr[gr]}for(var an=gr+1;an<D;an++){if(gr<xe&&pr[gr]!==0){for(var kn=0,un=gr;un<O;un++)kn+=He.get(un,gr)*He.get(un,an);kn=-kn/He.get(gr,gr);for(var Bn=gr;Bn<O;Bn++)He.set(Bn,an,He.get(Bn,an)+kn*He.get(Bn,gr))}oe[an]=He.get(gr,an)}if(Me&&gr<xe)for(var Zn=gr;Zn<O;Zn++)kr.set(Zn,gr,He.get(Zn,gr));if(gr<Ge){oe[gr]=0;for(var na=gr+1;na<D;na++)oe[gr]=jr(oe[gr],oe[na]);if(oe[gr]!==0){oe[gr+1]<0&&(oe[gr]=0-oe[gr]);for(var ra=gr+1;ra<D;ra++)oe[ra]/=oe[gr];oe[gr+1]+=1}if(oe[gr]=-oe[gr],gr+1<O&&oe[gr]!==0){for(var ti=gr+1;ti<O;ti++)Wt[ti]=0;for(var Ua=gr+1;Ua<O;Ua++)for(var Ia=gr+1;Ia<D;Ia++)Wt[Ua]+=oe[Ia]*He.get(Ua,Ia);for(var oi=gr+1;oi<D;oi++)for(var Lo=-oe[oi]/oe[gr+1],gi=gr+1;gi<O;gi++)He.set(gi,oi,He.get(gi,oi)+Lo*Wt[gi])}if(Ke)for(var ci=gr+1;ci<D;ci++)Pr.set(ci,gr,oe[ci])}}var xa=Math.min(D,O+1);if(xe<D&&(pr[xe]=He.get(xe,xe)),O<xa&&(pr[xa-1]=0),Ge+1<xa&&(oe[Ge]=He.get(Ge,xa-1)),oe[xa-1]=0,Me){for(var _i=xe;_i<fn;_i++){for(var No=0;No<O;No++)kr.set(No,_i,0);kr.set(_i,_i,1)}for(var Wa=xe-1;Wa>=0;Wa--)if(pr[Wa]!==0){for(var go=Wa+1;go<fn;go++){for(var So=0,Mo=Wa;Mo<O;Mo++)So+=kr.get(Mo,Wa)*kr.get(Mo,go);So=-So/kr.get(Wa,Wa);for(var Wi=Wa;Wi<O;Wi++)kr.set(Wi,go,kr.get(Wi,go)+So*kr.get(Wi,Wa))}for(var eo=Wa;eo<O;eo++)kr.set(eo,Wa,-kr.get(eo,Wa));kr.set(Wa,Wa,1+kr.get(Wa,Wa));for(var _o=0;_o<Wa-1;_o++)kr.set(_o,Wa,0)}else{for(var is=0;is<O;is++)kr.set(is,Wa,0);kr.set(Wa,Wa,1)}}if(Ke)for(var Oi=D-1;Oi>=0;Oi--){if(Oi<Ge&&oe[Oi]!==0)for(var ro=Oi+1;ro<D;ro++){for(var Jn=0,Kt=Oi+1;Kt<D;Kt++)Jn+=Pr.get(Kt,Oi)*Pr.get(Kt,ro);Jn=-Jn/Pr.get(Oi+1,Oi);for(var ce=Oi+1;ce<D;ce++)Pr.set(ce,ro,Pr.get(ce,ro)+Jn*Pr.get(ce,Oi))}for(var Be=0;Be<D;Be++)Pr.set(Be,Oi,0);Pr.set(Oi,Oi,1)}for(var cr=xa-1,Lr=0,Ir=Number.EPSILON;xa>0;){var Sr=void 0,tn=void 0;for(Sr=xa-2;Sr>=-1&&Sr!==-1;Sr--){var dn=Number.MIN_VALUE+Ir*Math.abs(pr[Sr]+Math.abs(pr[Sr+1]));if(Math.abs(oe[Sr])<=dn||Number.isNaN(oe[Sr])){oe[Sr]=0;break}}if(Sr===xa-2)tn=4;else{var An=void 0;for(An=xa-1;An>=Sr&&An!==Sr;An--){var Kn=(An!==xa?Math.abs(oe[An]):0)+(An!==Sr+1?Math.abs(oe[An-1]):0);if(Math.abs(pr[An])<=Ir*Kn){pr[An]=0;break}}An===Sr?tn=3:An===xa-1?tn=1:(tn=2,Sr=An)}switch(Sr++,tn){case 1:{var Wn=oe[xa-2];oe[xa-2]=0;for(var aa=xa-2;aa>=Sr;aa--){var oa=jr(pr[aa],Wn),Ya=pr[aa]/oa,ua=Wn/oa;if(pr[aa]=oa,aa!==Sr&&(Wn=-ua*oe[aa-1],oe[aa-1]=Ya*oe[aa-1]),Ke)for(var qn=0;qn<D;qn++)oa=Ya*Pr.get(qn,aa)+ua*Pr.get(qn,xa-1),Pr.set(qn,xa-1,-ua*Pr.get(qn,aa)+Ya*Pr.get(qn,xa-1)),Pr.set(qn,aa,oa)}break}case 2:{var za=oe[Sr-1];oe[Sr-1]=0;for(var Pa=Sr;Pa<xa;Pa++){var Ea=jr(pr[Pa],za),si=pr[Pa]/Ea,qa=za/Ea;if(pr[Pa]=Ea,za=-qa*oe[Pa],oe[Pa]=si*oe[Pa],Me)for(var Na=0;Na<O;Na++)Ea=si*kr.get(Na,Pa)+qa*kr.get(Na,Sr-1),kr.set(Na,Sr-1,-qa*kr.get(Na,Pa)+si*kr.get(Na,Sr-1)),kr.set(Na,Pa,Ea)}break}case 3:{var _a=Math.max(Math.abs(pr[xa-1]),Math.abs(pr[xa-2]),Math.abs(oe[xa-2]),Math.abs(pr[Sr]),Math.abs(oe[Sr])),pa=pr[xa-1]/_a,fi=pr[xa-2]/_a,ri=oe[xa-2]/_a,di=pr[Sr]/_a,Di=oe[Sr]/_a,Ci=((fi+pa)*(fi-pa)+ri*ri)/2,Ri=pa*ri*(pa*ri),Eo=0;(Ci!==0||Ri!==0)&&(Ci<0?Eo=0-Math.sqrt(Ci*Ci+Ri):Eo=Math.sqrt(Ci*Ci+Ri),Eo=Ri/(Ci+Eo));for(var wo=(di+pa)*(di-pa)+Eo,Ii=di*Di,Ra=Sr;Ra<xa-1;Ra++){var mi=jr(wo,Ii);mi===0&&(mi=Number.MIN_VALUE);var Pi=wo/mi,Ma=Ii/mi;if(Ra!==Sr&&(oe[Ra-1]=mi),wo=Pi*pr[Ra]+Ma*oe[Ra],oe[Ra]=Pi*oe[Ra]-Ma*pr[Ra],Ii=Ma*pr[Ra+1],pr[Ra+1]=Pi*pr[Ra+1],Ke)for(var ki=0;ki<D;ki++)mi=Pi*Pr.get(ki,Ra)+Ma*Pr.get(ki,Ra+1),Pr.set(ki,Ra+1,-Ma*Pr.get(ki,Ra)+Pi*Pr.get(ki,Ra+1)),Pr.set(ki,Ra,mi);if(mi=jr(wo,Ii),mi===0&&(mi=Number.MIN_VALUE),Pi=wo/mi,Ma=Ii/mi,pr[Ra]=mi,wo=Pi*oe[Ra]+Ma*pr[Ra+1],pr[Ra+1]=-Ma*oe[Ra]+Pi*pr[Ra+1],Ii=Ma*oe[Ra+1],oe[Ra+1]=Pi*oe[Ra+1],Me&&Ra<O-1)for(var no=0;no<O;no++)mi=Pi*kr.get(no,Ra)+Ma*kr.get(no,Ra+1),kr.set(no,Ra+1,-Ma*kr.get(no,Ra)+Pi*kr.get(no,Ra+1)),kr.set(no,Ra,mi)}oe[xa-2]=wo,Lr=Lr+1;break}case 4:{if(pr[Sr]<=0&&(pr[Sr]=pr[Sr]<0?-pr[Sr]:0,Ke))for(var Mi=0;Mi<=cr;Mi++)Pr.set(Mi,Sr,-Pr.get(Mi,Sr));for(;Sr<cr&&!(pr[Sr]>=pr[Sr+1]);){var Co=pr[Sr];if(pr[Sr]=pr[Sr+1],pr[Sr+1]=Co,Ke&&Sr<D-1)for(var yi=0;yi<D;yi++)Co=Pr.get(yi,Sr+1),Pr.set(yi,Sr+1,Pr.get(yi,Sr)),Pr.set(yi,Sr,Co);if(Me&&Sr<O-1)for(var ao=0;ao<O;ao++)Co=kr.get(ao,Sr+1),kr.set(ao,Sr+1,kr.get(ao,Sr)),kr.set(ao,Sr,Co);Sr++}Lr=0,xa--;break}}}if(vr){var Ro=Pr;Pr=kr,kr=Ro}this.m=O,this.n=D,this.s=pr,this.U=kr,this.V=Pr}return A()(it,[{key:"solve",value:function(G){for(var O=G,D=this.threshold,$=this.s.length,mt=Ft.zeros($,$),kt=0;kt<$;kt++)Math.abs(this.s[kt])<=D?mt.set(kt,kt,0):mt.set(kt,kt,1/this.s[kt]);for(var Rt=this.U,qt=this.rightSingularVectors,Le=qt.mmul(mt),Me=qt.rows,Ke=Rt.rows,vr=Ft.zeros(Me,Ke),He=0;He<Me;He++)for(var Rr=0;Rr<Ke;Rr++){for(var fn=0,Je=0;Je<$;Je++)fn+=Le.get(He,Je)*Rt.get(Rr,Je);vr.set(He,Rr,fn)}return vr.mmul(O)}},{key:"solveForDiagonal",value:function(G){return this.solve(Ft.diag(G))}},{key:"inverse",value:function(){for(var G=this.V,O=this.threshold,D=G.rows,$=G.columns,mt=new Ft(D,this.s.length),kt=0;kt<D;kt++)for(var Rt=0;Rt<$;Rt++)Math.abs(this.s[Rt])>O&&mt.set(kt,Rt,G.get(kt,Rt)/this.s[Rt]);for(var qt=this.U,Le=qt.rows,Me=qt.columns,Ke=new Ft(D,Le),vr=0;vr<D;vr++)for(var He=0;He<Le;He++){for(var Rr=0,fn=0;fn<Me;fn++)Rr+=mt.get(vr,fn)*qt.get(He,fn);Ke.set(vr,He,Rr)}return Ke}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var G=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,O=0,D=this.s,$=0,mt=D.length;$<mt;$++)D[$]>G&&O++;return O}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return Ft.diag(this.s)}}]),it}();function ir(it){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return it=Xe.checkMatrix(it),ft?new Sn(it).inverse():mn(it,Ft.eye(it.rows))}function mn(it,ft){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return it=Xe.checkMatrix(it),ft=Xe.checkMatrix(ft),G?new Sn(it).solve(ft):it.isSquare()?new Ue(it).solve(ft):new Br(it).solve(ft)}function Or(it){if(it=Ft.checkMatrix(it),it.isSquare()){if(it.columns===0)return 1;var ft,G,O,D;if(it.columns===2)return ft=it.get(0,0),G=it.get(0,1),O=it.get(1,0),D=it.get(1,1),ft*D-G*O;if(it.columns===3){var $,mt,kt;return $=new Jr(it,[1,2],[1,2]),mt=new Jr(it,[1,2],[0,2]),kt=new Jr(it,[1,2],[0,1]),ft=it.get(0,0),G=it.get(0,1),O=it.get(0,2),ft*Or($)-G*Or(mt)+O*Or(kt)}else return new Ue(it).determinant}else throw Error("determinant can only be calculated for a square matrix")}function sn(it,ft){for(var G=[],O=0;O<it;O++)O!==ft&&G.push(O);return G}function ln(it,ft,G){var O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e-9,D=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-9;if(it>D)return new Array(ft.rows+1).fill(0);for(var $=ft.addRow(G,[0]),mt=0;mt<$.rows;mt++)Math.abs($.get(mt,0))<O&&$.set(mt,0,0);return $.to1DArray()}function cn(it){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=ft.thresholdValue,O=G===void 0?1e-9:G,D=ft.thresholdError,$=D===void 0?1e-9:D;it=Ft.checkMatrix(it);for(var mt=it.rows,kt=new Ft(mt,mt),Rt=0;Rt<mt;Rt++){var qt=Ft.columnVector(it.getRow(Rt)),Le=it.subMatrixRow(sn(mt,Rt)).transpose(),Me=new Sn(Le),Ke=Me.solve(qt),vr=Ft.sub(qt,Le.mmul(Ke)).abs().max();kt.setRow(Rt,ln(vr,Ke,Rt,O,$))}return kt}function Cn(it){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.EPSILON;if(it=Ft.checkMatrix(it),it.isEmpty())return it.transpose();for(var G=new Sn(it,{autoTranspose:!0}),O=G.leftSingularVectors,D=G.rightSingularVectors,$=G.diagonal,mt=0;mt<$.length;mt++)Math.abs($[mt])>ft?$[mt]=1/$[mt]:$[mt]=0;return D.mmul(Ft.diag($).mmul(O.transpose()))}function V(it){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:it,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};it=new Ft(it);var O=!1;if(g()(ft)==="object"&&!Ft.isMatrix(ft)&&!T(ft)?(G=ft,ft=it,O=!0):ft=new Ft(ft),it.rows!==ft.rows)throw new TypeError("Both matrices must have the same number of rows");var D=G,$=D.center,mt=$===void 0?!0:$;mt&&(it=it.center("column"),O||(ft=ft.center("column")));for(var kt=it.transpose().mmul(ft),Rt=0;Rt<kt.rows;Rt++)for(var qt=0;qt<kt.columns;qt++)kt.set(Rt,qt,kt.get(Rt,qt)*(1/(it.rows-1)));return kt}function $t(it){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:it,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};it=new Ft(it);var O=!1;if(g()(ft)==="object"&&!Ft.isMatrix(ft)&&!T(ft)?(G=ft,ft=it,O=!0):ft=new Ft(ft),it.rows!==ft.rows)throw new TypeError("Both matrices must have the same number of rows");var D=G,$=D.center,mt=$===void 0?!0:$,kt=D.scale,Rt=kt===void 0?!0:kt;mt&&(it.center("column"),O||ft.center("column")),Rt&&(it.scale("column"),O||ft.scale("column"));for(var qt=it.standardDeviation("column",{unbiased:!0}),Le=O?qt:ft.standardDeviation("column",{unbiased:!0}),Me=it.transpose().mmul(ft),Ke=0;Ke<Me.rows;Ke++)for(var vr=0;vr<Me.columns;vr++)Me.set(Ke,vr,Me.get(Ke,vr)*(1/(qt[Ke]*Le[vr]))*(1/(it.rows-1)));return Me}var Q=function(){function it(ft){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};E()(this,it);var O=G.assumeSymmetric,D=O===void 0?!1:O;if(ft=Xe.checkMatrix(ft),!ft.isSquare())throw new Error("Matrix is not a square matrix");if(ft.isEmpty())throw new Error("Matrix must be non-empty");var $=ft.columns,mt=new Ft($,$),kt=new Float64Array($),Rt=new Float64Array($),qt=ft,Le,Me,Ke=!1;if(D?Ke=!0:Ke=ft.isSymmetric(),Ke){for(Le=0;Le<$;Le++)for(Me=0;Me<$;Me++)mt.set(Le,Me,qt.get(Le,Me));gt($,Rt,kt,mt),lt($,Rt,kt,mt)}else{var vr=new Ft($,$),He=new Float64Array($);for(Me=0;Me<$;Me++)for(Le=0;Le<$;Le++)vr.set(Le,Me,qt.get(Le,Me));Gt($,vr,He,mt),Qt($,Rt,kt,mt,vr)}this.n=$,this.e=Rt,this.d=kt,this.V=mt}return A()(it,[{key:"realEigenvalues",get:function(){return Array.from(this.d)}},{key:"imaginaryEigenvalues",get:function(){return Array.from(this.e)}},{key:"eigenvectorMatrix",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){var G=this.n,O=this.e,D=this.d,$=new Ft(G,G),mt,kt;for(mt=0;mt<G;mt++){for(kt=0;kt<G;kt++)$.set(mt,kt,0);$.set(mt,mt,D[mt]),O[mt]>0?$.set(mt,mt+1,O[mt]):O[mt]<0&&$.set(mt,mt-1,O[mt])}return $}}]),it}();function gt(it,ft,G,O){var D,$,mt,kt,Rt,qt,Le,Me;for(Rt=0;Rt<it;Rt++)G[Rt]=O.get(it-1,Rt);for(kt=it-1;kt>0;kt--){for(Me=0,mt=0,qt=0;qt<kt;qt++)Me=Me+Math.abs(G[qt]);if(Me===0)for(ft[kt]=G[kt-1],Rt=0;Rt<kt;Rt++)G[Rt]=O.get(kt-1,Rt),O.set(kt,Rt,0),O.set(Rt,kt,0);else{for(qt=0;qt<kt;qt++)G[qt]/=Me,mt+=G[qt]*G[qt];for(D=G[kt-1],$=Math.sqrt(mt),D>0&&($=-$),ft[kt]=Me*$,mt=mt-D*$,G[kt-1]=D-$,Rt=0;Rt<kt;Rt++)ft[Rt]=0;for(Rt=0;Rt<kt;Rt++){for(D=G[Rt],O.set(Rt,kt,D),$=ft[Rt]+O.get(Rt,Rt)*D,qt=Rt+1;qt<=kt-1;qt++)$+=O.get(qt,Rt)*G[qt],ft[qt]+=O.get(qt,Rt)*D;ft[Rt]=$}for(D=0,Rt=0;Rt<kt;Rt++)ft[Rt]/=mt,D+=ft[Rt]*G[Rt];for(Le=D/(mt+mt),Rt=0;Rt<kt;Rt++)ft[Rt]-=Le*G[Rt];for(Rt=0;Rt<kt;Rt++){for(D=G[Rt],$=ft[Rt],qt=Rt;qt<=kt-1;qt++)O.set(qt,Rt,O.get(qt,Rt)-(D*ft[qt]+$*G[qt]));G[Rt]=O.get(kt-1,Rt),O.set(kt,Rt,0)}}G[kt]=mt}for(kt=0;kt<it-1;kt++){if(O.set(it-1,kt,O.get(kt,kt)),O.set(kt,kt,1),mt=G[kt+1],mt!==0){for(qt=0;qt<=kt;qt++)G[qt]=O.get(qt,kt+1)/mt;for(Rt=0;Rt<=kt;Rt++){for($=0,qt=0;qt<=kt;qt++)$+=O.get(qt,kt+1)*O.get(qt,Rt);for(qt=0;qt<=kt;qt++)O.set(qt,Rt,O.get(qt,Rt)-$*G[qt])}}for(qt=0;qt<=kt;qt++)O.set(qt,kt+1,0)}for(Rt=0;Rt<it;Rt++)G[Rt]=O.get(it-1,Rt),O.set(it-1,Rt,0);O.set(it-1,it-1,1),ft[0]=0}function lt(it,ft,G,O){var D,$,mt,kt,Rt,qt,Le,Me,Ke,vr,He,Rr,fn,Je,pr,kr,Pr;for(mt=1;mt<it;mt++)ft[mt-1]=ft[mt];ft[it-1]=0;var oe=0,Wt=0,pe=Number.EPSILON;for(qt=0;qt<it;qt++){for(Wt=Math.max(Wt,Math.abs(G[qt])+Math.abs(ft[qt])),Le=qt;Le<it&&!(Math.abs(ft[Le])<=pe*Wt);)Le++;if(Le>qt){Pr=0;do{for(Pr=Pr+1,D=G[qt],Me=(G[qt+1]-D)/(2*ft[qt]),Ke=jr(Me,1),Me<0&&(Ke=-Ke),G[qt]=ft[qt]/(Me+Ke),G[qt+1]=ft[qt]*(Me+Ke),vr=G[qt+1],$=D-G[qt],mt=qt+2;mt<it;mt++)G[mt]-=$;for(oe=oe+$,Me=G[Le],He=1,Rr=He,fn=He,Je=ft[qt+1],pr=0,kr=0,mt=Le-1;mt>=qt;mt--)for(fn=Rr,Rr=He,kr=pr,D=He*ft[mt],$=He*Me,Ke=jr(Me,ft[mt]),ft[mt+1]=pr*Ke,pr=ft[mt]/Ke,He=Me/Ke,Me=He*G[mt]-pr*D,G[mt+1]=$+pr*(He*D+pr*G[mt]),Rt=0;Rt<it;Rt++)$=O.get(Rt,mt+1),O.set(Rt,mt+1,pr*O.get(Rt,mt)+He*$),O.set(Rt,mt,He*O.get(Rt,mt)-pr*$);Me=-pr*kr*fn*Je*ft[qt]/vr,ft[qt]=pr*Me,G[qt]=He*Me}while(Math.abs(ft[qt])>pe*Wt)}G[qt]=G[qt]+oe,ft[qt]=0}for(mt=0;mt<it-1;mt++){for(Rt=mt,Me=G[mt],kt=mt+1;kt<it;kt++)G[kt]<Me&&(Rt=kt,Me=G[kt]);if(Rt!==mt)for(G[Rt]=G[mt],G[mt]=Me,kt=0;kt<it;kt++)Me=O.get(kt,mt),O.set(kt,mt,O.get(kt,Rt)),O.set(kt,Rt,Me)}}function Gt(it,ft,G,O){var D=0,$=it-1,mt,kt,Rt,qt,Le,Me,Ke;for(Me=D+1;Me<=$-1;Me++){for(Ke=0,qt=Me;qt<=$;qt++)Ke=Ke+Math.abs(ft.get(qt,Me-1));if(Ke!==0){for(Rt=0,qt=$;qt>=Me;qt--)G[qt]=ft.get(qt,Me-1)/Ke,Rt+=G[qt]*G[qt];for(kt=Math.sqrt(Rt),G[Me]>0&&(kt=-kt),Rt=Rt-G[Me]*kt,G[Me]=G[Me]-kt,Le=Me;Le<it;Le++){for(mt=0,qt=$;qt>=Me;qt--)mt+=G[qt]*ft.get(qt,Le);for(mt=mt/Rt,qt=Me;qt<=$;qt++)ft.set(qt,Le,ft.get(qt,Le)-mt*G[qt])}for(qt=0;qt<=$;qt++){for(mt=0,Le=$;Le>=Me;Le--)mt+=G[Le]*ft.get(qt,Le);for(mt=mt/Rt,Le=Me;Le<=$;Le++)ft.set(qt,Le,ft.get(qt,Le)-mt*G[Le])}G[Me]=Ke*G[Me],ft.set(Me,Me-1,Ke*kt)}}for(qt=0;qt<it;qt++)for(Le=0;Le<it;Le++)O.set(qt,Le,qt===Le?1:0);for(Me=$-1;Me>=D+1;Me--)if(ft.get(Me,Me-1)!==0){for(qt=Me+1;qt<=$;qt++)G[qt]=ft.get(qt,Me-1);for(Le=Me;Le<=$;Le++){for(kt=0,qt=Me;qt<=$;qt++)kt+=G[qt]*O.get(qt,Le);for(kt=kt/G[Me]/ft.get(Me,Me-1),qt=Me;qt<=$;qt++)O.set(qt,Le,O.get(qt,Le)+kt*G[qt])}}}function Qt(it,ft,G,O,D){var $=it-1,mt=0,kt=it-1,Rt=Number.EPSILON,qt=0,Le=0,Me=0,Ke=0,vr=0,He=0,Rr=0,fn=0,Je,pr,kr,Pr,oe,Wt,pe,_e,xe,Ge,lr,gr,Zr,Tn,an;for(Je=0;Je<it;Je++)for((Je<mt||Je>kt)&&(G[Je]=D.get(Je,Je),ft[Je]=0),pr=Math.max(Je-1,0);pr<it;pr++)Le=Le+Math.abs(D.get(Je,pr));for(;$>=mt;){for(Pr=$;Pr>mt&&(He=Math.abs(D.get(Pr-1,Pr-1))+Math.abs(D.get(Pr,Pr)),He===0&&(He=Le),!(Math.abs(D.get(Pr,Pr-1))<Rt*He));)Pr--;if(Pr===$)D.set($,$,D.get($,$)+qt),G[$]=D.get($,$),ft[$]=0,$--,fn=0;else if(Pr===$-1){if(pe=D.get($,$-1)*D.get($-1,$),Me=(D.get($-1,$-1)-D.get($,$))/2,Ke=Me*Me+pe,Rr=Math.sqrt(Math.abs(Ke)),D.set($,$,D.get($,$)+qt),D.set($-1,$-1,D.get($-1,$-1)+qt),_e=D.get($,$),Ke>=0){for(Rr=Me>=0?Me+Rr:Me-Rr,G[$-1]=_e+Rr,G[$]=G[$-1],Rr!==0&&(G[$]=_e-pe/Rr),ft[$-1]=0,ft[$]=0,_e=D.get($,$-1),He=Math.abs(_e)+Math.abs(Rr),Me=_e/He,Ke=Rr/He,vr=Math.sqrt(Me*Me+Ke*Ke),Me=Me/vr,Ke=Ke/vr,pr=$-1;pr<it;pr++)Rr=D.get($-1,pr),D.set($-1,pr,Ke*Rr+Me*D.get($,pr)),D.set($,pr,Ke*D.get($,pr)-Me*Rr);for(Je=0;Je<=$;Je++)Rr=D.get(Je,$-1),D.set(Je,$-1,Ke*Rr+Me*D.get(Je,$)),D.set(Je,$,Ke*D.get(Je,$)-Me*Rr);for(Je=mt;Je<=kt;Je++)Rr=O.get(Je,$-1),O.set(Je,$-1,Ke*Rr+Me*O.get(Je,$)),O.set(Je,$,Ke*O.get(Je,$)-Me*Rr)}else G[$-1]=_e+Me,G[$]=_e+Me,ft[$-1]=Rr,ft[$]=-Rr;$=$-2,fn=0}else{if(_e=D.get($,$),xe=0,pe=0,Pr<$&&(xe=D.get($-1,$-1),pe=D.get($,$-1)*D.get($-1,$)),fn===10){for(qt+=_e,Je=mt;Je<=$;Je++)D.set(Je,Je,D.get(Je,Je)-_e);He=Math.abs(D.get($,$-1))+Math.abs(D.get($-1,$-2)),_e=xe=.75*He,pe=-.4375*He*He}if(fn===30&&(He=(xe-_e)/2,He=He*He+pe,He>0)){for(He=Math.sqrt(He),xe<_e&&(He=-He),He=_e-pe/((xe-_e)/2+He),Je=mt;Je<=$;Je++)D.set(Je,Je,D.get(Je,Je)-He);qt+=He,_e=xe=pe=.964}for(fn=fn+1,oe=$-2;oe>=Pr&&(Rr=D.get(oe,oe),vr=_e-Rr,He=xe-Rr,Me=(vr*He-pe)/D.get(oe+1,oe)+D.get(oe,oe+1),Ke=D.get(oe+1,oe+1)-Rr-vr-He,vr=D.get(oe+2,oe+1),He=Math.abs(Me)+Math.abs(Ke)+Math.abs(vr),Me=Me/He,Ke=Ke/He,vr=vr/He,!(oe===Pr||Math.abs(D.get(oe,oe-1))*(Math.abs(Ke)+Math.abs(vr))<Rt*(Math.abs(Me)*(Math.abs(D.get(oe-1,oe-1))+Math.abs(Rr)+Math.abs(D.get(oe+1,oe+1))))));)oe--;for(Je=oe+2;Je<=$;Je++)D.set(Je,Je-2,0),Je>oe+2&&D.set(Je,Je-3,0);for(kr=oe;kr<=$-1&&(Tn=kr!==$-1,kr!==oe&&(Me=D.get(kr,kr-1),Ke=D.get(kr+1,kr-1),vr=Tn?D.get(kr+2,kr-1):0,_e=Math.abs(Me)+Math.abs(Ke)+Math.abs(vr),_e!==0&&(Me=Me/_e,Ke=Ke/_e,vr=vr/_e)),_e!==0);kr++)if(He=Math.sqrt(Me*Me+Ke*Ke+vr*vr),Me<0&&(He=-He),He!==0){for(kr!==oe?D.set(kr,kr-1,-He*_e):Pr!==oe&&D.set(kr,kr-1,-D.get(kr,kr-1)),Me=Me+He,_e=Me/He,xe=Ke/He,Rr=vr/He,Ke=Ke/Me,vr=vr/Me,pr=kr;pr<it;pr++)Me=D.get(kr,pr)+Ke*D.get(kr+1,pr),Tn&&(Me=Me+vr*D.get(kr+2,pr),D.set(kr+2,pr,D.get(kr+2,pr)-Me*Rr)),D.set(kr,pr,D.get(kr,pr)-Me*_e),D.set(kr+1,pr,D.get(kr+1,pr)-Me*xe);for(Je=0;Je<=Math.min($,kr+3);Je++)Me=_e*D.get(Je,kr)+xe*D.get(Je,kr+1),Tn&&(Me=Me+Rr*D.get(Je,kr+2),D.set(Je,kr+2,D.get(Je,kr+2)-Me*vr)),D.set(Je,kr,D.get(Je,kr)-Me),D.set(Je,kr+1,D.get(Je,kr+1)-Me*Ke);for(Je=mt;Je<=kt;Je++)Me=_e*O.get(Je,kr)+xe*O.get(Je,kr+1),Tn&&(Me=Me+Rr*O.get(Je,kr+2),O.set(Je,kr+2,O.get(Je,kr+2)-Me*vr)),O.set(Je,kr,O.get(Je,kr)-Me),O.set(Je,kr+1,O.get(Je,kr+1)-Me*Ke)}}}if(Le!==0){for($=it-1;$>=0;$--)if(Me=G[$],Ke=ft[$],Ke===0)for(Pr=$,D.set($,$,1),Je=$-1;Je>=0;Je--){for(pe=D.get(Je,Je)-Me,vr=0,pr=Pr;pr<=$;pr++)vr=vr+D.get(Je,pr)*D.get(pr,$);if(ft[Je]<0)Rr=pe,He=vr;else if(Pr=Je,ft[Je]===0?D.set(Je,$,pe!==0?-vr/pe:-vr/(Rt*Le)):(_e=D.get(Je,Je+1),xe=D.get(Je+1,Je),Ke=(G[Je]-Me)*(G[Je]-Me)+ft[Je]*ft[Je],Wt=(_e*He-Rr*vr)/Ke,D.set(Je,$,Wt),D.set(Je+1,$,Math.abs(_e)>Math.abs(Rr)?(-vr-pe*Wt)/_e:(-He-xe*Wt)/Rr)),Wt=Math.abs(D.get(Je,$)),Rt*Wt*Wt>1)for(pr=Je;pr<=$;pr++)D.set(pr,$,D.get(pr,$)/Wt)}else if(Ke<0)for(Pr=$-1,Math.abs(D.get($,$-1))>Math.abs(D.get($-1,$))?(D.set($-1,$-1,Ke/D.get($,$-1)),D.set($-1,$,-(D.get($,$)-Me)/D.get($,$-1))):(an=he(0,-D.get($-1,$),D.get($-1,$-1)-Me,Ke),D.set($-1,$-1,an[0]),D.set($-1,$,an[1])),D.set($,$-1,0),D.set($,$,1),Je=$-2;Je>=0;Je--){for(Ge=0,lr=0,pr=Pr;pr<=$;pr++)Ge=Ge+D.get(Je,pr)*D.get(pr,$-1),lr=lr+D.get(Je,pr)*D.get(pr,$);if(pe=D.get(Je,Je)-Me,ft[Je]<0)Rr=pe,vr=Ge,He=lr;else if(Pr=Je,ft[Je]===0?(an=he(-Ge,-lr,pe,Ke),D.set(Je,$-1,an[0]),D.set(Je,$,an[1])):(_e=D.get(Je,Je+1),xe=D.get(Je+1,Je),gr=(G[Je]-Me)*(G[Je]-Me)+ft[Je]*ft[Je]-Ke*Ke,Zr=(G[Je]-Me)*2*Ke,gr===0&&Zr===0&&(gr=Rt*Le*(Math.abs(pe)+Math.abs(Ke)+Math.abs(_e)+Math.abs(xe)+Math.abs(Rr))),an=he(_e*vr-Rr*Ge+Ke*lr,_e*He-Rr*lr-Ke*Ge,gr,Zr),D.set(Je,$-1,an[0]),D.set(Je,$,an[1]),Math.abs(_e)>Math.abs(Rr)+Math.abs(Ke)?(D.set(Je+1,$-1,(-Ge-pe*D.get(Je,$-1)+Ke*D.get(Je,$))/_e),D.set(Je+1,$,(-lr-pe*D.get(Je,$)-Ke*D.get(Je,$-1))/_e)):(an=he(-vr-xe*D.get(Je,$-1),-He-xe*D.get(Je,$),Rr,Ke),D.set(Je+1,$-1,an[0]),D.set(Je+1,$,an[1]))),Wt=Math.max(Math.abs(D.get(Je,$-1)),Math.abs(D.get(Je,$))),Rt*Wt*Wt>1)for(pr=Je;pr<=$;pr++)D.set(pr,$-1,D.get(pr,$-1)/Wt),D.set(pr,$,D.get(pr,$)/Wt)}for(Je=0;Je<it;Je++)if(Je<mt||Je>kt)for(pr=Je;pr<it;pr++)O.set(Je,pr,D.get(Je,pr));for(pr=it-1;pr>=mt;pr--)for(Je=mt;Je<=kt;Je++){for(Rr=0,kr=mt;kr<=Math.min(pr,kt);kr++)Rr=Rr+O.get(Je,kr)*D.get(kr,pr);O.set(Je,pr,Rr)}}}function he(it,ft,G,O){var D,$;return Math.abs(G)>Math.abs(O)?(D=O/G,$=G+D*O,[(it+D*ft)/$,(ft-D*it)/$]):(D=G/O,$=O+D*G,[(D*it+ft)/$,(D*ft-it)/$])}var de=function(){function it(ft){if(E()(this,it),ft=Xe.checkMatrix(ft),!ft.isSymmetric())throw new Error("Matrix is not symmetric");var G=ft,O=G.rows,D=new Ft(O,O),$=!0,mt,kt,Rt;for(kt=0;kt<O;kt++){var qt=0;for(Rt=0;Rt<kt;Rt++){var Le=0;for(mt=0;mt<Rt;mt++)Le+=D.get(Rt,mt)*D.get(kt,mt);Le=(G.get(kt,Rt)-Le)/D.get(Rt,Rt),D.set(kt,Rt,Le),qt=qt+Le*Le}for(qt=G.get(kt,kt)-qt,$&=qt>0,D.set(kt,kt,Math.sqrt(Math.max(qt,0))),Rt=kt+1;Rt<O;Rt++)D.set(kt,Rt,0)}this.L=D,this.positiveDefinite=Boolean($)}return A()(it,[{key:"isPositiveDefinite",value:function(){return this.positiveDefinite}},{key:"solve",value:function(G){G=Xe.checkMatrix(G);var O=this.L,D=O.rows;if(G.rows!==D)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");var $=G.columns,mt=G.clone(),kt,Rt,qt;for(qt=0;qt<D;qt++)for(Rt=0;Rt<$;Rt++){for(kt=0;kt<qt;kt++)mt.set(qt,Rt,mt.get(qt,Rt)-mt.get(kt,Rt)*O.get(qt,kt));mt.set(qt,Rt,mt.get(qt,Rt)/O.get(qt,qt))}for(qt=D-1;qt>=0;qt--)for(Rt=0;Rt<$;Rt++){for(kt=qt+1;kt<D;kt++)mt.set(qt,Rt,mt.get(qt,Rt)-mt.get(kt,Rt)*O.get(kt,qt));mt.set(qt,Rt,mt.get(qt,Rt)/O.get(qt,qt))}return mt}},{key:"lowerTriangularMatrix",get:function(){return this.L}}]),it}(),fe=A()(function it(ft){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};E()(this,it),ft=Xe.checkMatrix(ft);var O=G.Y,D=G.scaleScores,$=D===void 0?!1:D,mt=G.maxIterations,kt=mt===void 0?1e3:mt,Rt=G.terminationCriteria,qt=Rt===void 0?1e-10:Rt,Le;if(O){if(T(O)&&typeof O[0]=="number"?O=Ft.columnVector(O):O=Xe.checkMatrix(O),O.rows!==ft.rows)throw new Error("Y should have the same number of rows as X");Le=O.getColumnVector(0)}else Le=ft.getColumnVector(0);for(var Me=1,Ke,vr,He,Rr,fn=0;fn<kt&&Me>qt;fn++)He=ft.transpose().mmul(Le).div(Le.transpose().mmul(Le).get(0,0)),He=He.div(He.norm()),Ke=ft.mmul(He).div(He.transpose().mmul(He).get(0,0)),fn>0&&(Me=Ke.clone().sub(Rr).pow(2).sum()),Rr=Ke.clone(),O?(vr=O.transpose().mmul(Ke).div(Ke.transpose().mmul(Ke).get(0,0)),vr=vr.div(vr.norm()),Le=O.mmul(vr).div(vr.transpose().mmul(vr).get(0,0))):Le=Ke;if(O){var Je=ft.transpose().mmul(Ke).div(Ke.transpose().mmul(Ke).get(0,0));Je=Je.div(Je.norm());var pr=ft.clone().sub(Ke.clone().mmul(Je.transpose())),kr=Le.transpose().mmul(Ke).div(Ke.transpose().mmul(Ke).get(0,0)),Pr=O.clone().sub(Ke.clone().mulS(kr.get(0,0)).mmul(vr.transpose()));this.t=Ke,this.p=Je.transpose(),this.w=He.transpose(),this.q=vr,this.u=Le,this.s=Ke.transpose().mmul(Ke),this.xResidual=pr,this.yResidual=Pr,this.betas=kr}else this.w=He.transpose(),this.s=Ke.transpose().mmul(Ke).sqrt(),$?this.t=Ke.clone().div(this.s.get(0,0)):this.t=Ke,this.xResidual=ft.sub(Ke.mmul(He.transpose()))})},988824:function(Ve,W,_){"use strict";_.d(W,{Z:function(){return Cn}});var y=_(570655),R=_(785893),w=_(667294),M=_(513669),P=_(387820),L=_(962574);const p=(V,$t)=>{const Q=A(V),gt=A($t),lt=Q.pop(),Gt=gt.pop(),Qt=f(Q,gt);return Qt!==0?Qt:lt&&Gt?f(lt.split("."),Gt.split(".")):lt||Gt?lt?-1:1:0},g=V=>typeof V=="string"&&/^[v\d]/.test(V)&&b.test(V),S=(V,$t,Q)=>{z(Q);const gt=p(V,$t);return U[Q].includes(gt)},E=(V,$t)=>{if($t.includes("||"))return $t.split("||").some(mt=>E(V,mt));if($t.includes(" "))return $t.trim().replace(/\s{2,}/g," ").split(" ").every(mt=>E(V,mt));const Q=$t.match(/^([<>=~^]+)/),gt=Q?Q[1]:"=";if(gt!=="^"&&gt!=="~")return S(V,$t,gt);const[lt,Gt,Qt,,he]=A(V),[de,fe,it,,ft]=A($t),G=[lt,Gt,Qt],O=[de,fe!=null?fe:"x",it!=null?it:"x"];if(ft&&(!he||f(G,O)!==0||f(he.split("."),ft.split("."))===-1))return!1;const D=O.findIndex(mt=>mt!=="0")+1,$=gt==="~"?2:D>1?D:1;return!(f(G.slice(0,$),O.slice(0,$))!==0||f(G.slice($),O.slice($))===-1)},b=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,A=V=>{if(typeof V!="string")throw new TypeError("Invalid argument expected string");const $t=V.match(b);if(!$t)throw new Error(`Invalid argument not valid semver ('${V}' received)`);return $t.shift(),$t},x=V=>V==="*"||V==="x"||V==="X",T=V=>{const $t=parseInt(V,10);return isNaN($t)?V:$t},B=(V,$t)=>typeof V!=typeof $t?[String(V),String($t)]:[V,$t],m=(V,$t)=>{if(x(V)||x($t))return 0;const[Q,gt]=B(T(V),T($t));return Q>gt?1:Q<gt?-1:0},f=(V,$t)=>{for(let Q=0;Q<Math.max(V.length,$t.length);Q++){const gt=m(V[Q]||"0",$t[Q]||"0");if(gt!==0)return gt}return 0},U={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]},j=Object.keys(U),z=V=>{if(typeof V!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof V}`);if(j.indexOf(V)===-1)throw new Error(`Invalid operator, expected one of ${j.join("|")}`)};var k=function(V,$t){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,gt){Q.__proto__=gt}||function(Q,gt){for(var lt in gt)Object.prototype.hasOwnProperty.call(gt,lt)&&(Q[lt]=gt[lt])},k(V,$t)};function X(V,$t){k(V,$t);function Q(){this.constructor=V}V.prototype=$t===null?Object.create($t):(Q.prototype=$t.prototype,new Q)}var K=function(){return K=Object.assign||function($t){for(var Q,gt=1,lt=arguments.length;gt<lt;gt++){Q=arguments[gt];for(var Gt in Q)Object.prototype.hasOwnProperty.call(Q,Gt)&&($t[Gt]=Q[Gt])}return $t},K.apply(this,arguments)};function tt(V,$t){var Q={};for(var gt in V)Object.prototype.hasOwnProperty.call(V,gt)&&$t.indexOf(gt)<0&&(Q[gt]=V[gt]);if(V!=null&&typeof Object.getOwnPropertySymbols=="function")for(var lt=0,gt=Object.getOwnPropertySymbols(V);lt<gt.length;lt++)$t.indexOf(gt[lt])<0&&Object.prototype.propertyIsEnumerable.call(V,gt[lt])&&(Q[gt[lt]]=V[gt[lt]]);return Q}function q(V,$t,Q,gt){var lt=arguments.length,Gt=lt<3?$t:gt===null?gt=Object.getOwnPropertyDescriptor($t,Q):gt,Qt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Gt=Reflect.decorate(V,$t,Q,gt);else for(var he=V.length-1;he>=0;he--)(Qt=V[he])&&(Gt=(lt<3?Qt(Gt):lt>3?Qt($t,Q,Gt):Qt($t,Q))||Gt);return lt>3&&Gt&&Object.defineProperty($t,Q,Gt),Gt}function at(V,$t){return function(Q,gt){$t(Q,gt,V)}}function pt(V,$t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(V,$t)}function ct(V,$t,Q,gt){function lt(Gt){return Gt instanceof Q?Gt:new Q(function(Qt){Qt(Gt)})}return new(Q||(Q=Promise))(function(Gt,Qt){function he(it){try{fe(gt.next(it))}catch(ft){Qt(ft)}}function de(it){try{fe(gt.throw(it))}catch(ft){Qt(ft)}}function fe(it){it.done?Gt(it.value):lt(it.value).then(he,de)}fe((gt=gt.apply(V,$t||[])).next())})}function St(V,$t){var Q={label:0,sent:function(){if(Gt[0]&1)throw Gt[1];return Gt[1]},trys:[],ops:[]},gt,lt,Gt,Qt;return Qt={next:he(0),throw:he(1),return:he(2)},typeof Symbol=="function"&&(Qt[Symbol.iterator]=function(){return this}),Qt;function he(fe){return function(it){return de([fe,it])}}function de(fe){if(gt)throw new TypeError("Generator is already executing.");for(;Q;)try{if(gt=1,lt&&(Gt=fe[0]&2?lt.return:fe[0]?lt.throw||((Gt=lt.return)&&Gt.call(lt),0):lt.next)&&!(Gt=Gt.call(lt,fe[1])).done)return Gt;switch(lt=0,Gt&&(fe=[fe[0]&2,Gt.value]),fe[0]){case 0:case 1:Gt=fe;break;case 4:return Q.label++,{value:fe[1],done:!1};case 5:Q.label++,lt=fe[1],fe=[0];continue;case 7:fe=Q.ops.pop(),Q.trys.pop();continue;default:if(Gt=Q.trys,!(Gt=Gt.length>0&&Gt[Gt.length-1])&&(fe[0]===6||fe[0]===2)){Q=0;continue}if(fe[0]===3&&(!Gt||fe[1]>Gt[0]&&fe[1]<Gt[3])){Q.label=fe[1];break}if(fe[0]===6&&Q.label<Gt[1]){Q.label=Gt[1],Gt=fe;break}if(Gt&&Q.label<Gt[2]){Q.label=Gt[2],Q.ops.push(fe);break}Gt[2]&&Q.ops.pop(),Q.trys.pop();continue}fe=$t.call(V,Q)}catch(it){fe=[6,it],lt=0}finally{gt=Gt=0}if(fe[0]&5)throw fe[1];return{value:fe[0]?fe[1]:void 0,done:!0}}}var vt=Object.create?function(V,$t,Q,gt){gt===void 0&&(gt=Q),Object.defineProperty(V,gt,{enumerable:!0,get:function(){return $t[Q]}})}:function(V,$t,Q,gt){gt===void 0&&(gt=Q),V[gt]=$t[Q]};function Lt(V,$t){for(var Q in V)Q!=="default"&&!Object.prototype.hasOwnProperty.call($t,Q)&&vt($t,V,Q)}function Mt(V){var $t=typeof Symbol=="function"&&Symbol.iterator,Q=$t&&V[$t],gt=0;if(Q)return Q.call(V);if(V&&typeof V.length=="number")return{next:function(){return V&&gt>=V.length&&(V=void 0),{value:V&&V[gt++],done:!V}}};throw new TypeError($t?"Object is not iterable.":"Symbol.iterator is not defined.")}function wt(V,$t){var Q=typeof Symbol=="function"&&V[Symbol.iterator];if(!Q)return V;var gt=Q.call(V),lt,Gt=[],Qt;try{for(;($t===void 0||$t-- >0)&&!(lt=gt.next()).done;)Gt.push(lt.value)}catch(he){Qt={error:he}}finally{try{lt&&!lt.done&&(Q=gt.return)&&Q.call(gt)}finally{if(Qt)throw Qt.error}}return Gt}function et(){for(var V=[],$t=0;$t<arguments.length;$t++)V=V.concat(wt(arguments[$t]));return V}function rt(){for(var V=0,$t=0,Q=arguments.length;$t<Q;$t++)V+=arguments[$t].length;for(var gt=Array(V),lt=0,$t=0;$t<Q;$t++)for(var Gt=arguments[$t],Qt=0,he=Gt.length;Qt<he;Qt++,lt++)gt[lt]=Gt[Qt];return gt}function Ot(V){return this instanceof Ot?(this.v=V,this):new Ot(V)}function Dt(V,$t,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var gt=Q.apply(V,$t||[]),lt,Gt=[];return lt={},Qt("next"),Qt("throw"),Qt("return"),lt[Symbol.asyncIterator]=function(){return this},lt;function Qt(G){gt[G]&&(lt[G]=function(O){return new Promise(function(D,$){Gt.push([G,O,D,$])>1||he(G,O)})})}function he(G,O){try{de(gt[G](O))}catch(D){ft(Gt[0][3],D)}}function de(G){G.value instanceof Ot?Promise.resolve(G.value.v).then(fe,it):ft(Gt[0][2],G)}function fe(G){he("next",G)}function it(G){he("throw",G)}function ft(G,O){G(O),Gt.shift(),Gt.length&&he(Gt[0][0],Gt[0][1])}}function ot(V){var $t,Q;return $t={},gt("next"),gt("throw",function(lt){throw lt}),gt("return"),$t[Symbol.iterator]=function(){return this},$t;function gt(lt,Gt){$t[lt]=V[lt]?function(Qt){return(Q=!Q)?{value:Ot(V[lt](Qt)),done:lt==="return"}:Gt?Gt(Qt):Qt}:Gt}}function xt(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $t=V[Symbol.asyncIterator],Q;return $t?$t.call(V):(V=typeof Mt=="function"?Mt(V):V[Symbol.iterator](),Q={},gt("next"),gt("throw"),gt("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function gt(Gt){Q[Gt]=V[Gt]&&function(Qt){return new Promise(function(he,de){Qt=V[Gt](Qt),lt(he,de,Qt.done,Qt.value)})}}function lt(Gt,Qt,he,de){Promise.resolve(de).then(function(fe){Gt({value:fe,done:he})},Qt)}}function Nt(V,$t){return Object.defineProperty?Object.defineProperty(V,"raw",{value:$t}):V.raw=$t,V}var Yt=Object.create?function(V,$t){Object.defineProperty(V,"default",{enumerable:!0,value:$t})}:function(V,$t){V.default=$t};function Ct(V){if(V&&V.__esModule)return V;var $t={};if(V!=null)for(var Q in V)Q!=="default"&&Object.prototype.hasOwnProperty.call(V,Q)&&vt($t,V,Q);return Yt($t,V),$t}function Xt(V){return V&&V.__esModule?V:{default:V}}function Zt(V,$t){if(!$t.has(V))throw new TypeError("attempted to get private field on non-instance");return $t.get(V)}function se(V,$t,Q){if(!$t.has(V))throw new TypeError("attempted to set private field on non-instance");return $t.set(V,Q),Q}var ie=_(252796),zt=_.n(ie);function ae(V,$t,Q,gt,lt,Gt){Gt===void 0&&(Gt=0);var Qt=Qe(V,$t,Gt),he=Qt.width,de=Qt.height,fe=Math.min(he,Q),it=Math.min(de,gt);return fe>it*lt?{width:it*lt,height:it}:{width:fe,height:fe/lt}}function Re(V){return V.width>V.height?V.width/V.naturalWidth:V.height/V.naturalHeight}function Jt(V,$t,Q,gt,lt){lt===void 0&&(lt=0);var Gt=Qe($t.width,$t.height,lt),Qt=Gt.width,he=Gt.height;return{x:ue(V.x,Qt,Q.width,gt),y:ue(V.y,he,Q.height,gt)}}function ue(V,$t,Q,gt){var lt=$t*gt/2-Q/2;return Ar(V,-lt,lt)}function ke(V,$t){return Math.sqrt(Math.pow(V.y-$t.y,2)+Math.pow(V.x-$t.x,2))}function ye(V,$t){return Math.atan2($t.y-V.y,$t.x-V.x)*180/Math.PI}function ee(V,$t,Q,gt,lt,Gt,Qt){Gt===void 0&&(Gt=0),Qt===void 0&&(Qt=!0);var he=Qt?Ut:bt,de=Qe($t.width,$t.height,Gt),fe=Qe($t.naturalWidth,$t.naturalHeight,Gt),it={x:he(100,((de.width-Q.width/lt)/2-V.x/lt)/de.width*100),y:he(100,((de.height-Q.height/lt)/2-V.y/lt)/de.height*100),width:he(100,Q.width/de.width*100/lt),height:he(100,Q.height/de.height*100/lt)},ft=Math.round(he(fe.width,it.width*fe.width/100)),G=Math.round(he(fe.height,it.height*fe.height/100)),O=fe.width>=fe.height*gt,D=O?{width:Math.round(G*gt),height:G}:{width:ft,height:Math.round(ft/gt)},$=K(K({},D),{x:Math.round(he(fe.width-D.width,it.x*fe.width/100)),y:Math.round(he(fe.height-D.height,it.y*fe.height/100))});return{croppedAreaPercentages:it,croppedAreaPixels:$}}function Ut(V,$t){return Math.min(V,Math.max(0,$t))}function bt(V,$t){return $t}function Ft(V,$t,Q,gt,lt,Gt){var Qt=Qe($t.width,$t.height,Q),he=Ar(gt.width/Qt.width*(100/V.width),lt,Gt),de={x:he*Qt.width/2-gt.width/2-Qt.width*he*(V.x/100),y:he*Qt.height/2-gt.height/2-Qt.height*he*(V.y/100)};return{crop:de,zoom:he}}function be(V,$t,Q){var gt=Re($t);return Q.height>Q.width?Q.height/(V.height*gt):Q.width/(V.width*gt)}function qe(V,$t,Q,gt,lt,Gt){Q===void 0&&(Q=0);var Qt=Qe($t.naturalWidth,$t.naturalHeight,Q),he=Ar(be(V,$t,gt),lt,Gt),de=gt.height>gt.width?gt.height/V.height:gt.width/V.width,fe={x:((Qt.width-V.width)/2-V.x)*de,y:((Qt.height-V.height)/2-V.y)*de};return{crop:fe,zoom:he}}function Pe(V,$t){return{x:($t.x+V.x)/2,y:($t.y+V.y)/2}}function Ze(V){return V*Math.PI/180}function Qe(V,$t,Q){var gt=Ze(Q);return{width:Math.abs(Math.cos(gt)*V)+Math.abs(Math.sin(gt)*$t),height:Math.abs(Math.sin(gt)*V)+Math.abs(Math.cos(gt)*$t)}}function Ar(V,$t,Q){return Math.min(Math.max(V,$t),Q)}function Hr(){for(var V=[],$t=0;$t<arguments.length;$t++)V[$t]=arguments[$t];return V.filter(function(Q){return typeof Q=="string"&&Q.length>0}).join(" ").trim()}var Jr=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Cr=1,bn=3,Yr=function(V){X($t,V);function $t(){var Q=V!==null&&V.apply(this,arguments)||this;return Q.imageRef=w.createRef(),Q.videoRef=w.createRef(),Q.containerRef=null,Q.styleRef=null,Q.containerRect=null,Q.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},Q.dragStartPosition={x:0,y:0},Q.dragStartCrop={x:0,y:0},Q.gestureZoomStart=0,Q.gestureRotationStart=0,Q.isTouching=!1,Q.lastPinchDistance=0,Q.lastPinchRotation=0,Q.rafDragTimeout=null,Q.rafPinchTimeout=null,Q.wheelTimer=null,Q.currentDoc=typeof document!="undefined"?document:null,Q.currentWindow=typeof window!="undefined"?window:null,Q.resizeObserver=null,Q.state={cropSize:null,hasWheelJustStarted:!1},Q.initResizeObserver=function(){if(!(typeof window.ResizeObserver=="undefined"||!Q.containerRef)){var gt=!0;Q.resizeObserver=new window.ResizeObserver(function(lt){if(gt){gt=!1;return}Q.computeSizes()}),Q.resizeObserver.observe(Q.containerRef)}},Q.preventZoomSafari=function(gt){return gt.preventDefault()},Q.cleanEvents=function(){Q.currentDoc&&(Q.currentDoc.removeEventListener("mousemove",Q.onMouseMove),Q.currentDoc.removeEventListener("mouseup",Q.onDragStopped),Q.currentDoc.removeEventListener("touchmove",Q.onTouchMove),Q.currentDoc.removeEventListener("touchend",Q.onDragStopped),Q.currentDoc.removeEventListener("gesturemove",Q.onGestureMove),Q.currentDoc.removeEventListener("gestureend",Q.onGestureEnd))},Q.clearScrollEvent=function(){Q.containerRef&&Q.containerRef.removeEventListener("wheel",Q.onWheel),Q.wheelTimer&&clearTimeout(Q.wheelTimer)},Q.onMediaLoad=function(){var gt=Q.computeSizes();gt&&(Q.emitCropData(),Q.setInitialCrop(gt)),Q.props.onMediaLoaded&&Q.props.onMediaLoaded(Q.mediaSize)},Q.setInitialCrop=function(gt){if(Q.props.initialCroppedAreaPercentages){var lt=Ft(Q.props.initialCroppedAreaPercentages,Q.mediaSize,Q.props.rotation,gt,Q.props.minZoom,Q.props.maxZoom),Gt=lt.crop,Qt=lt.zoom;Q.props.onCropChange(Gt),Q.props.onZoomChange&&Q.props.onZoomChange(Qt)}else if(Q.props.initialCroppedAreaPixels){var he=qe(Q.props.initialCroppedAreaPixels,Q.mediaSize,Q.props.rotation,gt,Q.props.minZoom,Q.props.maxZoom),Gt=he.crop,Qt=he.zoom;Q.props.onCropChange(Gt),Q.props.onZoomChange&&Q.props.onZoomChange(Qt)}},Q.computeSizes=function(){var gt,lt,Gt,Qt,he,de,fe=Q.imageRef.current||Q.videoRef.current;if(fe&&Q.containerRef){Q.containerRect=Q.containerRef.getBoundingClientRect();var it=Q.containerRect.width/Q.containerRect.height,ft=((gt=Q.imageRef.current)===null||gt===void 0?void 0:gt.naturalWidth)||((lt=Q.videoRef.current)===null||lt===void 0?void 0:lt.videoWidth)||0,G=((Gt=Q.imageRef.current)===null||Gt===void 0?void 0:Gt.naturalHeight)||((Qt=Q.videoRef.current)===null||Qt===void 0?void 0:Qt.videoHeight)||0,O=fe.offsetWidth<ft||fe.offsetHeight<G,D=ft/G,$=void 0;if(O)switch(Q.props.objectFit){default:case"contain":$=it>D?{width:Q.containerRect.height*D,height:Q.containerRect.height}:{width:Q.containerRect.width,height:Q.containerRect.width/D};break;case"horizontal-cover":$={width:Q.containerRect.width,height:Q.containerRect.width/D};break;case"vertical-cover":$={width:Q.containerRect.height*D,height:Q.containerRect.height};break;case"auto-cover":$=ft>G?{width:Q.containerRect.width,height:Q.containerRect.width/D}:{width:Q.containerRect.height*D,height:Q.containerRect.height};break}else $={width:fe.offsetWidth,height:fe.offsetHeight};Q.mediaSize=K(K({},$),{naturalWidth:ft,naturalHeight:G}),Q.props.setMediaSize&&Q.props.setMediaSize(Q.mediaSize);var mt=Q.props.cropSize?Q.props.cropSize:ae(Q.mediaSize.width,Q.mediaSize.height,Q.containerRect.width,Q.containerRect.height,Q.props.aspect,Q.props.rotation);return(((he=Q.state.cropSize)===null||he===void 0?void 0:he.height)!==mt.height||((de=Q.state.cropSize)===null||de===void 0?void 0:de.width)!==mt.width)&&Q.props.onCropSizeChange&&Q.props.onCropSizeChange(mt),Q.setState({cropSize:mt},Q.recomputeCropPosition),Q.props.setCropSize&&Q.props.setCropSize(mt),mt}},Q.onMouseDown=function(gt){Q.currentDoc&&(gt.preventDefault(),Q.currentDoc.addEventListener("mousemove",Q.onMouseMove),Q.currentDoc.addEventListener("mouseup",Q.onDragStopped),Q.onDragStart($t.getMousePoint(gt)))},Q.onMouseMove=function(gt){return Q.onDrag($t.getMousePoint(gt))},Q.onTouchStart=function(gt){Q.currentDoc&&(Q.isTouching=!0,!(Q.props.onTouchRequest&&!Q.props.onTouchRequest(gt))&&(Q.currentDoc.addEventListener("touchmove",Q.onTouchMove,{passive:!1}),Q.currentDoc.addEventListener("touchend",Q.onDragStopped),gt.touches.length===2?Q.onPinchStart(gt):gt.touches.length===1&&Q.onDragStart($t.getTouchPoint(gt.touches[0]))))},Q.onTouchMove=function(gt){gt.preventDefault(),gt.touches.length===2?Q.onPinchMove(gt):gt.touches.length===1&&Q.onDrag($t.getTouchPoint(gt.touches[0]))},Q.onGestureStart=function(gt){Q.currentDoc&&(gt.preventDefault(),Q.currentDoc.addEventListener("gesturechange",Q.onGestureMove),Q.currentDoc.addEventListener("gestureend",Q.onGestureEnd),Q.gestureZoomStart=Q.props.zoom,Q.gestureRotationStart=Q.props.rotation)},Q.onGestureMove=function(gt){if(gt.preventDefault(),!Q.isTouching){var lt=$t.getMousePoint(gt),Gt=Q.gestureZoomStart-1+gt.scale;if(Q.setNewZoom(Gt,lt,{shouldUpdatePosition:!0}),Q.props.onRotationChange){var Qt=Q.gestureRotationStart+gt.rotation;Q.props.onRotationChange(Qt)}}},Q.onGestureEnd=function(gt){Q.cleanEvents()},Q.onDragStart=function(gt){var lt,Gt,Qt=gt.x,he=gt.y;Q.dragStartPosition={x:Qt,y:he},Q.dragStartCrop=K({},Q.props.crop),(Gt=(lt=Q.props).onInteractionStart)===null||Gt===void 0||Gt.call(lt)},Q.onDrag=function(gt){var lt=gt.x,Gt=gt.y;Q.currentWindow&&(Q.rafDragTimeout&&Q.currentWindow.cancelAnimationFrame(Q.rafDragTimeout),Q.rafDragTimeout=Q.currentWindow.requestAnimationFrame(function(){if(Q.state.cropSize&&!(lt===void 0||Gt===void 0)){var Qt=lt-Q.dragStartPosition.x,he=Gt-Q.dragStartPosition.y,de={x:Q.dragStartCrop.x+Qt,y:Q.dragStartCrop.y+he},fe=Q.props.restrictPosition?Jt(de,Q.mediaSize,Q.state.cropSize,Q.props.zoom,Q.props.rotation):de;Q.props.onCropChange(fe)}}))},Q.onDragStopped=function(){var gt,lt;Q.isTouching=!1,Q.cleanEvents(),Q.emitCropData(),(lt=(gt=Q.props).onInteractionEnd)===null||lt===void 0||lt.call(gt)},Q.onWheel=function(gt){if(Q.currentWindow&&!(Q.props.onWheelRequest&&!Q.props.onWheelRequest(gt))){gt.preventDefault();var lt=$t.getMousePoint(gt),Gt=zt()(gt).pixelY,Qt=Q.props.zoom-Gt*Q.props.zoomSpeed/200;Q.setNewZoom(Qt,lt,{shouldUpdatePosition:!0}),Q.state.hasWheelJustStarted||Q.setState({hasWheelJustStarted:!0},function(){var he,de;return(de=(he=Q.props).onInteractionStart)===null||de===void 0?void 0:de.call(he)}),Q.wheelTimer&&clearTimeout(Q.wheelTimer),Q.wheelTimer=Q.currentWindow.setTimeout(function(){return Q.setState({hasWheelJustStarted:!1},function(){var he,de;return(de=(he=Q.props).onInteractionEnd)===null||de===void 0?void 0:de.call(he)})},250)}},Q.getPointOnContainer=function(gt){var lt=gt.x,Gt=gt.y;if(!Q.containerRect)throw new Error("The Cropper is not mounted");return{x:Q.containerRect.width/2-(lt-Q.containerRect.left),y:Q.containerRect.height/2-(Gt-Q.containerRect.top)}},Q.getPointOnMedia=function(gt){var lt=gt.x,Gt=gt.y,Qt=Q.props,he=Qt.crop,de=Qt.zoom;return{x:(lt+he.x)/de,y:(Gt+he.y)/de}},Q.setNewZoom=function(gt,lt,Gt){var Qt=Gt===void 0?{}:Gt,he=Qt.shouldUpdatePosition,de=he===void 0?!0:he;if(!(!Q.state.cropSize||!Q.props.onZoomChange)){var fe=Ar(gt,Q.props.minZoom,Q.props.maxZoom);if(de){var it=Q.getPointOnContainer(lt),ft=Q.getPointOnMedia(it),G={x:ft.x*fe-it.x,y:ft.y*fe-it.y},O=Q.props.restrictPosition?Jt(G,Q.mediaSize,Q.state.cropSize,fe,Q.props.rotation):G;Q.props.onCropChange(O)}Q.props.onZoomChange(fe)}},Q.getCropData=function(){if(!Q.state.cropSize)return null;var gt=Q.props.restrictPosition?Jt(Q.props.crop,Q.mediaSize,Q.state.cropSize,Q.props.zoom,Q.props.rotation):Q.props.crop;return ee(gt,Q.mediaSize,Q.state.cropSize,Q.getAspect(),Q.props.zoom,Q.props.rotation,Q.props.restrictPosition)},Q.emitCropData=function(){var gt=Q.getCropData();if(gt){var lt=gt.croppedAreaPercentages,Gt=gt.croppedAreaPixels;Q.props.onCropComplete&&Q.props.onCropComplete(lt,Gt),Q.props.onCropAreaChange&&Q.props.onCropAreaChange(lt,Gt)}},Q.emitCropAreaChange=function(){var gt=Q.getCropData();if(gt){var lt=gt.croppedAreaPercentages,Gt=gt.croppedAreaPixels;Q.props.onCropAreaChange&&Q.props.onCropAreaChange(lt,Gt)}},Q.recomputeCropPosition=function(){if(Q.state.cropSize){var gt=Q.props.restrictPosition?Jt(Q.props.crop,Q.mediaSize,Q.state.cropSize,Q.props.zoom,Q.props.rotation):Q.props.crop;Q.props.onCropChange(gt),Q.emitCropData()}},Q}return $t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver=="undefined"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Jr,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},$t.prototype.componentWillUnmount=function(){var Q,gt;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver=="undefined"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(Q=this.resizeObserver)===null||Q===void 0||Q.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((gt=this.styleRef.parentNode)===null||gt===void 0||gt.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},$t.prototype.componentDidUpdate=function(Q){var gt,lt,Gt,Qt,he,de,fe,it,ft;Q.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):Q.aspect!==this.props.aspect?this.computeSizes():Q.zoom!==this.props.zoom?this.recomputeCropPosition():((gt=Q.cropSize)===null||gt===void 0?void 0:gt.height)!==((lt=this.props.cropSize)===null||lt===void 0?void 0:lt.height)||((Gt=Q.cropSize)===null||Gt===void 0?void 0:Gt.width)!==((Qt=this.props.cropSize)===null||Qt===void 0?void 0:Qt.width)?this.computeSizes():(((he=Q.crop)===null||he===void 0?void 0:he.x)!==((de=this.props.crop)===null||de===void 0?void 0:de.x)||((fe=Q.crop)===null||fe===void 0?void 0:fe.y)!==((it=this.props.crop)===null||it===void 0?void 0:it.y))&&this.emitCropAreaChange(),Q.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),Q.video!==this.props.video&&((ft=this.videoRef.current)===null||ft===void 0||ft.load())},$t.prototype.getAspect=function(){var Q=this.props,gt=Q.cropSize,lt=Q.aspect;return gt?gt.width/gt.height:lt},$t.prototype.onPinchStart=function(Q){var gt=$t.getTouchPoint(Q.touches[0]),lt=$t.getTouchPoint(Q.touches[1]);this.lastPinchDistance=ke(gt,lt),this.lastPinchRotation=ye(gt,lt),this.onDragStart(Pe(gt,lt))},$t.prototype.onPinchMove=function(Q){var gt=this;if(!(!this.currentDoc||!this.currentWindow)){var lt=$t.getTouchPoint(Q.touches[0]),Gt=$t.getTouchPoint(Q.touches[1]),Qt=Pe(lt,Gt);this.onDrag(Qt),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var he=ke(lt,Gt),de=gt.props.zoom*(he/gt.lastPinchDistance);gt.setNewZoom(de,Qt,{shouldUpdatePosition:!1}),gt.lastPinchDistance=he;var fe=ye(lt,Gt),it=gt.props.rotation+(fe-gt.lastPinchRotation);gt.props.onRotationChange&&gt.props.onRotationChange(it),gt.lastPinchRotation=fe})}},$t.prototype.render=function(){var Q=this,gt=this.props,lt=gt.image,Gt=gt.video,Qt=gt.mediaProps,he=gt.transform,de=gt.crop,fe=de.x,it=de.y,ft=gt.rotation,G=gt.zoom,O=gt.cropShape,D=gt.showGrid,$=gt.style,mt=$.containerStyle,kt=$.cropAreaStyle,Rt=$.mediaStyle,qt=gt.classes,Le=qt.containerClassName,Me=qt.cropAreaClassName,Ke=qt.mediaClassName,vr=gt.objectFit;return w.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(Rr){return Q.containerRef=Rr},"data-testid":"container",style:mt,className:Hr("reactEasyCrop_Container",Le)},lt?w.createElement("img",K({alt:"",className:Hr("reactEasyCrop_Image",vr==="contain"&&"reactEasyCrop_Contain",vr==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",vr==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",vr==="auto-cover"&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),Ke)},Qt,{src:lt,ref:this.imageRef,style:K(K({},Rt),{transform:he||"translate(".concat(fe,"px, ").concat(it,"px) rotate(").concat(ft,"deg) scale(").concat(G,")")}),onLoad:this.onMediaLoad})):Gt&&w.createElement("video",K({autoPlay:!0,loop:!0,muted:!0,className:Hr("reactEasyCrop_Video",vr==="contain"&&"reactEasyCrop_Contain",vr==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",vr==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",vr==="auto-cover"&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),Ke)},Qt,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:K(K({},Rt),{transform:he||"translate(".concat(fe,"px, ").concat(it,"px) rotate(").concat(ft,"deg) scale(").concat(G,")")}),controls:!1}),(Array.isArray(Gt)?Gt:[{src:Gt}]).map(function(He){return w.createElement("source",K({key:He.src},He))})),this.state.cropSize&&w.createElement("div",{style:K(K({},kt),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:Hr("reactEasyCrop_CropArea",O==="round"&&"reactEasyCrop_CropAreaRound",D&&"reactEasyCrop_CropAreaGrid",Me)}))},$t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:bn,minZoom:Cr,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},$t.getMousePoint=function(Q){return{x:Number(Q.clientX),y:Number(Q.clientY)}},$t.getTouchPoint=function(Q){return{x:Number(Q.clientX),y:Number(Q.clientY)}},$t}(w.Component),Xe=_(591607);function Ae(V){if(V&&typeof window!="undefined"){var $t=document.createElement("style");return $t.setAttribute("media","screen"),$t.innerHTML=V,document.head.appendChild($t),V}}const Ue="img-crop",jr=1,Br=.1,Sn=0,ir=1,mn=-180,Or=180,sn=(0,w.forwardRef)((V,$t)=>{const{cropperRef:Q,image:gt,aspect:lt,shape:Gt,grid:Qt,zoom:he,rotate:de,minZoom:fe,maxZoom:it,cropperProps:ft}=V,[G,O]=(0,w.useState)({x:0,y:0}),[D,$]=(0,w.useState)({width:0,height:0}),[mt,kt]=(0,w.useState)(jr),[Rt,qt]=(0,w.useState)(Sn),Le=(0,w.useRef)({width:0,height:0,x:0,y:0}),Me=(0,w.useCallback)(vr=>{const{width:He,height:Rr}=vr,fn=Rr*lt;He>fn?$({width:fn,height:Rr}):$({width:He,height:He/lt})},[lt]),Ke=(0,w.useCallback)((vr,He)=>{Le.current=He},[]);return(0,w.useImperativeHandle)($t,()=>({rotateVal:Rt,setZoomVal:kt,setRotateVal:qt,cropPixelsRef:Le})),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Yr,Object.assign({},ft,{ref:Q,image:gt,crop:G,cropSize:D,onCropChange:O,aspect:lt,cropShape:Gt,showGrid:Qt,zoomWithScroll:he,zoom:mt,rotation:Rt,onZoomChange:kt,onRotationChange:qt,minZoom:fe,maxZoom:it,onMediaLoaded:Me,onCropComplete:Ke,classes:{containerClassName:`${Ue}-container`,mediaClassName:`${Ue}-media`}})),he&&(0,R.jsxs)("section",Object.assign({className:`${Ue}-control ${Ue}-control-zoom`},{children:[(0,R.jsx)("button",Object.assign({onClick:()=>kt(mt-Br),disabled:mt-Br<fe},{children:"\uFF0D"})),(0,R.jsx)(Xe.Z,{min:fe,max:it,step:Br,value:mt,onChange:kt}),(0,R.jsx)("button",Object.assign({onClick:()=>kt(mt+Br),disabled:mt+Br>it},{children:"\uFF0B"}))]})),de&&(0,R.jsxs)("section",Object.assign({className:`${Ue}-control ${Ue}-control-rotate`},{children:[(0,R.jsx)("button",Object.assign({onClick:()=>qt(Rt-ir),disabled:Rt===mn},{children:"\u21BA"})),(0,R.jsx)(Xe.Z,{min:mn,max:Or,step:ir,value:Rt,onChange:qt}),(0,R.jsx)("button",Object.assign({onClick:()=>qt(Rt+ir),disabled:Rt===Or},{children:"\u21BB"}))]}))]})});var ln=(0,w.memo)(sn);Ae(`.img-crop-modal .img-crop-container {
  position: relative;
  width: 100%;
  height: 40vh;
}
.img-crop-modal .img-crop-control {
  display: flex;
  align-items: center;
  width: 60%;
  margin-left: auto;
  margin-right: auto;
}
.img-crop-modal .img-crop-control:first-of-type {
  margin-top: 16px;
}
.img-crop-modal .img-crop-control:last-of-type {
  margin-bottom: -8px;
}
.img-crop-modal .img-crop-control button {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 34px;
  height: 34px;
  padding: 0;
  font-style: normal;
  background: transparent;
  border: 0;
  outline: 0;
  cursor: pointer;
}
.img-crop-modal .img-crop-control button[disabled] {
  cursor: default;
}
.img-crop-modal .img-crop-control button + div:only-of-type {
  flex: 1;
  margin: 0 8px;
}
.img-crop-modal .img-crop-control-zoom button {
  font-size: 18px;
}
.img-crop-modal .img-crop-control-rotate button {
  font-size: 16px;
}
.img-crop-modal .img-crop-control-rotate button:first-of-type {
  transform: rotate(-20deg);
}
.img-crop-modal .img-crop-control-rotate button:last-of-type {
  transform: rotate(20deg);
}
`);const cn=p(M.version,"4.23.0")===-1?{visible:!0}:{open:!0},Cn=(0,w.forwardRef)((V,$t)=>{const{aspect:Q=1,shape:gt="rect",grid:lt=!1,quality:Gt=.4,fillColor:Qt="white",zoom:he=!0,rotate:de=!1,minZoom:fe=1,maxZoom:it=3,modalTitle:ft,modalWidth:G,modalOk:O,modalCancel:D,modalMaskTransitionName:$,modalTransitionName:mt,modalClassName:kt,onModalOk:Rt,onModalCancel:qt,beforeCrop:Le,onUploadFail:Me,cropperProps:Ke,children:vr}=V,He=(0,w.useRef)({});He.current.onModalOk=Rt,He.current.onModalCancel=qt,He.current.beforeCrop=Le,He.current.onUploadFail=Me;const[Rr,fn]=(0,w.useState)(""),Je=(0,w.useRef)({}),pr=(0,w.useRef)(),kr=(0,w.useRef)(()=>{}),Pr=(0,w.useRef)(()=>{}),oe=(0,w.useMemo)(()=>{const Zr=Array.isArray(vr)?vr[0]:vr,Tn=Zr.props,{beforeUpload:an,accept:kn}=Tn,un=(0,y.__rest)(Tn,["beforeUpload","accept"]);return pr.current=an,Object.assign(Object.assign({},Zr),{props:Object.assign(Object.assign({},un),{accept:kn||"image/*",beforeUpload:(Bn,Zn)=>new Promise((na,ra)=>(0,y.__awaiter)(void 0,void 0,void 0,function*(){if(He.current.beforeCrop&&!(yield He.current.beforeCrop(Bn,Zn)))return ra();Je.current=Bn,kr.current=Ua=>{var Ia,oi;(oi=(Ia=He.current).onModalOk)===null||oi===void 0||oi.call(Ia,Ua),na(Ua)},Pr.current=Ua=>{var Ia,oi;(oi=(Ia=He.current).onUploadFail)===null||oi===void 0||oi.call(Ia,Ua),ra()};const ti=new FileReader;ti.addEventListener("load",()=>{typeof ti.result=="string"&&fn(ti.result)}),ti.readAsDataURL(Bn)}))})})},[vr]),Wt=(0,w.useRef)({}),pe=(0,w.useMemo)(()=>{const Zr={width:G,okText:O,cancelText:D,maskTransitionName:$,transitionName:mt};return Object.keys(Zr).forEach(Tn=>{const an=Tn;Zr[an]===void 0&&delete Zr[an]}),Zr},[D,$,O,mt,G]),_e=()=>{fn(""),Wt.current.setZoomVal(jr),Wt.current.setRotateVal(Sn)},xe=(0,w.useCallback)(()=>{var Zr,Tn;(Tn=(Zr=He.current).onModalCancel)===null||Tn===void 0||Tn.call(Zr),_e()},[]),Ge=(0,w.useCallback)(Zr=>(0,y.__awaiter)(void 0,void 0,void 0,function*(){var Tn;_e();const an=document.createElement("canvas"),kn=an.getContext("2d"),un=Zr.target,Zn=(((Tn=un==null?void 0:un.getRootNode)===null||Tn===void 0?void 0:Tn.call(un))||document).querySelector(`.${Ue}-media`),{width:na,height:ra,x:ti,y:Ua}=Wt.current.cropPixelsRef.current;if(de&&Wt.current.rotateVal!==Sn){const{naturalWidth:gi,naturalHeight:ci}=Zn,xa=Wt.current.rotateVal*(Math.PI/180),_i=Math.abs(Math.sin(xa)),No=Math.abs(Math.cos(xa)),Wa=gi*No+ci*_i,go=ci*No+gi*_i;an.width=Wa,an.height=go,kn.fillStyle=Qt,kn.fillRect(0,0,Wa,go);const So=Wa/2,Mo=go/2;kn.translate(So,Mo),kn.rotate(xa),kn.translate(-So,-Mo);const Wi=(Wa-gi)/2,eo=(go-ci)/2;kn.drawImage(Zn,0,0,gi,ci,Wi,eo,gi,ci);const _o=kn.getImageData(0,0,Wa,go);an.width=na,an.height=ra,kn.putImageData(_o,-ti,-Ua)}else an.width=na,an.height=ra,kn.fillStyle=Qt,kn.fillRect(0,0,na,ra),kn.drawImage(Zn,ti,Ua,na,ra,0,0,na,ra);const{type:Ia,name:oi,uid:Lo}=Je.current;an.toBlob(gi=>(0,y.__awaiter)(void 0,void 0,void 0,function*(){const ci=Object.assign(new File([gi],oi,{type:Ia}),{uid:Lo});if(!pr.current)return kr.current(ci);const xa=ci,_i=yield pr.current(xa,[xa]);if(_i===!0)return kr.current(ci);if(_i===!1)return Pr.current(new Error("beforeUpload return false"));if(delete ci[L.Z.LIST_IGNORE],_i===L.Z.LIST_IGNORE)return Object.defineProperty(ci,L.Z.LIST_IGNORE,{value:!0,configurable:!0}),Pr.current(new Error("beforeUpload return LIST_IGNORE"));if(typeof _i=="object"&&_i!==null)return kr.current(_i)}),Ia,Gt)}),[Qt,Gt,de]),lr=`${Ue}-modal${kt?` ${kt}`:""}`,gr=(0,w.useMemo)(()=>ft||((typeof window!="undefined"?window.navigator.language:"")==="zh-CN"?"\u7F16\u8F91\u56FE\u7247":"Edit image"),[ft]);return(0,R.jsxs)(R.Fragment,{children:[oe,Rr&&(0,R.jsx)(P.Z,Object.assign({},cn,{wrapClassName:lr,title:gr,onOk:Ge,onCancel:xe,maskClosable:!1,destroyOnClose:!0},pe,{children:(0,R.jsx)(ln,{ref:Wt,cropperRef:$t,image:Rr,aspect:Q,shape:gt,grid:lt,zoom:he,rotate:de,minZoom:fe,maxZoom:it,cropperProps:Ke})}))]})})},921924:function(Ve,W,_){"use strict";var y=_(340210),R=_(155559),w=R(y("String.prototype.indexOf"));Ve.exports=function(P,L){var p=y(P,!!L);return typeof p=="function"&&w(P,".prototype.")>-1?R(p):p}},155559:function(Ve,W,_){"use strict";var y=_(158612),R=_(340210),w=R("%Function.prototype.apply%"),M=R("%Function.prototype.call%"),P=R("%Reflect.apply%",!0)||y.call(M,w),L=R("%Object.getOwnPropertyDescriptor%",!0),p=R("%Object.defineProperty%",!0),g=R("%Math.max%");if(p)try{p({},"a",{value:1})}catch(E){p=null}Ve.exports=function(b){var A=P(y,M,arguments);if(L&&p){var x=L(A,"length");x.configurable&&p(A,"length",{value:1+g(0,b.length-(arguments.length-1))})}return A};var S=function(){return P(y,w,arguments)};p?p(Ve.exports,"apply",{value:S}):Ve.exports.apply=S},386010:function(Ve,W,_){"use strict";_.r(W),_.d(W,{clsx:function(){return R}});function y(w){var M,P,L="";if(typeof w=="string"||typeof w=="number")L+=w;else if(typeof w=="object")if(Array.isArray(w))for(M=0;M<w.length;M++)w[M]&&(P=y(w[M]))&&(L&&(L+=" "),L+=P);else for(M in w)w[M]&&(L&&(L+=" "),L+=M);return L}function R(){for(var w,M,P=0,L="";P<arguments.length;)(w=arguments[P++])&&(M=y(w))&&(L&&(L+=" "),L+=M);return L}W.default=R},308273:function(Ve,W,_){"use strict";_.r(W),_.d(W,{CountUp:function(){return R}});var y=function(){return(y=Object.assign||function(w){for(var M,P=1,L=arguments.length;P<L;P++)for(var p in M=arguments[P])Object.prototype.hasOwnProperty.call(M,p)&&(w[p]=M[p]);return w}).apply(this,arguments)},R=function(){function w(M,P,L){var p=this;this.endVal=P,this.options=L,this.version="2.5.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(g){p.startTime||(p.startTime=g);var S=g-p.startTime;p.remaining=p.duration-S,p.useEasing?p.countDown?p.frameVal=p.startVal-p.easingFn(S,0,p.startVal-p.endVal,p.duration):p.frameVal=p.easingFn(S,p.startVal,p.endVal-p.startVal,p.duration):p.frameVal=p.startVal+(p.endVal-p.startVal)*(S/p.duration);var E=p.countDown?p.frameVal<p.endVal:p.frameVal>p.endVal;p.frameVal=E?p.endVal:p.frameVal,p.frameVal=Number(p.frameVal.toFixed(p.options.decimalPlaces)),p.printValue(p.frameVal),S<p.duration?p.rAF=requestAnimationFrame(p.count):p.finalEndVal!==null?p.update(p.finalEndVal):p.options.onCompleteCallback&&p.options.onCompleteCallback()},this.formatNumber=function(g){var S,E,b,A,x=g<0?"-":"";S=Math.abs(g).toFixed(p.options.decimalPlaces);var T=(S+="").split(".");if(E=T[0],b=T.length>1?p.options.decimal+T[1]:"",p.options.useGrouping){A="";for(var B=3,m=0,f=0,U=E.length;f<U;++f)p.options.useIndianSeparators&&f===4&&(B=2,m=1),f!==0&&m%B==0&&(A=p.options.separator+A),m++,A=E[U-f-1]+A;E=A}return p.options.numerals&&p.options.numerals.length&&(E=E.replace(/[0-9]/g,function(j){return p.options.numerals[+j]}),b=b.replace(/[0-9]/g,function(j){return p.options.numerals[+j]})),x+p.options.prefix+E+b+p.options.suffix},this.easeOutExpo=function(g,S,E,b){return E*(1-Math.pow(2,-10*g/b))*1024/1023+S},this.options=y(y({},this.defaults),L),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(P),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof M=="string"?document.getElementById(M):M,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window!="undefined"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,M):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return p.handleScroll(p)}),window.onscroll=function(){window.onScrollFns.forEach(function(g){return g()})},this.handleScroll(this)))}return w.prototype.handleScroll=function(M){if(M&&window&&!M.once){var P=window.innerHeight+window.scrollY,L=M.el.getBoundingClientRect(),p=L.top+window.pageYOffset,g=L.top+L.height+window.pageYOffset;g<P&&g>window.scrollY&&M.paused?(M.paused=!1,setTimeout(function(){return M.start()},M.options.scrollSpyDelay),M.options.scrollSpyOnce&&(M.once=!0)):(window.scrollY>g||p>P)&&!M.paused&&M.reset()}},w.prototype.determineDirectionAndSmartEasing=function(){var M=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>M;var P=M-this.startVal;if(Math.abs(P)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=M;var L=this.countDown?1:-1;this.endVal=M+L*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=M,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},w.prototype.start=function(M){this.error||(M&&(this.options.onCompleteCallback=M),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},w.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},w.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},w.prototype.update=function(M){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(M),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},w.prototype.printValue=function(M){var P=this.formattingFn(M);this.el&&(this.el.tagName==="INPUT"?this.el.value=P:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=P:this.el.innerHTML=P)},w.prototype.ensureNumber=function(M){return typeof M=="number"&&!isNaN(M)},w.prototype.validateValue=function(M){var P=Number(M);return this.ensureNumber(P)?P:(this.error="[CountUp] invalid start or end value: ".concat(M),null)},w.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},w}()},971829:function(Ve,W,_){"use strict";_.r(W),_.d(W,{quadtree:function(){return y.Z}});var y=_(547148)},547148:function(Ve,W,_){"use strict";_.d(W,{Z:function(){return j}});function y(K){const tt=+this._x.call(null,K),q=+this._y.call(null,K);return R(this.cover(tt,q),tt,q,K)}function R(K,tt,q,at){if(isNaN(tt)||isNaN(q))return K;var pt,ct=K._root,St={data:at},vt=K._x0,Lt=K._y0,Mt=K._x1,wt=K._y1,et,rt,Ot,Dt,ot,xt,Nt,Yt;if(!ct)return K._root=St,K;for(;ct.length;)if((ot=tt>=(et=(vt+Mt)/2))?vt=et:Mt=et,(xt=q>=(rt=(Lt+wt)/2))?Lt=rt:wt=rt,pt=ct,!(ct=ct[Nt=xt<<1|ot]))return pt[Nt]=St,K;if(Ot=+K._x.call(null,ct.data),Dt=+K._y.call(null,ct.data),tt===Ot&&q===Dt)return St.next=ct,pt?pt[Nt]=St:K._root=St,K;do pt=pt?pt[Nt]=new Array(4):K._root=new Array(4),(ot=tt>=(et=(vt+Mt)/2))?vt=et:Mt=et,(xt=q>=(rt=(Lt+wt)/2))?Lt=rt:wt=rt;while((Nt=xt<<1|ot)===(Yt=(Dt>=rt)<<1|Ot>=et));return pt[Yt]=ct,pt[Nt]=St,K}function w(K){var tt,q,at=K.length,pt,ct,St=new Array(at),vt=new Array(at),Lt=1/0,Mt=1/0,wt=-1/0,et=-1/0;for(q=0;q<at;++q)isNaN(pt=+this._x.call(null,tt=K[q]))||isNaN(ct=+this._y.call(null,tt))||(St[q]=pt,vt[q]=ct,pt<Lt&&(Lt=pt),pt>wt&&(wt=pt),ct<Mt&&(Mt=ct),ct>et&&(et=ct));if(Lt>wt||Mt>et)return this;for(this.cover(Lt,Mt).cover(wt,et),q=0;q<at;++q)R(this,St[q],vt[q],K[q]);return this}function M(K,tt){if(isNaN(K=+K)||isNaN(tt=+tt))return this;var q=this._x0,at=this._y0,pt=this._x1,ct=this._y1;if(isNaN(q))pt=(q=Math.floor(K))+1,ct=(at=Math.floor(tt))+1;else{for(var St=pt-q||1,vt=this._root,Lt,Mt;q>K||K>=pt||at>tt||tt>=ct;)switch(Mt=(tt<at)<<1|K<q,Lt=new Array(4),Lt[Mt]=vt,vt=Lt,St*=2,Mt){case 0:pt=q+St,ct=at+St;break;case 1:q=pt-St,ct=at+St;break;case 2:pt=q+St,at=ct-St;break;case 3:q=pt-St,at=ct-St;break}this._root&&this._root.length&&(this._root=vt)}return this._x0=q,this._y0=at,this._x1=pt,this._y1=ct,this}function P(){var K=[];return this.visit(function(tt){if(!tt.length)do K.push(tt.data);while(tt=tt.next)}),K}function L(K){return arguments.length?this.cover(+K[0][0],+K[0][1]).cover(+K[1][0],+K[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function p(K,tt,q,at,pt){this.node=K,this.x0=tt,this.y0=q,this.x1=at,this.y1=pt}function g(K,tt,q){var at,pt=this._x0,ct=this._y0,St,vt,Lt,Mt,wt=this._x1,et=this._y1,rt=[],Ot=this._root,Dt,ot;for(Ot&&rt.push(new p(Ot,pt,ct,wt,et)),q==null?q=1/0:(pt=K-q,ct=tt-q,wt=K+q,et=tt+q,q*=q);Dt=rt.pop();)if(!(!(Ot=Dt.node)||(St=Dt.x0)>wt||(vt=Dt.y0)>et||(Lt=Dt.x1)<pt||(Mt=Dt.y1)<ct))if(Ot.length){var xt=(St+Lt)/2,Nt=(vt+Mt)/2;rt.push(new p(Ot[3],xt,Nt,Lt,Mt),new p(Ot[2],St,Nt,xt,Mt),new p(Ot[1],xt,vt,Lt,Nt),new p(Ot[0],St,vt,xt,Nt)),(ot=(tt>=Nt)<<1|K>=xt)&&(Dt=rt[rt.length-1],rt[rt.length-1]=rt[rt.length-1-ot],rt[rt.length-1-ot]=Dt)}else{var Yt=K-+this._x.call(null,Ot.data),Ct=tt-+this._y.call(null,Ot.data),Xt=Yt*Yt+Ct*Ct;if(Xt<q){var Zt=Math.sqrt(q=Xt);pt=K-Zt,ct=tt-Zt,wt=K+Zt,et=tt+Zt,at=Ot.data}}return at}function S(K){if(isNaN(wt=+this._x.call(null,K))||isNaN(et=+this._y.call(null,K)))return this;var tt,q=this._root,at,pt,ct,St=this._x0,vt=this._y0,Lt=this._x1,Mt=this._y1,wt,et,rt,Ot,Dt,ot,xt,Nt;if(!q)return this;if(q.length)for(;;){if((Dt=wt>=(rt=(St+Lt)/2))?St=rt:Lt=rt,(ot=et>=(Ot=(vt+Mt)/2))?vt=Ot:Mt=Ot,tt=q,!(q=q[xt=ot<<1|Dt]))return this;if(!q.length)break;(tt[xt+1&3]||tt[xt+2&3]||tt[xt+3&3])&&(at=tt,Nt=xt)}for(;q.data!==K;)if(pt=q,!(q=q.next))return this;return(ct=q.next)&&delete q.next,pt?(ct?pt.next=ct:delete pt.next,this):tt?(ct?tt[xt]=ct:delete tt[xt],(q=tt[0]||tt[1]||tt[2]||tt[3])&&q===(tt[3]||tt[2]||tt[1]||tt[0])&&!q.length&&(at?at[Nt]=q:this._root=q),this):(this._root=ct,this)}function E(K){for(var tt=0,q=K.length;tt<q;++tt)this.remove(K[tt]);return this}function b(){return this._root}function A(){var K=0;return this.visit(function(tt){if(!tt.length)do++K;while(tt=tt.next)}),K}function x(K){var tt=[],q,at=this._root,pt,ct,St,vt,Lt;for(at&&tt.push(new p(at,this._x0,this._y0,this._x1,this._y1));q=tt.pop();)if(!K(at=q.node,ct=q.x0,St=q.y0,vt=q.x1,Lt=q.y1)&&at.length){var Mt=(ct+vt)/2,wt=(St+Lt)/2;(pt=at[3])&&tt.push(new p(pt,Mt,wt,vt,Lt)),(pt=at[2])&&tt.push(new p(pt,ct,wt,Mt,Lt)),(pt=at[1])&&tt.push(new p(pt,Mt,St,vt,wt)),(pt=at[0])&&tt.push(new p(pt,ct,St,Mt,wt))}return this}function T(K){var tt=[],q=[],at;for(this._root&&tt.push(new p(this._root,this._x0,this._y0,this._x1,this._y1));at=tt.pop();){var pt=at.node;if(pt.length){var ct,St=at.x0,vt=at.y0,Lt=at.x1,Mt=at.y1,wt=(St+Lt)/2,et=(vt+Mt)/2;(ct=pt[0])&&tt.push(new p(ct,St,vt,wt,et)),(ct=pt[1])&&tt.push(new p(ct,wt,vt,Lt,et)),(ct=pt[2])&&tt.push(new p(ct,St,et,wt,Mt)),(ct=pt[3])&&tt.push(new p(ct,wt,et,Lt,Mt))}q.push(at)}for(;at=q.pop();)K(at.node,at.x0,at.y0,at.x1,at.y1);return this}function B(K){return K[0]}function m(K){return arguments.length?(this._x=K,this):this._x}function f(K){return K[1]}function U(K){return arguments.length?(this._y=K,this):this._y}function j(K,tt,q){var at=new z(tt==null?B:tt,q==null?f:q,NaN,NaN,NaN,NaN);return K==null?at:at.addAll(K)}function z(K,tt,q,at,pt,ct){this._x=K,this._y=tt,this._x0=q,this._y0=at,this._x1=pt,this._y1=ct,this._root=void 0}function k(K){for(var tt={data:K.data},q=tt;K=K.next;)q=q.next={data:K.data};return tt}var X=j.prototype=z.prototype;X.copy=function(){var K=new z(this._x,this._y,this._x0,this._y0,this._x1,this._y1),tt=this._root,q,at;if(!tt)return K;if(!tt.length)return K._root=k(tt),K;for(q=[{source:tt,target:K._root=new Array(4)}];tt=q.pop();)for(var pt=0;pt<4;++pt)(at=tt.source[pt])&&(at.length?q.push({source:at,target:tt.target[pt]=new Array(4)}):tt.target[pt]=k(at));return K},X.add=y,X.addAll=w,X.cover=M,X.data=P,X.extent=L,X.find=g,X.remove=S,X.removeAll=E,X.root=b,X.size=A,X.visit=x,X.visitAfter=T,X.x=m,X.y=U},631969:function(Ve,W,_){"use strict";_.r(W),_.d(W,{BRIDGE_GRAPH_NAME:function(){return P},GraphType:function(){return g},HierarchyNodeType:function(){return S},InclusionType:function(){return p},LAYOUT_CONFIG:function(){return y},NodeType:function(){return L},ROOT_NAME:function(){return M},buildGraph:function(){return Ur},flatGraph:function(){return vn},getEdges:function(){return Mn},mergeConfig:function(){return R}});const y={graph:{meta:{rankDir:"TB",nodeSep:50,rankSep:50,edgeSep:5,align:void 0}},subScene:{meta:{paddingTop:20,paddingBottom:20,paddingLeft:20,paddingRight:20,labelHeight:20}},nodeSize:{meta:{width:100,maxLabelWidth:0,height:20},node:{width:80,height:20,labelOffset:10,maxLabelWidth:40},bridge:{width:5,height:5,radius:2,labelOffset:0}}};function R(v={},N=y){var Z,nt,dt,yt;const Tt=JSON.parse(JSON.stringify(N)),It=((Z=v==null?void 0:v.graph)===null||Z===void 0?void 0:Z.meta)||{},jt=((nt=v==null?void 0:v.subScene)===null||nt===void 0?void 0:nt.meta)||{},ne=((dt=v==null?void 0:v.nodeSize)===null||dt===void 0?void 0:dt.meta)||{},we=((yt=v==null?void 0:v.nodeSize)===null||yt===void 0?void 0:yt.node)||{},ge=Tt.nodeSize.bridge;return{graph:{meta:Object.assign(Tt.graph.meta,It)},subScene:{meta:Object.assign(Tt.subScene.meta,jt)},nodeSize:{meta:Object.assign(Tt.nodeSize.meta,ne),node:Object.assign(Tt.nodeSize.node,we),bridge:ge}}}function w(v){return`\u25EC${v}\u25EC`}const M=w("ROOT"),P=w("BRIDGE_GRAPH");var L,p,g,S;(function(v){v[v.META=0]="META",v[v.NODE=1]="NODE",v[v.BRIDGE=2]="BRIDGE"})(L||(L={})),function(v){v[v.INCLUDE=0]="INCLUDE",v[v.EXCLUDE=1]="EXCLUDE",v[v.UNSPECIFIED=2]="UNSPECIFIED"}(p||(p={})),function(v){v[v.META=0]="META",v[v.CORE=1]="CORE",v[v.BRIDGE=2]="BRIDGE"}(g||(g={})),function(v){v[v.META=0]="META",v[v.OP=1]="OP",v[v.SERIES=2]="SERIES"}(S||(S={}));var E=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof _.g!="undefined"?_.g:typeof self!="undefined"?self:{};function b(v,N){return v(N={exports:{}},N.exports),N.exports}var A=function(){this.__data__=[],this.size=0},x=function(v,N){return v===N||v!=v&&N!=N},T=function(v,N){for(var Z=v.length;Z--;)if(x(v[Z][0],N))return Z;return-1},B=Array.prototype.splice,m=function(v){var N=this.__data__,Z=T(N,v);return!(Z<0)&&(Z==N.length-1?N.pop():B.call(N,Z,1),--this.size,!0)},f=function(v){var N=this.__data__,Z=T(N,v);return Z<0?void 0:N[Z][1]},U=function(v){return T(this.__data__,v)>-1},j=function(v,N){var Z=this.__data__,nt=T(Z,v);return nt<0?(++this.size,Z.push([v,N])):Z[nt][1]=N,this};function z(v){var N=-1,Z=v==null?0:v.length;for(this.clear();++N<Z;){var nt=v[N];this.set(nt[0],nt[1])}}z.prototype.clear=A,z.prototype.delete=m,z.prototype.get=f,z.prototype.has=U,z.prototype.set=j;var k=z,X=function(){this.__data__=new k,this.size=0},K=function(v){var N=this.__data__,Z=N.delete(v);return this.size=N.size,Z},tt=function(v){return this.__data__.get(v)},q=function(v){return this.__data__.has(v)},at=typeof E=="object"&&E&&E.Object===Object&&E,pt=typeof self=="object"&&self&&self.Object===Object&&self,ct=at||pt||Function("return this")(),St=ct.Symbol,vt=Object.prototype,Lt=vt.hasOwnProperty,Mt=vt.toString,wt=St?St.toStringTag:void 0,et=function(v){var N=Lt.call(v,wt),Z=v[wt];try{v[wt]=void 0;var nt=!0}catch(yt){}var dt=Mt.call(v);return nt&&(N?v[wt]=Z:delete v[wt]),dt},rt=Object.prototype.toString,Ot=function(v){return rt.call(v)},Dt=St?St.toStringTag:void 0,ot=function(v){return v==null?v===void 0?"[object Undefined]":"[object Null]":Dt&&Dt in Object(v)?et(v):Ot(v)},xt=function(v){var N=typeof v;return v!=null&&(N=="object"||N=="function")},Nt,Yt=function(v){if(!xt(v))return!1;var N=ot(v);return N=="[object Function]"||N=="[object GeneratorFunction]"||N=="[object AsyncFunction]"||N=="[object Proxy]"},Ct=ct["__core-js_shared__"],Xt=(Nt=/[^.]+$/.exec(Ct&&Ct.keys&&Ct.keys.IE_PROTO||""))?"Symbol(src)_1."+Nt:"",Zt=function(v){return!!Xt&&Xt in v},se=Function.prototype.toString,ie=function(v){if(v!=null){try{return se.call(v)}catch(N){}try{return v+""}catch(N){}}return""},zt=/^\[object .+?Constructor\]$/,ae=Function.prototype,Re=Object.prototype,Jt=ae.toString,ue=Re.hasOwnProperty,ke=RegExp("^"+Jt.call(ue).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ye=function(v){return!(!xt(v)||Zt(v))&&(Yt(v)?ke:zt).test(ie(v))},ee=function(v,N){return v==null?void 0:v[N]},Ut=function(v,N){var Z=ee(v,N);return ye(Z)?Z:void 0},bt=Ut(ct,"Map"),Ft=Ut(Object,"create"),be=function(){this.__data__=Ft?Ft(null):{},this.size=0},qe=function(v){var N=this.has(v)&&delete this.__data__[v];return this.size-=N?1:0,N},Pe=Object.prototype.hasOwnProperty,Ze=function(v){var N=this.__data__;if(Ft){var Z=N[v];return Z==="__lodash_hash_undefined__"?void 0:Z}return Pe.call(N,v)?N[v]:void 0},Qe=Object.prototype.hasOwnProperty,Ar=function(v){var N=this.__data__;return Ft?N[v]!==void 0:Qe.call(N,v)},Hr=function(v,N){var Z=this.__data__;return this.size+=this.has(v)?0:1,Z[v]=Ft&&N===void 0?"__lodash_hash_undefined__":N,this};function Jr(v){var N=-1,Z=v==null?0:v.length;for(this.clear();++N<Z;){var nt=v[N];this.set(nt[0],nt[1])}}Jr.prototype.clear=be,Jr.prototype.delete=qe,Jr.prototype.get=Ze,Jr.prototype.has=Ar,Jr.prototype.set=Hr;var Cr=Jr,bn=function(){this.size=0,this.__data__={hash:new Cr,map:new(bt||k),string:new Cr}},Yr=function(v){var N=typeof v;return N=="string"||N=="number"||N=="symbol"||N=="boolean"?v!=="__proto__":v===null},Xe=function(v,N){var Z=v.__data__;return Yr(N)?Z[typeof N=="string"?"string":"hash"]:Z.map},Ae=function(v){var N=Xe(this,v).delete(v);return this.size-=N?1:0,N},Ue=function(v){return Xe(this,v).get(v)},jr=function(v){return Xe(this,v).has(v)},Br=function(v,N){var Z=Xe(this,v),nt=Z.size;return Z.set(v,N),this.size+=Z.size==nt?0:1,this};function Sn(v){var N=-1,Z=v==null?0:v.length;for(this.clear();++N<Z;){var nt=v[N];this.set(nt[0],nt[1])}}Sn.prototype.clear=bn,Sn.prototype.delete=Ae,Sn.prototype.get=Ue,Sn.prototype.has=jr,Sn.prototype.set=Br;var ir=Sn,mn=function(v,N){var Z=this.__data__;if(Z instanceof k){var nt=Z.__data__;if(!bt||nt.length<199)return nt.push([v,N]),this.size=++Z.size,this;Z=this.__data__=new ir(nt)}return Z.set(v,N),this.size=Z.size,this};function Or(v){var N=this.__data__=new k(v);this.size=N.size}Or.prototype.clear=X,Or.prototype.delete=K,Or.prototype.get=tt,Or.prototype.has=q,Or.prototype.set=mn;var sn=Or,ln=function(v,N){for(var Z=-1,nt=v==null?0:v.length;++Z<nt&&N(v[Z],Z,v)!==!1;);return v},cn=function(){try{var v=Ut(Object,"defineProperty");return v({},"",{}),v}catch(N){}}(),Cn=function(v,N,Z){N=="__proto__"&&cn?cn(v,N,{configurable:!0,enumerable:!0,value:Z,writable:!0}):v[N]=Z},V=Object.prototype.hasOwnProperty,$t=function(v,N,Z){var nt=v[N];V.call(v,N)&&x(nt,Z)&&(Z!==void 0||N in v)||Cn(v,N,Z)},Q=function(v,N,Z,nt){var dt=!Z;Z||(Z={});for(var yt=-1,Tt=N.length;++yt<Tt;){var It=N[yt],jt=nt?nt(Z[It],v[It],It,Z,v):void 0;jt===void 0&&(jt=v[It]),dt?Cn(Z,It,jt):$t(Z,It,jt)}return Z},gt=function(v,N){for(var Z=-1,nt=Array(v);++Z<v;)nt[Z]=N(Z);return nt},lt=function(v){return v!=null&&typeof v=="object"},Gt=function(v){return lt(v)&&ot(v)=="[object Arguments]"},Qt=Object.prototype,he=Qt.hasOwnProperty,de=Qt.propertyIsEnumerable,fe=Gt(function(){return arguments}())?Gt:function(v){return lt(v)&&he.call(v,"callee")&&!de.call(v,"callee")},it=Array.isArray,ft=function(){return!1},G=b(function(v,N){var Z=N&&!N.nodeType&&N,nt=Z&&v&&!v.nodeType&&v,dt=nt&&nt.exports===Z?ct.Buffer:void 0,yt=(dt?dt.isBuffer:void 0)||ft;v.exports=yt}),O=/^(?:0|[1-9]\d*)$/,D=function(v,N){var Z=typeof v;return!!(N=N==null?9007199254740991:N)&&(Z=="number"||Z!="symbol"&&O.test(v))&&v>-1&&v%1==0&&v<N},$=function(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=9007199254740991},mt={};mt["[object Float32Array]"]=mt["[object Float64Array]"]=mt["[object Int8Array]"]=mt["[object Int16Array]"]=mt["[object Int32Array]"]=mt["[object Uint8Array]"]=mt["[object Uint8ClampedArray]"]=mt["[object Uint16Array]"]=mt["[object Uint32Array]"]=!0,mt["[object Arguments]"]=mt["[object Array]"]=mt["[object ArrayBuffer]"]=mt["[object Boolean]"]=mt["[object DataView]"]=mt["[object Date]"]=mt["[object Error]"]=mt["[object Function]"]=mt["[object Map]"]=mt["[object Number]"]=mt["[object Object]"]=mt["[object RegExp]"]=mt["[object Set]"]=mt["[object String]"]=mt["[object WeakMap]"]=!1;var kt=function(v){return lt(v)&&$(v.length)&&!!mt[ot(v)]},Rt=function(v){return function(N){return v(N)}},qt=b(function(v,N){var Z=N&&!N.nodeType&&N,nt=Z&&v&&!v.nodeType&&v,dt=nt&&nt.exports===Z&&at.process,yt=function(){try{var Tt=nt&&nt.require&&nt.require("util").types;return Tt||dt&&dt.binding&&dt.binding("util")}catch(It){}}();v.exports=yt}),Le=qt&&qt.isTypedArray,Me=Le?Rt(Le):kt,Ke=Object.prototype.hasOwnProperty,vr=function(v,N){var Z=it(v),nt=!Z&&fe(v),dt=!Z&&!nt&&G(v),yt=!Z&&!nt&&!dt&&Me(v),Tt=Z||nt||dt||yt,It=Tt?gt(v.length,String):[],jt=It.length;for(var ne in v)!N&&!Ke.call(v,ne)||Tt&&(ne=="length"||dt&&(ne=="offset"||ne=="parent")||yt&&(ne=="buffer"||ne=="byteLength"||ne=="byteOffset")||D(ne,jt))||It.push(ne);return It},He=Object.prototype,Rr=function(v){var N=v&&v.constructor;return v===(typeof N=="function"&&N.prototype||He)},fn=function(v,N){return function(Z){return v(N(Z))}},Je=fn(Object.keys,Object),pr=Object.prototype.hasOwnProperty,kr=function(v){if(!Rr(v))return Je(v);var N=[];for(var Z in Object(v))pr.call(v,Z)&&Z!="constructor"&&N.push(Z);return N},Pr=function(v){return v!=null&&$(v.length)&&!Yt(v)},oe=function(v){return Pr(v)?vr(v):kr(v)},Wt=function(v,N){return v&&Q(N,oe(N),v)},pe=function(v){var N=[];if(v!=null)for(var Z in Object(v))N.push(Z);return N},_e=Object.prototype.hasOwnProperty,xe=function(v){if(!xt(v))return pe(v);var N=Rr(v),Z=[];for(var nt in v)(nt!="constructor"||!N&&_e.call(v,nt))&&Z.push(nt);return Z},Ge=function(v){return Pr(v)?vr(v,!0):xe(v)},lr=function(v,N){return v&&Q(N,Ge(N),v)},gr=b(function(v,N){var Z=N&&!N.nodeType&&N,nt=Z&&v&&!v.nodeType&&v,dt=nt&&nt.exports===Z?ct.Buffer:void 0,yt=dt?dt.allocUnsafe:void 0;v.exports=function(Tt,It){if(It)return Tt.slice();var jt=Tt.length,ne=yt?yt(jt):new Tt.constructor(jt);return Tt.copy(ne),ne}}),Zr=function(v,N){var Z=-1,nt=v.length;for(N||(N=Array(nt));++Z<nt;)N[Z]=v[Z];return N},Tn=function(v,N){for(var Z=-1,nt=v==null?0:v.length,dt=0,yt=[];++Z<nt;){var Tt=v[Z];N(Tt,Z,v)&&(yt[dt++]=Tt)}return yt},an=function(){return[]},kn=Object.prototype.propertyIsEnumerable,un=Object.getOwnPropertySymbols,Bn=un?function(v){return v==null?[]:(v=Object(v),Tn(un(v),function(N){return kn.call(v,N)}))}:an,Zn=function(v,N){return Q(v,Bn(v),N)},na=function(v,N){for(var Z=-1,nt=N.length,dt=v.length;++Z<nt;)v[dt+Z]=N[Z];return v},ra=fn(Object.getPrototypeOf,Object),ti=Object.getOwnPropertySymbols?function(v){for(var N=[];v;)na(N,Bn(v)),v=ra(v);return N}:an,Ua=function(v,N){return Q(v,ti(v),N)},Ia=function(v,N,Z){var nt=N(v);return it(v)?nt:na(nt,Z(v))},oi=function(v){return Ia(v,oe,Bn)},Lo=function(v){return Ia(v,Ge,ti)},gi=Ut(ct,"DataView"),ci=Ut(ct,"Promise"),xa=Ut(ct,"Set"),_i=Ut(ct,"WeakMap"),No=ie(gi),Wa=ie(bt),go=ie(ci),So=ie(xa),Mo=ie(_i),Wi=ot;(gi&&Wi(new gi(new ArrayBuffer(1)))!="[object DataView]"||bt&&Wi(new bt)!="[object Map]"||ci&&Wi(ci.resolve())!="[object Promise]"||xa&&Wi(new xa)!="[object Set]"||_i&&Wi(new _i)!="[object WeakMap]")&&(Wi=function(v){var N=ot(v),Z=N=="[object Object]"?v.constructor:void 0,nt=Z?ie(Z):"";if(nt)switch(nt){case No:return"[object DataView]";case Wa:return"[object Map]";case go:return"[object Promise]";case So:return"[object Set]";case Mo:return"[object WeakMap]"}return N});var eo=Wi,_o=Object.prototype.hasOwnProperty,is=function(v){var N=v.length,Z=new v.constructor(N);return N&&typeof v[0]=="string"&&_o.call(v,"index")&&(Z.index=v.index,Z.input=v.input),Z},Oi=ct.Uint8Array,ro=function(v){var N=new v.constructor(v.byteLength);return new Oi(N).set(new Oi(v)),N},Jn=function(v,N){var Z=N?ro(v.buffer):v.buffer;return new v.constructor(Z,v.byteOffset,v.byteLength)},Kt=/\w*$/,ce=function(v){var N=new v.constructor(v.source,Kt.exec(v));return N.lastIndex=v.lastIndex,N},Be=St?St.prototype:void 0,cr=Be?Be.valueOf:void 0,Lr=function(v){return cr?Object(cr.call(v)):{}},Ir=function(v,N){var Z=N?ro(v.buffer):v.buffer;return new v.constructor(Z,v.byteOffset,v.length)},Sr=function(v,N,Z){var nt=v.constructor;switch(N){case"[object ArrayBuffer]":return ro(v);case"[object Boolean]":case"[object Date]":return new nt(+v);case"[object DataView]":return Jn(v,Z);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ir(v,Z);case"[object Map]":return new nt;case"[object Number]":case"[object String]":return new nt(v);case"[object RegExp]":return ce(v);case"[object Set]":return new nt;case"[object Symbol]":return Lr(v)}},tn=Object.create,dn=function(){function v(){}return function(N){if(!xt(N))return{};if(tn)return tn(N);v.prototype=N;var Z=new v;return v.prototype=void 0,Z}}(),An=function(v){return typeof v.constructor!="function"||Rr(v)?{}:dn(ra(v))},Kn=function(v){return lt(v)&&eo(v)=="[object Map]"},Wn=qt&&qt.isMap,aa=Wn?Rt(Wn):Kn,oa=function(v){return lt(v)&&eo(v)=="[object Set]"},Ya=qt&&qt.isSet,ua=Ya?Rt(Ya):oa,qn={};qn["[object Arguments]"]=qn["[object Array]"]=qn["[object ArrayBuffer]"]=qn["[object DataView]"]=qn["[object Boolean]"]=qn["[object Date]"]=qn["[object Float32Array]"]=qn["[object Float64Array]"]=qn["[object Int8Array]"]=qn["[object Int16Array]"]=qn["[object Int32Array]"]=qn["[object Map]"]=qn["[object Number]"]=qn["[object Object]"]=qn["[object RegExp]"]=qn["[object Set]"]=qn["[object String]"]=qn["[object Symbol]"]=qn["[object Uint8Array]"]=qn["[object Uint8ClampedArray]"]=qn["[object Uint16Array]"]=qn["[object Uint32Array]"]=!0,qn["[object Error]"]=qn["[object Function]"]=qn["[object WeakMap]"]=!1;var za=function v(N,Z,nt,dt,yt,Tt){var It,jt=1&Z,ne=2&Z,we=4&Z;if(nt&&(It=yt?nt(N,dt,yt,Tt):nt(N)),It!==void 0)return It;if(!xt(N))return N;var ge=it(N);if(ge){if(It=is(N),!jt)return Zr(N,It)}else{var Ye=eo(N),ur=Ye=="[object Function]"||Ye=="[object GeneratorFunction]";if(G(N))return gr(N,jt);if(Ye=="[object Object]"||Ye=="[object Arguments]"||ur&&!yt){if(It=ne||ur?{}:An(N),!jt)return ne?Ua(N,lr(It,N)):Zn(N,Wt(It,N))}else{if(!qn[Ye])return yt?N:{};It=Sr(N,Ye,jt)}}Tt||(Tt=new sn);var Xr=Tt.get(N);if(Xr)return Xr;Tt.set(N,It),ua(N)?N.forEach(function(br){It.add(v(br,Z,nt,br,N,Tt))}):aa(N)&&N.forEach(function(br,xr){It.set(xr,v(br,Z,nt,xr,N,Tt))});var mr=ge?void 0:(we?ne?Lo:oi:ne?Ge:oe)(N);return ln(mr||N,function(br,xr){mr&&(br=N[xr=br]),$t(It,xr,v(br,Z,nt,xr,N,Tt))}),It},Pa=function(v){return za(v,4)},Ea=function(v){return function(){return v}},si=function(v){return function(N,Z,nt){for(var dt=-1,yt=Object(N),Tt=nt(N),It=Tt.length;It--;){var jt=Tt[v?It:++dt];if(Z(yt[jt],jt,yt)===!1)break}return N}}(),qa=function(v,N){return v&&si(v,N,oe)},Na=function(v,N){return function(Z,nt){if(Z==null)return Z;if(!Pr(Z))return v(Z,nt);for(var dt=Z.length,yt=N?dt:-1,Tt=Object(Z);(N?yt--:++yt<dt)&&nt(Tt[yt],yt,Tt)!==!1;);return Z}}(qa),_a=function(v){return v},pa=function(v){return typeof v=="function"?v:_a},fi=function(v,N){return(it(v)?ln:Na)(v,pa(N))},ri=fi,di=function(v,N){var Z=[];return Na(v,function(nt,dt,yt){N(nt,dt,yt)&&Z.push(nt)}),Z},Di=function(v){return this.__data__.set(v,"__lodash_hash_undefined__"),this},Ci=function(v){return this.__data__.has(v)};function Ri(v){var N=-1,Z=v==null?0:v.length;for(this.__data__=new ir;++N<Z;)this.add(v[N])}Ri.prototype.add=Ri.prototype.push=Di,Ri.prototype.has=Ci;var Eo=Ri,wo=function(v,N){for(var Z=-1,nt=v==null?0:v.length;++Z<nt;)if(N(v[Z],Z,v))return!0;return!1},Ii=function(v,N){return v.has(N)},Ra=function(v,N,Z,nt,dt,yt){var Tt=1&Z,It=v.length,jt=N.length;if(It!=jt&&!(Tt&&jt>It))return!1;var ne=yt.get(v),we=yt.get(N);if(ne&&we)return ne==N&&we==v;var ge=-1,Ye=!0,ur=2&Z?new Eo:void 0;for(yt.set(v,N),yt.set(N,v);++ge<It;){var Xr=v[ge],mr=N[ge];if(nt)var br=Tt?nt(mr,Xr,ge,N,v,yt):nt(Xr,mr,ge,v,N,yt);if(br!==void 0){if(br)continue;Ye=!1;break}if(ur){if(!wo(N,function(xr,wn){if(!Ii(ur,wn)&&(Xr===xr||dt(Xr,xr,Z,nt,yt)))return ur.push(wn)})){Ye=!1;break}}else if(Xr!==mr&&!dt(Xr,mr,Z,nt,yt)){Ye=!1;break}}return yt.delete(v),yt.delete(N),Ye},mi=function(v){var N=-1,Z=Array(v.size);return v.forEach(function(nt,dt){Z[++N]=[dt,nt]}),Z},Pi=function(v){var N=-1,Z=Array(v.size);return v.forEach(function(nt){Z[++N]=nt}),Z},Ma=St?St.prototype:void 0,ki=Ma?Ma.valueOf:void 0,no=function(v,N,Z,nt,dt,yt,Tt){switch(Z){case"[object DataView]":if(v.byteLength!=N.byteLength||v.byteOffset!=N.byteOffset)return!1;v=v.buffer,N=N.buffer;case"[object ArrayBuffer]":return!(v.byteLength!=N.byteLength||!yt(new Oi(v),new Oi(N)));case"[object Boolean]":case"[object Date]":case"[object Number]":return x(+v,+N);case"[object Error]":return v.name==N.name&&v.message==N.message;case"[object RegExp]":case"[object String]":return v==N+"";case"[object Map]":var It=mi;case"[object Set]":var jt=1&nt;if(It||(It=Pi),v.size!=N.size&&!jt)return!1;var ne=Tt.get(v);if(ne)return ne==N;nt|=2,Tt.set(v,N);var we=Ra(It(v),It(N),nt,dt,yt,Tt);return Tt.delete(v),we;case"[object Symbol]":if(ki)return ki.call(v)==ki.call(N)}return!1},Mi=Object.prototype.hasOwnProperty,Co=function(v,N,Z,nt,dt,yt){var Tt=1&Z,It=oi(v),jt=It.length;if(jt!=oi(N).length&&!Tt)return!1;for(var ne=jt;ne--;){var we=It[ne];if(!(Tt?we in N:Mi.call(N,we)))return!1}var ge=yt.get(v),Ye=yt.get(N);if(ge&&Ye)return ge==N&&Ye==v;var ur=!0;yt.set(v,N),yt.set(N,v);for(var Xr=Tt;++ne<jt;){var mr=v[we=It[ne]],br=N[we];if(nt)var xr=Tt?nt(br,mr,we,N,v,yt):nt(mr,br,we,v,N,yt);if(!(xr===void 0?mr===br||dt(mr,br,Z,nt,yt):xr)){ur=!1;break}Xr||(Xr=we=="constructor")}if(ur&&!Xr){var wn=v.constructor,Rn=N.constructor;wn==Rn||!("constructor"in v)||!("constructor"in N)||typeof wn=="function"&&wn instanceof wn&&typeof Rn=="function"&&Rn instanceof Rn||(ur=!1)}return yt.delete(v),yt.delete(N),ur},yi=Object.prototype.hasOwnProperty,ao=function(v,N,Z,nt,dt,yt){var Tt=it(v),It=it(N),jt=Tt?"[object Array]":eo(v),ne=It?"[object Array]":eo(N),we=(jt=jt=="[object Arguments]"?"[object Object]":jt)=="[object Object]",ge=(ne=ne=="[object Arguments]"?"[object Object]":ne)=="[object Object]",Ye=jt==ne;if(Ye&&G(v)){if(!G(N))return!1;Tt=!0,we=!1}if(Ye&&!we)return yt||(yt=new sn),Tt||Me(v)?Ra(v,N,Z,nt,dt,yt):no(v,N,jt,Z,nt,dt,yt);if(!(1&Z)){var ur=we&&yi.call(v,"__wrapped__"),Xr=ge&&yi.call(N,"__wrapped__");if(ur||Xr){var mr=ur?v.value():v,br=Xr?N.value():N;return yt||(yt=new sn),dt(mr,br,Z,nt,yt)}}return!!Ye&&(yt||(yt=new sn),Co(v,N,Z,nt,dt,yt))},Ro=function v(N,Z,nt,dt,yt){return N===Z||(N==null||Z==null||!lt(N)&&!lt(Z)?N!=N&&Z!=Z:ao(N,Z,nt,dt,v,yt))},es=function(v,N,Z,nt){var dt=Z.length,yt=dt,Tt=!nt;if(v==null)return!yt;for(v=Object(v);dt--;){var It=Z[dt];if(Tt&&It[2]?It[1]!==v[It[0]]:!(It[0]in v))return!1}for(;++dt<yt;){var jt=(It=Z[dt])[0],ne=v[jt],we=It[1];if(Tt&&It[2]){if(ne===void 0&&!(jt in v))return!1}else{var ge=new sn;if(nt)var Ye=nt(ne,we,jt,v,N,ge);if(!(Ye===void 0?Ro(we,ne,3,nt,ge):Ye))return!1}}return!0},Bi=function(v){return v==v&&!xt(v)},ko=function(v){for(var N=oe(v),Z=N.length;Z--;){var nt=N[Z],dt=v[nt];N[Z]=[nt,dt,Bi(dt)]}return N},Bo=function(v,N){return function(Z){return Z!=null&&Z[v]===N&&(N!==void 0||v in Object(Z))}},cs=function(v){var N=ko(v);return N.length==1&&N[0][2]?Bo(N[0][0],N[0][1]):function(Z){return Z===v||es(Z,v,N)}},va=function(v){return typeof v=="symbol"||lt(v)&&ot(v)=="[object Symbol]"},Bt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fe=/^\w*$/,or=function(v,N){if(it(v))return!1;var Z=typeof v;return!(Z!="number"&&Z!="symbol"&&Z!="boolean"&&v!=null&&!va(v))||Fe.test(v)||!Bt.test(v)||N!=null&&v in Object(N)};function Er(v,N){if(typeof v!="function"||N!=null&&typeof N!="function")throw new TypeError("Expected a function");var Z=function(){var nt=arguments,dt=N?N.apply(this,nt):nt[0],yt=Z.cache;if(yt.has(dt))return yt.get(dt);var Tt=v.apply(this,nt);return Z.cache=yt.set(dt,Tt)||yt,Tt};return Z.cache=new(Er.Cache||ir),Z}Er.Cache=ir;var qr=Er,hn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zn=/\\(\\)?/g,Da=function(v){var N=qr(v,function(nt){return Z.size===500&&Z.clear(),nt}),Z=N.cache;return N}(function(v){var N=[];return v.charCodeAt(0)===46&&N.push(""),v.replace(hn,function(Z,nt,dt,yt){N.push(dt?yt.replace(zn,"$1"):nt||Z)}),N}),hi=function(v,N){for(var Z=-1,nt=v==null?0:v.length,dt=Array(nt);++Z<nt;)dt[Z]=N(v[Z],Z,v);return dt},Hi=St?St.prototype:void 0,mo=Hi?Hi.toString:void 0,fs=function v(N){if(typeof N=="string")return N;if(it(N))return hi(N,v)+"";if(va(N))return mo?mo.call(N):"";var Z=N+"";return Z=="0"&&1/N==-1/0?"-0":Z},Ti=function(v){return v==null?"":fs(v)},Zi=function(v,N){return it(v)?v:or(v,N)?[v]:Da(Ti(v))},Fo=function(v){if(typeof v=="string"||va(v))return v;var N=v+"";return N=="0"&&1/v==-1/0?"-0":N},ds=function(v,N){for(var Z=0,nt=(N=Zi(N,v)).length;v!=null&&Z<nt;)v=v[Fo(N[Z++])];return Z&&Z==nt?v:void 0},qo=function(v,N,Z){var nt=v==null?void 0:ds(v,N);return nt===void 0?Z:nt},bs=function(v,N){return v!=null&&N in Object(v)},Os=function(v,N,Z){for(var nt=-1,dt=(N=Zi(N,v)).length,yt=!1;++nt<dt;){var Tt=Fo(N[nt]);if(!(yt=v!=null&&Z(v,Tt)))break;v=v[Tt]}return yt||++nt!=dt?yt:!!(dt=v==null?0:v.length)&&$(dt)&&D(Tt,dt)&&(it(v)||fe(v))},xs=function(v,N){return v!=null&&Os(v,N,bs)},nu=function(v,N){return or(v)&&Bi(N)?Bo(Fo(v),N):function(Z){var nt=qo(Z,v);return nt===void 0&&nt===N?xs(Z,v):Ro(N,nt,3)}},jo=function(v){return function(N){return N==null?void 0:N[v]}},os=function(v){return function(N){return ds(N,v)}},hs=function(v){return or(v)?jo(Fo(v)):os(v)},To=function(v){return typeof v=="function"?v:v==null?_a:typeof v=="object"?it(v)?nu(v[0],v[1]):cs(v):hs(v)},Eu=function(v,N){return(it(v)?Tn:di)(v,To(N))},wu=Object.prototype.hasOwnProperty,Fi=function(v,N){return v!=null&&wu.call(v,N)},yo=function(v,N){return v!=null&&Os(v,N,Fi)},Ao=Object.prototype.hasOwnProperty,h=function(v){if(v==null)return!0;if(Pr(v)&&(it(v)||typeof v=="string"||typeof v.splice=="function"||G(v)||Me(v)||fe(v)))return!v.length;var N=eo(v);if(N=="[object Map]"||N=="[object Set]")return!v.size;if(Rr(v))return!kr(v).length;for(var Z in v)if(Ao.call(v,Z))return!1;return!0},Y=function(v){return v===void 0},Et=function(v,N){var Z=-1,nt=Pr(v)?Array(v.length):[];return Na(v,function(dt,yt,Tt){nt[++Z]=N(dt,yt,Tt)}),nt},Pt=function(v,N){return(it(v)?hi:Et)(v,To(N))},Ht=function(v,N,Z,nt){var dt=-1,yt=v==null?0:v.length;for(nt&&yt&&(Z=v[++dt]);++dt<yt;)Z=N(Z,v[dt],dt,v);return Z},le=function(v,N,Z,nt,dt){return dt(v,function(yt,Tt,It){Z=nt?(nt=!1,yt):N(Z,yt,Tt,It)}),Z},ve=function(v,N,Z){var nt=it(v)?Ht:le,dt=arguments.length<3;return nt(v,To(N),Z,dt,Na)},Ce=function(v){return typeof v=="string"||!it(v)&&lt(v)&&ot(v)=="[object String]"},Ne=jo("length"),$e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),fr=function(v){return $e.test(v)},zr="[\\ud800-\\udfff]",Wr="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Gr="\\ud83c[\\udffb-\\udfff]",xn="[^\\ud800-\\udfff]",Nn="(?:\\ud83c[\\udde6-\\uddff]){2}",en="[\\ud800-\\udbff][\\udc00-\\udfff]",Vn="(?:"+Wr+"|"+Gr+")?",Ta="[\\ufe0e\\ufe0f]?"+Vn+("(?:\\u200d(?:"+[xn,Nn,en].join("|")+")[\\ufe0e\\ufe0f]?"+Vn+")*"),Oa="(?:"+[xn+Wr+"?",Wr,Nn,en,zr].join("|")+")",wa=RegExp(Gr+"(?="+Gr+")|"+Oa+Ta,"g"),ca=function(v){for(var N=wa.lastIndex=0;wa.test(v);)++N;return N},ya=function(v){return fr(v)?ca(v):Ne(v)},Ki=function(v){if(v==null)return 0;if(Pr(v))return Ce(v)?ya(v):v.length;var N=eo(v);return N=="[object Map]"||N=="[object Set]"?v.size:kr(v).length},Yi=function(v,N,Z){var nt=it(v),dt=nt||G(v)||Me(v);if(N=To(N),Z==null){var yt=v&&v.constructor;Z=dt?nt?new yt:[]:xt(v)&&Yt(yt)?dn(ra(v)):{}}return(dt?ln:qa)(v,function(Tt,It,jt){return N(Z,Tt,It,jt)}),Z},zi=St?St.isConcatSpreadable:void 0,Xi=function(v){return it(v)||fe(v)||!!(zi&&v&&v[zi])},ji=function v(N,Z,nt,dt,yt){var Tt=-1,It=N.length;for(nt||(nt=Xi),yt||(yt=[]);++Tt<It;){var jt=N[Tt];Z>0&&nt(jt)?Z>1?v(jt,Z-1,nt,dt,yt):na(yt,jt):dt||(yt[yt.length]=jt)}return yt},io=function(v,N,Z){switch(Z.length){case 0:return v.call(N);case 1:return v.call(N,Z[0]);case 2:return v.call(N,Z[0],Z[1]);case 3:return v.call(N,Z[0],Z[1],Z[2])}return v.apply(N,Z)},bo=Math.max,Xa=function(v,N,Z){return N=bo(N===void 0?v.length-1:N,0),function(){for(var nt=arguments,dt=-1,yt=bo(nt.length-N,0),Tt=Array(yt);++dt<yt;)Tt[dt]=nt[N+dt];dt=-1;for(var It=Array(N+1);++dt<N;)It[dt]=nt[dt];return It[N]=Z(Tt),io(v,this,It)}},vi=cn?function(v,N){return cn(v,"toString",{configurable:!0,enumerable:!1,value:Ea(N),writable:!0})}:_a,Is=Date.now,vs=function(v){var N=0,Z=0;return function(){var nt=Is(),dt=16-(nt-Z);if(Z=nt,dt>0){if(++N>=800)return arguments[0]}else N=0;return v.apply(void 0,arguments)}}(vi),rs=function(v,N){return vs(Xa(v,N,_a),v+"")},au=function(v,N,Z,nt){for(var dt=v.length,yt=Z+(nt?1:-1);nt?yt--:++yt<dt;)if(N(v[yt],yt,v))return yt;return-1},cc=function(v){return v!=v},pf=function(v,N,Z){for(var nt=Z-1,dt=v.length;++nt<dt;)if(v[nt]===N)return nt;return-1},gf=function(v,N,Z){return N==N?pf(v,N,Z):au(v,cc,Z)},fc=function(v,N){return!!(v!=null&&v.length)&&gf(v,N,0)>-1},ud=function(v,N,Z){for(var nt=-1,dt=v==null?0:v.length;++nt<dt;)if(Z(N,v[nt]))return!0;return!1},dc=function(){},Ku=xa&&1/Pi(new xa([,-0]))[1]==1/0?function(v){return new xa(v)}:dc,mf=function(v,N,Z){var nt=-1,dt=fc,yt=v.length,Tt=!0,It=[],jt=It;if(Z)Tt=!1,dt=ud;else if(yt>=200){var ne=N?null:Ku(v);if(ne)return Pi(ne);Tt=!1,dt=Ii,jt=new Eo}else jt=N?[]:It;t:for(;++nt<yt;){var we=v[nt],ge=N?N(we):we;if(we=Z||we!==0?we:0,Tt&&ge==ge){for(var Ye=jt.length;Ye--;)if(jt[Ye]===ge)continue t;N&&jt.push(ge),It.push(we)}else dt(jt,ge,Z)||(jt!==It&&jt.push(ge),It.push(we))}return It},hc=function(v){return lt(v)&&Pr(v)},yf=rs(function(v){return mf(ji(v,1,hc,!0))}),ld=function(v,N){return hi(N,function(Z){return v[Z]})},iu,bf=function(v){return v==null?[]:ld(v,oe(v))};try{iu={clone:Pa,constant:Ea,each:ri,filter:Eu,has:yo,isArray:it,isEmpty:h,isFunction:Yt,isUndefined:Y,keys:oe,map:Pt,reduce:ve,size:Ki,transform:Yi,union:yf,values:bf}}catch(v){}iu||(iu=window._);var Yn=iu,Su=ja;function ja(v){this._isDirected=!Yn.has(v,"directed")||v.directed,this._isMultigraph=!!Yn.has(v,"multigraph")&&v.multigraph,this._isCompound=!!Yn.has(v,"compound")&&v.compound,this._label=void 0,this._defaultNodeLabelFn=Yn.constant(void 0),this._defaultEdgeLabelFn=Yn.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function vc(v,N){v[N]?v[N]++:v[N]=1}function Dl(v,N){--v[N]||delete v[N]}function ou(v,N,Z,nt){var dt=""+N,yt=""+Z;if(!v&&dt>yt){var Tt=dt;dt=yt,yt=Tt}return dt+""+yt+""+(Yn.isUndefined(nt)?"\0":nt)}function pc(v,N,Z,nt){var dt=""+N,yt=""+Z;if(!v&&dt>yt){var Tt=dt;dt=yt,yt=Tt}var It={v:dt,w:yt};return nt&&(It.name=nt),It}function gc(v,N){return ou(v,N.v,N.w,N.name)}ja.prototype._nodeCount=0,ja.prototype._edgeCount=0,ja.prototype.isDirected=function(){return this._isDirected},ja.prototype.isMultigraph=function(){return this._isMultigraph},ja.prototype.isCompound=function(){return this._isCompound},ja.prototype.setGraph=function(v){return this._label=v,this},ja.prototype.graph=function(){return this._label},ja.prototype.setDefaultNodeLabel=function(v){return Yn.isFunction(v)||(v=Yn.constant(v)),this._defaultNodeLabelFn=v,this},ja.prototype.nodeCount=function(){return this._nodeCount},ja.prototype.nodes=function(){return Yn.keys(this._nodes)},ja.prototype.sources=function(){var v=this;return Yn.filter(this.nodes(),function(N){return Yn.isEmpty(v._in[N])})},ja.prototype.sinks=function(){var v=this;return Yn.filter(this.nodes(),function(N){return Yn.isEmpty(v._out[N])})},ja.prototype.setNodes=function(v,N){var Z=arguments,nt=this;return Yn.each(v,function(dt){Z.length>1?nt.setNode(dt,N):nt.setNode(dt)}),this},ja.prototype.setNode=function(v,N){return Yn.has(this._nodes,v)?(arguments.length>1&&(this._nodes[v]=N),this):(this._nodes[v]=arguments.length>1?N:this._defaultNodeLabelFn(v),this._isCompound&&(this._parent[v]="\0",this._children[v]={},this._children["\0"][v]=!0),this._in[v]={},this._preds[v]={},this._out[v]={},this._sucs[v]={},++this._nodeCount,this)},ja.prototype.node=function(v){return this._nodes[v]},ja.prototype.hasNode=function(v){return Yn.has(this._nodes,v)},ja.prototype.removeNode=function(v){var N=this;if(Yn.has(this._nodes,v)){var Z=function(nt){N.removeEdge(N._edgeObjs[nt])};delete this._nodes[v],this._isCompound&&(this._removeFromParentsChildList(v),delete this._parent[v],Yn.each(this.children(v),function(nt){N.setParent(nt)}),delete this._children[v]),Yn.each(Yn.keys(this._in[v]),Z),delete this._in[v],delete this._preds[v],Yn.each(Yn.keys(this._out[v]),Z),delete this._out[v],delete this._sucs[v],--this._nodeCount}return this},ja.prototype.setParent=function(v,N){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Yn.isUndefined(N))N="\0";else{for(var Z=N+="";!Yn.isUndefined(Z);Z=this.parent(Z))if(Z===v)throw new Error("Setting "+N+" as parent of "+v+" would create a cycle");this.setNode(N)}return this.setNode(v),this._removeFromParentsChildList(v),this._parent[v]=N,this._children[N][v]=!0,this},ja.prototype._removeFromParentsChildList=function(v){delete this._children[this._parent[v]][v]},ja.prototype.parent=function(v){if(this._isCompound){var N=this._parent[v];if(N!=="\0")return N}},ja.prototype.children=function(v){if(Yn.isUndefined(v)&&(v="\0"),this._isCompound){var N=this._children[v];if(N)return Yn.keys(N)}else{if(v==="\0")return this.nodes();if(this.hasNode(v))return[]}},ja.prototype.predecessors=function(v){var N=this._preds[v];if(N)return Yn.keys(N)},ja.prototype.successors=function(v){var N=this._sucs[v];if(N)return Yn.keys(N)},ja.prototype.neighbors=function(v){var N=this.predecessors(v);if(N)return Yn.union(N,this.successors(v))},ja.prototype.isLeaf=function(v){return(this.isDirected()?this.successors(v):this.neighbors(v)).length===0},ja.prototype.filterNodes=function(v){var N=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});N.setGraph(this.graph());var Z=this;Yn.each(this._nodes,function(yt,Tt){v(Tt)&&N.setNode(Tt,yt)}),Yn.each(this._edgeObjs,function(yt){N.hasNode(yt.v)&&N.hasNode(yt.w)&&N.setEdge(yt,Z.edge(yt))});var nt={};function dt(yt){var Tt=Z.parent(yt);return Tt===void 0||N.hasNode(Tt)?(nt[yt]=Tt,Tt):Tt in nt?nt[Tt]:dt(Tt)}return this._isCompound&&Yn.each(N.nodes(),function(yt){N.setParent(yt,dt(yt))}),N},ja.prototype.setDefaultEdgeLabel=function(v){return Yn.isFunction(v)||(v=Yn.constant(v)),this._defaultEdgeLabelFn=v,this},ja.prototype.edgeCount=function(){return this._edgeCount},ja.prototype.edges=function(){return Yn.values(this._edgeObjs)},ja.prototype.setPath=function(v,N){var Z=this,nt=arguments;return Yn.reduce(v,function(dt,yt){return nt.length>1?Z.setEdge(dt,yt,N):Z.setEdge(dt,yt),yt}),this},ja.prototype.setEdge=function(){var v,N,Z,nt,dt=!1,yt=arguments[0];typeof yt=="object"&&yt!==null&&"v"in yt?(v=yt.v,N=yt.w,Z=yt.name,arguments.length===2&&(nt=arguments[1],dt=!0)):(v=yt,N=arguments[1],Z=arguments[3],arguments.length>2&&(nt=arguments[2],dt=!0)),v=""+v,N=""+N,Yn.isUndefined(Z)||(Z=""+Z);var Tt=ou(this._isDirected,v,N,Z);if(Yn.has(this._edgeLabels,Tt))return dt&&(this._edgeLabels[Tt]=nt),this;if(!Yn.isUndefined(Z)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(v),this.setNode(N),this._edgeLabels[Tt]=dt?nt:this._defaultEdgeLabelFn(v,N,Z);var It=pc(this._isDirected,v,N,Z);return v=It.v,N=It.w,Object.freeze(It),this._edgeObjs[Tt]=It,vc(this._preds[N],v),vc(this._sucs[v],N),this._in[N][Tt]=It,this._out[v][Tt]=It,this._edgeCount++,this},ja.prototype.edge=function(v,N,Z){var nt=arguments.length===1?gc(this._isDirected,arguments[0]):ou(this._isDirected,v,N,Z);return this._edgeLabels[nt]},ja.prototype.hasEdge=function(v,N,Z){var nt=arguments.length===1?gc(this._isDirected,arguments[0]):ou(this._isDirected,v,N,Z);return Yn.has(this._edgeLabels,nt)},ja.prototype.removeEdge=function(v,N,Z){var nt=arguments.length===1?gc(this._isDirected,arguments[0]):ou(this._isDirected,v,N,Z),dt=this._edgeObjs[nt];return dt&&(v=dt.v,N=dt.w,delete this._edgeLabels[nt],delete this._edgeObjs[nt],Dl(this._preds[N],v),Dl(this._sucs[v],N),delete this._in[N][nt],delete this._out[v][nt],this._edgeCount--),this},ja.prototype.inEdges=function(v,N){var Z=this._in[v];if(Z){var nt=Yn.values(Z);return N?Yn.filter(nt,function(dt){return dt.v===N}):nt}},ja.prototype.outEdges=function(v,N){var Z=this._out[v];if(Z){var nt=Yn.values(Z);return N?Yn.filter(nt,function(dt){return dt.w===N}):nt}},ja.prototype.nodeEdges=function(v,N){var Z=this.inEdges(v,N);if(Z)return Z.concat(this.outEdges(v,N))};var Pl={Graph:Su,version:"2.1.8"},xf={write:function(v){var N={options:{directed:v.isDirected(),multigraph:v.isMultigraph(),compound:v.isCompound()},nodes:Ef(v),edges:ps(v)};return Yn.isUndefined(v.graph())||(N.value=Yn.clone(v.graph())),N},read:function(v){var N=new Su(v.options).setGraph(v.value);return Yn.each(v.nodes,function(Z){N.setNode(Z.v,Z.value),Z.parent&&N.setParent(Z.v,Z.parent)}),Yn.each(v.edges,function(Z){N.setEdge({v:Z.v,w:Z.w,name:Z.name},Z.value)}),N}};function Ef(v){return Yn.map(v.nodes(),function(N){var Z=v.node(N),nt=v.parent(N),dt={v:N};return Yn.isUndefined(Z)||(dt.value=Z),Yn.isUndefined(nt)||(dt.parent=nt),dt})}function ps(v){return Yn.map(v.edges(),function(N){var Z=v.edge(N),nt={v:N.v,w:N.w};return Yn.isUndefined(N.name)||(nt.name=N.name),Yn.isUndefined(Z)||(nt.value=Z),nt})}var mc=function(v){var N,Z={},nt=[];function dt(yt){Yn.has(Z,yt)||(Z[yt]=!0,N.push(yt),Yn.each(v.successors(yt),dt),Yn.each(v.predecessors(yt),dt))}return Yn.each(v.nodes(),function(yt){N=[],dt(yt),N.length&&nt.push(N)}),nt},Fs=ho;function ho(){this._arr=[],this._keyIndices={}}ho.prototype.size=function(){return this._arr.length},ho.prototype.keys=function(){return this._arr.map(function(v){return v.key})},ho.prototype.has=function(v){return Yn.has(this._keyIndices,v)},ho.prototype.priority=function(v){var N=this._keyIndices[v];if(N!==void 0)return this._arr[N].priority},ho.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},ho.prototype.add=function(v,N){var Z=this._keyIndices;if(v=String(v),!Yn.has(Z,v)){var nt=this._arr,dt=nt.length;return Z[v]=dt,nt.push({key:v,priority:N}),this._decrease(dt),!0}return!1},ho.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var v=this._arr.pop();return delete this._keyIndices[v.key],this._heapify(0),v.key},ho.prototype.decrease=function(v,N){var Z=this._keyIndices[v];if(N>this._arr[Z].priority)throw new Error("New priority is greater than current priority. Key: "+v+" Old: "+this._arr[Z].priority+" New: "+N);this._arr[Z].priority=N,this._decrease(Z)},ho.prototype._heapify=function(v){var N=this._arr,Z=2*v,nt=Z+1,dt=v;Z<N.length&&(dt=N[Z].priority<N[dt].priority?Z:dt,nt<N.length&&(dt=N[nt].priority<N[dt].priority?nt:dt),dt!==v&&(this._swap(v,dt),this._heapify(dt)))},ho.prototype._decrease=function(v){for(var N,Z=this._arr,nt=Z[v].priority;v!==0&&!(Z[N=v>>1].priority<nt);)this._swap(v,N),v=N},ho.prototype._swap=function(v,N){var Z=this._arr,nt=this._keyIndices,dt=Z[v],yt=Z[N];Z[v]=yt,Z[N]=dt,nt[yt.key]=v,nt[dt.key]=N};var zs=function(v,N,Z,nt){return function(dt,yt,Tt,It){var jt,ne,we={},ge=new Fs,Ye=function(ur){var Xr=ur.v!==jt?ur.v:ur.w,mr=we[Xr],br=Tt(ur),xr=ne.distance+br;if(br<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+ur+" Weight: "+br);xr<mr.distance&&(mr.distance=xr,mr.predecessor=jt,ge.decrease(Xr,xr))};for(dt.nodes().forEach(function(ur){var Xr=ur===yt?0:Number.POSITIVE_INFINITY;we[ur]={distance:Xr},ge.add(ur,Xr)});ge.size()>0&&(jt=ge.removeMin(),(ne=we[jt]).distance!==Number.POSITIVE_INFINITY);)It(jt).forEach(Ye);return we}(v,String(N),Z||Ds,nt||function(dt){return v.outEdges(dt)})},Ds=Yn.constant(1),Ll=function(v,N,Z){return Yn.transform(v.nodes(),function(nt,dt){nt[dt]=zs(v,dt,N,Z)},{})},yc=function(v){var N=0,Z=[],nt={},dt=[];function yt(Tt){var It=nt[Tt]={onStack:!0,lowlink:N,index:N++};if(Z.push(Tt),v.successors(Tt).forEach(function(we){Yn.has(nt,we)?nt[we].onStack&&(It.lowlink=Math.min(It.lowlink,nt[we].index)):(yt(we),It.lowlink=Math.min(It.lowlink,nt[we].lowlink))}),It.lowlink===It.index){var jt,ne=[];do jt=Z.pop(),nt[jt].onStack=!1,ne.push(jt);while(Tt!==jt);dt.push(ne)}}return v.nodes().forEach(function(Tt){Yn.has(nt,Tt)||yt(Tt)}),dt},wf=function(v){return Yn.filter(yc(v),function(N){return N.length>1||N.length===1&&v.hasEdge(N[0],N[0])})},Sf=function(v,N,Z){return function(nt,dt,yt){var Tt={},It=nt.nodes();return It.forEach(function(jt){Tt[jt]={},Tt[jt][jt]={distance:0},It.forEach(function(ne){jt!==ne&&(Tt[jt][ne]={distance:Number.POSITIVE_INFINITY})}),yt(jt).forEach(function(ne){var we=ne.v===jt?ne.w:ne.v,ge=dt(ne);Tt[jt][we]={distance:ge,predecessor:jt}})}),It.forEach(function(jt){var ne=Tt[jt];It.forEach(function(we){var ge=Tt[we];It.forEach(function(Ye){var ur=ge[jt],Xr=ne[Ye],mr=ge[Ye],br=ur.distance+Xr.distance;br<mr.distance&&(mr.distance=br,mr.predecessor=Xr.predecessor)})})}),Tt}(v,N||Mf,Z||function(nt){return v.outEdges(nt)})},Mf=Yn.constant(1),Nl=_f;function _f(v){var N={},Z={},nt=[];if(Yn.each(v.sinks(),function dt(yt){if(Yn.has(Z,yt))throw new Rl;Yn.has(N,yt)||(Z[yt]=!0,N[yt]=!0,Yn.each(v.predecessors(yt),dt),delete Z[yt],nt.push(yt))}),Yn.size(N)!==v.nodeCount())throw new Rl;return nt}function Rl(){}_f.CycleException=Rl,Rl.prototype=new Error;var Cf=function(v,N,Z){Yn.isArray(N)||(N=[N]);var nt=(v.isDirected()?v.successors:v.neighbors).bind(v),dt=[],yt={};return Yn.each(N,function(Tt){if(!v.hasNode(Tt))throw new Error("Graph does not have node: "+Tt);bc(v,Tt,Z==="post",yt,nt,dt)}),dt};function bc(v,N,Z,nt,dt,yt){Yn.has(nt,N)||(nt[N]=!0,Z||yt.push(N),Yn.each(dt(N),function(Tt){bc(v,Tt,Z,nt,dt,yt)}),Z&&yt.push(N))}var $u,xc={Graph:Pl.Graph,json:xf,alg:{components:mc,dijkstra:zs,dijkstraAll:Ll,findCycles:wf,floydWarshall:Sf,isAcyclic:function(v){try{Nl(v)}catch(N){if(N instanceof Nl.CycleException)return!1;throw N}return!0},postorder:function(v,N){return Cf(v,N,"post")},preorder:function(v,N){return Cf(v,N,"pre")},prim:function(v,N){var Z,nt=new Su,dt={},yt=new Fs;function Tt(jt){var ne=jt.v===Z?jt.w:jt.v,we=yt.priority(ne);if(we!==void 0){var ge=N(jt);ge<we&&(dt[ne]=Z,yt.decrease(ne,ge))}}if(v.nodeCount()===0)return nt;Yn.each(v.nodes(),function(jt){yt.add(jt,Number.POSITIVE_INFINITY),nt.setNode(jt)}),yt.decrease(v.nodes()[0],0);for(var It=!1;yt.size()>0;){if(Z=yt.removeMin(),Yn.has(dt,Z))nt.setEdge(Z,dt[Z]);else{if(It)throw new Error("Input graph is not connected: "+v);It=!0}v.nodeEdges(Z).forEach(Tt)}return nt},tarjan:yc,topsort:Nl},version:Pl.version};try{$u=xc}catch(v){}$u||($u=window.graphlib);var ss=$u,Ec=function(v){return za(v,5)},qu=function(v,N,Z){if(!xt(Z))return!1;var nt=typeof N;return!!(nt=="number"?Pr(Z)&&D(N,Z.length):nt=="string"&&N in Z)&&x(Z[N],v)},Tf=Object.prototype,cd=Tf.hasOwnProperty,wc=rs(function(v,N){v=Object(v);var Z=-1,nt=N.length,dt=nt>2?N[2]:void 0;for(dt&&qu(N[0],N[1],dt)&&(nt=1);++Z<nt;)for(var yt=N[Z],Tt=Ge(yt),It=-1,jt=Tt.length;++It<jt;){var ne=Tt[It],we=v[ne];(we===void 0||x(we,Tf[ne])&&!cd.call(v,ne))&&(v[ne]=yt[ne])}return v}),Qu=function(v){return function(N,Z,nt){var dt=Object(N);if(!Pr(N)){var yt=To(Z);N=oe(N),Z=function(It){return yt(dt[It],It,dt)}}var Tt=v(N,Z,nt);return Tt>-1?dt[yt?N[Tt]:Tt]:void 0}},Mu=/^\s+|\s+$/g,Ju=/^[-+]0x[0-9a-f]+$/i,tl=/^0b[01]+$/i,Af=/^0o[0-7]+$/i,kl=parseInt,_u=function(v){if(typeof v=="number")return v;if(va(v))return NaN;if(xt(v)){var N=typeof v.valueOf=="function"?v.valueOf():v;v=xt(N)?N+"":N}if(typeof v!="string")return v===0?v:+v;v=v.replace(Mu,"");var Z=tl.test(v);return Z||Af.test(v)?kl(v.slice(2),Z?2:8):Ju.test(v)?NaN:+v},su=function(v){return v?(v=_u(v))===1/0||v===-1/0?17976931348623157e292*(v<0?-1:1):v==v?v:0:v===0?v:0},uu=function(v){var N=su(v),Z=N%1;return N==N?Z?N-Z:N:0},Bl=Math.max,el=Qu(function(v,N,Z){var nt=v==null?0:v.length;if(!nt)return-1;var dt=Z==null?0:uu(Z);return dt<0&&(dt=Bl(nt+dt,0)),au(v,To(N),dt)}),Sc=function(v){return v!=null&&v.length?ji(v,1):[]},lu=function(v,N){return v==null?v:si(v,pa(N),Ge)},fd=function(v){var N=v==null?0:v.length;return N?v[N-1]:void 0},Mc=function(v,N){var Z={};return N=To(N),qa(v,function(nt,dt,yt){Cn(Z,dt,N(nt,dt,yt))}),Z},rl=function(v,N,Z){for(var nt=-1,dt=v.length;++nt<dt;){var yt=v[nt],Tt=N(yt);if(Tt!=null&&(It===void 0?Tt==Tt&&!va(Tt):Z(Tt,It)))var It=Tt,jt=yt}return jt},_c=function(v,N){return v>N},Of=function(v){return v&&v.length?rl(v,_a,_c):void 0},Fl=function(v,N,Z){(Z!==void 0&&!x(v[N],Z)||Z===void 0&&!(N in v))&&Cn(v,N,Z)},dd=Function.prototype,Cc=Object.prototype,zl=dd.toString,Tc=Cc.hasOwnProperty,If=zl.call(Object),Ps=function(v){if(!lt(v)||ot(v)!="[object Object]")return!1;var N=ra(v);if(N===null)return!0;var Z=Tc.call(N,"constructor")&&N.constructor;return typeof Z=="function"&&Z instanceof Z&&zl.call(Z)==If},cu=function(v,N){if((N!=="constructor"||typeof v[N]!="function")&&N!="__proto__")return v[N]},fu=function(v){return Q(v,Ge(v))},Cu=function(v,N,Z,nt,dt,yt,Tt){var It=cu(v,Z),jt=cu(N,Z),ne=Tt.get(jt);if(ne)Fl(v,Z,ne);else{var we=yt?yt(It,jt,Z+"",v,N,Tt):void 0,ge=we===void 0;if(ge){var Ye=it(jt),ur=!Ye&&G(jt),Xr=!Ye&&!ur&&Me(jt);we=jt,Ye||ur||Xr?it(It)?we=It:hc(It)?we=Zr(It):ur?(ge=!1,we=gr(jt,!0)):Xr?(ge=!1,we=Ir(jt,!0)):we=[]:Ps(jt)||fe(jt)?(we=It,fe(It)?we=fu(It):xt(It)&&!Yt(It)||(we=An(jt))):ge=!1}ge&&(Tt.set(jt,we),dt(we,jt,nt,yt,Tt),Tt.delete(jt)),Fl(v,Z,we)}},Es=function v(N,Z,nt,dt,yt){N!==Z&&si(Z,function(Tt,It){if(yt||(yt=new sn),xt(Tt))Cu(N,Z,It,nt,v,dt,yt);else{var jt=dt?dt(cu(N,It),Tt,It+"",N,Z,yt):void 0;jt===void 0&&(jt=Tt),Fl(N,It,jt)}},Ge)},Vo=function(v){return rs(function(N,Z){var nt=-1,dt=Z.length,yt=dt>1?Z[dt-1]:void 0,Tt=dt>2?Z[2]:void 0;for(yt=v.length>3&&typeof yt=="function"?(dt--,yt):void 0,Tt&&qu(Z[0],Z[1],Tt)&&(yt=dt<3?void 0:yt,dt=1),N=Object(N);++nt<dt;){var It=Z[nt];It&&v(N,It,nt,yt)}return N})}(function(v,N,Z){Es(v,N,Z)}),Df=function(v,N){return v<N},Tu=function(v){return v&&v.length?rl(v,_a,Df):void 0},Pf=function(v,N){return v&&v.length?rl(v,To(N),Df):void 0},Au=function(){return ct.Date.now()},Ac=function(v,N,Z,nt){if(!xt(v))return v;for(var dt=-1,yt=(N=Zi(N,v)).length,Tt=yt-1,It=v;It!=null&&++dt<yt;){var jt=Fo(N[dt]),ne=Z;if(jt==="__proto__"||jt==="constructor"||jt==="prototype")return v;if(dt!=Tt){var we=It[jt];(ne=nt?nt(we,jt,It):void 0)===void 0&&(ne=xt(we)?we:D(N[dt+1])?[]:{})}$t(It,jt,ne),It=It[jt]}return v},Oc=function(v,N,Z){for(var nt=-1,dt=N.length,yt={};++nt<dt;){var Tt=N[nt],It=ds(v,Tt);Z(It,Tt)&&Ac(yt,Zi(Tt,v),It)}return yt},Ic=function(v,N){return Oc(v,N,function(Z,nt){return xs(v,nt)})},Gl=function(v){return vs(Xa(v,void 0,Sc),v+"")}(function(v,N){return v==null?{}:Ic(v,N)}),Ul=Math.ceil,Wl=Math.max,Lf=function(v,N,Z,nt){for(var dt=-1,yt=Wl(Ul((N-v)/(Z||1)),0),Tt=Array(yt);yt--;)Tt[nt?yt:++dt]=v,v+=Z;return Tt},Dc=function(v){return function(N,Z,nt){return nt&&typeof nt!="number"&&qu(N,Z,nt)&&(Z=nt=void 0),N=su(N),Z===void 0?(Z=N,N=0):Z=su(Z),nt=nt===void 0?N<Z?1:-1:su(nt),Lf(N,Z,nt,v)}}(),Ou=function(v,N){var Z=v.length;for(v.sort(N);Z--;)v[Z]=v[Z].value;return v},Pc=function(v,N){if(v!==N){var Z=v!==void 0,nt=v===null,dt=v==v,yt=va(v),Tt=N!==void 0,It=N===null,jt=N==N,ne=va(N);if(!It&&!ne&&!yt&&v>N||yt&&Tt&&jt&&!It&&!ne||nt&&Tt&&jt||!Z&&jt||!dt)return 1;if(!nt&&!yt&&!ne&&v<N||ne&&Z&&dt&&!nt&&!yt||It&&Z&&dt||!Tt&&dt||!jt)return-1}return 0},nl=function(v,N,Z){for(var nt=-1,dt=v.criteria,yt=N.criteria,Tt=dt.length,It=Z.length;++nt<Tt;){var jt=Pc(dt[nt],yt[nt]);if(jt)return nt>=It?jt:jt*(Z[nt]=="desc"?-1:1)}return v.index-N.index},Lc=function(v,N,Z){N=N.length?hi(N,function(yt){return it(yt)?function(Tt){return ds(Tt,yt.length===1?yt[0]:yt)}:yt}):[_a];var nt=-1;N=hi(N,Rt(To));var dt=Et(v,function(yt,Tt,It){return{criteria:hi(N,function(jt){return jt(yt)}),index:++nt,value:yt}});return Ou(dt,function(yt,Tt){return nl(yt,Tt,Z)})},Iu=rs(function(v,N){if(v==null)return[];var Z=N.length;return Z>1&&qu(v,N[0],N[1])?N=[]:Z>2&&qu(N[0],N[1],N[2])&&(N=[N[0]]),Lc(v,ji(N,1),[])}),Ho=0,Nc=function(v){var N=++Ho;return Ti(v)+N},Nf=function(v,N,Z){for(var nt=-1,dt=v.length,yt=N.length,Tt={};++nt<dt;){var It=nt<yt?N[nt]:void 0;Z(Tt,v[nt],It)}return Tt},Du,Pu=function(v,N){return Nf(v||[],N||[],$t)};try{Du={cloneDeep:Ec,constant:Ea,defaults:wc,each:ri,filter:Eu,find:el,flatten:Sc,forEach:fi,forIn:lu,has:yo,isUndefined:Y,last:fd,map:Pt,mapValues:Mc,max:Of,merge:Vo,min:Tu,minBy:Pf,now:Au,pick:Gl,range:Dc,reduce:ve,sortBy:Iu,uniqueId:Nc,values:bf,zipObject:Pu}}catch(v){}Du||(Du=window._);var tr=Du,Gs=du;function du(){var v={};v._next=v._prev=v,this._sentinel=v}function al(v){v._prev._next=v._next,v._next._prev=v._prev,delete v._next,delete v._prev}function Rf(v,N){if(v!=="_next"&&v!=="_prev")return N}du.prototype.dequeue=function(){var v=this._sentinel,N=v._prev;if(N!==v)return al(N),N},du.prototype.enqueue=function(v){var N=this._sentinel;v._prev&&v._next&&al(v),v._next=N._next,N._next._prev=v,N._next=v,v._prev=N},du.prototype.toString=function(){for(var v=[],N=this._sentinel,Z=N._prev;Z!==N;)v.push(JSON.stringify(Z,Rf)),Z=Z._prev;return"["+v.join(", ")+"]"};var ns=ss.Graph,Rc=function(v,N){if(v.nodeCount()<=1)return[];var Z=function(dt,yt){var Tt=new ns,It=0,jt=0;tr.forEach(dt.nodes(),function(ge){Tt.setNode(ge,{v:ge,in:0,out:0})}),tr.forEach(dt.edges(),function(ge){var Ye=Tt.edge(ge.v,ge.w)||0,ur=yt(ge),Xr=Ye+ur;Tt.setEdge(ge.v,ge.w,Xr),jt=Math.max(jt,Tt.node(ge.v).out+=ur),It=Math.max(It,Tt.node(ge.w).in+=ur)});var ne=tr.range(jt+It+3).map(function(){return new Gs}),we=It+1;return tr.forEach(Tt.nodes(),function(ge){ol(ne,we,Tt.node(ge))}),{graph:Tt,buckets:ne,zeroIdx:we}}(v,N||il),nt=function(dt,yt,Tt){for(var It,jt=[],ne=yt[yt.length-1],we=yt[0];dt.nodeCount();){for(;It=we.dequeue();)hu(dt,yt,Tt,It);for(;It=ne.dequeue();)hu(dt,yt,Tt,It);if(dt.nodeCount()){for(var ge=yt.length-2;ge>0;--ge)if(It=yt[ge].dequeue()){jt=jt.concat(hu(dt,yt,Tt,It,!0));break}}}return jt}(Z.graph,Z.buckets,Z.zeroIdx);return tr.flatten(tr.map(nt,function(dt){return v.outEdges(dt.v,dt.w)}),!0)},il=tr.constant(1);function hu(v,N,Z,nt,dt){var yt=dt?[]:void 0;return tr.forEach(v.inEdges(nt.v),function(Tt){var It=v.edge(Tt),jt=v.node(Tt.v);dt&&yt.push({v:Tt.v,w:Tt.w}),jt.out-=It,ol(N,Z,jt)}),tr.forEach(v.outEdges(nt.v),function(Tt){var It=v.edge(Tt),jt=Tt.w,ne=v.node(jt);ne.in-=It,ol(N,Z,ne)}),v.removeNode(nt.v),yt}function ol(v,N,Z){Z.out?Z.in?v[Z.out-Z.in+N].enqueue(Z):v[v.length-1].enqueue(Z):v[0].enqueue(Z)}var kc={run:function(v){var N=v.graph().acyclicer==="greedy"?Rc(v,function(Z){return function(nt){return Z.edge(nt).weight}}(v)):function(Z){var nt=[],dt={},yt={};function Tt(It){tr.has(yt,It)||(yt[It]=!0,dt[It]=!0,tr.forEach(Z.outEdges(It),function(jt){tr.has(dt,jt.w)?nt.push(jt):Tt(jt.w)}),delete dt[It])}return tr.forEach(Z.nodes(),Tt),nt}(v);tr.forEach(N,function(Z){var nt=v.edge(Z);v.removeEdge(Z),nt.forwardName=Z.name,nt.reversed=!0,v.setEdge(Z.w,Z.v,nt,tr.uniqueId("rev"))})},undo:function(v){tr.forEach(v.edges(),function(N){var Z=v.edge(N);if(Z.reversed){v.removeEdge(N);var nt=Z.forwardName;delete Z.reversed,delete Z.forwardName,v.setEdge(N.w,N.v,Z,nt)}})}},Yl=ss.Graph,oo={addDummyNode:vu,simplify:function(v){var N=new Yl().setGraph(v.graph());return tr.forEach(v.nodes(),function(Z){N.setNode(Z,v.node(Z))}),tr.forEach(v.edges(),function(Z){var nt=N.edge(Z.v,Z.w)||{weight:0,minlen:1},dt=v.edge(Z);N.setEdge(Z.v,Z.w,{weight:nt.weight+dt.weight,minlen:Math.max(nt.minlen,dt.minlen)})}),N},asNonCompoundGraph:function(v){var N=new Yl({multigraph:v.isMultigraph()}).setGraph(v.graph());return tr.forEach(v.nodes(),function(Z){v.children(Z).length||N.setNode(Z,v.node(Z))}),tr.forEach(v.edges(),function(Z){N.setEdge(Z,v.edge(Z))}),N},successorWeights:function(v){var N=tr.map(v.nodes(),function(Z){var nt={};return tr.forEach(v.outEdges(Z),function(dt){nt[dt.w]=(nt[dt.w]||0)+v.edge(dt).weight}),nt});return tr.zipObject(v.nodes(),N)},predecessorWeights:function(v){var N=tr.map(v.nodes(),function(Z){var nt={};return tr.forEach(v.inEdges(Z),function(dt){nt[dt.v]=(nt[dt.v]||0)+v.edge(dt).weight}),nt});return tr.zipObject(v.nodes(),N)},intersectRect:function(v,N){var Z,nt,dt=v.x,yt=v.y,Tt=N.x-dt,It=N.y-yt,jt=v.width/2,ne=v.height/2;if(!Tt&&!It)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(It)*jt>Math.abs(Tt)*ne?(It<0&&(ne=-ne),Z=ne*Tt/It,nt=ne):(Tt<0&&(jt=-jt),Z=jt,nt=jt*It/Tt),{x:dt+Z,y:yt+nt}},buildLayerMatrix:function(v){var N=tr.map(tr.range(Bc(v)+1),function(){return[]});return tr.forEach(v.nodes(),function(Z){var nt=v.node(Z),dt=nt.rank;tr.isUndefined(dt)||(N[dt][nt.order]=Z)}),N},normalizeRanks:function(v){var N=tr.min(tr.map(v.nodes(),function(Z){return v.node(Z).rank}));tr.forEach(v.nodes(),function(Z){var nt=v.node(Z);tr.has(nt,"rank")&&(nt.rank-=N)})},removeEmptyRanks:function(v){var N=tr.min(tr.map(v.nodes(),function(yt){return v.node(yt).rank})),Z=[];tr.forEach(v.nodes(),function(yt){var Tt=v.node(yt).rank-N;Z[Tt]||(Z[Tt]=[]),Z[Tt].push(yt)});var nt=0,dt=v.graph().nodeRankFactor;tr.forEach(Z,function(yt,Tt){tr.isUndefined(yt)&&Tt%dt!=0?--nt:nt&&tr.forEach(yt,function(It){v.node(It).rank+=nt})})},addBorderNode:function(v,N,Z,nt){var dt={width:0,height:0};return arguments.length>=4&&(dt.rank=Z,dt.order=nt),vu(v,"border",dt,N)},maxRank:Bc,partition:function(v,N){var Z={lhs:[],rhs:[]};return tr.forEach(v,function(nt){N(nt)?Z.lhs.push(nt):Z.rhs.push(nt)}),Z},time:function(v,N){var Z=tr.now();try{return N()}finally{console.log(v+" time: "+(tr.now()-Z)+"ms")}},notime:function(v,N){return N()}};function vu(v,N,Z,nt){var dt;do dt=tr.uniqueId(nt);while(v.hasNode(dt));return Z.dummy=N,v.setNode(dt,Z),dt}function Bc(v){return tr.max(tr.map(v.nodes(),function(N){var Z=v.node(N).rank;if(!tr.isUndefined(Z))return Z}))}var Xl={run:function(v){v.graph().dummyChains=[],tr.forEach(v.edges(),function(N){(function(Z,nt){var dt,yt,Tt,It=nt.v,jt=Z.node(It).rank,ne=nt.w,we=Z.node(ne).rank,ge=nt.name,Ye=Z.edge(nt),ur=Ye.labelRank;if(we!==jt+1){for(Z.removeEdge(nt),Tt=0,++jt;jt<we;++Tt,++jt)Ye.points=[],yt={width:0,height:0,edgeLabel:Ye,edgeObj:nt,rank:jt},dt=oo.addDummyNode(Z,"edge",yt,"_d"),jt===ur&&(yt.width=Ye.width,yt.height=Ye.height,yt.dummy="edge-label",yt.labelpos=Ye.labelpos),Z.setEdge(It,dt,{weight:Ye.weight},ge),Tt===0&&Z.graph().dummyChains.push(dt),It=dt;Z.setEdge(It,ne,{weight:Ye.weight},ge)}})(v,N)})},undo:function(v){tr.forEach(v.graph().dummyChains,function(N){var Z,nt=v.node(N),dt=nt.edgeLabel;for(v.setEdge(nt.edgeObj,dt);nt.dummy;)Z=v.successors(N)[0],v.removeNode(N),dt.points.push({x:nt.x,y:nt.y}),nt.dummy==="edge-label"&&(dt.x=nt.x,dt.y=nt.y,dt.width=nt.width,dt.height=nt.height),N=Z,nt=v.node(N)})}},ws=function(v){var N={};tr.forEach(v.sources(),function Z(nt){var dt=v.node(nt);if(tr.has(N,nt))return dt.rank;N[nt]=!0;var yt=tr.min(tr.map(v.outEdges(nt),function(Tt){return Z(Tt.w)-v.edge(Tt).minlen}));return yt!==Number.POSITIVE_INFINITY&&yt!=null||(yt=0),dt.rank=yt})},pu=function(v,N){return v.node(N.w).rank-v.node(N.v).rank-v.edge(N).minlen},Us=ss.Graph,Ls=pu,sl=function(v){var N,Z,nt=new Us({directed:!1}),dt=v.nodes()[0],yt=v.nodeCount();for(nt.setNode(dt,{});Lu(nt,v)<yt;)N=Ws(nt,v),Z=nt.hasNode(N.v)?Ls(v,N):-Ls(v,N),Ys(nt,v,Z);return nt};function Lu(v,N){return tr.forEach(v.nodes(),function Z(nt){tr.forEach(N.nodeEdges(nt),function(dt){var yt=dt.v,Tt=nt===yt?dt.w:yt;v.hasNode(Tt)||Ls(N,dt)||(v.setNode(Tt,{}),v.setEdge(nt,Tt,{}),Z(Tt))})}),v.nodeCount()}function Ws(v,N){return tr.minBy(N.edges(),function(Z){if(v.hasNode(Z.v)!==v.hasNode(Z.w))return Ls(N,Z)})}function Ys(v,N,Z){tr.forEach(v.nodes(),function(nt){N.node(nt).rank+=Z})}var jl=pu,ul=ws,ll=ss.alg.preorder,cl=ss.alg.postorder,Fc=oo.simplify,Xs=Qo;function Qo(v){v=Fc(v),ul(v);var N,Z=sl(v);for(Vl(Z),zc(Z,v);N=Gc(Z);)gu(Z,v,N,Bf(Z,v,N))}function zc(v,N){var Z=cl(v,v.nodes());Z=Z.slice(0,Z.length-1),tr.forEach(Z,function(nt){(function(dt,yt,Tt){var It=dt.node(Tt).parent;dt.edge(Tt,It).cutvalue=kf(dt,yt,Tt)})(v,N,nt)})}function kf(v,N,Z){var nt=v.node(Z).parent,dt=!0,yt=N.edge(Z,nt),Tt=0;return yt||(dt=!1,yt=N.edge(nt,Z)),Tt=yt.weight,tr.forEach(N.nodeEdges(Z),function(It){var jt,ne,we=It.v===Z,ge=we?It.w:It.v;if(ge!==nt){var Ye=we===dt,ur=N.edge(It).weight;if(Tt+=Ye?ur:-ur,jt=Z,ne=ge,v.hasEdge(jt,ne)){var Xr=v.edge(Z,ge).cutvalue;Tt+=Ye?-Xr:Xr}}}),Tt}function Vl(v,N){arguments.length<2&&(N=v.nodes()[0]),Nu(v,{},1,N)}function Nu(v,N,Z,nt,dt){var yt=Z,Tt=v.node(nt);return N[nt]=!0,tr.forEach(v.neighbors(nt),function(It){tr.has(N,It)||(Z=Nu(v,N,Z,It,nt))}),Tt.low=yt,Tt.lim=Z++,dt?Tt.parent=dt:delete Tt.parent,Z}function Gc(v){return tr.find(v.edges(),function(N){return v.edge(N).cutvalue<0})}function Bf(v,N,Z){var nt=Z.v,dt=Z.w;N.hasEdge(nt,dt)||(nt=Z.w,dt=Z.v);var yt=v.node(nt),Tt=v.node(dt),It=yt,jt=!1;yt.lim>Tt.lim&&(It=Tt,jt=!0);var ne=tr.filter(N.edges(),function(we){return jt===Uc(v,v.node(we.v),It)&&jt!==Uc(v,v.node(we.w),It)});return tr.minBy(ne,function(we){return jl(N,we)})}function gu(v,N,Z,nt){var dt=Z.v,yt=Z.w;v.removeEdge(dt,yt),v.setEdge(nt.v,nt.w,{}),Vl(v),zc(v,N),function(Tt,It){var jt=tr.find(Tt.nodes(),function(we){return!It.node(we).parent}),ne=ll(Tt,jt);ne=ne.slice(1),tr.forEach(ne,function(we){var ge=Tt.node(we).parent,Ye=It.edge(we,ge),ur=!1;Ye||(Ye=It.edge(ge,we),ur=!0),It.node(we).rank=It.node(ge).rank+(ur?Ye.minlen:-Ye.minlen)})}(v,N)}function Uc(v,N,Z){return Z.low<=N.lim&&N.lim<=Z.lim}Qo.initLowLimValues=Vl,Qo.initCutValues=zc,Qo.calcCutValue=kf,Qo.leaveEdge=Gc,Qo.enterEdge=Bf,Qo.exchangeEdges=gu;var Ff=ws,hd=function(v){switch(v.graph().ranker){case"network-simplex":Hl(v);break;case"tight-tree":(function(N){Ff(N),sl(N)})(v);break;case"longest-path":Wc(v);break;default:Hl(v)}},Wc=Ff;function Hl(v){Xs(v)}var vd=function(v){var N=function(Z){var nt={},dt=0;function yt(Tt){var It=dt;tr.forEach(Z.children(Tt),yt),nt[Tt]={low:It,lim:dt++}}return tr.forEach(Z.children(),yt),nt}(v);tr.forEach(v.graph().dummyChains,function(Z){for(var nt=v.node(Z),dt=nt.edgeObj,yt=function(ge,Ye,ur,Xr){var mr,br,xr=[],wn=[],Rn=Math.min(Ye[ur].low,Ye[Xr].low),In=Math.max(Ye[ur].lim,Ye[Xr].lim);mr=ur;do mr=ge.parent(mr),xr.push(mr);while(mr&&(Ye[mr].low>Rn||In>Ye[mr].lim));for(br=mr,mr=Xr;(mr=ge.parent(mr))!==br;)wn.push(mr);return{path:xr.concat(wn.reverse()),lca:br}}(v,N,dt.v,dt.w),Tt=yt.path,It=yt.lca,jt=0,ne=Tt[jt],we=!0;Z!==dt.w;){if(nt=v.node(Z),we){for(;(ne=Tt[jt])!==It&&v.node(ne).maxRank<nt.rank;)jt++;ne===It&&(we=!1)}if(!we){for(;jt<Tt.length-1&&v.node(ne=Tt[jt+1]).minRank<=nt.rank;)jt++;ne=Tt[jt]}v.setParent(Z,ne),Z=v.successors(Z)[0]}})},zf={run:function(v){var N=oo.addDummyNode(v,"root",{},"_root"),Z=function(Tt){var It={};function jt(ne,we){var ge=Tt.children(ne);ge&&ge.length&&tr.forEach(ge,function(Ye){jt(Ye,we+1)}),It[ne]=we}return tr.forEach(Tt.children(),function(ne){jt(ne,1)}),It}(v),nt=tr.max(tr.values(Z))-1,dt=2*nt+1;v.graph().nestingRoot=N,tr.forEach(v.edges(),function(Tt){v.edge(Tt).minlen*=dt});var yt=function(Tt){return tr.reduce(Tt.edges(),function(It,jt){return It+Tt.edge(jt).weight},0)}(v)+1;tr.forEach(v.children(),function(Tt){Yc(v,N,dt,yt,nt,Z,Tt)}),v.graph().nodeRankFactor=dt},cleanup:function(v){var N=v.graph();v.removeNode(N.nestingRoot),delete N.nestingRoot,tr.forEach(v.edges(),function(Z){v.edge(Z).nestingEdge&&v.removeEdge(Z)})}};function Yc(v,N,Z,nt,dt,yt,Tt){var It=v.children(Tt);if(It.length){var jt=oo.addBorderNode(v,"_bt"),ne=oo.addBorderNode(v,"_bb"),we=v.node(Tt);v.setParent(jt,Tt),we.borderTop=jt,v.setParent(ne,Tt),we.borderBottom=ne,tr.forEach(It,function(ge){Yc(v,N,Z,nt,dt,yt,ge);var Ye=v.node(ge),ur=Ye.borderTop?Ye.borderTop:ge,Xr=Ye.borderBottom?Ye.borderBottom:ge,mr=Ye.borderTop?nt:2*nt,br=ur!==Xr?1:dt-yt[Tt]+1;v.setEdge(jt,ur,{weight:mr,minlen:br,nestingEdge:!0}),v.setEdge(Xr,ne,{weight:mr,minlen:br,nestingEdge:!0})}),v.parent(Tt)||v.setEdge(N,jt,{weight:0,minlen:dt+yt[Tt]})}else Tt!==N&&v.setEdge(N,Tt,{weight:0,minlen:Z})}var Gf=function(v){tr.forEach(v.children(),function N(Z){var nt=v.children(Z),dt=v.node(Z);if(nt.length&&tr.forEach(nt,N),tr.has(dt,"minRank")){dt.borderLeft=[],dt.borderRight=[];for(var yt=dt.minRank,Tt=dt.maxRank+1;yt<Tt;++yt)Xc(v,"borderLeft","_bl",Z,dt,yt),Xc(v,"borderRight","_br",Z,dt,yt)}})};function Xc(v,N,Z,nt,dt,yt){var Tt={width:0,height:0,rank:yt,borderType:N},It=dt[N][yt-1],jt=oo.addDummyNode(v,"border",Tt,Z);dt[N][yt]=jt,v.setParent(jt,nt),It&&v.setEdge(It,jt,{weight:1})}var Uf={adjust:function(v){var N=v.graph().rankdir.toLowerCase();N!=="lr"&&N!=="rl"||Wf(v)},undo:function(v){var N=v.graph().rankdir.toLowerCase();N!=="bt"&&N!=="rl"||function(Z){tr.forEach(Z.nodes(),function(nt){Ss(Z.node(nt))}),tr.forEach(Z.edges(),function(nt){var dt=Z.edge(nt);tr.forEach(dt.points,Ss),tr.has(dt,"y")&&Ss(dt)})}(v),N!=="lr"&&N!=="rl"||(function(Z){tr.forEach(Z.nodes(),function(nt){fl(Z.node(nt))}),tr.forEach(Z.edges(),function(nt){var dt=Z.edge(nt);tr.forEach(dt.points,fl),tr.has(dt,"x")&&fl(dt)})}(v),Wf(v))}};function Wf(v){tr.forEach(v.nodes(),function(N){jc(v.node(N))}),tr.forEach(v.edges(),function(N){jc(v.edge(N))})}function jc(v){var N=v.width;v.width=v.height,v.height=N}function Ss(v){v.y=-v.y}function fl(v){var N=v.x;v.x=v.y,v.y=N}var Zl=function(v){var N={},Z=tr.filter(v.nodes(),function(It){return!v.children(It).length}),nt=tr.max(tr.map(Z,function(It){return v.node(It).rank})),dt=tr.map(tr.range(nt+1),function(){return[]});function yt(It){if(!tr.has(N,It)){N[It]=!0;var jt=v.node(It);dt[jt.rank].push(It),tr.forEach(v.successors(It),yt)}}var Tt=tr.sortBy(Z,function(It){return v.node(It).rank});return tr.forEach(Tt,yt),dt},dl=function(v,N){for(var Z=0,nt=1;nt<N.length;++nt)Z+=Kl(v,N[nt-1],N[nt]);return Z};function Kl(v,N,Z){for(var nt=tr.zipObject(Z,tr.map(Z,function(ne,we){return we})),dt=tr.flatten(tr.map(N,function(ne){return tr.sortBy(tr.map(v.outEdges(ne),function(we){return{pos:nt[we.w],weight:v.edge(we).weight}}),"pos")}),!0),yt=1;yt<Z.length;)yt<<=1;var Tt=2*yt-1;yt-=1;var It=tr.map(new Array(Tt),function(){return 0}),jt=0;return tr.forEach(dt.forEach(function(ne){var we=ne.pos+yt;It[we]+=ne.weight;for(var ge=0;we>0;)we%2&&(ge+=It[we+1]),It[we=we-1>>1]+=ne.weight;jt+=ne.weight*ge})),jt}var Vc=function(v,N){return tr.map(N,function(Z){var nt=v.inEdges(Z);if(nt.length){var dt=tr.reduce(nt,function(yt,Tt){var It=v.edge(Tt),jt=v.node(Tt.v);return{sum:yt.sum+It.weight*jt.order,weight:yt.weight+It.weight}},{sum:0,weight:0});return{v:Z,barycenter:dt.sum/dt.weight,weight:dt.weight}}return{v:Z}})},hl=function(v,N){var Z={};return tr.forEach(v,function(nt,dt){var yt=Z[nt.v]={indegree:0,in:[],out:[],vs:[nt.v],i:dt};tr.isUndefined(nt.barycenter)||(yt.barycenter=nt.barycenter,yt.weight=nt.weight)}),tr.forEach(N.edges(),function(nt){var dt=Z[nt.v],yt=Z[nt.w];tr.isUndefined(dt)||tr.isUndefined(yt)||(yt.indegree++,dt.out.push(Z[nt.w]))}),function(nt){var dt=[];function yt(jt){return function(ne){ne.merged||(tr.isUndefined(ne.barycenter)||tr.isUndefined(jt.barycenter)||ne.barycenter>=jt.barycenter)&&function(we,ge){var Ye=0,ur=0;we.weight&&(Ye+=we.barycenter*we.weight,ur+=we.weight),ge.weight&&(Ye+=ge.barycenter*ge.weight,ur+=ge.weight),we.vs=ge.vs.concat(we.vs),we.barycenter=Ye/ur,we.weight=ur,we.i=Math.min(ge.i,we.i),ge.merged=!0}(jt,ne)}}function Tt(jt){return function(ne){ne.in.push(jt),--ne.indegree==0&&nt.push(ne)}}for(;nt.length;){var It=nt.pop();dt.push(It),tr.forEach(It.in.reverse(),yt(It)),tr.forEach(It.out,Tt(It))}return tr.map(tr.filter(dt,function(jt){return!jt.merged}),function(jt){return tr.pick(jt,["vs","i","barycenter","weight"])})}(tr.filter(Z,function(nt){return!nt.indegree}))},Ru=function(v,N){var Z=oo.partition(v,function(ge){return tr.has(ge,"barycenter")}),nt=Z.lhs,dt=tr.sortBy(Z.rhs,function(ge){return-ge.i}),yt=[],Tt=0,It=0,jt=0;nt.sort((ne=!!N,function(ge,Ye){return ge.barycenter<Ye.barycenter?-1:ge.barycenter>Ye.barycenter?1:ne?Ye.i-ge.i:ge.i-Ye.i})),jt=vl(yt,dt,jt),tr.forEach(nt,function(ge){jt+=ge.vs.length,yt.push(ge.vs),Tt+=ge.barycenter*ge.weight,It+=ge.weight,jt=vl(yt,dt,jt)});var ne,we={vs:tr.flatten(yt,!0)};return It&&(we.barycenter=Tt/It,we.weight=It),we};function vl(v,N,Z){for(var nt;N.length&&(nt=tr.last(N)).i<=Z;)N.pop(),v.push(nt.vs),Z++;return Z}var Hc=function v(N,Z,nt,dt){var yt=N.children(Z),Tt=N.node(Z),It=Tt?Tt.borderLeft:void 0,jt=Tt?Tt.borderRight:void 0,ne={};It&&(yt=tr.filter(yt,function(mr){return mr!==It&&mr!==jt}));var we=Vc(N,yt);tr.forEach(we,function(mr){if(N.children(mr.v).length){var br=v(N,mr.v,nt,dt);ne[mr.v]=br,tr.has(br,"barycenter")&&(xr=mr,wn=br,tr.isUndefined(xr.barycenter)?(xr.barycenter=wn.barycenter,xr.weight=wn.weight):(xr.barycenter=(xr.barycenter*xr.weight+wn.barycenter*wn.weight)/(xr.weight+wn.weight),xr.weight+=wn.weight))}var xr,wn});var ge=hl(we,nt);(function(mr,br){tr.forEach(mr,function(xr){xr.vs=tr.flatten(xr.vs.map(function(wn){return br[wn]?br[wn].vs:wn}),!0)})})(ge,ne);var Ye=Ru(ge,dt);if(It&&(Ye.vs=tr.flatten([It,Ye.vs,jt],!0),N.predecessors(It).length)){var ur=N.node(N.predecessors(It)[0]),Xr=N.node(N.predecessors(jt)[0]);tr.has(Ye,"barycenter")||(Ye.barycenter=0,Ye.weight=0),Ye.barycenter=(Ye.barycenter*Ye.weight+ur.order+Xr.order)/(Ye.weight+2),Ye.weight+=2}return Ye},$l=ss.Graph,ql=function(v,N,Z){var nt=function(yt){for(var Tt;yt.hasNode(Tt=tr.uniqueId("_root")););return Tt}(v),dt=new $l({compound:!0}).setGraph({root:nt}).setDefaultNodeLabel(function(yt){return v.node(yt)});return tr.forEach(v.nodes(),function(yt){var Tt=v.node(yt),It=v.parent(yt);(Tt.rank===N||Tt.minRank<=N&&N<=Tt.maxRank)&&(dt.setNode(yt),dt.setParent(yt,It||nt),tr.forEach(v[Z](yt),function(jt){var ne=jt.v===yt?jt.w:jt.v,we=dt.edge(ne,yt),ge=tr.isUndefined(we)?0:we.weight;dt.setEdge(ne,yt,{weight:v.edge(jt).weight+ge})}),tr.has(Tt,"minRank")&&dt.setNode(yt,{borderLeft:Tt.borderLeft[N],borderRight:Tt.borderRight[N]}))}),dt},Ql=function(v,N,Z){var nt,dt={};tr.forEach(Z,function(yt){for(var Tt,It,jt=v.parent(yt);jt;){if((Tt=v.parent(jt))?(It=dt[Tt],dt[Tt]=jt):(It=nt,nt=jt),It&&It!==jt)return void N.setEdge(It,jt);jt=Tt}})},pl=ss.Graph,gl=function(v){var N=oo.maxRank(v),Z=ku(v,tr.range(1,N+1),"inEdges"),nt=ku(v,tr.range(N-1,-1,-1),"outEdges"),dt=Zl(v);Bu(v,dt);for(var yt,Tt=Number.POSITIVE_INFINITY,It=0,jt=0;jt<4;++It,++jt){js(It%2?Z:nt,It%4>=2),dt=oo.buildLayerMatrix(v);var ne=dl(v,dt);ne<Tt&&(jt=0,yt=tr.cloneDeep(dt),Tt=ne)}Bu(v,yt)};function ku(v,N,Z){return tr.map(N,function(nt){return ql(v,nt,Z)})}function js(v,N){var Z=new pl;tr.forEach(v,function(nt){var dt=nt.graph().root,yt=Hc(nt,dt,Z,N);tr.forEach(yt.vs,function(Tt,It){nt.node(Tt).order=It}),Ql(nt,Z,yt.vs)})}function Bu(v,N){tr.forEach(N,function(Z){tr.forEach(Z,function(nt,dt){v.node(nt).order=dt})})}var Fu=ss.Graph,ml=function(v){var N,Z=oo.buildLayerMatrix(v),nt=tr.merge(Ns(v,Z),Yf(v,Z)),dt={};tr.forEach(["u","d"],function(Tt){N=Tt==="u"?Z:tr.values(Z).reverse(),tr.forEach(["l","r"],function(It){It==="r"&&(N=tr.map(N,function(ge){return tr.values(ge).reverse()}));var jt=(Tt==="u"?v.predecessors:v.successors).bind(v),ne=zu(v,N,nt,jt),we=Zc(v,N,ne.root,ne.align,It==="r");It==="r"&&(we=tr.mapValues(we,function(ge){return-ge})),dt[Tt+It]=we})});var yt=Ms(v,dt);return jf(dt,yt),Kc(dt,v.graph().align)};function Ns(v,N){var Z={};return tr.reduce(N,function(nt,dt){var yt=0,Tt=0,It=nt.length,jt=tr.last(dt);return tr.forEach(dt,function(ne,we){var ge=function(ur,Xr){if(ur.node(Xr).dummy)return tr.find(ur.predecessors(Xr),function(mr){return ur.node(mr).dummy})}(v,ne),Ye=ge?v.node(ge).order:It;(ge||ne===jt)&&(tr.forEach(dt.slice(Tt,we+1),function(ur){tr.forEach(v.predecessors(ur),function(Xr){var mr=v.node(Xr),br=mr.order;!(br<yt||Ye<br)||mr.dummy&&v.node(ur).dummy||Jl(Z,Xr,ur)})}),Tt=we+1,yt=Ye)}),dt}),Z}function Yf(v,N){var Z={};function nt(dt,yt,Tt,It,jt){var ne;tr.forEach(tr.range(yt,Tt),function(we){ne=dt[we],v.node(ne).dummy&&tr.forEach(v.predecessors(ne),function(ge){var Ye=v.node(ge);Ye.dummy&&(Ye.order<It||Ye.order>jt)&&Jl(Z,ge,ne)})})}return tr.reduce(N,function(dt,yt){var Tt,It=-1,jt=0;return tr.forEach(yt,function(ne,we){if(v.node(ne).dummy==="border"){var ge=v.predecessors(ne);ge.length&&(Tt=v.node(ge[0]).order,nt(yt,jt,we,It,Tt),jt=we,It=Tt)}nt(yt,jt,yt.length,Tt,dt.length)}),yt}),Z}function Jl(v,N,Z){if(N>Z){var nt=N;N=Z,Z=nt}var dt=v[N];dt||(v[N]=dt={}),dt[Z]=!0}function Xf(v,N,Z){if(N>Z){var nt=N;N=Z,Z=nt}return tr.has(v[N],Z)}function zu(v,N,Z,nt){var dt={},yt={},Tt={};return tr.forEach(N,function(It){tr.forEach(It,function(jt,ne){dt[jt]=jt,yt[jt]=jt,Tt[jt]=ne})}),tr.forEach(N,function(It){var jt=-1;tr.forEach(It,function(ne){var we=nt(ne);if(we.length)for(var ge=((we=tr.sortBy(we,function(mr){return Tt[mr]})).length-1)/2,Ye=Math.floor(ge),ur=Math.ceil(ge);Ye<=ur;++Ye){var Xr=we[Ye];yt[ne]===ne&&jt<Tt[Xr]&&!Xf(Z,ne,Xr)&&(yt[Xr]=ne,yt[ne]=dt[ne]=dt[Xr],jt=Tt[Xr])}})}),{root:dt,align:yt}}function Zc(v,N,Z,nt,dt){var yt={},Tt=function(ne,we,ge,Ye){var ur=new Fu,Xr=ne.graph(),mr=function(br,xr,wn){return function(Rn,In,Qn){var Hn,ia=Rn.node(In),ga=Rn.node(Qn),fa=0;if(fa+=ia.width/2,tr.has(ia,"labelpos"))switch(ia.labelpos.toLowerCase()){case"l":Hn=-ia.width/2;break;case"r":Hn=ia.width/2}if(Hn&&(fa+=wn?Hn:-Hn),Hn=0,fa+=(ia.dummy?xr:br)/2,fa+=(ga.dummy?xr:br)/2,fa+=ga.width/2,tr.has(ga,"labelpos"))switch(ga.labelpos.toLowerCase()){case"l":Hn=ga.width/2;break;case"r":Hn=-ga.width/2}return Hn&&(fa+=wn?Hn:-Hn),Hn=0,fa}}(Xr.nodesep,Xr.edgesep,Ye);return tr.forEach(we,function(br){var xr;tr.forEach(br,function(wn){var Rn=ge[wn];if(ur.setNode(Rn),xr){var In=ge[xr],Qn=ur.edge(In,Rn);ur.setEdge(In,Rn,Math.max(mr(ne,wn,xr),Qn||0))}xr=wn})}),ur}(v,N,Z,dt),It=dt?"borderLeft":"borderRight";function jt(ne,we){for(var ge=Tt.nodes(),Ye=ge.pop(),ur={};Ye;)ur[Ye]?ne(Ye):(ur[Ye]=!0,ge.push(Ye),ge=ge.concat(we(Ye))),Ye=ge.pop()}return jt(function(ne){yt[ne]=Tt.inEdges(ne).reduce(function(we,ge){return Math.max(we,yt[ge.v]+Tt.edge(ge))},0)},Tt.predecessors.bind(Tt)),jt(function(ne){var we=Tt.outEdges(ne).reduce(function(Ye,ur){return Math.min(Ye,yt[ur.w]-Tt.edge(ur))},Number.POSITIVE_INFINITY),ge=v.node(ne);we!==Number.POSITIVE_INFINITY&&ge.borderType!==It&&(yt[ne]=Math.max(yt[ne],we))},Tt.successors.bind(Tt)),tr.forEach(nt,function(ne){yt[ne]=yt[Z[ne]]}),yt}function Ms(v,N){return tr.minBy(tr.values(N),function(Z){var nt=Number.NEGATIVE_INFINITY,dt=Number.POSITIVE_INFINITY;return tr.forIn(Z,function(yt,Tt){var It=function(jt,ne){return jt.node(ne).width}(v,Tt)/2;nt=Math.max(yt+It,nt),dt=Math.min(yt-It,dt)}),nt-dt})}function jf(v,N){var Z=tr.values(N),nt=tr.min(Z),dt=tr.max(Z);tr.forEach(["u","d"],function(yt){tr.forEach(["l","r"],function(Tt){var It,jt=yt+Tt,ne=v[jt];if(ne!==N){var we=tr.values(ne);(It=Tt==="l"?nt-tr.min(we):dt-tr.max(we))&&(v[jt]=tr.mapValues(ne,function(ge){return ge+It}))}})})}function Kc(v,N){return tr.mapValues(v.ul,function(Z,nt){if(N)return v[N.toLowerCase()][nt];var dt=tr.sortBy(tr.map(v,nt));return(dt[1]+dt[2])/2})}var Vf=ml,Hf=function(v){(function(N){var Z=oo.buildLayerMatrix(N),nt=N.graph().ranksep,dt=0;tr.forEach(Z,function(yt){var Tt=tr.max(tr.map(yt,function(It){return N.node(It).height}));tr.forEach(yt,function(It){N.node(It).y=dt+Tt/2}),dt+=Tt+nt})})(v=oo.asNonCompoundGraph(v)),tr.forEach(Vf(v),function(N,Z){v.node(Z).x=N})},Zf=oo.normalizeRanks,Ud=oo.removeEmptyRanks,Oo=oo,Kf=ss.Graph,mu=function(v,N){var Z=N&&N.debugTiming?Oo.time:Oo.notime;Z("layout",function(){var nt=Z("  buildLayoutGraph",function(){return function(dt){var yt=new Kf({multigraph:!0,compound:!0}),Tt=yl(dt.graph());return yt.setGraph(tr.merge({},$f,Zo(Tt,Vs),tr.pick(Tt,$c))),tr.forEach(dt.nodes(),function(It){var jt=yl(dt.node(It));yt.setNode(It,tr.defaults(Zo(jt,tc),qf)),yt.setParent(It,dt.parent(It))}),tr.forEach(dt.edges(),function(It){var jt=yl(dt.edge(It));yt.setEdge(It,tr.merge({},Hs,Zo(jt,zo),tr.pick(jt,$i)))}),yt}(v)});Z("  runLayout",function(){(function(dt,yt){yt("    makeSpaceForEdgeLabels",function(){(function(Tt){var It=Tt.graph();It.ranksep/=2,tr.forEach(Tt.edges(),function(jt){var ne=Tt.edge(jt);ne.minlen*=2,ne.labelpos.toLowerCase()!=="c"&&(It.rankdir==="TB"||It.rankdir==="BT"?ne.width+=ne.labeloffset:ne.height+=ne.labeloffset)})})(dt)}),yt("    removeSelfEdges",function(){(function(Tt){tr.forEach(Tt.edges(),function(It){if(It.v===It.w){var jt=Tt.node(It.v);jt.selfEdges||(jt.selfEdges=[]),jt.selfEdges.push({e:It,label:Tt.edge(It)}),Tt.removeEdge(It)}})})(dt)}),yt("    acyclic",function(){kc.run(dt)}),yt("    nestingGraph.run",function(){zf.run(dt)}),yt("    rank",function(){hd(Oo.asNonCompoundGraph(dt))}),yt("    injectEdgeLabelProxies",function(){(function(Tt){tr.forEach(Tt.edges(),function(It){var jt=Tt.edge(It);if(jt.width&&jt.height){var ne=Tt.node(It.v),we={rank:(Tt.node(It.w).rank-ne.rank)/2+ne.rank,e:It};Oo.addDummyNode(Tt,"edge-proxy",we,"_ep")}})})(dt)}),yt("    removeEmptyRanks",function(){Ud(dt)}),yt("    nestingGraph.cleanup",function(){zf.cleanup(dt)}),yt("    normalizeRanks",function(){Zf(dt)}),yt("    assignRankMinMax",function(){(function(Tt){var It=0;tr.forEach(Tt.nodes(),function(jt){var ne=Tt.node(jt);ne.borderTop&&(ne.minRank=Tt.node(ne.borderTop).rank,ne.maxRank=Tt.node(ne.borderBottom).rank,It=tr.max(It,ne.maxRank))}),Tt.graph().maxRank=It})(dt)}),yt("    removeEdgeLabelProxies",function(){(function(Tt){tr.forEach(Tt.nodes(),function(It){var jt=Tt.node(It);jt.dummy==="edge-proxy"&&(Tt.edge(jt.e).labelRank=jt.rank,Tt.removeNode(It))})})(dt)}),yt("    normalize.run",function(){Xl.run(dt)}),yt("    parentDummyChains",function(){vd(dt)}),yt("    addBorderSegments",function(){Gf(dt)}),yt("    order",function(){gl(dt)}),yt("    insertSelfEdges",function(){(function(Tt){var It=Oo.buildLayerMatrix(Tt);tr.forEach(It,function(jt){var ne=0;tr.forEach(jt,function(we,ge){var Ye=Tt.node(we);Ye.order=ge+ne,tr.forEach(Ye.selfEdges,function(ur){Oo.addDummyNode(Tt,"selfedge",{width:ur.label.width,height:ur.label.height,rank:Ye.rank,order:ge+ ++ne,e:ur.e,label:ur.label},"_se")}),delete Ye.selfEdges})})})(dt)}),yt("    adjustCoordinateSystem",function(){Uf.adjust(dt)}),yt("    position",function(){Hf(dt)}),yt("    positionSelfEdges",function(){(function(Tt){tr.forEach(Tt.nodes(),function(It){var jt=Tt.node(It);if(jt.dummy==="selfedge"){var ne=Tt.node(jt.e.v),we=ne.x+ne.width/2,ge=ne.y,Ye=jt.x-we,ur=ne.height/2;Tt.setEdge(jt.e,jt.label),Tt.removeNode(It),jt.label.points=[{x:we+2*Ye/3,y:ge-ur},{x:we+5*Ye/6,y:ge-ur},{x:we+Ye,y:ge},{x:we+5*Ye/6,y:ge+ur},{x:we+2*Ye/3,y:ge+ur}],jt.label.x=jt.x,jt.label.y=jt.y}})})(dt)}),yt("    removeBorderNodes",function(){(function(Tt){tr.forEach(Tt.nodes(),function(It){if(Tt.children(It).length){var jt=Tt.node(It),ne=Tt.node(jt.borderTop),we=Tt.node(jt.borderBottom),ge=Tt.node(tr.last(jt.borderLeft)),Ye=Tt.node(tr.last(jt.borderRight));jt.width=Math.abs(Ye.x-ge.x),jt.height=Math.abs(we.y-ne.y),jt.x=ge.x+jt.width/2,jt.y=ne.y+jt.height/2}}),tr.forEach(Tt.nodes(),function(It){Tt.node(It).dummy==="border"&&Tt.removeNode(It)})})(dt)}),yt("    normalize.undo",function(){Xl.undo(dt)}),yt("    fixupEdgeLabelCoords",function(){(function(Tt){tr.forEach(Tt.edges(),function(It){var jt=Tt.edge(It);if(tr.has(jt,"x"))switch(jt.labelpos!=="l"&&jt.labelpos!=="r"||(jt.width-=jt.labeloffset),jt.labelpos){case"l":jt.x-=jt.width/2+jt.labeloffset;break;case"r":jt.x+=jt.width/2+jt.labeloffset}})})(dt)}),yt("    undoCoordinateSystem",function(){Uf.undo(dt)}),yt("    translateGraph",function(){(function(Tt){var It=Number.POSITIVE_INFINITY,jt=0,ne=Number.POSITIVE_INFINITY,we=0,ge=Tt.graph(),Ye=ge.marginx||0,ur=ge.marginy||0;function Xr(mr){var br=mr.x,xr=mr.y,wn=mr.width,Rn=mr.height;It=Math.min(It,br-wn/2),jt=Math.max(jt,br+wn/2),ne=Math.min(ne,xr-Rn/2),we=Math.max(we,xr+Rn/2)}tr.forEach(Tt.nodes(),function(mr){Xr(Tt.node(mr))}),tr.forEach(Tt.edges(),function(mr){var br=Tt.edge(mr);tr.has(br,"x")&&Xr(br)}),It-=Ye,ne-=ur,tr.forEach(Tt.nodes(),function(mr){var br=Tt.node(mr);br.x-=It,br.y-=ne}),tr.forEach(Tt.edges(),function(mr){var br=Tt.edge(mr);tr.forEach(br.points,function(xr){xr.x-=It,xr.y-=ne}),tr.has(br,"x")&&(br.x-=It),tr.has(br,"y")&&(br.y-=ne)}),ge.width=jt-It+Ye,ge.height=we-ne+ur})(dt)}),yt("    assignNodeIntersects",function(){(function(Tt){tr.forEach(Tt.edges(),function(It){var jt,ne,we=Tt.edge(It),ge=Tt.node(It.v),Ye=Tt.node(It.w);we.points?(jt=we.points[0],ne=we.points[we.points.length-1]):(we.points=[],jt=Ye,ne=ge),we.points.unshift(Oo.intersectRect(ge,jt)),we.points.push(Oo.intersectRect(Ye,ne))})})(dt)}),yt("    reversePoints",function(){(function(Tt){tr.forEach(Tt.edges(),function(It){var jt=Tt.edge(It);jt.reversed&&jt.points.reverse()})})(dt)}),yt("    acyclic.undo",function(){kc.undo(dt)})})(nt,Z)}),Z("  updateInputGraph",function(){(function(dt,yt){tr.forEach(dt.nodes(),function(Tt){var It=dt.node(Tt),jt=yt.node(Tt);It&&(It.x=jt.x,It.y=jt.y,yt.children(Tt).length&&(It.width=jt.width,It.height=jt.height))}),tr.forEach(dt.edges(),function(Tt){var It=dt.edge(Tt),jt=yt.edge(Tt);It.points=jt.points,tr.has(jt,"x")&&(It.x=jt.x,It.y=jt.y)}),dt.graph().width=yt.graph().width,dt.graph().height=yt.graph().height})(v,nt)})})},Vs=["nodesep","edgesep","ranksep","marginx","marginy"],$f={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},$c=["acyclicer","ranker","rankdir","align"],tc=["width","height"],qf={width:0,height:0},zo=["minlen","weight","width","height","labeloffset"],Hs={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},$i=["labelpos"];function Zo(v,N){return tr.mapValues(tr.pick(v,N),Number)}function yl(v){var N={};return tr.forEach(v,function(Z,nt){N[nt.toLowerCase()]=Z}),N}var pd=ss.Graph,Qf={graphlib:ss,layout:mu,debug:{debugOrdering:function(v){var N=oo.buildLayerMatrix(v),Z=new pd({compound:!0,multigraph:!0}).setGraph({});return tr.forEach(v.nodes(),function(nt){Z.setNode(nt,{label:nt}),Z.setParent(nt,"layer"+v.node(nt).rank)}),tr.forEach(v.edges(),function(nt){Z.setEdge(nt.v,nt.w,{},nt.name)}),tr.forEach(N,function(nt,dt){var yt="layer"+dt;Z.setNode(yt,{rank:"same"}),tr.reduce(nt,function(Tt,It){return Z.setEdge(Tt,It,{style:"invis"}),It})}),Z}},util:{time:oo.time,notime:oo.notime},version:"0.8.5"},gd=Qf.graphlib,Jf=Qf.layout;class qc{constructor(N){this.cardinality=1,this.include=p.UNSPECIFIED,this.isGroupNode=!1,this.parentNode=null,this.type=L.NODE,this.name=N.name,this.attr=N.attr||{},this.inputs=N.inputs,this.path=N.path||[],this.width=N.width,this.height=N.height}}class md{constructor(){this.nodes={},this.edges=[],this.nodes={},this.edges=[]}}function yd(v){const N=new md;return v.nodes.map(Z=>new qc(Z)).forEach(Z=>{N.nodes[Z.name]=Z,Z.inputs.forEach(nt=>{(function(dt,yt,Tt){Tt.name!==yt.name&&dt.edges.push(Object.assign(Object.assign({},Tt.attr),{v:Tt.name,w:yt.name}))})(N,Z,nt)})}),N}class td{constructor(N,Z={}){this.attr=null,this.bridgeGraph=null,this.cardinality=0,this.depth=1,this.include=p.UNSPECIFIED,this.isGroupNode=!0,this.parentNode=null,this.type=L.META,this.path=[],this.name=N,this.metaGraph=bl(N,g.META,Z)}getFirstChild(){return this.metaGraph.node(this.metaGraph.nodes()[0])}getChildren(){return this.metaGraph.nodes().map(N=>this.metaGraph.node(N))}leaves(){let N,Z=[],nt=[this];for(;nt.length;){let dt=nt.shift();dt.isGroupNode?(N=dt.metaGraph,N.nodes().forEach(yt=>nt.push(N.node(yt)))):Z.push(dt.name)}return Z}}class bd{constructor(N,Z){this.v=N,this.w=Z,this.baseEdgeList=[],this.inbound=null,this.name=null}addBaseEdge(N,Z){this.baseEdgeList.push(N)}}function Qc(v,N={}){return new td(v,N)}function Jc(v,N){return new bd(v,N)}function bl(v,N,Z){const nt=Z||{},dt=new gd.Graph(nt);return dt.setGraph({name:v,rankdir:nt.rankdir,type:N,align:nt.align}),dt}class tf{constructor(N={}){this.graphOptions=N,this.index={},this.graphOptions.compound=!0,this.root=Qc(M,this.graphOptions),this.index[M]=this.root}getNodeMap(){return this.index}node(N){return this.index[N]}setNode(N,Z){this.index[N]=Z}getBridgeGraph(N){const Z=this.index[N];if(!Z)throw Error("Could not find node in hierarchy: "+N);if(!("metaGraph"in Z))return null;const nt=Z;if(nt.bridgeGraph)return nt.bridgeGraph;const dt=bl(P,g.BRIDGE,this.graphOptions);if(nt.bridgeGraph=dt,!Z.parentNode||!("metaGraph"in Z.parentNode))return dt;const yt=Z.parentNode;return[yt.metaGraph,this.getBridgeGraph(yt.name)].forEach(Tt=>{Tt.edges().filter(It=>It.v===N||It.w===N).forEach(It=>{const jt=It.w===N;Tt.edge(It).baseEdgeList.forEach(ne=>{const[we,ge]=jt?[ne.w,It.v]:[ne.v,It.w],Ye=this.getChildName(N,we),ur={v:jt?ge:Ye,w:jt?Ye:ge};let Xr=dt.edge(ur);Xr||(Xr=Jc(ur.v,ur.w),Xr.inbound=jt,dt.setEdge(ur.v,ur.w,Xr)),Xr.addBaseEdge(ne,this)})})}),dt}getChildName(N,Z){let nt=this.index[Z];for(;nt;){if(nt.parentNode&&nt.parentNode.name===N)return nt.name;nt=nt.parentNode}throw Error("Could not find immediate child for descendant: "+Z)}getPredecessors(N){const Z=this.index[N];if(!Z)throw Error("Could not find node with name: "+N);return this.getOneWayEdges(Z,!0)}getSuccessors(N){const Z=this.index[N];if(!Z)throw Error("Could not find node with name: "+N);return this.getOneWayEdges(Z,!1)}getOneWayEdges(N,Z){const nt=[];if(!N.parentNode||!N.parentNode.isGroupNode)return nt;const dt=N.parentNode,yt=dt.metaGraph,Tt=this.getBridgeGraph(dt.name);return ef(yt,N,Z,nt),ef(Tt,N,Z,nt),nt}}function _s(v,N){const{rankDirection:Z,align:nt}=N,dt=new tf({rankdir:Z,align:nt});return function(yt,Tt){Object.keys(Tt.nodes).forEach(It=>{const jt=Tt.nodes[It],ne=jt.path;let we=yt.root;we.depth=Math.max(ne.length,we.depth);for(let ge=0;ge<ne.length&&(we.depth=Math.max(we.depth,ne.length-ge),we.cardinality+=jt.cardinality,ge!==ne.length-1);ge++){const Ye=ne[ge];let ur=yt.node(Ye);ur||(ur=Qc(Ye,yt.graphOptions),ur.path=jt.path.slice(0,ge+1),ur.parentNode=we,yt.setNode(Ye,ur),we.metaGraph.setNode(Ye,ur)),we=ur}yt.setNode(jt.name,jt),jt.parentNode=we,we.metaGraph.setNode(jt.name,jt)})}(dt,v),function(yt,Tt){const It=yt.getNodeMap();let jt=[],ne=[];const we=(ge,Ye)=>{let ur=0;for(;ge;)Ye[ur++]=ge.name,ge=ge.parentNode;return ur-1};Tt.edges.forEach(ge=>{jt=[],ne=[];let Ye=we(Tt.nodes[ge.v],jt),ur=we(Tt.nodes[ge.w],ne);for(;jt[Ye]===ne[ur];)if(Ye--,ur--,Ye<0||ur<0)throw Error("No difference found between ancestor paths.");const Xr=It[jt[Ye+1]],mr=jt[Ye],br=ne[ur];let xr=Xr.metaGraph.edge(mr,br);xr||(xr=Jc(mr,br),Xr.metaGraph.setEdge(mr,br,xr)),xr.addBaseEdge(ge,yt)})}(dt,v),dt}function ef(v,N,Z,nt){(Z?v.inEdges(N.name):v.outEdges(N.name)).forEach(dt=>{const yt=v.edge(dt);nt.push(yt)})}class rf{constructor(N){this.hierarchy=N,this.index={},this.hasSubHierarchy={},this.root=new Se(this.hierarchy.root,this.hierarchy.graphOptions),this.index[N.root.name]=this.root,this.buildSubHierarchy(N.root.name),this.root.expanded=!0}getRenderInfoNodes(){return Object.values(this.index)}getSubHierarchy(){return this.hasSubHierarchy}buildSubHierarchy(N){if(N in this.hasSubHierarchy)return;this.hasSubHierarchy[N]=!0;const Z=this.index[N];if(Z.node.type!==L.META)return;const nt=Z,dt=nt.node.metaGraph,yt=nt.coreGraph;dt.nodes().forEach(we=>{const ge=this.getOrCreateRenderNodeByName(we);yt.setNode(we,ge)}),dt.edges().forEach(we=>{const ge=dt.edge(we),Ye=new At(ge);yt.setEdge(we.v,we.w,Ye)});const Tt=nt.node.parentNode;if(!Tt)return;const It=this.getRenderNodeByName(Tt.name),jt=(we,...ge)=>ge.concat([we?"IN":"OUT"]).join("~~"),ne=this.hierarchy.getBridgeGraph(N);ne.edges().forEach(we=>{const ge=ne.edge(we),Ye=!!dt.node(we.w),[ur,Xr]=Ye?[we.w,we.v]:[we.v,we.w],mr=Qn=>{const Hn=Ye?{v:Qn,w:N}:{v:N,w:Qn};return It.coreGraph.edge(Hn)};let br=mr(Xr);br||(br=mr(jt(Ye,Xr,Tt.name)));const xr=jt(Ye,N),wn=jt(Ye,Xr,N);let Rn=yt.node(wn);if(!Rn){let Qn=yt.node(xr);if(!Qn){const ia={name:xr,type:L.BRIDGE,isGroupNode:!1,cardinality:0,parentNode:null,include:p.UNSPECIFIED,inbound:Ye,attr:{}};Qn=new xl(ia),this.index[xr]=Qn,yt.setNode(xr,Qn)}const Hn={name:wn,type:L.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,include:p.UNSPECIFIED,inbound:Ye,attr:{}};Rn=new xl(Hn),this.index[wn]=Rn,yt.setNode(wn,Rn),yt.setParent(wn,xr),Qn.node.cardinality++}const In=new At(ge);In.adjoiningMetaEdge=br,Ye?yt.setEdge(wn,ur,In):yt.setEdge(ur,wn,In)})}getOrCreateRenderNodeByName(N){if(!N)return null;if(N in this.index)return this.index[N];const Z=this.getNodeByName(N);return Z?(this.index[N]=Z.isGroupNode?new Se(Z,this.hierarchy.graphOptions):new xl(Z),this.index[N]):null}getRenderNodeByName(N){return this.index[N]}getNodeByName(N){return this.hierarchy.node(N)}}class xl{constructor(N){this.node=N,this.expanded=!1,this.x=0,this.y=0,this.coreBox={width:0,height:0},this.outboxWidth=0,this.labelOffset=0,this.radius=0,this.labelHeight=0,this.paddingTop=0,this.paddingLeft=0,this.paddingRight=0,this.paddingBottom=0,this.width=N.width||0,this.height=N.height||0,this.displayName=N.name,this.attr=N.attr}}class At{constructor(N){this.metaEdge=N,this.adjoiningMetaEdge=null,this.weight=1,this.points=[]}}class Se extends xl{constructor(N,Z){super(N);const nt=N.metaGraph.graph();Z.compound=!0,this.coreGraph=bl(nt.name,g.CORE,Z)}}function je(v,N){v.node.isGroupNode&&function(Z,nt){const dt=R(nt);Z.coreGraph.nodes().map(yt=>Z.coreGraph.node(yt)).forEach(yt=>{var Tt,It,jt,ne,we,ge;const{height:Ye,width:ur}=yt;switch(yt.node.type){case L.NODE:Object.assign(yt,dt.nodeSize.node),yt.height=Ye||dt.nodeSize.node.height,yt.width=ur||dt.nodeSize.node.width;break;case L.BRIDGE:Object.assign(yt,dt.nodeSize.bridge);break;case L.META:yt.expanded?je(yt,nt):(Object.assign(yt,dt.nodeSize.meta),yt.height=dt.nodeSize.meta.height,yt.width=dt.nodeSize.meta.width);break;default:throw Error("Unrecognized node type: "+yt.node.type)}if(!yt.expanded){const Xr=yt.attr;(function(mr,br=!1){if(mr.coreBox.width=mr.width,mr.coreBox.height=mr.height,!br){const xr=`${mr.displayName}`.length,wn=3;mr.width=Math.max(mr.coreBox.width,xr*wn)}})(yt,nt&&(yt.node.type===0&&!!(!((It=(Tt=nt==null?void 0:nt.nodeSize)===null||Tt===void 0?void 0:Tt.meta)===null||It===void 0)&&It.width)||yt.node.type===1&&(!!(!((ne=(jt=nt==null?void 0:nt.nodeSize)===null||jt===void 0?void 0:jt.node)===null||ne===void 0)&&ne.width)||!!Xr.width)||yt.node.type===2&&!!(!((ge=(we=nt==null?void 0:nt.nodeSize)===null||we===void 0?void 0:we.bridge)===null||ge===void 0)&&ge.width)))}})}(v,N),v.node.type===L.META&&function(Z,nt){const dt=R(nt),yt=dt.subScene.meta;Object.assign(Z,yt);const{nodeSep:Tt,rankSep:It,edgeSep:jt,align:ne}=dt.graph.meta,we={nodesep:Tt,ranksep:It,edgesep:jt,align:ne};Object.assign(Z.coreBox,function(ur,Xr){const{ranksep:mr,nodesep:br,edgesep:xr,align:wn}=Xr;Object.assign(ur.graph(),{ranksep:mr,nodesep:br,edgesep:xr,align:wn});const Rn=[];if(ur.nodes().forEach(ga=>{ur.node(ga).node.type!==L.BRIDGE&&Rn.push(ga)}),!Rn.length)return{width:0,height:0};Jf(ur);let In=1/0,Qn=1/0,Hn=-1/0,ia=-1/0;return Rn.forEach(ga=>{const fa=ur.node(ga),Ei=.5*fa.width,ma=fa.x-Ei,qi=fa.x+Ei;In=ma<In?ma:In,Hn=qi>Hn?qi:Hn;const pi=.5*fa.height,ka=fa.y-pi,Gi=fa.y+pi;Qn=ka<Qn?ka:Qn,ia=Gi>ia?Gi:ia}),ur.edges().forEach(ga=>{const fa=ur.edge(ga),Ei=ur.node(fa.metaEdge.v),ma=ur.node(fa.metaEdge.w);if(fa.points.length===3&&function(ka){let Gi=Nr(ka[0],ka[1]);for(let Vi=1;Vi<ka.length-1;Vi++){const so=Nr(ka[Vi],ka[Vi+1]);if(Math.abs(so-Gi)>1)return!1;Gi=so}return!0}(fa.points)){if(Ei!=null){const ka=Ei.expanded?Ei.x:Qr(Ei);fa.points[0].x=ka}if(ma!=null){const ka=ma.expanded?ma.x:Qr(ma);fa.points[2].x=ka}fa.points=[fa.points[0],fa.points[1]]}const qi=fa.points[fa.points.length-2];ma!=null&&(fa.points[fa.points.length-1]=_r(qi,ma));const pi=fa.points[1];Ei!=null&&(fa.points[0]=_r(pi,Ei)),fa.points.forEach(ka=>{In=ka.x<In?ka.x:In,Hn=ka.x>Hn?ka.x:Hn,Qn=ka.y<Qn?ka.y:Qn,ia=ka.y>ia?ka.y:ia})}),ur.nodes().forEach(ga=>{const fa=ur.node(ga);fa.x-=In,fa.y-=Qn}),ur.edges().forEach(ga=>{ur.edge(ga).points.forEach(fa=>{fa.x-=In,fa.y-=Qn})}),{width:Hn-In,height:ia-Qn}}(Z.coreGraph,we));let ge=0;Z.coreGraph.nodeCount()>0&&ge++;const Ye=ge<=1?0:ge;Z.coreBox.width+=Ye+Ye,Z.coreBox.height=yt.labelHeight+Z.coreBox.height,Z.width=Z.coreBox.width+yt.paddingLeft+yt.paddingRight,Z.height=Z.paddingTop+Z.coreBox.height+Z.paddingBottom}(v,N)}function Nr(v,N){const Z=N.x-v.x,nt=N.y-v.y;return 180*Math.atan(nt/Z)/Math.PI}function Qr(v){return v.expanded?v.x:v.x-v.width/2+0+v.coreBox.width/2}function _r(v,N){const Z=N.expanded?N.x:Qr(N),nt=N.y,dt=v.x-Z,yt=v.y-nt;let Tt,It,jt=N.expanded?N.width:N.coreBox.width,ne=N.expanded?N.height:N.coreBox.height;return Math.abs(yt)*jt/2>Math.abs(dt)*ne/2?(yt<0&&(ne=-ne),Tt=yt===0?0:ne/2*dt/yt,It=ne/2):(dt<0&&(jt=-jt),Tt=jt/2,It=dt===0?0:jt/2*yt/dt),{x:Z+Tt,y:nt+It}}function Ur(v,N,Z){var nt,dt,yt,Tt;const It=v.nodes.filter((ge,Ye,ur)=>ur.findIndex(Xr=>Xr.id===ge.id)!==Ye).map(ge=>ge.id);if(It.length)throw new Error(`Duplicated ids found: ${It.join(", ")}`);const jt=function(ge){const Ye={nodes:[]},ur=ge.compound,Xr=Object.keys(ur||{}),mr=new Map,br=(wn,Rn=[])=>{if(mr.has(wn))return mr.get(wn);for(let In=0;In<Xr.length;In++){let Qn=Xr[In];if(ur&&ur[Qn].indexOf(wn)!==-1)return Rn.unshift(Qn),br(Qn,Rn)}return Rn.length===0&&mr.set(wn,Rn),Rn},xr=wn=>ge.edges.filter(Rn=>Rn.w===wn).map(Rn=>({name:Rn.v}));return ge.nodes.forEach(wn=>{const Rn=wn.id,In=[...br(Rn),Rn];let Qn=xr(Rn);Ye.nodes.push({name:Rn,path:In,inputs:Qn,width:wn.width,height:wn.height,attr:Object.assign({},wn)})}),Ye}(v),ne=function(ge,Ye){const ur=(mr,br)=>{for(let xr of br.values())if(xr.includes(mr))return!0;return!1},Xr=(mr,br=[])=>{if(Object.keys(mr).length===0)return[...new Set(br)];const xr=new Map(Object.keys(mr).map(Rn=>[Rn,mr[Rn]])),wn={};for(let[Rn,In]of xr)ur(Rn,xr)?wn[Rn]=In:br=br.concat(Rn,In);return Xr(wn,br)};return Xr(ge).filter(mr=>Ye.includes(mr))}(v.compound||{},(N==null?void 0:N.expanded)||[]),we=function(ge,Ye){return function(ur){return new rf(ur)}(_s(yd(ge),Ye))}(jt,{rankDirection:((dt=(nt=Z==null?void 0:Z.graph)===null||nt===void 0?void 0:nt.meta)===null||dt===void 0?void 0:dt.rankDir)||(N==null?void 0:N.rankDirection)||y.graph.meta.rankDir,align:((Tt=(yt=Z==null?void 0:Z.graph)===null||yt===void 0?void 0:yt.meta)===null||Tt===void 0?void 0:Tt.align)||y.graph.meta.align});return function(ge,Ye){Ye.forEach(ur=>{const Xr=ge.getRenderInfoNodes().find(xr=>xr.displayName===ur);let mr=Xr&&Xr.node&&Xr.node.name||"";const br=ge.getRenderNodeByName(mr);if(!br)throw new Error(`No nodes found: ${mr}`);br.expanded=!0,ge.buildSubHierarchy(mr)})}(we,ne),je(we.root,Z),pn(we.root)}function vn(v,N=!1){const Z=JSON.parse(JSON.stringify(v)),nt={nodes:[Z],edges:[...Z.edges]};return Z.nodes.forEach(function dt(yt){(yt.type===0||yt.type===1)&&nt.nodes.push(yt),yt.type===0&&(nt.edges=nt.edges.concat(yt.edges)),Array.isArray(yt.nodes)&&yt.nodes.forEach(dt)}),N&&nt.nodes.forEach(dt=>{const yt=nt.nodes.find(Tt=>Tt.id===dt.parentNodeName);if(yt){const Tt=yt.x-yt.width/2+yt.paddingLeft,It=yt.y-yt.height/2+yt.labelHeight+yt.paddingTop;yt.id!==M&&(dt.x+=Tt,dt.y+=It),dt.type===0&&dt.edges.forEach(jt=>{jt.points.forEach(ne=>{ne.x+=dt.x-dt.width/2+dt.paddingLeft,ne.y+=dt.y-dt.height/2+dt.labelHeight+dt.paddingTop})})}}),nt}function Mn(v,N,Z,nt){var dt,yt;let Tt=[];const It=((dt=Z.find(ge=>ge.id===v))===null||dt===void 0?void 0:dt.path)||[],jt=((yt=Z.find(ge=>ge.id===N))===null||yt===void 0?void 0:yt.path)||[],ne=[M,...It].slice(0,It.length).reverse(),we=[M,...jt].slice(0,jt.length);return ne.forEach(ge=>{const Ye=Z.find(ur=>ur.id===ge);Tt=Tt.concat(Ye.edges.filter(ur=>ur.baseEdgeList.some(Xr=>Xr.v===((nt==null?void 0:nt.v)||v)&&Xr.w===((nt==null?void 0:nt.w)||N))))}),we.filter(ge=>!ne.includes(ge)).forEach(ge=>{const Ye=Z.find(ur=>ur.id===ge);Tt=Tt.concat(Ye.edges.filter(ur=>ur.baseEdgeList.some(Xr=>Xr.v===((nt==null?void 0:nt.v)||v)&&Xr.w===((nt==null?void 0:nt.w)||N))))}),Tt}function pn(v){const N=v.coreGraph.nodes().map(nt=>v.coreGraph.node(nt));return Object.assign(Object.assign({},En(v)),{expanded:v.expanded,nodes:v.expanded?(Z=N,Z.map(nt=>nt.node.type===L.META?pn(nt):En(nt))):[],edges:v.expanded?On(v):[]});var Z}function En(v){return{id:v.node.name,name:v.node.name,type:v.node.type,cardinality:v.node.cardinality,attr:v.attr,parentNodeName:v.node.parentNode?v.node.parentNode.name:null,coreBox:Object.assign({},v.coreBox),x:v.x,y:v.y,width:v.width,height:v.height,radius:v.radius,labelHeight:v.labelHeight,labelOffset:v.labelOffset,outboxWidth:v.outboxWidth,paddingLeft:v.paddingLeft,paddingTop:v.paddingTop,paddingRight:v.paddingRight,paddingBottom:v.paddingBottom,path:v.node.path}}function On(v){return v.coreGraph.edges().map(N=>({renderInfoEdge:v.coreGraph.edge(N),edge:N})).filter(({renderInfoEdge:N})=>N.metaEdge).map(({edge:N,renderInfoEdge:Z})=>{const nt=function(dt,yt){const Tt=yt.points.map(It=>Object.assign({},It));if(yt.adjoiningMetaEdge){const It=yt.adjoiningMetaEdge.points,jt=yt.metaEdge.inbound,ne=jt?It[It.length-1]:It[0],we=Tt[jt?0:Tt.length-1],ge=dt.x-dt.width/2,Ye=dt.y-dt.height/2,ur=ne.x-ge,Xr=ne.y-Ye,mr=-dt.paddingLeft,br=-(dt.paddingTop+dt.labelHeight);we.x=ur+mr,we.y=Xr+br}return Tt}(v,Z);return{adjoiningEdge:Z.adjoiningMetaEdge?{w:Z.adjoiningMetaEdge.metaEdge.w,v:Z.adjoiningMetaEdge.metaEdge.v}:null,inbound:Z.metaEdge.inbound,w:N.w,v:N.v,points:nt,weight:Z.weight,baseEdgeList:Z.metaEdge.baseEdgeList,parentNodeName:v.node.name}})}},533852:function(Ve,W,_){(function(y,R){Ve.exports=R(_(727484))})(this,function(y){"use strict";function R(P){return P&&typeof P=="object"&&"default"in P?P:{default:P}}var w=R(y),M={name:"zh-cn",weekdays:"\u661F\u671F\u65E5_\u661F\u671F\u4E00_\u661F\u671F\u4E8C_\u661F\u671F\u4E09_\u661F\u671F\u56DB_\u661F\u671F\u4E94_\u661F\u671F\u516D".split("_"),weekdaysShort:"\u5468\u65E5_\u5468\u4E00_\u5468\u4E8C_\u5468\u4E09_\u5468\u56DB_\u5468\u4E94_\u5468\u516D".split("_"),weekdaysMin:"\u65E5_\u4E00_\u4E8C_\u4E09_\u56DB_\u4E94_\u516D".split("_"),months:"\u4E00\u6708_\u4E8C\u6708_\u4E09\u6708_\u56DB\u6708_\u4E94\u6708_\u516D\u6708_\u4E03\u6708_\u516B\u6708_\u4E5D\u6708_\u5341\u6708_\u5341\u4E00\u6708_\u5341\u4E8C\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(P,L){return L==="W"?P+"\u5468":P+"\u65E5"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5E74M\u6708D\u65E5",LLL:"YYYY\u5E74M\u6708D\u65E5Ah\u70B9mm\u5206",LLLL:"YYYY\u5E74M\u6708D\u65E5ddddAh\u70B9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5E74M\u6708D\u65E5",lll:"YYYY\u5E74M\u6708D\u65E5 HH:mm",llll:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm"},relativeTime:{future:"%s\u5185",past:"%s\u524D",s:"\u51E0\u79D2",m:"1 \u5206\u949F",mm:"%d \u5206\u949F",h:"1 \u5C0F\u65F6",hh:"%d \u5C0F\u65F6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4E2A\u6708",MM:"%d \u4E2A\u6708",y:"1 \u5E74",yy:"%d \u5E74"},meridiem:function(P,L){var p=100*P+L;return p<600?"\u51CC\u6668":p<900?"\u65E9\u4E0A":p<1100?"\u4E0A\u5348":p<1300?"\u4E2D\u5348":p<1800?"\u4E0B\u5348":"\u665A\u4E0A"}};return w.default.locale(M,null,!0),M})},414144:function(Ve,W){var _,y,R;(function(w,M){if(!0)y=[W,Ve],_=M,R=typeof _=="function"?_.apply(W,y):_,R!==void 0&&(Ve.exports=R);else var P})(this,function(w,M){"use strict";var P={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function L(){return"jsonp_"+Date.now()+"_"+Math.ceil(Math.random()*1e5)}function p(E){try{delete window[E]}catch(b){window[E]=void 0}}function g(E){var b=document.getElementById(E);b&&document.getElementsByTagName("head")[0].removeChild(b)}function S(E){var b=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],A=E,x=b.timeout||P.timeout,T=b.jsonpCallback||P.jsonpCallback,B=void 0;return new Promise(function(m,f){var U=b.jsonpCallbackFunction||L(),j=T+"_"+U;window[U]=function(k){m({ok:!0,json:function(){return Promise.resolve(k)}}),B&&clearTimeout(B),g(j),p(U)},A+=A.indexOf("?")===-1?"?":"&";var z=document.createElement("script");z.setAttribute("src",""+A+T+"="+U),b.charset&&z.setAttribute("charset",b.charset),b.nonce&&z.setAttribute("nonce",b.nonce),b.referrerPolicy&&z.setAttribute("referrerPolicy",b.referrerPolicy),z.id=j,document.getElementsByTagName("head")[0].appendChild(z),B=setTimeout(function(){f(new Error("JSONP request to "+E+" timed out")),p(U),g(j),window[U]=function(){p(U)}},x),z.onerror=function(){f(new Error("JSONP request to "+E+" failed")),p(U),g(j),B&&clearTimeout(B)}})}M.exports=S})},417648:function(Ve){"use strict";var W="Function.prototype.bind called on incompatible ",_=Array.prototype.slice,y=Object.prototype.toString,R="[object Function]";Ve.exports=function(M){var P=this;if(typeof P!="function"||y.call(P)!==R)throw new TypeError(W+P);for(var L=_.call(arguments,1),p,g=function(){if(this instanceof p){var x=P.apply(this,L.concat(_.call(arguments)));return Object(x)===x?x:this}else return P.apply(M,L.concat(_.call(arguments)))},S=Math.max(0,P.length-L.length),E=[],b=0;b<S;b++)E.push("$"+b);if(p=Function("binder","return function ("+E.join(",")+"){ return binder.apply(this,arguments); }")(g),P.prototype){var A=function(){};A.prototype=P.prototype,p.prototype=new A,A.prototype=null}return p}},158612:function(Ve,W,_){"use strict";var y=_(417648);Ve.exports=Function.prototype.bind||y},340210:function(Ve,W,_){"use strict";var y,R=SyntaxError,w=Function,M=TypeError,P=function(ct){try{return w('"use strict"; return ('+ct+").constructor;")()}catch(St){}},L=Object.getOwnPropertyDescriptor;if(L)try{L({},"")}catch(ct){L=null}var p=function(){throw new M},g=L?function(){try{return arguments.callee,p}catch(ct){try{return L(arguments,"callee").get}catch(St){return p}}}():p,S=_(241405)(),E=Object.getPrototypeOf||function(ct){return ct.__proto__},b={},A=typeof Uint8Array=="undefined"?y:E(Uint8Array),x={"%AggregateError%":typeof AggregateError=="undefined"?y:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?y:ArrayBuffer,"%ArrayIteratorPrototype%":S?E([][Symbol.iterator]()):y,"%AsyncFromSyncIteratorPrototype%":y,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":typeof Atomics=="undefined"?y:Atomics,"%BigInt%":typeof BigInt=="undefined"?y:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?y:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?y:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?y:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?y:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?y:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?y:FinalizationRegistry,"%Function%":w,"%GeneratorFunction%":b,"%Int8Array%":typeof Int8Array=="undefined"?y:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?y:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?y:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":S?E(E([][Symbol.iterator]())):y,"%JSON%":typeof JSON=="object"?JSON:y,"%Map%":typeof Map=="undefined"?y:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!S?y:E(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?y:Promise,"%Proxy%":typeof Proxy=="undefined"?y:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?y:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?y:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!S?y:E(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?y:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":S?E(""[Symbol.iterator]()):y,"%Symbol%":S?Symbol:y,"%SyntaxError%":R,"%ThrowTypeError%":g,"%TypedArray%":A,"%TypeError%":M,"%Uint8Array%":typeof Uint8Array=="undefined"?y:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?y:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?y:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?y:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?y:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?y:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?y:WeakSet};try{null.error}catch(ct){var T=E(E(ct));x["%Error.prototype%"]=T}var B=function ct(St){var vt;if(St==="%AsyncFunction%")vt=P("async function () {}");else if(St==="%GeneratorFunction%")vt=P("function* () {}");else if(St==="%AsyncGeneratorFunction%")vt=P("async function* () {}");else if(St==="%AsyncGenerator%"){var Lt=ct("%AsyncGeneratorFunction%");Lt&&(vt=Lt.prototype)}else if(St==="%AsyncIteratorPrototype%"){var Mt=ct("%AsyncGenerator%");Mt&&(vt=E(Mt.prototype))}return x[St]=vt,vt},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},f=_(158612),U=_(117642),j=f.call(Function.call,Array.prototype.concat),z=f.call(Function.apply,Array.prototype.splice),k=f.call(Function.call,String.prototype.replace),X=f.call(Function.call,String.prototype.slice),K=f.call(Function.call,RegExp.prototype.exec),tt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,at=function(St){var vt=X(St,0,1),Lt=X(St,-1);if(vt==="%"&&Lt!=="%")throw new R("invalid intrinsic syntax, expected closing `%`");if(Lt==="%"&&vt!=="%")throw new R("invalid intrinsic syntax, expected opening `%`");var Mt=[];return k(St,tt,function(wt,et,rt,Ot){Mt[Mt.length]=rt?k(Ot,q,"$1"):et||wt}),Mt},pt=function(St,vt){var Lt=St,Mt;if(U(m,Lt)&&(Mt=m[Lt],Lt="%"+Mt[0]+"%"),U(x,Lt)){var wt=x[Lt];if(wt===b&&(wt=B(Lt)),typeof wt=="undefined"&&!vt)throw new M("intrinsic "+St+" exists, but is not available. Please file an issue!");return{alias:Mt,name:Lt,value:wt}}throw new R("intrinsic "+St+" does not exist!")};Ve.exports=function(St,vt){if(typeof St!="string"||St.length===0)throw new M("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof vt!="boolean")throw new M('"allowMissing" argument must be a boolean');if(K(/^%?[^%]*%?$/,St)===null)throw new R("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Lt=at(St),Mt=Lt.length>0?Lt[0]:"",wt=pt("%"+Mt+"%",vt),et=wt.name,rt=wt.value,Ot=!1,Dt=wt.alias;Dt&&(Mt=Dt[0],z(Lt,j([0,1],Dt)));for(var ot=1,xt=!0;ot<Lt.length;ot+=1){var Nt=Lt[ot],Yt=X(Nt,0,1),Ct=X(Nt,-1);if((Yt==='"'||Yt==="'"||Yt==="`"||Ct==='"'||Ct==="'"||Ct==="`")&&Yt!==Ct)throw new R("property names with quotes must have matching quotes");if((Nt==="constructor"||!xt)&&(Ot=!0),Mt+="."+Nt,et="%"+Mt+"%",U(x,et))rt=x[et];else if(rt!=null){if(!(Nt in rt)){if(!vt)throw new M("base intrinsic for "+St+" exists, but the property is not available.");return}if(L&&ot+1>=Lt.length){var Xt=L(rt,Nt);xt=!!Xt,xt&&"get"in Xt&&!("originalValue"in Xt.get)?rt=Xt.get:rt=rt[Nt]}else xt=U(rt,Nt),rt=rt[Nt];xt&&!Ot&&(x[et]=rt)}}return rt}},73633:function(Ve,W,_){"use strict";_.r(W),_.d(W,{ARRAY_TYPE:function(){return R},EPSILON:function(){return y},RANDOM:function(){return w},equals:function(){return p},setMatrixArrayType:function(){return M},toRadian:function(){return L}});var y=1e-6,R=typeof Float32Array!="undefined"?Float32Array:Array,w=Math.random;function M(g){R=g}var P=Math.PI/180;function L(g){return g*P}function p(g,S){return Math.abs(g-S)<=y*Math.max(1,Math.abs(g),Math.abs(S))}Math.hypot||(Math.hypot=function(){for(var g=0,S=arguments.length;S--;)g+=arguments[S]*arguments[S];return Math.sqrt(g)})},858204:function(Ve,W,_){"use strict";_.r(W),_.d(W,{glMatrix:function(){return p},mat2:function(){return y},mat2d:function(){return R},mat3:function(){return qe},mat4:function(){return w},quat:function(){return P},quat2:function(){return L},vec2:function(){return Ao},vec3:function(){return kr},vec4:function(){return M}});var y={};_.r(y),_.d(y,{LDU:function(){return q},add:function(){return at},adjoint:function(){return m},clone:function(){return S},copy:function(){return E},create:function(){return g},determinant:function(){return f},equals:function(){return St},exactEquals:function(){return ct},frob:function(){return tt},fromRotation:function(){return k},fromScaling:function(){return X},fromValues:function(){return A},identity:function(){return b},invert:function(){return B},mul:function(){return Mt},multiply:function(){return U},multiplyScalar:function(){return vt},multiplyScalarAndAdd:function(){return Lt},rotate:function(){return j},scale:function(){return z},set:function(){return x},str:function(){return K},sub:function(){return wt},subtract:function(){return pt},transpose:function(){return T}});var R={};_.r(R),_.d(R,{add:function(){return ue},clone:function(){return rt},copy:function(){return Ot},create:function(){return et},determinant:function(){return Yt},equals:function(){return bt},exactEquals:function(){return Ut},frob:function(){return Jt},fromRotation:function(){return ie},fromScaling:function(){return zt},fromTranslation:function(){return ae},fromValues:function(){return ot},identity:function(){return Dt},invert:function(){return Nt},mul:function(){return Ft},multiply:function(){return Ct},multiplyScalar:function(){return ye},multiplyScalarAndAdd:function(){return ee},rotate:function(){return Xt},scale:function(){return Zt},set:function(){return xt},str:function(){return Re},sub:function(){return be},subtract:function(){return ke},translate:function(){return se}});var w={};_.r(w),_.d(w,{add:function(){return Me},adjoint:function(){return Yr},clone:function(){return Ze},copy:function(){return Qe},create:function(){return Pe},determinant:function(){return Xe},equals:function(){return fn},exactEquals:function(){return Rr},frob:function(){return Le},fromQuat:function(){return de},fromQuat2:function(){return Q},fromRotation:function(){return ln},fromRotationTranslation:function(){return $t},fromRotationTranslationScale:function(){return Qt},fromRotationTranslationScaleOrigin:function(){return he},fromScaling:function(){return sn},fromTranslation:function(){return Or},fromValues:function(){return Ar},fromXRotation:function(){return cn},fromYRotation:function(){return Cn},fromZRotation:function(){return V},frustum:function(){return fe},getRotation:function(){return Gt},getScaling:function(){return lt},getTranslation:function(){return gt},identity:function(){return Jr},invert:function(){return bn},lookAt:function(){return kt},mul:function(){return Je},multiply:function(){return Ae},multiplyScalar:function(){return vr},multiplyScalarAndAdd:function(){return He},ortho:function(){return $},orthoNO:function(){return D},orthoZO:function(){return mt},perspective:function(){return ft},perspectiveFromFieldOfView:function(){return O},perspectiveNO:function(){return it},perspectiveZO:function(){return G},rotate:function(){return Br},rotateX:function(){return Sn},rotateY:function(){return ir},rotateZ:function(){return mn},scale:function(){return jr},set:function(){return Hr},str:function(){return qt},sub:function(){return pr},subtract:function(){return Ke},targetTo:function(){return Rt},translate:function(){return Ue},transpose:function(){return Cr}});var M={};_.r(M),_.d(M,{add:function(){return xe},ceil:function(){return Zr},clone:function(){return oe},copy:function(){return pe},create:function(){return Pr},cross:function(){return ci},dist:function(){return Oi},distance:function(){return na},div:function(){return is},divide:function(){return gr},dot:function(){return gi},equals:function(){return Wi},exactEquals:function(){return Mo},floor:function(){return Tn},forEach:function(){return ce},fromValues:function(){return Wt},inverse:function(){return oi},len:function(){return Jn},length:function(){return ti},lerp:function(){return xa},max:function(){return kn},min:function(){return an},mul:function(){return _o},multiply:function(){return lr},negate:function(){return Ia},normalize:function(){return Lo},random:function(){return _i},round:function(){return un},scale:function(){return Bn},scaleAndAdd:function(){return Zn},set:function(){return _e},sqrDist:function(){return ro},sqrLen:function(){return Kt},squaredDistance:function(){return ra},squaredLength:function(){return Ua},str:function(){return So},sub:function(){return eo},subtract:function(){return Ge},transformMat4:function(){return No},transformQuat:function(){return Wa},zero:function(){return go}});var P={};_.r(P),_.d(P,{add:function(){return ri},calculateW:function(){return Wn},clone:function(){return Na},conjugate:function(){return Pa},copy:function(){return pa},create:function(){return Be},dot:function(){return Ci},equals:function(){return Ma},exactEquals:function(){return Pi},exp:function(){return aa},fromEuler:function(){return si},fromMat3:function(){return Ea},fromValues:function(){return _a},getAngle:function(){return Sr},getAxisAngle:function(){return Ir},identity:function(){return cr},invert:function(){return za},len:function(){return wo},length:function(){return Eo},lerp:function(){return Ri},ln:function(){return oa},mul:function(){return di},multiply:function(){return tn},normalize:function(){return mi},pow:function(){return Ya},random:function(){return qn},rotateX:function(){return dn},rotateY:function(){return An},rotateZ:function(){return Kn},rotationTo:function(){return ki},scale:function(){return Di},set:function(){return fi},setAxes:function(){return Mi},setAxisAngle:function(){return Lr},slerp:function(){return ua},sqlerp:function(){return no},sqrLen:function(){return Ra},squaredLength:function(){return Ii},str:function(){return qa}});var L={};_.r(L),_.d(L,{add:function(){return Zi},clone:function(){return yi},conjugate:function(){return nu},copy:function(){return cs},create:function(){return Co},dot:function(){return bs},equals:function(){return yo},exactEquals:function(){return Fi},fromMat4:function(){return Bo},fromRotation:function(){return ko},fromRotationTranslation:function(){return es},fromRotationTranslationValues:function(){return Ro},fromTranslation:function(){return Bi},fromValues:function(){return ao},getDual:function(){return or},getReal:function(){return Fe},getTranslation:function(){return hn},identity:function(){return va},invert:function(){return xs},len:function(){return os},length:function(){return jo},lerp:function(){return Os},mul:function(){return ds},multiply:function(){return Fo},normalize:function(){return Eu},rotateAroundAxis:function(){return Ti},rotateByQuatAppend:function(){return mo},rotateByQuatPrepend:function(){return fs},rotateX:function(){return Da},rotateY:function(){return hi},rotateZ:function(){return Hi},scale:function(){return qo},set:function(){return Bt},setDual:function(){return qr},setReal:function(){return Er},sqrLen:function(){return To},squaredLength:function(){return hs},str:function(){return wu},translate:function(){return zn}});var p=_(73633);function g(){var h=new p.ARRAY_TYPE(4);return p.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0),h[0]=1,h[3]=1,h}function S(h){var Y=new p.ARRAY_TYPE(4);return Y[0]=h[0],Y[1]=h[1],Y[2]=h[2],Y[3]=h[3],Y}function E(h,Y){return h[0]=Y[0],h[1]=Y[1],h[2]=Y[2],h[3]=Y[3],h}function b(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h}function A(h,Y,Et,Pt){var Ht=new p.ARRAY_TYPE(4);return Ht[0]=h,Ht[1]=Y,Ht[2]=Et,Ht[3]=Pt,Ht}function x(h,Y,Et,Pt,Ht){return h[0]=Y,h[1]=Et,h[2]=Pt,h[3]=Ht,h}function T(h,Y){if(h===Y){var Et=Y[1];h[1]=Y[2],h[2]=Et}else h[0]=Y[0],h[1]=Y[2],h[2]=Y[1],h[3]=Y[3];return h}function B(h,Y){var Et=Y[0],Pt=Y[1],Ht=Y[2],le=Y[3],ve=Et*le-Ht*Pt;return ve?(ve=1/ve,h[0]=le*ve,h[1]=-Pt*ve,h[2]=-Ht*ve,h[3]=Et*ve,h):null}function m(h,Y){var Et=Y[0];return h[0]=Y[3],h[1]=-Y[1],h[2]=-Y[2],h[3]=Et,h}function f(h){return h[0]*h[3]-h[2]*h[1]}function U(h,Y,Et){var Pt=Y[0],Ht=Y[1],le=Y[2],ve=Y[3],Ce=Et[0],Ne=Et[1],$e=Et[2],fr=Et[3];return h[0]=Pt*Ce+le*Ne,h[1]=Ht*Ce+ve*Ne,h[2]=Pt*$e+le*fr,h[3]=Ht*$e+ve*fr,h}function j(h,Y,Et){var Pt=Y[0],Ht=Y[1],le=Y[2],ve=Y[3],Ce=Math.sin(Et),Ne=Math.cos(Et);return h[0]=Pt*Ne+le*Ce,h[1]=Ht*Ne+ve*Ce,h[2]=Pt*-Ce+le*Ne,h[3]=Ht*-Ce+ve*Ne,h}function z(h,Y,Et){var Pt=Y[0],Ht=Y[1],le=Y[2],ve=Y[3],Ce=Et[0],Ne=Et[1];return h[0]=Pt*Ce,h[1]=Ht*Ce,h[2]=le*Ne,h[3]=ve*Ne,h}function k(h,Y){var Et=Math.sin(Y),Pt=Math.cos(Y);return h[0]=Pt,h[1]=Et,h[2]=-Et,h[3]=Pt,h}function X(h,Y){return h[0]=Y[0],h[1]=0,h[2]=0,h[3]=Y[1],h}function K(h){return"mat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"}function tt(h){return Math.hypot(h[0],h[1],h[2],h[3])}function q(h,Y,Et,Pt){return h[2]=Pt[2]/Pt[0],Et[0]=Pt[0],Et[1]=Pt[1],Et[3]=Pt[3]-h[2]*Et[1],[h,Y,Et]}function at(h,Y,Et){return h[0]=Y[0]+Et[0],h[1]=Y[1]+Et[1],h[2]=Y[2]+Et[2],h[3]=Y[3]+Et[3],h}function pt(h,Y,Et){return h[0]=Y[0]-Et[0],h[1]=Y[1]-Et[1],h[2]=Y[2]-Et[2],h[3]=Y[3]-Et[3],h}function ct(h,Y){return h[0]===Y[0]&&h[1]===Y[1]&&h[2]===Y[2]&&h[3]===Y[3]}function St(h,Y){var Et=h[0],Pt=h[1],Ht=h[2],le=h[3],ve=Y[0],Ce=Y[1],Ne=Y[2],$e=Y[3];return Math.abs(Et-ve)<=p.EPSILON*Math.max(1,Math.abs(Et),Math.abs(ve))&&Math.abs(Pt-Ce)<=p.EPSILON*Math.max(1,Math.abs(Pt),Math.abs(Ce))&&Math.abs(Ht-Ne)<=p.EPSILON*Math.max(1,Math.abs(Ht),Math.abs(Ne))&&Math.abs(le-$e)<=p.EPSILON*Math.max(1,Math.abs(le),Math.abs($e))}function vt(h,Y,Et){return h[0]=Y[0]*Et,h[1]=Y[1]*Et,h[2]=Y[2]*Et,h[3]=Y[3]*Et,h}function Lt(h,Y,Et,Pt){return h[0]=Y[0]+Et[0]*Pt,h[1]=Y[1]+Et[1]*Pt,h[2]=Y[2]+Et[2]*Pt,h[3]=Y[3]+Et[3]*Pt,h}var Mt=U,wt=pt;function et(){var h=new p.ARRAY_TYPE(6);return p.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0,h[4]=0,h[5]=0),h[0]=1,h[3]=1,h}function rt(h){var Y=new p.ARRAY_TYPE(6);return Y[0]=h[0],Y[1]=h[1],Y[2]=h[2],Y[3]=h[3],Y[4]=h[4],Y[5]=h[5],Y}function Ot(h,Y){return h[0]=Y[0],h[1]=Y[1],h[2]=Y[2],h[3]=Y[3],h[4]=Y[4],h[5]=Y[5],h}function Dt(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,h}function ot(h,Y,Et,Pt,Ht,le){var ve=new p.ARRAY_TYPE(6);return ve[0]=h,ve[1]=Y,ve[2]=Et,ve[3]=Pt,ve[4]=Ht,ve[5]=le,ve}function xt(h,Y,Et,Pt,Ht,le,ve){return h[0]=Y,h[1]=Et,h[2]=Pt,h[3]=Ht,h[4]=le,h[5]=ve,h}function Nt(h,Y){var Et=Y[0],Pt=Y[1],Ht=Y[2],le=Y[3],ve=Y[4],Ce=Y[5],Ne=Et*le-Pt*Ht;return Ne?(Ne=1/Ne,h[0]=le*Ne,h[1]=-Pt*Ne,h[2]=-Ht*Ne,h[3]=Et*Ne,h[4]=(Ht*Ce-le*ve)*Ne,h[5]=(Pt*ve-Et*Ce)*Ne,h):null}function Yt(h){return h[0]*h[3]-h[1]*h[2]}function Ct(h,Y,Et){var Pt=Y[0],Ht=Y[1],le=Y[2],ve=Y[3],Ce=Y[4],Ne=Y[5],$e=Et[0],fr=Et[1],zr=Et[2],Wr=Et[3],Gr=Et[4],xn=Et[5];return h[0]=Pt*$e+le*fr,h[1]=Ht*$e+ve*fr,h[2]=Pt*zr+le*Wr,h[3]=Ht*zr+ve*Wr,h[4]=Pt*Gr+le*xn+Ce,h[5]=Ht*Gr+ve*xn+Ne,h}function Xt(h,Y,Et){var Pt=Y[0],Ht=Y[1],le=Y[2],ve=Y[3],Ce=Y[4],Ne=Y[5],$e=Math.sin(Et),fr=Math.cos(Et);return h[0]=Pt*fr+le*$e,h[1]=Ht*fr+ve*$e,h[2]=Pt*-$e+le*fr,h[3]=Ht*-$e+ve*fr,h[4]=Ce,h[5]=Ne,h}function Zt(h,Y,Et){var Pt=Y[0],Ht=Y[1],le=Y[2],ve=Y[3],Ce=Y[4],Ne=Y[5],$e=Et[0],fr=Et[1];return h[0]=Pt*$e,h[1]=Ht*$e,h[2]=le*fr,h[3]=ve*fr,h[4]=Ce,h[5]=Ne,h}function se(h,Y,Et){var Pt=Y[0],Ht=Y[1],le=Y[2],ve=Y[3],Ce=Y[4],Ne=Y[5],$e=Et[0],fr=Et[1];return h[0]=Pt,h[1]=Ht,h[2]=le,h[3]=ve,h[4]=Pt*$e+le*fr+Ce,h[5]=Ht*$e+ve*fr+Ne,h}function ie(h,Y){var Et=Math.sin(Y),Pt=Math.cos(Y);return h[0]=Pt,h[1]=Et,h[2]=-Et,h[3]=Pt,h[4]=0,h[5]=0,h}function zt(h,Y){return h[0]=Y[0],h[1]=0,h[2]=0,h[3]=Y[1],h[4]=0,h[5]=0,h}function ae(h,Y){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=Y[0],h[5]=Y[1],h}function Re(h){return"mat2d("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+")"}function Jt(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],1)}function ue(h,Y,Et){return h[0]=Y[0]+Et[0],h[1]=Y[1]+Et[1],h[2]=Y[2]+Et[2],h[3]=Y[3]+Et[3],h[4]=Y[4]+Et[4],h[5]=Y[5]+Et[5],h}function ke(h,Y,Et){return h[0]=Y[0]-Et[0],h[1]=Y[1]-Et[1],h[2]=Y[2]-Et[2],h[3]=Y[3]-Et[3],h[4]=Y[4]-Et[4],h[5]=Y[5]-Et[5],h}function ye(h,Y,Et){return h[0]=Y[0]*Et,h[1]=Y[1]*Et,h[2]=Y[2]*Et,h[3]=Y[3]*Et,h[4]=Y[4]*Et,h[5]=Y[5]*Et,h}function ee(h,Y,Et,Pt){return h[0]=Y[0]+Et[0]*Pt,h[1]=Y[1]+Et[1]*Pt,h[2]=Y[2]+Et[2]*Pt,h[3]=Y[3]+Et[3]*Pt,h[4]=Y[4]+Et[4]*Pt,h[5]=Y[5]+Et[5]*Pt,h}function Ut(h,Y){return h[0]===Y[0]&&h[1]===Y[1]&&h[2]===Y[2]&&h[3]===Y[3]&&h[4]===Y[4]&&h[5]===Y[5]}function bt(h,Y){var Et=h[0],Pt=h[1],Ht=h[2],le=h[3],ve=h[4],Ce=h[5],Ne=Y[0],$e=Y[1],fr=Y[2],zr=Y[3],Wr=Y[4],Gr=Y[5];return Math.abs(Et-Ne)<=p.EPSILON*Math.max(1,Math.abs(Et),Math.abs(Ne))&&Math.abs(Pt-$e)<=p.EPSILON*Math.max(1,Math.abs(Pt),Math.abs($e))&&Math.abs(Ht-fr)<=p.EPSILON*Math.max(1,Math.abs(Ht),Math.abs(fr))&&Math.abs(le-zr)<=p.EPSILON*Math.max(1,Math.abs(le),Math.abs(zr))&&Math.abs(ve-Wr)<=p.EPSILON*Math.max(1,Math.abs(ve),Math.abs(Wr))&&Math.abs(Ce-Gr)<=p.EPSILON*Math.max(1,Math.abs(Ce),Math.abs(Gr))}var Ft=Ct,be=ke,qe=_(935600);function Pe(){var h=new p.ARRAY_TYPE(16);return p.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=0,h[12]=0,h[13]=0,h[14]=0),h[0]=1,h[5]=1,h[10]=1,h[15]=1,h}function Ze(h){var Y=new p.ARRAY_TYPE(16);return Y[0]=h[0],Y[1]=h[1],Y[2]=h[2],Y[3]=h[3],Y[4]=h[4],Y[5]=h[5],Y[6]=h[6],Y[7]=h[7],Y[8]=h[8],Y[9]=h[9],Y[10]=h[10],Y[11]=h[11],Y[12]=h[12],Y[13]=h[13],Y[14]=h[14],Y[15]=h[15],Y}function Qe(h,Y){return h[0]=Y[0],h[1]=Y[1],h[2]=Y[2],h[3]=Y[3],h[4]=Y[4],h[5]=Y[5],h[6]=Y[6],h[7]=Y[7],h[8]=Y[8],h[9]=Y[9],h[10]=Y[10],h[11]=Y[11],h[12]=Y[12],h[13]=Y[13],h[14]=Y[14],h[15]=Y[15],h}function Ar(h,Y,Et,Pt,Ht,le,ve,Ce,Ne,$e,fr,zr,Wr,Gr,xn,Nn){var en=new p.ARRAY_TYPE(16);return en[0]=h,en[1]=Y,en[2]=Et,en[3]=Pt,en[4]=Ht,en[5]=le,en[6]=ve,en[7]=Ce,en[8]=Ne,en[9]=$e,en[10]=fr,en[11]=zr,en[12]=Wr,en[13]=Gr,en[14]=xn,en[15]=Nn,en}function Hr(h,Y,Et,Pt,Ht,le,ve,Ce,Ne,$e,fr,zr,Wr,Gr,xn,Nn,en){return h[0]=Y,h[1]=Et,h[2]=Pt,h[3]=Ht,h[4]=le,h[5]=ve,h[6]=Ce,h[7]=Ne,h[8]=$e,h[9]=fr,h[10]=zr,h[11]=Wr,h[12]=Gr,h[13]=xn,h[14]=Nn,h[15]=en,h}function Jr(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function Cr(h,Y){if(h===Y){var Et=Y[1],Pt=Y[2],Ht=Y[3],le=Y[6],ve=Y[7],Ce=Y[11];h[1]=Y[4],h[2]=Y[8],h[3]=Y[12],h[4]=Et,h[6]=Y[9],h[7]=Y[13],h[8]=Pt,h[9]=le,h[11]=Y[14],h[12]=Ht,h[13]=ve,h[14]=Ce}else h[0]=Y[0],h[1]=Y[4],h[2]=Y[8],h[3]=Y[12],h[4]=Y[1],h[5]=Y[5],h[6]=Y[9],h[7]=Y[13],h[8]=Y[2],h[9]=Y[6],h[10]=Y[10],h[11]=Y[14],h[12]=Y[3],h[13]=Y[7],h[14]=Y[11],h[15]=Y[15];return h}function bn(h,Y){var Et=Y[0],Pt=Y[1],Ht=Y[2],le=Y[3],ve=Y[4],Ce=Y[5],Ne=Y[6],$e=Y[7],fr=Y[8],zr=Y[9],Wr=Y[10],Gr=Y[11],xn=Y[12],Nn=Y[13],en=Y[14],Vn=Y[15],Ta=Et*Ce-Pt*ve,Oa=Et*Ne-Ht*ve,wa=Et*$e-le*ve,ca=Pt*Ne-Ht*Ce,ya=Pt*$e-le*Ce,Ki=Ht*$e-le*Ne,Yi=fr*Nn-zr*xn,zi=fr*en-Wr*xn,Xi=fr*Vn-Gr*xn,ji=zr*en-Wr*Nn,io=zr*Vn-Gr*Nn,bo=Wr*Vn-Gr*en,Xa=Ta*bo-Oa*io+wa*ji+ca*Xi-ya*zi+Ki*Yi;return Xa?(Xa=1/Xa,h[0]=(Ce*bo-Ne*io+$e*ji)*Xa,h[1]=(Ht*io-Pt*bo-le*ji)*Xa,h[2]=(Nn*Ki-en*ya+Vn*ca)*Xa,h[3]=(Wr*ya-zr*Ki-Gr*ca)*Xa,h[4]=(Ne*Xi-ve*bo-$e*zi)*Xa,h[5]=(Et*bo-Ht*Xi+le*zi)*Xa,h[6]=(en*wa-xn*Ki-Vn*Oa)*Xa,h[7]=(fr*Ki-Wr*wa+Gr*Oa)*Xa,h[8]=(ve*io-Ce*Xi+$e*Yi)*Xa,h[9]=(Pt*Xi-Et*io-le*Yi)*Xa,h[10]=(xn*ya-Nn*wa+Vn*Ta)*Xa,h[11]=(zr*wa-fr*ya-Gr*Ta)*Xa,h[12]=(Ce*zi-ve*ji-Ne*Yi)*Xa,h[13]=(Et*ji-Pt*zi+Ht*Yi)*Xa,h[14]=(Nn*Oa-xn*ca-en*Ta)*Xa,h[15]=(fr*ca-zr*Oa+Wr*Ta)*Xa,h):null}function Yr(h,Y){var Et=Y[0],Pt=Y[1],Ht=Y[2],le=Y[3],ve=Y[4],Ce=Y[5],Ne=Y[6],$e=Y[7],fr=Y[8],zr=Y[9],Wr=Y[10],Gr=Y[11],xn=Y[12],Nn=Y[13],en=Y[14],Vn=Y[15];return h[0]=Ce*(Wr*Vn-Gr*en)-zr*(Ne*Vn-$e*en)+Nn*(Ne*Gr-$e*Wr),h[1]=-(Pt*(Wr*Vn-Gr*en)-zr*(Ht*Vn-le*en)+Nn*(Ht*Gr-le*Wr)),h[2]=Pt*(Ne*Vn-$e*en)-Ce*(Ht*Vn-le*en)+Nn*(Ht*$e-le*Ne),h[3]=-(Pt*(Ne*Gr-$e*Wr)-Ce*(Ht*Gr-le*Wr)+zr*(Ht*$e-le*Ne)),h[4]=-(ve*(Wr*Vn-Gr*en)-fr*(Ne*Vn-$e*en)+xn*(Ne*Gr-$e*Wr)),h[5]=Et*(Wr*Vn-Gr*en)-fr*(Ht*Vn-le*en)+xn*(Ht*Gr-le*Wr),h[6]=-(Et*(Ne*Vn-$e*en)-ve*(Ht*Vn-le*en)+xn*(Ht*$e-le*Ne)),h[7]=Et*(Ne*Gr-$e*Wr)-ve*(Ht*Gr-le*Wr)+fr*(Ht*$e-le*Ne),h[8]=ve*(zr*Vn-Gr*Nn)-fr*(Ce*Vn-$e*Nn)+xn*(Ce*Gr-$e*zr),h[9]=-(Et*(zr*Vn-Gr*Nn)-fr*(Pt*Vn-le*Nn)+xn*(Pt*Gr-le*zr)),h[10]=Et*(Ce*Vn-$e*Nn)-ve*(Pt*Vn-le*Nn)+xn*(Pt*$e-le*Ce),h[11]=-(Et*(Ce*Gr-$e*zr)-ve*(Pt*Gr-le*zr)+fr*(Pt*$e-le*Ce)),h[12]=-(ve*(zr*en-Wr*Nn)-fr*(Ce*en-Ne*Nn)+xn*(Ce*Wr-Ne*zr)),h[13]=Et*(zr*en-Wr*Nn)-fr*(Pt*en-Ht*Nn)+xn*(Pt*Wr-Ht*zr),h[14]=-(Et*(Ce*en-Ne*Nn)-ve*(Pt*en-Ht*Nn)+xn*(Pt*Ne-Ht*Ce)),h[15]=Et*(Ce*Wr-Ne*zr)-ve*(Pt*Wr-Ht*zr)+fr*(Pt*Ne-Ht*Ce),h}function Xe(h){var Y=h[0],Et=h[1],Pt=h[2],Ht=h[3],le=h[4],ve=h[5],Ce=h[6],Ne=h[7],$e=h[8],fr=h[9],zr=h[10],Wr=h[11],Gr=h[12],xn=h[13],Nn=h[14],en=h[15],Vn=Y*ve-Et*le,Ta=Y*Ce-Pt*le,Oa=Y*Ne-Ht*le,wa=Et*Ce-Pt*ve,ca=Et*Ne-Ht*ve,ya=Pt*Ne-Ht*Ce,Ki=$e*xn-fr*Gr,Yi=$e*Nn-zr*Gr,zi=$e*en-Wr*Gr,Xi=fr*Nn-zr*xn,ji=fr*en-Wr*xn,io=zr*en-Wr*Nn;return Vn*io-Ta*ji+Oa*Xi+wa*zi-ca*Yi+ya*Ki}function Ae(h,Y,Et){var Pt=Y[0],Ht=Y[1],le=Y[2],ve=Y[3],Ce=Y[4],Ne=Y[5],$e=Y[6],fr=Y[7],zr=Y[8],Wr=Y[9],Gr=Y[10],xn=Y[11],Nn=Y[12],en=Y[13],Vn=Y[14],Ta=Y[15],Oa=Et[0],wa=Et[1],ca=Et[2],ya=Et[3];return h[0]=Oa*Pt+wa*Ce+ca*zr+ya*Nn,h[1]=Oa*Ht+wa*Ne+ca*Wr+ya*en,h[2]=Oa*le+wa*$e+ca*Gr+ya*Vn,h[3]=Oa*ve+wa*fr+ca*xn+ya*Ta,Oa=Et[4],wa=Et[5],ca=Et[6],ya=Et[7],h[4]=Oa*Pt+wa*Ce+ca*zr+ya*Nn,h[5]=Oa*Ht+wa*Ne+ca*Wr+ya*en,h[6]=Oa*le+wa*$e+ca*Gr+ya*Vn,h[7]=Oa*ve+wa*fr+ca*xn+ya*Ta,Oa=Et[8],wa=Et[9],ca=Et[10],ya=Et[11],h[8]=Oa*Pt+wa*Ce+ca*zr+ya*Nn,h[9]=Oa*Ht+wa*Ne+ca*Wr+ya*en,h[10]=Oa*le+wa*$e+ca*Gr+ya*Vn,h[11]=Oa*ve+wa*fr+ca*xn+ya*Ta,Oa=Et[12],wa=Et[13],ca=Et[14],ya=Et[15],h[12]=Oa*Pt+wa*Ce+ca*zr+ya*Nn,h[13]=Oa*Ht+wa*Ne+ca*Wr+ya*en,h[14]=Oa*le+wa*$e+ca*Gr+ya*Vn,h[15]=Oa*ve+wa*fr+ca*xn+ya*Ta,h}function Ue(h,Y,Et){var Pt=Et[0],Ht=Et[1],le=Et[2],ve,Ce,Ne,$e,fr,zr,Wr,Gr,xn,Nn,en,Vn;return Y===h?(h[12]=Y[0]*Pt+Y[4]*Ht+Y[8]*le+Y[12],h[13]=Y[1]*Pt+Y[5]*Ht+Y[9]*le+Y[13],h[14]=Y[2]*Pt+Y[6]*Ht+Y[10]*le+Y[14],h[15]=Y[3]*Pt+Y[7]*Ht+Y[11]*le+Y[15]):(ve=Y[0],Ce=Y[1],Ne=Y[2],$e=Y[3],fr=Y[4],zr=Y[5],Wr=Y[6],Gr=Y[7],xn=Y[8],Nn=Y[9],en=Y[10],Vn=Y[11],h[0]=ve,h[1]=Ce,h[2]=Ne,h[3]=$e,h[4]=fr,h[5]=zr,h[6]=Wr,h[7]=Gr,h[8]=xn,h[9]=Nn,h[10]=en,h[11]=Vn,h[12]=ve*Pt+fr*Ht+xn*le+Y[12],h[13]=Ce*Pt+zr*Ht+Nn*le+Y[13],h[14]=Ne*Pt+Wr*Ht+en*le+Y[14],h[15]=$e*Pt+Gr*Ht+Vn*le+Y[15]),h}function jr(h,Y,Et){var Pt=Et[0],Ht=Et[1],le=Et[2];return h[0]=Y[0]*Pt,h[1]=Y[1]*Pt,h[2]=Y[2]*Pt,h[3]=Y[3]*Pt,h[4]=Y[4]*Ht,h[5]=Y[5]*Ht,h[6]=Y[6]*Ht,h[7]=Y[7]*Ht,h[8]=Y[8]*le,h[9]=Y[9]*le,h[10]=Y[10]*le,h[11]=Y[11]*le,h[12]=Y[12],h[13]=Y[13],h[14]=Y[14],h[15]=Y[15],h}function Br(h,Y,Et,Pt){var Ht=Pt[0],le=Pt[1],ve=Pt[2],Ce=Math.hypot(Ht,le,ve),Ne,$e,fr,zr,Wr,Gr,xn,Nn,en,Vn,Ta,Oa,wa,ca,ya,Ki,Yi,zi,Xi,ji,io,bo,Xa,vi;return Ce<p.EPSILON?null:(Ce=1/Ce,Ht*=Ce,le*=Ce,ve*=Ce,Ne=Math.sin(Et),$e=Math.cos(Et),fr=1-$e,zr=Y[0],Wr=Y[1],Gr=Y[2],xn=Y[3],Nn=Y[4],en=Y[5],Vn=Y[6],Ta=Y[7],Oa=Y[8],wa=Y[9],ca=Y[10],ya=Y[11],Ki=Ht*Ht*fr+$e,Yi=le*Ht*fr+ve*Ne,zi=ve*Ht*fr-le*Ne,Xi=Ht*le*fr-ve*Ne,ji=le*le*fr+$e,io=ve*le*fr+Ht*Ne,bo=Ht*ve*fr+le*Ne,Xa=le*ve*fr-Ht*Ne,vi=ve*ve*fr+$e,h[0]=zr*Ki+Nn*Yi+Oa*zi,h[1]=Wr*Ki+en*Yi+wa*zi,h[2]=Gr*Ki+Vn*Yi+ca*zi,h[3]=xn*Ki+Ta*Yi+ya*zi,h[4]=zr*Xi+Nn*ji+Oa*io,h[5]=Wr*Xi+en*ji+wa*io,h[6]=Gr*Xi+Vn*ji+ca*io,h[7]=xn*Xi+Ta*ji+ya*io,h[8]=zr*bo+Nn*Xa+Oa*vi,h[9]=Wr*bo+en*Xa+wa*vi,h[10]=Gr*bo+Vn*Xa+ca*vi,h[11]=xn*bo+Ta*Xa+ya*vi,Y!==h&&(h[12]=Y[12],h[13]=Y[13],h[14]=Y[14],h[15]=Y[15]),h)}function Sn(h,Y,Et){var Pt=Math.sin(Et),Ht=Math.cos(Et),le=Y[4],ve=Y[5],Ce=Y[6],Ne=Y[7],$e=Y[8],fr=Y[9],zr=Y[10],Wr=Y[11];return Y!==h&&(h[0]=Y[0],h[1]=Y[1],h[2]=Y[2],h[3]=Y[3],h[12]=Y[12],h[13]=Y[13],h[14]=Y[14],h[15]=Y[15]),h[4]=le*Ht+$e*Pt,h[5]=ve*Ht+fr*Pt,h[6]=Ce*Ht+zr*Pt,h[7]=Ne*Ht+Wr*Pt,h[8]=$e*Ht-le*Pt,h[9]=fr*Ht-ve*Pt,h[10]=zr*Ht-Ce*Pt,h[11]=Wr*Ht-Ne*Pt,h}function ir(h,Y,Et){var Pt=Math.sin(Et),Ht=Math.cos(Et),le=Y[0],ve=Y[1],Ce=Y[2],Ne=Y[3],$e=Y[8],fr=Y[9],zr=Y[10],Wr=Y[11];return Y!==h&&(h[4]=Y[4],h[5]=Y[5],h[6]=Y[6],h[7]=Y[7],h[12]=Y[12],h[13]=Y[13],h[14]=Y[14],h[15]=Y[15]),h[0]=le*Ht-$e*Pt,h[1]=ve*Ht-fr*Pt,h[2]=Ce*Ht-zr*Pt,h[3]=Ne*Ht-Wr*Pt,h[8]=le*Pt+$e*Ht,h[9]=ve*Pt+fr*Ht,h[10]=Ce*Pt+zr*Ht,h[11]=Ne*Pt+Wr*Ht,h}function mn(h,Y,Et){var Pt=Math.sin(Et),Ht=Math.cos(Et),le=Y[0],ve=Y[1],Ce=Y[2],Ne=Y[3],$e=Y[4],fr=Y[5],zr=Y[6],Wr=Y[7];return Y!==h&&(h[8]=Y[8],h[9]=Y[9],h[10]=Y[10],h[11]=Y[11],h[12]=Y[12],h[13]=Y[13],h[14]=Y[14],h[15]=Y[15]),h[0]=le*Ht+$e*Pt,h[1]=ve*Ht+fr*Pt,h[2]=Ce*Ht+zr*Pt,h[3]=Ne*Ht+Wr*Pt,h[4]=$e*Ht-le*Pt,h[5]=fr*Ht-ve*Pt,h[6]=zr*Ht-Ce*Pt,h[7]=Wr*Ht-Ne*Pt,h}function Or(h,Y){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=Y[0],h[13]=Y[1],h[14]=Y[2],h[15]=1,h}function sn(h,Y){return h[0]=Y[0],h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=Y[1],h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=Y[2],h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function ln(h,Y,Et){var Pt=Et[0],Ht=Et[1],le=Et[2],ve=Math.hypot(Pt,Ht,le),Ce,Ne,$e;return ve<p.EPSILON?null:(ve=1/ve,Pt*=ve,Ht*=ve,le*=ve,Ce=Math.sin(Y),Ne=Math.cos(Y),$e=1-Ne,h[0]=Pt*Pt*$e+Ne,h[1]=Ht*Pt*$e+le*Ce,h[2]=le*Pt*$e-Ht*Ce,h[3]=0,h[4]=Pt*Ht*$e-le*Ce,h[5]=Ht*Ht*$e+Ne,h[6]=le*Ht*$e+Pt*Ce,h[7]=0,h[8]=Pt*le*$e+Ht*Ce,h[9]=Ht*le*$e-Pt*Ce,h[10]=le*le*$e+Ne,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h)}function cn(h,Y){var Et=Math.sin(Y),Pt=Math.cos(Y);return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=Pt,h[6]=Et,h[7]=0,h[8]=0,h[9]=-Et,h[10]=Pt,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function Cn(h,Y){var Et=Math.sin(Y),Pt=Math.cos(Y);return h[0]=Pt,h[1]=0,h[2]=-Et,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=Et,h[9]=0,h[10]=Pt,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function V(h,Y){var Et=Math.sin(Y),Pt=Math.cos(Y);return h[0]=Pt,h[1]=Et,h[2]=0,h[3]=0,h[4]=-Et,h[5]=Pt,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function $t(h,Y,Et){var Pt=Y[0],Ht=Y[1],le=Y[2],ve=Y[3],Ce=Pt+Pt,Ne=Ht+Ht,$e=le+le,fr=Pt*Ce,zr=Pt*Ne,Wr=Pt*$e,Gr=Ht*Ne,xn=Ht*$e,Nn=le*$e,en=ve*Ce,Vn=ve*Ne,Ta=ve*$e;return h[0]=1-(Gr+Nn),h[1]=zr+Ta,h[2]=Wr-Vn,h[3]=0,h[4]=zr-Ta,h[5]=1-(fr+Nn),h[6]=xn+en,h[7]=0,h[8]=Wr+Vn,h[9]=xn-en,h[10]=1-(fr+Gr),h[11]=0,h[12]=Et[0],h[13]=Et[1],h[14]=Et[2],h[15]=1,h}function Q(h,Y){var Et=new p.ARRAY_TYPE(3),Pt=-Y[0],Ht=-Y[1],le=-Y[2],ve=Y[3],Ce=Y[4],Ne=Y[5],$e=Y[6],fr=Y[7],zr=Pt*Pt+Ht*Ht+le*le+ve*ve;return zr>0?(Et[0]=(Ce*ve+fr*Pt+Ne*le-$e*Ht)*2/zr,Et[1]=(Ne*ve+fr*Ht+$e*Pt-Ce*le)*2/zr,Et[2]=($e*ve+fr*le+Ce*Ht-Ne*Pt)*2/zr):(Et[0]=(Ce*ve+fr*Pt+Ne*le-$e*Ht)*2,Et[1]=(Ne*ve+fr*Ht+$e*Pt-Ce*le)*2,Et[2]=($e*ve+fr*le+Ce*Ht-Ne*Pt)*2),$t(h,Y,Et),h}function gt(h,Y){return h[0]=Y[12],h[1]=Y[13],h[2]=Y[14],h}function lt(h,Y){var Et=Y[0],Pt=Y[1],Ht=Y[2],le=Y[4],ve=Y[5],Ce=Y[6],Ne=Y[8],$e=Y[9],fr=Y[10];return h[0]=Math.hypot(Et,Pt,Ht),h[1]=Math.hypot(le,ve,Ce),h[2]=Math.hypot(Ne,$e,fr),h}function Gt(h,Y){var Et=new p.ARRAY_TYPE(3);lt(Et,Y);var Pt=1/Et[0],Ht=1/Et[1],le=1/Et[2],ve=Y[0]*Pt,Ce=Y[1]*Ht,Ne=Y[2]*le,$e=Y[4]*Pt,fr=Y[5]*Ht,zr=Y[6]*le,Wr=Y[8]*Pt,Gr=Y[9]*Ht,xn=Y[10]*le,Nn=ve+fr+xn,en=0;return Nn>0?(en=Math.sqrt(Nn+1)*2,h[3]=.25*en,h[0]=(zr-Gr)/en,h[1]=(Wr-Ne)/en,h[2]=(Ce-$e)/en):ve>fr&&ve>xn?(en=Math.sqrt(1+ve-fr-xn)*2,h[3]=(zr-Gr)/en,h[0]=.25*en,h[1]=(Ce+$e)/en,h[2]=(Wr+Ne)/en):fr>xn?(en=Math.sqrt(1+fr-ve-xn)*2,h[3]=(Wr-Ne)/en,h[0]=(Ce+$e)/en,h[1]=.25*en,h[2]=(zr+Gr)/en):(en=Math.sqrt(1+xn-ve-fr)*2,h[3]=(Ce-$e)/en,h[0]=(Wr+Ne)/en,h[1]=(zr+Gr)/en,h[2]=.25*en),h}function Qt(h,Y,Et,Pt){var Ht=Y[0],le=Y[1],ve=Y[2],Ce=Y[3],Ne=Ht+Ht,$e=le+le,fr=ve+ve,zr=Ht*Ne,Wr=Ht*$e,Gr=Ht*fr,xn=le*$e,Nn=le*fr,en=ve*fr,Vn=Ce*Ne,Ta=Ce*$e,Oa=Ce*fr,wa=Pt[0],ca=Pt[1],ya=Pt[2];return h[0]=(1-(xn+en))*wa,h[1]=(Wr+Oa)*wa,h[2]=(Gr-Ta)*wa,h[3]=0,h[4]=(Wr-Oa)*ca,h[5]=(1-(zr+en))*ca,h[6]=(Nn+Vn)*ca,h[7]=0,h[8]=(Gr+Ta)*ya,h[9]=(Nn-Vn)*ya,h[10]=(1-(zr+xn))*ya,h[11]=0,h[12]=Et[0],h[13]=Et[1],h[14]=Et[2],h[15]=1,h}function he(h,Y,Et,Pt,Ht){var le=Y[0],ve=Y[1],Ce=Y[2],Ne=Y[3],$e=le+le,fr=ve+ve,zr=Ce+Ce,Wr=le*$e,Gr=le*fr,xn=le*zr,Nn=ve*fr,en=ve*zr,Vn=Ce*zr,Ta=Ne*$e,Oa=Ne*fr,wa=Ne*zr,ca=Pt[0],ya=Pt[1],Ki=Pt[2],Yi=Ht[0],zi=Ht[1],Xi=Ht[2],ji=(1-(Nn+Vn))*ca,io=(Gr+wa)*ca,bo=(xn-Oa)*ca,Xa=(Gr-wa)*ya,vi=(1-(Wr+Vn))*ya,Is=(en+Ta)*ya,vs=(xn+Oa)*Ki,rs=(en-Ta)*Ki,au=(1-(Wr+Nn))*Ki;return h[0]=ji,h[1]=io,h[2]=bo,h[3]=0,h[4]=Xa,h[5]=vi,h[6]=Is,h[7]=0,h[8]=vs,h[9]=rs,h[10]=au,h[11]=0,h[12]=Et[0]+Yi-(ji*Yi+Xa*zi+vs*Xi),h[13]=Et[1]+zi-(io*Yi+vi*zi+rs*Xi),h[14]=Et[2]+Xi-(bo*Yi+Is*zi+au*Xi),h[15]=1,h}function de(h,Y){var Et=Y[0],Pt=Y[1],Ht=Y[2],le=Y[3],ve=Et+Et,Ce=Pt+Pt,Ne=Ht+Ht,$e=Et*ve,fr=Pt*ve,zr=Pt*Ce,Wr=Ht*ve,Gr=Ht*Ce,xn=Ht*Ne,Nn=le*ve,en=le*Ce,Vn=le*Ne;return h[0]=1-zr-xn,h[1]=fr+Vn,h[2]=Wr-en,h[3]=0,h[4]=fr-Vn,h[5]=1-$e-xn,h[6]=Gr+Nn,h[7]=0,h[8]=Wr+en,h[9]=Gr-Nn,h[10]=1-$e-zr,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function fe(h,Y,Et,Pt,Ht,le,ve){var Ce=1/(Et-Y),Ne=1/(Ht-Pt),$e=1/(le-ve);return h[0]=le*2*Ce,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=le*2*Ne,h[6]=0,h[7]=0,h[8]=(Et+Y)*Ce,h[9]=(Ht+Pt)*Ne,h[10]=(ve+le)*$e,h[11]=-1,h[12]=0,h[13]=0,h[14]=ve*le*2*$e,h[15]=0,h}function it(h,Y,Et,Pt,Ht){var le=1/Math.tan(Y/2),ve;return h[0]=le/Et,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=le,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=-1,h[12]=0,h[13]=0,h[15]=0,Ht!=null&&Ht!==1/0?(ve=1/(Pt-Ht),h[10]=(Ht+Pt)*ve,h[14]=2*Ht*Pt*ve):(h[10]=-1,h[14]=-2*Pt),h}var ft=it;function G(h,Y,Et,Pt,Ht){var le=1/Math.tan(Y/2),ve;return h[0]=le/Et,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=le,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=-1,h[12]=0,h[13]=0,h[15]=0,Ht!=null&&Ht!==1/0?(ve=1/(Pt-Ht),h[10]=Ht*ve,h[14]=Ht*Pt*ve):(h[10]=-1,h[14]=-Pt),h}function O(h,Y,Et,Pt){var Ht=Math.tan(Y.upDegrees*Math.PI/180),le=Math.tan(Y.downDegrees*Math.PI/180),ve=Math.tan(Y.leftDegrees*Math.PI/180),Ce=Math.tan(Y.rightDegrees*Math.PI/180),Ne=2/(ve+Ce),$e=2/(Ht+le);return h[0]=Ne,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=$e,h[6]=0,h[7]=0,h[8]=-((ve-Ce)*Ne*.5),h[9]=(Ht-le)*$e*.5,h[10]=Pt/(Et-Pt),h[11]=-1,h[12]=0,h[13]=0,h[14]=Pt*Et/(Et-Pt),h[15]=0,h}function D(h,Y,Et,Pt,Ht,le,ve){var Ce=1/(Y-Et),Ne=1/(Pt-Ht),$e=1/(le-ve);return h[0]=-2*Ce,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=-2*Ne,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=2*$e,h[11]=0,h[12]=(Y+Et)*Ce,h[13]=(Ht+Pt)*Ne,h[14]=(ve+le)*$e,h[15]=1,h}var $=D;function mt(h,Y,Et,Pt,Ht,le,ve){var Ce=1/(Y-Et),Ne=1/(Pt-Ht),$e=1/(le-ve);return h[0]=-2*Ce,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=-2*Ne,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=$e,h[11]=0,h[12]=(Y+Et)*Ce,h[13]=(Ht+Pt)*Ne,h[14]=le*$e,h[15]=1,h}function kt(h,Y,Et,Pt){var Ht,le,ve,Ce,Ne,$e,fr,zr,Wr,Gr,xn=Y[0],Nn=Y[1],en=Y[2],Vn=Pt[0],Ta=Pt[1],Oa=Pt[2],wa=Et[0],ca=Et[1],ya=Et[2];return Math.abs(xn-wa)<p.EPSILON&&Math.abs(Nn-ca)<p.EPSILON&&Math.abs(en-ya)<p.EPSILON?Jr(h):(fr=xn-wa,zr=Nn-ca,Wr=en-ya,Gr=1/Math.hypot(fr,zr,Wr),fr*=Gr,zr*=Gr,Wr*=Gr,Ht=Ta*Wr-Oa*zr,le=Oa*fr-Vn*Wr,ve=Vn*zr-Ta*fr,Gr=Math.hypot(Ht,le,ve),Gr?(Gr=1/Gr,Ht*=Gr,le*=Gr,ve*=Gr):(Ht=0,le=0,ve=0),Ce=zr*ve-Wr*le,Ne=Wr*Ht-fr*ve,$e=fr*le-zr*Ht,Gr=Math.hypot(Ce,Ne,$e),Gr?(Gr=1/Gr,Ce*=Gr,Ne*=Gr,$e*=Gr):(Ce=0,Ne=0,$e=0),h[0]=Ht,h[1]=Ce,h[2]=fr,h[3]=0,h[4]=le,h[5]=Ne,h[6]=zr,h[7]=0,h[8]=ve,h[9]=$e,h[10]=Wr,h[11]=0,h[12]=-(Ht*xn+le*Nn+ve*en),h[13]=-(Ce*xn+Ne*Nn+$e*en),h[14]=-(fr*xn+zr*Nn+Wr*en),h[15]=1,h)}function Rt(h,Y,Et,Pt){var Ht=Y[0],le=Y[1],ve=Y[2],Ce=Pt[0],Ne=Pt[1],$e=Pt[2],fr=Ht-Et[0],zr=le-Et[1],Wr=ve-Et[2],Gr=fr*fr+zr*zr+Wr*Wr;Gr>0&&(Gr=1/Math.sqrt(Gr),fr*=Gr,zr*=Gr,Wr*=Gr);var xn=Ne*Wr-$e*zr,Nn=$e*fr-Ce*Wr,en=Ce*zr-Ne*fr;return Gr=xn*xn+Nn*Nn+en*en,Gr>0&&(Gr=1/Math.sqrt(Gr),xn*=Gr,Nn*=Gr,en*=Gr),h[0]=xn,h[1]=Nn,h[2]=en,h[3]=0,h[4]=zr*en-Wr*Nn,h[5]=Wr*xn-fr*en,h[6]=fr*Nn-zr*xn,h[7]=0,h[8]=fr,h[9]=zr,h[10]=Wr,h[11]=0,h[12]=Ht,h[13]=le,h[14]=ve,h[15]=1,h}function qt(h){return"mat4("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+", "+h[9]+", "+h[10]+", "+h[11]+", "+h[12]+", "+h[13]+", "+h[14]+", "+h[15]+")"}function Le(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])}function Me(h,Y,Et){return h[0]=Y[0]+Et[0],h[1]=Y[1]+Et[1],h[2]=Y[2]+Et[2],h[3]=Y[3]+Et[3],h[4]=Y[4]+Et[4],h[5]=Y[5]+Et[5],h[6]=Y[6]+Et[6],h[7]=Y[7]+Et[7],h[8]=Y[8]+Et[8],h[9]=Y[9]+Et[9],h[10]=Y[10]+Et[10],h[11]=Y[11]+Et[11],h[12]=Y[12]+Et[12],h[13]=Y[13]+Et[13],h[14]=Y[14]+Et[14],h[15]=Y[15]+Et[15],h}function Ke(h,Y,Et){return h[0]=Y[0]-Et[0],h[1]=Y[1]-Et[1],h[2]=Y[2]-Et[2],h[3]=Y[3]-Et[3],h[4]=Y[4]-Et[4],h[5]=Y[5]-Et[5],h[6]=Y[6]-Et[6],h[7]=Y[7]-Et[7],h[8]=Y[8]-Et[8],h[9]=Y[9]-Et[9],h[10]=Y[10]-Et[10],h[11]=Y[11]-Et[11],h[12]=Y[12]-Et[12],h[13]=Y[13]-Et[13],h[14]=Y[14]-Et[14],h[15]=Y[15]-Et[15],h}function vr(h,Y,Et){return h[0]=Y[0]*Et,h[1]=Y[1]*Et,h[2]=Y[2]*Et,h[3]=Y[3]*Et,h[4]=Y[4]*Et,h[5]=Y[5]*Et,h[6]=Y[6]*Et,h[7]=Y[7]*Et,h[8]=Y[8]*Et,h[9]=Y[9]*Et,h[10]=Y[10]*Et,h[11]=Y[11]*Et,h[12]=Y[12]*Et,h[13]=Y[13]*Et,h[14]=Y[14]*Et,h[15]=Y[15]*Et,h}function He(h,Y,Et,Pt){return h[0]=Y[0]+Et[0]*Pt,h[1]=Y[1]+Et[1]*Pt,h[2]=Y[2]+Et[2]*Pt,h[3]=Y[3]+Et[3]*Pt,h[4]=Y[4]+Et[4]*Pt,h[5]=Y[5]+Et[5]*Pt,h[6]=Y[6]+Et[6]*Pt,h[7]=Y[7]+Et[7]*Pt,h[8]=Y[8]+Et[8]*Pt,h[9]=Y[9]+Et[9]*Pt,h[10]=Y[10]+Et[10]*Pt,h[11]=Y[11]+Et[11]*Pt,h[12]=Y[12]+Et[12]*Pt,h[13]=Y[13]+Et[13]*Pt,h[14]=Y[14]+Et[14]*Pt,h[15]=Y[15]+Et[15]*Pt,h}function Rr(h,Y){return h[0]===Y[0]&&h[1]===Y[1]&&h[2]===Y[2]&&h[3]===Y[3]&&h[4]===Y[4]&&h[5]===Y[5]&&h[6]===Y[6]&&h[7]===Y[7]&&h[8]===Y[8]&&h[9]===Y[9]&&h[10]===Y[10]&&h[11]===Y[11]&&h[12]===Y[12]&&h[13]===Y[13]&&h[14]===Y[14]&&h[15]===Y[15]}function fn(h,Y){var Et=h[0],Pt=h[1],Ht=h[2],le=h[3],ve=h[4],Ce=h[5],Ne=h[6],$e=h[7],fr=h[8],zr=h[9],Wr=h[10],Gr=h[11],xn=h[12],Nn=h[13],en=h[14],Vn=h[15],Ta=Y[0],Oa=Y[1],wa=Y[2],ca=Y[3],ya=Y[4],Ki=Y[5],Yi=Y[6],zi=Y[7],Xi=Y[8],ji=Y[9],io=Y[10],bo=Y[11],Xa=Y[12],vi=Y[13],Is=Y[14],vs=Y[15];return Math.abs(Et-Ta)<=p.EPSILON*Math.max(1,Math.abs(Et),Math.abs(Ta))&&Math.abs(Pt-Oa)<=p.EPSILON*Math.max(1,Math.abs(Pt),Math.abs(Oa))&&Math.abs(Ht-wa)<=p.EPSILON*Math.max(1,Math.abs(Ht),Math.abs(wa))&&Math.abs(le-ca)<=p.EPSILON*Math.max(1,Math.abs(le),Math.abs(ca))&&Math.abs(ve-ya)<=p.EPSILON*Math.max(1,Math.abs(ve),Math.abs(ya))&&Math.abs(Ce-Ki)<=p.EPSILON*Math.max(1,Math.abs(Ce),Math.abs(Ki))&&Math.abs(Ne-Yi)<=p.EPSILON*Math.max(1,Math.abs(Ne),Math.abs(Yi))&&Math.abs($e-zi)<=p.EPSILON*Math.max(1,Math.abs($e),Math.abs(zi))&&Math.abs(fr-Xi)<=p.EPSILON*Math.max(1,Math.abs(fr),Math.abs(Xi))&&Math.abs(zr-ji)<=p.EPSILON*Math.max(1,Math.abs(zr),Math.abs(ji))&&Math.abs(Wr-io)<=p.EPSILON*Math.max(1,Math.abs(Wr),Math.abs(io))&&Math.abs(Gr-bo)<=p.EPSILON*Math.max(1,Math.abs(Gr),Math.abs(bo))&&Math.abs(xn-Xa)<=p.EPSILON*Math.max(1,Math.abs(xn),Math.abs(Xa))&&Math.abs(Nn-vi)<=p.EPSILON*Math.max(1,Math.abs(Nn),Math.abs(vi))&&Math.abs(en-Is)<=p.EPSILON*Math.max(1,Math.abs(en),Math.abs(Is))&&Math.abs(Vn-vs)<=p.EPSILON*Math.max(1,Math.abs(Vn),Math.abs(vs))}var Je=Ae,pr=Ke,kr=_(277160);function Pr(){var h=new p.ARRAY_TYPE(4);return p.ARRAY_TYPE!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[3]=0),h}function oe(h){var Y=new p.ARRAY_TYPE(4);return Y[0]=h[0],Y[1]=h[1],Y[2]=h[2],Y[3]=h[3],Y}function Wt(h,Y,Et,Pt){var Ht=new p.ARRAY_TYPE(4);return Ht[0]=h,Ht[1]=Y,Ht[2]=Et,Ht[3]=Pt,Ht}function pe(h,Y){return h[0]=Y[0],h[1]=Y[1],h[2]=Y[2],h[3]=Y[3],h}function _e(h,Y,Et,Pt,Ht){return h[0]=Y,h[1]=Et,h[2]=Pt,h[3]=Ht,h}function xe(h,Y,Et){return h[0]=Y[0]+Et[0],h[1]=Y[1]+Et[1],h[2]=Y[2]+Et[2],h[3]=Y[3]+Et[3],h}function Ge(h,Y,Et){return h[0]=Y[0]-Et[0],h[1]=Y[1]-Et[1],h[2]=Y[2]-Et[2],h[3]=Y[3]-Et[3],h}function lr(h,Y,Et){return h[0]=Y[0]*Et[0],h[1]=Y[1]*Et[1],h[2]=Y[2]*Et[2],h[3]=Y[3]*Et[3],h}function gr(h,Y,Et){return h[0]=Y[0]/Et[0],h[1]=Y[1]/Et[1],h[2]=Y[2]/Et[2],h[3]=Y[3]/Et[3],h}function Zr(h,Y){return h[0]=Math.ceil(Y[0]),h[1]=Math.ceil(Y[1]),h[2]=Math.ceil(Y[2]),h[3]=Math.ceil(Y[3]),h}function Tn(h,Y){return h[0]=Math.floor(Y[0]),h[1]=Math.floor(Y[1]),h[2]=Math.floor(Y[2]),h[3]=Math.floor(Y[3]),h}function an(h,Y,Et){return h[0]=Math.min(Y[0],Et[0]),h[1]=Math.min(Y[1],Et[1]),h[2]=Math.min(Y[2],Et[2]),h[3]=Math.min(Y[3],Et[3]),h}function kn(h,Y,Et){return h[0]=Math.max(Y[0],Et[0]),h[1]=Math.max(Y[1],Et[1]),h[2]=Math.max(Y[2],Et[2]),h[3]=Math.max(Y[3],Et[3]),h}function un(h,Y){return h[0]=Math.round(Y[0]),h[1]=Math.round(Y[1]),h[2]=Math.round(Y[2]),h[3]=Math.round(Y[3]),h}function Bn(h,Y,Et){return h[0]=Y[0]*Et,h[1]=Y[1]*Et,h[2]=Y[2]*Et,h[3]=Y[3]*Et,h}function Zn(h,Y,Et,Pt){return h[0]=Y[0]+Et[0]*Pt,h[1]=Y[1]+Et[1]*Pt,h[2]=Y[2]+Et[2]*Pt,h[3]=Y[3]+Et[3]*Pt,h}function na(h,Y){var Et=Y[0]-h[0],Pt=Y[1]-h[1],Ht=Y[2]-h[2],le=Y[3]-h[3];return Math.hypot(Et,Pt,Ht,le)}function ra(h,Y){var Et=Y[0]-h[0],Pt=Y[1]-h[1],Ht=Y[2]-h[2],le=Y[3]-h[3];return Et*Et+Pt*Pt+Ht*Ht+le*le}function ti(h){var Y=h[0],Et=h[1],Pt=h[2],Ht=h[3];return Math.hypot(Y,Et,Pt,Ht)}function Ua(h){var Y=h[0],Et=h[1],Pt=h[2],Ht=h[3];return Y*Y+Et*Et+Pt*Pt+Ht*Ht}function Ia(h,Y){return h[0]=-Y[0],h[1]=-Y[1],h[2]=-Y[2],h[3]=-Y[3],h}function oi(h,Y){return h[0]=1/Y[0],h[1]=1/Y[1],h[2]=1/Y[2],h[3]=1/Y[3],h}function Lo(h,Y){var Et=Y[0],Pt=Y[1],Ht=Y[2],le=Y[3],ve=Et*Et+Pt*Pt+Ht*Ht+le*le;return ve>0&&(ve=1/Math.sqrt(ve)),h[0]=Et*ve,h[1]=Pt*ve,h[2]=Ht*ve,h[3]=le*ve,h}function gi(h,Y){return h[0]*Y[0]+h[1]*Y[1]+h[2]*Y[2]+h[3]*Y[3]}function ci(h,Y,Et,Pt){var Ht=Et[0]*Pt[1]-Et[1]*Pt[0],le=Et[0]*Pt[2]-Et[2]*Pt[0],ve=Et[0]*Pt[3]-Et[3]*Pt[0],Ce=Et[1]*Pt[2]-Et[2]*Pt[1],Ne=Et[1]*Pt[3]-Et[3]*Pt[1],$e=Et[2]*Pt[3]-Et[3]*Pt[2],fr=Y[0],zr=Y[1],Wr=Y[2],Gr=Y[3];return h[0]=zr*$e-Wr*Ne+Gr*Ce,h[1]=-(fr*$e)+Wr*ve-Gr*le,h[2]=fr*Ne-zr*ve+Gr*Ht,h[3]=-(fr*Ce)+zr*le-Wr*Ht,h}function xa(h,Y,Et,Pt){var Ht=Y[0],le=Y[1],ve=Y[2],Ce=Y[3];return h[0]=Ht+Pt*(Et[0]-Ht),h[1]=le+Pt*(Et[1]-le),h[2]=ve+Pt*(Et[2]-ve),h[3]=Ce+Pt*(Et[3]-Ce),h}function _i(h,Y){Y=Y||1;var Et,Pt,Ht,le,ve,Ce;do Et=p.RANDOM()*2-1,Pt=p.RANDOM()*2-1,ve=Et*Et+Pt*Pt;while(ve>=1);do Ht=p.RANDOM()*2-1,le=p.RANDOM()*2-1,Ce=Ht*Ht+le*le;while(Ce>=1);var Ne=Math.sqrt((1-ve)/Ce);return h[0]=Y*Et,h[1]=Y*Pt,h[2]=Y*Ht*Ne,h[3]=Y*le*Ne,h}function No(h,Y,Et){var Pt=Y[0],Ht=Y[1],le=Y[2],ve=Y[3];return h[0]=Et[0]*Pt+Et[4]*Ht+Et[8]*le+Et[12]*ve,h[1]=Et[1]*Pt+Et[5]*Ht+Et[9]*le+Et[13]*ve,h[2]=Et[2]*Pt+Et[6]*Ht+Et[10]*le+Et[14]*ve,h[3]=Et[3]*Pt+Et[7]*Ht+Et[11]*le+Et[15]*ve,h}function Wa(h,Y,Et){var Pt=Y[0],Ht=Y[1],le=Y[2],ve=Et[0],Ce=Et[1],Ne=Et[2],$e=Et[3],fr=$e*Pt+Ce*le-Ne*Ht,zr=$e*Ht+Ne*Pt-ve*le,Wr=$e*le+ve*Ht-Ce*Pt,Gr=-ve*Pt-Ce*Ht-Ne*le;return h[0]=fr*$e+Gr*-ve+zr*-Ne-Wr*-Ce,h[1]=zr*$e+Gr*-Ce+Wr*-ve-fr*-Ne,h[2]=Wr*$e+Gr*-Ne+fr*-Ce-zr*-ve,h[3]=Y[3],h}function go(h){return h[0]=0,h[1]=0,h[2]=0,h[3]=0,h}function So(h){return"vec4("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"}function Mo(h,Y){return h[0]===Y[0]&&h[1]===Y[1]&&h[2]===Y[2]&&h[3]===Y[3]}function Wi(h,Y){var Et=h[0],Pt=h[1],Ht=h[2],le=h[3],ve=Y[0],Ce=Y[1],Ne=Y[2],$e=Y[3];return Math.abs(Et-ve)<=p.EPSILON*Math.max(1,Math.abs(Et),Math.abs(ve))&&Math.abs(Pt-Ce)<=p.EPSILON*Math.max(1,Math.abs(Pt),Math.abs(Ce))&&Math.abs(Ht-Ne)<=p.EPSILON*Math.max(1,Math.abs(Ht),Math.abs(Ne))&&Math.abs(le-$e)<=p.EPSILON*Math.max(1,Math.abs(le),Math.abs($e))}var eo=Ge,_o=lr,is=gr,Oi=na,ro=ra,Jn=ti,Kt=Ua,ce=function(){var h=Pr();return function(Y,Et,Pt,Ht,le,ve){var Ce,Ne;for(Et||(Et=4),Pt||(Pt=0),Ht?Ne=Math.min(Ht*Et+Pt,Y.length):Ne=Y.length,Ce=Pt;Ce<Ne;Ce+=Et)h[0]=Y[Ce],h[1]=Y[Ce+1],h[2]=Y[Ce+2],h[3]=Y[Ce+3],le(h,h,ve),Y[Ce]=h[0],Y[Ce+1]=h[1],Y[Ce+2]=h[2],Y[Ce+3]=h[3];return Y}}();function Be(){var h=new p.ARRAY_TYPE(4);return p.ARRAY_TYPE!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0),h[3]=1,h}function cr(h){return h[0]=0,h[1]=0,h[2]=0,h[3]=1,h}function Lr(h,Y,Et){Et=Et*.5;var Pt=Math.sin(Et);return h[0]=Pt*Y[0],h[1]=Pt*Y[1],h[2]=Pt*Y[2],h[3]=Math.cos(Et),h}function Ir(h,Y){var Et=Math.acos(Y[3])*2,Pt=Math.sin(Et/2);return Pt>p.EPSILON?(h[0]=Y[0]/Pt,h[1]=Y[1]/Pt,h[2]=Y[2]/Pt):(h[0]=1,h[1]=0,h[2]=0),Et}function Sr(h,Y){var Et=Ci(h,Y);return Math.acos(2*Et*Et-1)}function tn(h,Y,Et){var Pt=Y[0],Ht=Y[1],le=Y[2],ve=Y[3],Ce=Et[0],Ne=Et[1],$e=Et[2],fr=Et[3];return h[0]=Pt*fr+ve*Ce+Ht*$e-le*Ne,h[1]=Ht*fr+ve*Ne+le*Ce-Pt*$e,h[2]=le*fr+ve*$e+Pt*Ne-Ht*Ce,h[3]=ve*fr-Pt*Ce-Ht*Ne-le*$e,h}function dn(h,Y,Et){Et*=.5;var Pt=Y[0],Ht=Y[1],le=Y[2],ve=Y[3],Ce=Math.sin(Et),Ne=Math.cos(Et);return h[0]=Pt*Ne+ve*Ce,h[1]=Ht*Ne+le*Ce,h[2]=le*Ne-Ht*Ce,h[3]=ve*Ne-Pt*Ce,h}function An(h,Y,Et){Et*=.5;var Pt=Y[0],Ht=Y[1],le=Y[2],ve=Y[3],Ce=Math.sin(Et),Ne=Math.cos(Et);return h[0]=Pt*Ne-le*Ce,h[1]=Ht*Ne+ve*Ce,h[2]=le*Ne+Pt*Ce,h[3]=ve*Ne-Ht*Ce,h}function Kn(h,Y,Et){Et*=.5;var Pt=Y[0],Ht=Y[1],le=Y[2],ve=Y[3],Ce=Math.sin(Et),Ne=Math.cos(Et);return h[0]=Pt*Ne+Ht*Ce,h[1]=Ht*Ne-Pt*Ce,h[2]=le*Ne+ve*Ce,h[3]=ve*Ne-le*Ce,h}function Wn(h,Y){var Et=Y[0],Pt=Y[1],Ht=Y[2];return h[0]=Et,h[1]=Pt,h[2]=Ht,h[3]=Math.sqrt(Math.abs(1-Et*Et-Pt*Pt-Ht*Ht)),h}function aa(h,Y){var Et=Y[0],Pt=Y[1],Ht=Y[2],le=Y[3],ve=Math.sqrt(Et*Et+Pt*Pt+Ht*Ht),Ce=Math.exp(le),Ne=ve>0?Ce*Math.sin(ve)/ve:0;return h[0]=Et*Ne,h[1]=Pt*Ne,h[2]=Ht*Ne,h[3]=Ce*Math.cos(ve),h}function oa(h,Y){var Et=Y[0],Pt=Y[1],Ht=Y[2],le=Y[3],ve=Math.sqrt(Et*Et+Pt*Pt+Ht*Ht),Ce=ve>0?Math.atan2(ve,le)/ve:0;return h[0]=Et*Ce,h[1]=Pt*Ce,h[2]=Ht*Ce,h[3]=.5*Math.log(Et*Et+Pt*Pt+Ht*Ht+le*le),h}function Ya(h,Y,Et){return oa(h,Y),Di(h,h,Et),aa(h,h),h}function ua(h,Y,Et,Pt){var Ht=Y[0],le=Y[1],ve=Y[2],Ce=Y[3],Ne=Et[0],$e=Et[1],fr=Et[2],zr=Et[3],Wr,Gr,xn,Nn,en;return Gr=Ht*Ne+le*$e+ve*fr+Ce*zr,Gr<0&&(Gr=-Gr,Ne=-Ne,$e=-$e,fr=-fr,zr=-zr),1-Gr>p.EPSILON?(Wr=Math.acos(Gr),xn=Math.sin(Wr),Nn=Math.sin((1-Pt)*Wr)/xn,en=Math.sin(Pt*Wr)/xn):(Nn=1-Pt,en=Pt),h[0]=Nn*Ht+en*Ne,h[1]=Nn*le+en*$e,h[2]=Nn*ve+en*fr,h[3]=Nn*Ce+en*zr,h}function qn(h){var Y=p.RANDOM(),Et=p.RANDOM(),Pt=p.RANDOM(),Ht=Math.sqrt(1-Y),le=Math.sqrt(Y);return h[0]=Ht*Math.sin(2*Math.PI*Et),h[1]=Ht*Math.cos(2*Math.PI*Et),h[2]=le*Math.sin(2*Math.PI*Pt),h[3]=le*Math.cos(2*Math.PI*Pt),h}function za(h,Y){var Et=Y[0],Pt=Y[1],Ht=Y[2],le=Y[3],ve=Et*Et+Pt*Pt+Ht*Ht+le*le,Ce=ve?1/ve:0;return h[0]=-Et*Ce,h[1]=-Pt*Ce,h[2]=-Ht*Ce,h[3]=le*Ce,h}function Pa(h,Y){return h[0]=-Y[0],h[1]=-Y[1],h[2]=-Y[2],h[3]=Y[3],h}function Ea(h,Y){var Et=Y[0]+Y[4]+Y[8],Pt;if(Et>0)Pt=Math.sqrt(Et+1),h[3]=.5*Pt,Pt=.5/Pt,h[0]=(Y[5]-Y[7])*Pt,h[1]=(Y[6]-Y[2])*Pt,h[2]=(Y[1]-Y[3])*Pt;else{var Ht=0;Y[4]>Y[0]&&(Ht=1),Y[8]>Y[Ht*3+Ht]&&(Ht=2);var le=(Ht+1)%3,ve=(Ht+2)%3;Pt=Math.sqrt(Y[Ht*3+Ht]-Y[le*3+le]-Y[ve*3+ve]+1),h[Ht]=.5*Pt,Pt=.5/Pt,h[3]=(Y[le*3+ve]-Y[ve*3+le])*Pt,h[le]=(Y[le*3+Ht]+Y[Ht*3+le])*Pt,h[ve]=(Y[ve*3+Ht]+Y[Ht*3+ve])*Pt}return h}function si(h,Y,Et,Pt){var Ht=.5*Math.PI/180;Y*=Ht,Et*=Ht,Pt*=Ht;var le=Math.sin(Y),ve=Math.cos(Y),Ce=Math.sin(Et),Ne=Math.cos(Et),$e=Math.sin(Pt),fr=Math.cos(Pt);return h[0]=le*Ne*fr-ve*Ce*$e,h[1]=ve*Ce*fr+le*Ne*$e,h[2]=ve*Ne*$e-le*Ce*fr,h[3]=ve*Ne*fr+le*Ce*$e,h}function qa(h){return"quat("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"}var Na=oe,_a=Wt,pa=pe,fi=_e,ri=xe,di=tn,Di=Bn,Ci=gi,Ri=xa,Eo=ti,wo=Eo,Ii=Ua,Ra=Ii,mi=Lo,Pi=Mo,Ma=Wi,ki=function(){var h=kr.create(),Y=kr.fromValues(1,0,0),Et=kr.fromValues(0,1,0);return function(Pt,Ht,le){var ve=kr.dot(Ht,le);return ve<-.999999?(kr.cross(h,Y,Ht),kr.len(h)<1e-6&&kr.cross(h,Et,Ht),kr.normalize(h,h),Lr(Pt,h,Math.PI),Pt):ve>.999999?(Pt[0]=0,Pt[1]=0,Pt[2]=0,Pt[3]=1,Pt):(kr.cross(h,Ht,le),Pt[0]=h[0],Pt[1]=h[1],Pt[2]=h[2],Pt[3]=1+ve,mi(Pt,Pt))}}(),no=function(){var h=Be(),Y=Be();return function(Et,Pt,Ht,le,ve,Ce){return ua(h,Pt,ve,Ce),ua(Y,Ht,le,Ce),ua(Et,h,Y,2*Ce*(1-Ce)),Et}}(),Mi=function(){var h=qe.create();return function(Y,Et,Pt,Ht){return h[0]=Pt[0],h[3]=Pt[1],h[6]=Pt[2],h[1]=Ht[0],h[4]=Ht[1],h[7]=Ht[2],h[2]=-Et[0],h[5]=-Et[1],h[8]=-Et[2],mi(Y,Ea(Y,h))}}();function Co(){var h=new p.ARRAY_TYPE(8);return p.ARRAY_TYPE!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[4]=0,h[5]=0,h[6]=0,h[7]=0),h[3]=1,h}function yi(h){var Y=new p.ARRAY_TYPE(8);return Y[0]=h[0],Y[1]=h[1],Y[2]=h[2],Y[3]=h[3],Y[4]=h[4],Y[5]=h[5],Y[6]=h[6],Y[7]=h[7],Y}function ao(h,Y,Et,Pt,Ht,le,ve,Ce){var Ne=new p.ARRAY_TYPE(8);return Ne[0]=h,Ne[1]=Y,Ne[2]=Et,Ne[3]=Pt,Ne[4]=Ht,Ne[5]=le,Ne[6]=ve,Ne[7]=Ce,Ne}function Ro(h,Y,Et,Pt,Ht,le,ve){var Ce=new p.ARRAY_TYPE(8);Ce[0]=h,Ce[1]=Y,Ce[2]=Et,Ce[3]=Pt;var Ne=Ht*.5,$e=le*.5,fr=ve*.5;return Ce[4]=Ne*Pt+$e*Et-fr*Y,Ce[5]=$e*Pt+fr*h-Ne*Et,Ce[6]=fr*Pt+Ne*Y-$e*h,Ce[7]=-Ne*h-$e*Y-fr*Et,Ce}function es(h,Y,Et){var Pt=Et[0]*.5,Ht=Et[1]*.5,le=Et[2]*.5,ve=Y[0],Ce=Y[1],Ne=Y[2],$e=Y[3];return h[0]=ve,h[1]=Ce,h[2]=Ne,h[3]=$e,h[4]=Pt*$e+Ht*Ne-le*Ce,h[5]=Ht*$e+le*ve-Pt*Ne,h[6]=le*$e+Pt*Ce-Ht*ve,h[7]=-Pt*ve-Ht*Ce-le*Ne,h}function Bi(h,Y){return h[0]=0,h[1]=0,h[2]=0,h[3]=1,h[4]=Y[0]*.5,h[5]=Y[1]*.5,h[6]=Y[2]*.5,h[7]=0,h}function ko(h,Y){return h[0]=Y[0],h[1]=Y[1],h[2]=Y[2],h[3]=Y[3],h[4]=0,h[5]=0,h[6]=0,h[7]=0,h}function Bo(h,Y){var Et=Be();Gt(Et,Y);var Pt=new p.ARRAY_TYPE(3);return gt(Pt,Y),es(h,Et,Pt),h}function cs(h,Y){return h[0]=Y[0],h[1]=Y[1],h[2]=Y[2],h[3]=Y[3],h[4]=Y[4],h[5]=Y[5],h[6]=Y[6],h[7]=Y[7],h}function va(h){return h[0]=0,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,h[6]=0,h[7]=0,h}function Bt(h,Y,Et,Pt,Ht,le,ve,Ce,Ne){return h[0]=Y,h[1]=Et,h[2]=Pt,h[3]=Ht,h[4]=le,h[5]=ve,h[6]=Ce,h[7]=Ne,h}var Fe=pa;function or(h,Y){return h[0]=Y[4],h[1]=Y[5],h[2]=Y[6],h[3]=Y[7],h}var Er=pa;function qr(h,Y){return h[4]=Y[0],h[5]=Y[1],h[6]=Y[2],h[7]=Y[3],h}function hn(h,Y){var Et=Y[4],Pt=Y[5],Ht=Y[6],le=Y[7],ve=-Y[0],Ce=-Y[1],Ne=-Y[2],$e=Y[3];return h[0]=(Et*$e+le*ve+Pt*Ne-Ht*Ce)*2,h[1]=(Pt*$e+le*Ce+Ht*ve-Et*Ne)*2,h[2]=(Ht*$e+le*Ne+Et*Ce-Pt*ve)*2,h}function zn(h,Y,Et){var Pt=Y[0],Ht=Y[1],le=Y[2],ve=Y[3],Ce=Et[0]*.5,Ne=Et[1]*.5,$e=Et[2]*.5,fr=Y[4],zr=Y[5],Wr=Y[6],Gr=Y[7];return h[0]=Pt,h[1]=Ht,h[2]=le,h[3]=ve,h[4]=ve*Ce+Ht*$e-le*Ne+fr,h[5]=ve*Ne+le*Ce-Pt*$e+zr,h[6]=ve*$e+Pt*Ne-Ht*Ce+Wr,h[7]=-Pt*Ce-Ht*Ne-le*$e+Gr,h}function Da(h,Y,Et){var Pt=-Y[0],Ht=-Y[1],le=-Y[2],ve=Y[3],Ce=Y[4],Ne=Y[5],$e=Y[6],fr=Y[7],zr=Ce*ve+fr*Pt+Ne*le-$e*Ht,Wr=Ne*ve+fr*Ht+$e*Pt-Ce*le,Gr=$e*ve+fr*le+Ce*Ht-Ne*Pt,xn=fr*ve-Ce*Pt-Ne*Ht-$e*le;return dn(h,Y,Et),Pt=h[0],Ht=h[1],le=h[2],ve=h[3],h[4]=zr*ve+xn*Pt+Wr*le-Gr*Ht,h[5]=Wr*ve+xn*Ht+Gr*Pt-zr*le,h[6]=Gr*ve+xn*le+zr*Ht-Wr*Pt,h[7]=xn*ve-zr*Pt-Wr*Ht-Gr*le,h}function hi(h,Y,Et){var Pt=-Y[0],Ht=-Y[1],le=-Y[2],ve=Y[3],Ce=Y[4],Ne=Y[5],$e=Y[6],fr=Y[7],zr=Ce*ve+fr*Pt+Ne*le-$e*Ht,Wr=Ne*ve+fr*Ht+$e*Pt-Ce*le,Gr=$e*ve+fr*le+Ce*Ht-Ne*Pt,xn=fr*ve-Ce*Pt-Ne*Ht-$e*le;return An(h,Y,Et),Pt=h[0],Ht=h[1],le=h[2],ve=h[3],h[4]=zr*ve+xn*Pt+Wr*le-Gr*Ht,h[5]=Wr*ve+xn*Ht+Gr*Pt-zr*le,h[6]=Gr*ve+xn*le+zr*Ht-Wr*Pt,h[7]=xn*ve-zr*Pt-Wr*Ht-Gr*le,h}function Hi(h,Y,Et){var Pt=-Y[0],Ht=-Y[1],le=-Y[2],ve=Y[3],Ce=Y[4],Ne=Y[5],$e=Y[6],fr=Y[7],zr=Ce*ve+fr*Pt+Ne*le-$e*Ht,Wr=Ne*ve+fr*Ht+$e*Pt-Ce*le,Gr=$e*ve+fr*le+Ce*Ht-Ne*Pt,xn=fr*ve-Ce*Pt-Ne*Ht-$e*le;return Kn(h,Y,Et),Pt=h[0],Ht=h[1],le=h[2],ve=h[3],h[4]=zr*ve+xn*Pt+Wr*le-Gr*Ht,h[5]=Wr*ve+xn*Ht+Gr*Pt-zr*le,h[6]=Gr*ve+xn*le+zr*Ht-Wr*Pt,h[7]=xn*ve-zr*Pt-Wr*Ht-Gr*le,h}function mo(h,Y,Et){var Pt=Et[0],Ht=Et[1],le=Et[2],ve=Et[3],Ce=Y[0],Ne=Y[1],$e=Y[2],fr=Y[3];return h[0]=Ce*ve+fr*Pt+Ne*le-$e*Ht,h[1]=Ne*ve+fr*Ht+$e*Pt-Ce*le,h[2]=$e*ve+fr*le+Ce*Ht-Ne*Pt,h[3]=fr*ve-Ce*Pt-Ne*Ht-$e*le,Ce=Y[4],Ne=Y[5],$e=Y[6],fr=Y[7],h[4]=Ce*ve+fr*Pt+Ne*le-$e*Ht,h[5]=Ne*ve+fr*Ht+$e*Pt-Ce*le,h[6]=$e*ve+fr*le+Ce*Ht-Ne*Pt,h[7]=fr*ve-Ce*Pt-Ne*Ht-$e*le,h}function fs(h,Y,Et){var Pt=Y[0],Ht=Y[1],le=Y[2],ve=Y[3],Ce=Et[0],Ne=Et[1],$e=Et[2],fr=Et[3];return h[0]=Pt*fr+ve*Ce+Ht*$e-le*Ne,h[1]=Ht*fr+ve*Ne+le*Ce-Pt*$e,h[2]=le*fr+ve*$e+Pt*Ne-Ht*Ce,h[3]=ve*fr-Pt*Ce-Ht*Ne-le*$e,Ce=Et[4],Ne=Et[5],$e=Et[6],fr=Et[7],h[4]=Pt*fr+ve*Ce+Ht*$e-le*Ne,h[5]=Ht*fr+ve*Ne+le*Ce-Pt*$e,h[6]=le*fr+ve*$e+Pt*Ne-Ht*Ce,h[7]=ve*fr-Pt*Ce-Ht*Ne-le*$e,h}function Ti(h,Y,Et,Pt){if(Math.abs(Pt)<p.EPSILON)return cs(h,Y);var Ht=Math.hypot(Et[0],Et[1],Et[2]);Pt=Pt*.5;var le=Math.sin(Pt),ve=le*Et[0]/Ht,Ce=le*Et[1]/Ht,Ne=le*Et[2]/Ht,$e=Math.cos(Pt),fr=Y[0],zr=Y[1],Wr=Y[2],Gr=Y[3];h[0]=fr*$e+Gr*ve+zr*Ne-Wr*Ce,h[1]=zr*$e+Gr*Ce+Wr*ve-fr*Ne,h[2]=Wr*$e+Gr*Ne+fr*Ce-zr*ve,h[3]=Gr*$e-fr*ve-zr*Ce-Wr*Ne;var xn=Y[4],Nn=Y[5],en=Y[6],Vn=Y[7];return h[4]=xn*$e+Vn*ve+Nn*Ne-en*Ce,h[5]=Nn*$e+Vn*Ce+en*ve-xn*Ne,h[6]=en*$e+Vn*Ne+xn*Ce-Nn*ve,h[7]=Vn*$e-xn*ve-Nn*Ce-en*Ne,h}function Zi(h,Y,Et){return h[0]=Y[0]+Et[0],h[1]=Y[1]+Et[1],h[2]=Y[2]+Et[2],h[3]=Y[3]+Et[3],h[4]=Y[4]+Et[4],h[5]=Y[5]+Et[5],h[6]=Y[6]+Et[6],h[7]=Y[7]+Et[7],h}function Fo(h,Y,Et){var Pt=Y[0],Ht=Y[1],le=Y[2],ve=Y[3],Ce=Et[4],Ne=Et[5],$e=Et[6],fr=Et[7],zr=Y[4],Wr=Y[5],Gr=Y[6],xn=Y[7],Nn=Et[0],en=Et[1],Vn=Et[2],Ta=Et[3];return h[0]=Pt*Ta+ve*Nn+Ht*Vn-le*en,h[1]=Ht*Ta+ve*en+le*Nn-Pt*Vn,h[2]=le*Ta+ve*Vn+Pt*en-Ht*Nn,h[3]=ve*Ta-Pt*Nn-Ht*en-le*Vn,h[4]=Pt*fr+ve*Ce+Ht*$e-le*Ne+zr*Ta+xn*Nn+Wr*Vn-Gr*en,h[5]=Ht*fr+ve*Ne+le*Ce-Pt*$e+Wr*Ta+xn*en+Gr*Nn-zr*Vn,h[6]=le*fr+ve*$e+Pt*Ne-Ht*Ce+Gr*Ta+xn*Vn+zr*en-Wr*Nn,h[7]=ve*fr-Pt*Ce-Ht*Ne-le*$e+xn*Ta-zr*Nn-Wr*en-Gr*Vn,h}var ds=Fo;function qo(h,Y,Et){return h[0]=Y[0]*Et,h[1]=Y[1]*Et,h[2]=Y[2]*Et,h[3]=Y[3]*Et,h[4]=Y[4]*Et,h[5]=Y[5]*Et,h[6]=Y[6]*Et,h[7]=Y[7]*Et,h}var bs=Ci;function Os(h,Y,Et,Pt){var Ht=1-Pt;return bs(Y,Et)<0&&(Pt=-Pt),h[0]=Y[0]*Ht+Et[0]*Pt,h[1]=Y[1]*Ht+Et[1]*Pt,h[2]=Y[2]*Ht+Et[2]*Pt,h[3]=Y[3]*Ht+Et[3]*Pt,h[4]=Y[4]*Ht+Et[4]*Pt,h[5]=Y[5]*Ht+Et[5]*Pt,h[6]=Y[6]*Ht+Et[6]*Pt,h[7]=Y[7]*Ht+Et[7]*Pt,h}function xs(h,Y){var Et=hs(Y);return h[0]=-Y[0]/Et,h[1]=-Y[1]/Et,h[2]=-Y[2]/Et,h[3]=Y[3]/Et,h[4]=-Y[4]/Et,h[5]=-Y[5]/Et,h[6]=-Y[6]/Et,h[7]=Y[7]/Et,h}function nu(h,Y){return h[0]=-Y[0],h[1]=-Y[1],h[2]=-Y[2],h[3]=Y[3],h[4]=-Y[4],h[5]=-Y[5],h[6]=-Y[6],h[7]=Y[7],h}var jo=Eo,os=jo,hs=Ii,To=hs;function Eu(h,Y){var Et=hs(Y);if(Et>0){Et=Math.sqrt(Et);var Pt=Y[0]/Et,Ht=Y[1]/Et,le=Y[2]/Et,ve=Y[3]/Et,Ce=Y[4],Ne=Y[5],$e=Y[6],fr=Y[7],zr=Pt*Ce+Ht*Ne+le*$e+ve*fr;h[0]=Pt,h[1]=Ht,h[2]=le,h[3]=ve,h[4]=(Ce-Pt*zr)/Et,h[5]=(Ne-Ht*zr)/Et,h[6]=($e-le*zr)/Et,h[7]=(fr-ve*zr)/Et}return h}function wu(h){return"quat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+")"}function Fi(h,Y){return h[0]===Y[0]&&h[1]===Y[1]&&h[2]===Y[2]&&h[3]===Y[3]&&h[4]===Y[4]&&h[5]===Y[5]&&h[6]===Y[6]&&h[7]===Y[7]}function yo(h,Y){var Et=h[0],Pt=h[1],Ht=h[2],le=h[3],ve=h[4],Ce=h[5],Ne=h[6],$e=h[7],fr=Y[0],zr=Y[1],Wr=Y[2],Gr=Y[3],xn=Y[4],Nn=Y[5],en=Y[6],Vn=Y[7];return Math.abs(Et-fr)<=p.EPSILON*Math.max(1,Math.abs(Et),Math.abs(fr))&&Math.abs(Pt-zr)<=p.EPSILON*Math.max(1,Math.abs(Pt),Math.abs(zr))&&Math.abs(Ht-Wr)<=p.EPSILON*Math.max(1,Math.abs(Ht),Math.abs(Wr))&&Math.abs(le-Gr)<=p.EPSILON*Math.max(1,Math.abs(le),Math.abs(Gr))&&Math.abs(ve-xn)<=p.EPSILON*Math.max(1,Math.abs(ve),Math.abs(xn))&&Math.abs(Ce-Nn)<=p.EPSILON*Math.max(1,Math.abs(Ce),Math.abs(Nn))&&Math.abs(Ne-en)<=p.EPSILON*Math.max(1,Math.abs(Ne),Math.abs(en))&&Math.abs($e-Vn)<=p.EPSILON*Math.max(1,Math.abs($e),Math.abs(Vn))}var Ao=_(631437)},935600:function(Ve,W,_){"use strict";_.r(W),_.d(W,{add:function(){return at},adjoint:function(){return b},clone:function(){return M},copy:function(){return P},create:function(){return R},determinant:function(){return A},equals:function(){return Lt},exactEquals:function(){return vt},frob:function(){return q},fromMat2d:function(){return z},fromMat4:function(){return w},fromQuat:function(){return k},fromRotation:function(){return U},fromScaling:function(){return j},fromTranslation:function(){return f},fromValues:function(){return L},identity:function(){return g},invert:function(){return E},mul:function(){return Mt},multiply:function(){return x},multiplyScalar:function(){return ct},multiplyScalarAndAdd:function(){return St},normalFromMat4:function(){return X},projection:function(){return K},rotate:function(){return B},scale:function(){return m},set:function(){return p},str:function(){return tt},sub:function(){return wt},subtract:function(){return pt},translate:function(){return T},transpose:function(){return S}});var y=_(73633);function R(){var et=new y.ARRAY_TYPE(9);return y.ARRAY_TYPE!=Float32Array&&(et[1]=0,et[2]=0,et[3]=0,et[5]=0,et[6]=0,et[7]=0),et[0]=1,et[4]=1,et[8]=1,et}function w(et,rt){return et[0]=rt[0],et[1]=rt[1],et[2]=rt[2],et[3]=rt[4],et[4]=rt[5],et[5]=rt[6],et[6]=rt[8],et[7]=rt[9],et[8]=rt[10],et}function M(et){var rt=new y.ARRAY_TYPE(9);return rt[0]=et[0],rt[1]=et[1],rt[2]=et[2],rt[3]=et[3],rt[4]=et[4],rt[5]=et[5],rt[6]=et[6],rt[7]=et[7],rt[8]=et[8],rt}function P(et,rt){return et[0]=rt[0],et[1]=rt[1],et[2]=rt[2],et[3]=rt[3],et[4]=rt[4],et[5]=rt[5],et[6]=rt[6],et[7]=rt[7],et[8]=rt[8],et}function L(et,rt,Ot,Dt,ot,xt,Nt,Yt,Ct){var Xt=new y.ARRAY_TYPE(9);return Xt[0]=et,Xt[1]=rt,Xt[2]=Ot,Xt[3]=Dt,Xt[4]=ot,Xt[5]=xt,Xt[6]=Nt,Xt[7]=Yt,Xt[8]=Ct,Xt}function p(et,rt,Ot,Dt,ot,xt,Nt,Yt,Ct,Xt){return et[0]=rt,et[1]=Ot,et[2]=Dt,et[3]=ot,et[4]=xt,et[5]=Nt,et[6]=Yt,et[7]=Ct,et[8]=Xt,et}function g(et){return et[0]=1,et[1]=0,et[2]=0,et[3]=0,et[4]=1,et[5]=0,et[6]=0,et[7]=0,et[8]=1,et}function S(et,rt){if(et===rt){var Ot=rt[1],Dt=rt[2],ot=rt[5];et[1]=rt[3],et[2]=rt[6],et[3]=Ot,et[5]=rt[7],et[6]=Dt,et[7]=ot}else et[0]=rt[0],et[1]=rt[3],et[2]=rt[6],et[3]=rt[1],et[4]=rt[4],et[5]=rt[7],et[6]=rt[2],et[7]=rt[5],et[8]=rt[8];return et}function E(et,rt){var Ot=rt[0],Dt=rt[1],ot=rt[2],xt=rt[3],Nt=rt[4],Yt=rt[5],Ct=rt[6],Xt=rt[7],Zt=rt[8],se=Zt*Nt-Yt*Xt,ie=-Zt*xt+Yt*Ct,zt=Xt*xt-Nt*Ct,ae=Ot*se+Dt*ie+ot*zt;return ae?(ae=1/ae,et[0]=se*ae,et[1]=(-Zt*Dt+ot*Xt)*ae,et[2]=(Yt*Dt-ot*Nt)*ae,et[3]=ie*ae,et[4]=(Zt*Ot-ot*Ct)*ae,et[5]=(-Yt*Ot+ot*xt)*ae,et[6]=zt*ae,et[7]=(-Xt*Ot+Dt*Ct)*ae,et[8]=(Nt*Ot-Dt*xt)*ae,et):null}function b(et,rt){var Ot=rt[0],Dt=rt[1],ot=rt[2],xt=rt[3],Nt=rt[4],Yt=rt[5],Ct=rt[6],Xt=rt[7],Zt=rt[8];return et[0]=Nt*Zt-Yt*Xt,et[1]=ot*Xt-Dt*Zt,et[2]=Dt*Yt-ot*Nt,et[3]=Yt*Ct-xt*Zt,et[4]=Ot*Zt-ot*Ct,et[5]=ot*xt-Ot*Yt,et[6]=xt*Xt-Nt*Ct,et[7]=Dt*Ct-Ot*Xt,et[8]=Ot*Nt-Dt*xt,et}function A(et){var rt=et[0],Ot=et[1],Dt=et[2],ot=et[3],xt=et[4],Nt=et[5],Yt=et[6],Ct=et[7],Xt=et[8];return rt*(Xt*xt-Nt*Ct)+Ot*(-Xt*ot+Nt*Yt)+Dt*(Ct*ot-xt*Yt)}function x(et,rt,Ot){var Dt=rt[0],ot=rt[1],xt=rt[2],Nt=rt[3],Yt=rt[4],Ct=rt[5],Xt=rt[6],Zt=rt[7],se=rt[8],ie=Ot[0],zt=Ot[1],ae=Ot[2],Re=Ot[3],Jt=Ot[4],ue=Ot[5],ke=Ot[6],ye=Ot[7],ee=Ot[8];return et[0]=ie*Dt+zt*Nt+ae*Xt,et[1]=ie*ot+zt*Yt+ae*Zt,et[2]=ie*xt+zt*Ct+ae*se,et[3]=Re*Dt+Jt*Nt+ue*Xt,et[4]=Re*ot+Jt*Yt+ue*Zt,et[5]=Re*xt+Jt*Ct+ue*se,et[6]=ke*Dt+ye*Nt+ee*Xt,et[7]=ke*ot+ye*Yt+ee*Zt,et[8]=ke*xt+ye*Ct+ee*se,et}function T(et,rt,Ot){var Dt=rt[0],ot=rt[1],xt=rt[2],Nt=rt[3],Yt=rt[4],Ct=rt[5],Xt=rt[6],Zt=rt[7],se=rt[8],ie=Ot[0],zt=Ot[1];return et[0]=Dt,et[1]=ot,et[2]=xt,et[3]=Nt,et[4]=Yt,et[5]=Ct,et[6]=ie*Dt+zt*Nt+Xt,et[7]=ie*ot+zt*Yt+Zt,et[8]=ie*xt+zt*Ct+se,et}function B(et,rt,Ot){var Dt=rt[0],ot=rt[1],xt=rt[2],Nt=rt[3],Yt=rt[4],Ct=rt[5],Xt=rt[6],Zt=rt[7],se=rt[8],ie=Math.sin(Ot),zt=Math.cos(Ot);return et[0]=zt*Dt+ie*Nt,et[1]=zt*ot+ie*Yt,et[2]=zt*xt+ie*Ct,et[3]=zt*Nt-ie*Dt,et[4]=zt*Yt-ie*ot,et[5]=zt*Ct-ie*xt,et[6]=Xt,et[7]=Zt,et[8]=se,et}function m(et,rt,Ot){var Dt=Ot[0],ot=Ot[1];return et[0]=Dt*rt[0],et[1]=Dt*rt[1],et[2]=Dt*rt[2],et[3]=ot*rt[3],et[4]=ot*rt[4],et[5]=ot*rt[5],et[6]=rt[6],et[7]=rt[7],et[8]=rt[8],et}function f(et,rt){return et[0]=1,et[1]=0,et[2]=0,et[3]=0,et[4]=1,et[5]=0,et[6]=rt[0],et[7]=rt[1],et[8]=1,et}function U(et,rt){var Ot=Math.sin(rt),Dt=Math.cos(rt);return et[0]=Dt,et[1]=Ot,et[2]=0,et[3]=-Ot,et[4]=Dt,et[5]=0,et[6]=0,et[7]=0,et[8]=1,et}function j(et,rt){return et[0]=rt[0],et[1]=0,et[2]=0,et[3]=0,et[4]=rt[1],et[5]=0,et[6]=0,et[7]=0,et[8]=1,et}function z(et,rt){return et[0]=rt[0],et[1]=rt[1],et[2]=0,et[3]=rt[2],et[4]=rt[3],et[5]=0,et[6]=rt[4],et[7]=rt[5],et[8]=1,et}function k(et,rt){var Ot=rt[0],Dt=rt[1],ot=rt[2],xt=rt[3],Nt=Ot+Ot,Yt=Dt+Dt,Ct=ot+ot,Xt=Ot*Nt,Zt=Dt*Nt,se=Dt*Yt,ie=ot*Nt,zt=ot*Yt,ae=ot*Ct,Re=xt*Nt,Jt=xt*Yt,ue=xt*Ct;return et[0]=1-se-ae,et[3]=Zt-ue,et[6]=ie+Jt,et[1]=Zt+ue,et[4]=1-Xt-ae,et[7]=zt-Re,et[2]=ie-Jt,et[5]=zt+Re,et[8]=1-Xt-se,et}function X(et,rt){var Ot=rt[0],Dt=rt[1],ot=rt[2],xt=rt[3],Nt=rt[4],Yt=rt[5],Ct=rt[6],Xt=rt[7],Zt=rt[8],se=rt[9],ie=rt[10],zt=rt[11],ae=rt[12],Re=rt[13],Jt=rt[14],ue=rt[15],ke=Ot*Yt-Dt*Nt,ye=Ot*Ct-ot*Nt,ee=Ot*Xt-xt*Nt,Ut=Dt*Ct-ot*Yt,bt=Dt*Xt-xt*Yt,Ft=ot*Xt-xt*Ct,be=Zt*Re-se*ae,qe=Zt*Jt-ie*ae,Pe=Zt*ue-zt*ae,Ze=se*Jt-ie*Re,Qe=se*ue-zt*Re,Ar=ie*ue-zt*Jt,Hr=ke*Ar-ye*Qe+ee*Ze+Ut*Pe-bt*qe+Ft*be;return Hr?(Hr=1/Hr,et[0]=(Yt*Ar-Ct*Qe+Xt*Ze)*Hr,et[1]=(Ct*Pe-Nt*Ar-Xt*qe)*Hr,et[2]=(Nt*Qe-Yt*Pe+Xt*be)*Hr,et[3]=(ot*Qe-Dt*Ar-xt*Ze)*Hr,et[4]=(Ot*Ar-ot*Pe+xt*qe)*Hr,et[5]=(Dt*Pe-Ot*Qe-xt*be)*Hr,et[6]=(Re*Ft-Jt*bt+ue*Ut)*Hr,et[7]=(Jt*ee-ae*Ft-ue*ye)*Hr,et[8]=(ae*bt-Re*ee+ue*ke)*Hr,et):null}function K(et,rt,Ot){return et[0]=2/rt,et[1]=0,et[2]=0,et[3]=0,et[4]=-2/Ot,et[5]=0,et[6]=-1,et[7]=1,et[8]=1,et}function tt(et){return"mat3("+et[0]+", "+et[1]+", "+et[2]+", "+et[3]+", "+et[4]+", "+et[5]+", "+et[6]+", "+et[7]+", "+et[8]+")"}function q(et){return Math.hypot(et[0],et[1],et[2],et[3],et[4],et[5],et[6],et[7],et[8])}function at(et,rt,Ot){return et[0]=rt[0]+Ot[0],et[1]=rt[1]+Ot[1],et[2]=rt[2]+Ot[2],et[3]=rt[3]+Ot[3],et[4]=rt[4]+Ot[4],et[5]=rt[5]+Ot[5],et[6]=rt[6]+Ot[6],et[7]=rt[7]+Ot[7],et[8]=rt[8]+Ot[8],et}function pt(et,rt,Ot){return et[0]=rt[0]-Ot[0],et[1]=rt[1]-Ot[1],et[2]=rt[2]-Ot[2],et[3]=rt[3]-Ot[3],et[4]=rt[4]-Ot[4],et[5]=rt[5]-Ot[5],et[6]=rt[6]-Ot[6],et[7]=rt[7]-Ot[7],et[8]=rt[8]-Ot[8],et}function ct(et,rt,Ot){return et[0]=rt[0]*Ot,et[1]=rt[1]*Ot,et[2]=rt[2]*Ot,et[3]=rt[3]*Ot,et[4]=rt[4]*Ot,et[5]=rt[5]*Ot,et[6]=rt[6]*Ot,et[7]=rt[7]*Ot,et[8]=rt[8]*Ot,et}function St(et,rt,Ot,Dt){return et[0]=rt[0]+Ot[0]*Dt,et[1]=rt[1]+Ot[1]*Dt,et[2]=rt[2]+Ot[2]*Dt,et[3]=rt[3]+Ot[3]*Dt,et[4]=rt[4]+Ot[4]*Dt,et[5]=rt[5]+Ot[5]*Dt,et[6]=rt[6]+Ot[6]*Dt,et[7]=rt[7]+Ot[7]*Dt,et[8]=rt[8]+Ot[8]*Dt,et}function vt(et,rt){return et[0]===rt[0]&&et[1]===rt[1]&&et[2]===rt[2]&&et[3]===rt[3]&&et[4]===rt[4]&&et[5]===rt[5]&&et[6]===rt[6]&&et[7]===rt[7]&&et[8]===rt[8]}function Lt(et,rt){var Ot=et[0],Dt=et[1],ot=et[2],xt=et[3],Nt=et[4],Yt=et[5],Ct=et[6],Xt=et[7],Zt=et[8],se=rt[0],ie=rt[1],zt=rt[2],ae=rt[3],Re=rt[4],Jt=rt[5],ue=rt[6],ke=rt[7],ye=rt[8];return Math.abs(Ot-se)<=y.EPSILON*Math.max(1,Math.abs(Ot),Math.abs(se))&&Math.abs(Dt-ie)<=y.EPSILON*Math.max(1,Math.abs(Dt),Math.abs(ie))&&Math.abs(ot-zt)<=y.EPSILON*Math.max(1,Math.abs(ot),Math.abs(zt))&&Math.abs(xt-ae)<=y.EPSILON*Math.max(1,Math.abs(xt),Math.abs(ae))&&Math.abs(Nt-Re)<=y.EPSILON*Math.max(1,Math.abs(Nt),Math.abs(Re))&&Math.abs(Yt-Jt)<=y.EPSILON*Math.max(1,Math.abs(Yt),Math.abs(Jt))&&Math.abs(Ct-ue)<=y.EPSILON*Math.max(1,Math.abs(Ct),Math.abs(ue))&&Math.abs(Xt-ke)<=y.EPSILON*Math.max(1,Math.abs(Xt),Math.abs(ke))&&Math.abs(Zt-ye)<=y.EPSILON*Math.max(1,Math.abs(Zt),Math.abs(ye))}var Mt=x,wt=pt},631437:function(Ve,W,_){"use strict";_.r(W),_.d(W,{add:function(){return p},angle:function(){return et},ceil:function(){return b},clone:function(){return w},copy:function(){return P},create:function(){return R},cross:function(){return at},dist:function(){return Xt},distance:function(){return U},div:function(){return Ct},divide:function(){return E},dot:function(){return q},equals:function(){return ot},exactEquals:function(){return Dt},floor:function(){return A},forEach:function(){return ie},fromValues:function(){return M},inverse:function(){return K},len:function(){return xt},length:function(){return z},lerp:function(){return pt},max:function(){return T},min:function(){return x},mul:function(){return Yt},multiply:function(){return S},negate:function(){return X},normalize:function(){return tt},random:function(){return ct},rotate:function(){return wt},round:function(){return B},scale:function(){return m},scaleAndAdd:function(){return f},set:function(){return L},sqrDist:function(){return Zt},sqrLen:function(){return se},squaredDistance:function(){return j},squaredLength:function(){return k},str:function(){return Ot},sub:function(){return Nt},subtract:function(){return g},transformMat2:function(){return St},transformMat2d:function(){return vt},transformMat3:function(){return Lt},transformMat4:function(){return Mt},zero:function(){return rt}});var y=_(73633);function R(){var zt=new y.ARRAY_TYPE(2);return y.ARRAY_TYPE!=Float32Array&&(zt[0]=0,zt[1]=0),zt}function w(zt){var ae=new y.ARRAY_TYPE(2);return ae[0]=zt[0],ae[1]=zt[1],ae}function M(zt,ae){var Re=new y.ARRAY_TYPE(2);return Re[0]=zt,Re[1]=ae,Re}function P(zt,ae){return zt[0]=ae[0],zt[1]=ae[1],zt}function L(zt,ae,Re){return zt[0]=ae,zt[1]=Re,zt}function p(zt,ae,Re){return zt[0]=ae[0]+Re[0],zt[1]=ae[1]+Re[1],zt}function g(zt,ae,Re){return zt[0]=ae[0]-Re[0],zt[1]=ae[1]-Re[1],zt}function S(zt,ae,Re){return zt[0]=ae[0]*Re[0],zt[1]=ae[1]*Re[1],zt}function E(zt,ae,Re){return zt[0]=ae[0]/Re[0],zt[1]=ae[1]/Re[1],zt}function b(zt,ae){return zt[0]=Math.ceil(ae[0]),zt[1]=Math.ceil(ae[1]),zt}function A(zt,ae){return zt[0]=Math.floor(ae[0]),zt[1]=Math.floor(ae[1]),zt}function x(zt,ae,Re){return zt[0]=Math.min(ae[0],Re[0]),zt[1]=Math.min(ae[1],Re[1]),zt}function T(zt,ae,Re){return zt[0]=Math.max(ae[0],Re[0]),zt[1]=Math.max(ae[1],Re[1]),zt}function B(zt,ae){return zt[0]=Math.round(ae[0]),zt[1]=Math.round(ae[1]),zt}function m(zt,ae,Re){return zt[0]=ae[0]*Re,zt[1]=ae[1]*Re,zt}function f(zt,ae,Re,Jt){return zt[0]=ae[0]+Re[0]*Jt,zt[1]=ae[1]+Re[1]*Jt,zt}function U(zt,ae){var Re=ae[0]-zt[0],Jt=ae[1]-zt[1];return Math.hypot(Re,Jt)}function j(zt,ae){var Re=ae[0]-zt[0],Jt=ae[1]-zt[1];return Re*Re+Jt*Jt}function z(zt){var ae=zt[0],Re=zt[1];return Math.hypot(ae,Re)}function k(zt){var ae=zt[0],Re=zt[1];return ae*ae+Re*Re}function X(zt,ae){return zt[0]=-ae[0],zt[1]=-ae[1],zt}function K(zt,ae){return zt[0]=1/ae[0],zt[1]=1/ae[1],zt}function tt(zt,ae){var Re=ae[0],Jt=ae[1],ue=Re*Re+Jt*Jt;return ue>0&&(ue=1/Math.sqrt(ue)),zt[0]=ae[0]*ue,zt[1]=ae[1]*ue,zt}function q(zt,ae){return zt[0]*ae[0]+zt[1]*ae[1]}function at(zt,ae,Re){var Jt=ae[0]*Re[1]-ae[1]*Re[0];return zt[0]=zt[1]=0,zt[2]=Jt,zt}function pt(zt,ae,Re,Jt){var ue=ae[0],ke=ae[1];return zt[0]=ue+Jt*(Re[0]-ue),zt[1]=ke+Jt*(Re[1]-ke),zt}function ct(zt,ae){ae=ae||1;var Re=y.RANDOM()*2*Math.PI;return zt[0]=Math.cos(Re)*ae,zt[1]=Math.sin(Re)*ae,zt}function St(zt,ae,Re){var Jt=ae[0],ue=ae[1];return zt[0]=Re[0]*Jt+Re[2]*ue,zt[1]=Re[1]*Jt+Re[3]*ue,zt}function vt(zt,ae,Re){var Jt=ae[0],ue=ae[1];return zt[0]=Re[0]*Jt+Re[2]*ue+Re[4],zt[1]=Re[1]*Jt+Re[3]*ue+Re[5],zt}function Lt(zt,ae,Re){var Jt=ae[0],ue=ae[1];return zt[0]=Re[0]*Jt+Re[3]*ue+Re[6],zt[1]=Re[1]*Jt+Re[4]*ue+Re[7],zt}function Mt(zt,ae,Re){var Jt=ae[0],ue=ae[1];return zt[0]=Re[0]*Jt+Re[4]*ue+Re[12],zt[1]=Re[1]*Jt+Re[5]*ue+Re[13],zt}function wt(zt,ae,Re,Jt){var ue=ae[0]-Re[0],ke=ae[1]-Re[1],ye=Math.sin(Jt),ee=Math.cos(Jt);return zt[0]=ue*ee-ke*ye+Re[0],zt[1]=ue*ye+ke*ee+Re[1],zt}function et(zt,ae){var Re=zt[0],Jt=zt[1],ue=ae[0],ke=ae[1],ye=Math.sqrt(Re*Re+Jt*Jt)*Math.sqrt(ue*ue+ke*ke),ee=ye&&(Re*ue+Jt*ke)/ye;return Math.acos(Math.min(Math.max(ee,-1),1))}function rt(zt){return zt[0]=0,zt[1]=0,zt}function Ot(zt){return"vec2("+zt[0]+", "+zt[1]+")"}function Dt(zt,ae){return zt[0]===ae[0]&&zt[1]===ae[1]}function ot(zt,ae){var Re=zt[0],Jt=zt[1],ue=ae[0],ke=ae[1];return Math.abs(Re-ue)<=y.EPSILON*Math.max(1,Math.abs(Re),Math.abs(ue))&&Math.abs(Jt-ke)<=y.EPSILON*Math.max(1,Math.abs(Jt),Math.abs(ke))}var xt=z,Nt=g,Yt=S,Ct=E,Xt=U,Zt=j,se=k,ie=function(){var zt=R();return function(ae,Re,Jt,ue,ke,ye){var ee,Ut;for(Re||(Re=2),Jt||(Jt=0),ue?Ut=Math.min(ue*Re+Jt,ae.length):Ut=ae.length,ee=Jt;ee<Ut;ee+=Re)zt[0]=ae[ee],zt[1]=ae[ee+1],ke(zt,zt,ye),ae[ee]=zt[0],ae[ee+1]=zt[1];return ae}}()},277160:function(Ve,W,_){"use strict";_.r(W),_.d(W,{add:function(){return g},angle:function(){return Dt},bezier:function(){return St},ceil:function(){return A},clone:function(){return w},copy:function(){return L},create:function(){return R},cross:function(){return at},dist:function(){return se},distance:function(){return j},div:function(){return Zt},divide:function(){return b},dot:function(){return q},equals:function(){return Yt},exactEquals:function(){return Nt},floor:function(){return x},forEach:function(){return Re},fromValues:function(){return P},hermite:function(){return ct},inverse:function(){return K},len:function(){return zt},length:function(){return M},lerp:function(){return pt},max:function(){return B},min:function(){return T},mul:function(){return Xt},multiply:function(){return E},negate:function(){return X},normalize:function(){return tt},random:function(){return vt},rotateX:function(){return et},rotateY:function(){return rt},rotateZ:function(){return Ot},round:function(){return m},scale:function(){return f},scaleAndAdd:function(){return U},set:function(){return p},sqrDist:function(){return ie},sqrLen:function(){return ae},squaredDistance:function(){return z},squaredLength:function(){return k},str:function(){return xt},sub:function(){return Ct},subtract:function(){return S},transformMat3:function(){return Mt},transformMat4:function(){return Lt},transformQuat:function(){return wt},zero:function(){return ot}});var y=_(73633);function R(){var Jt=new y.ARRAY_TYPE(3);return y.ARRAY_TYPE!=Float32Array&&(Jt[0]=0,Jt[1]=0,Jt[2]=0),Jt}function w(Jt){var ue=new y.ARRAY_TYPE(3);return ue[0]=Jt[0],ue[1]=Jt[1],ue[2]=Jt[2],ue}function M(Jt){var ue=Jt[0],ke=Jt[1],ye=Jt[2];return Math.hypot(ue,ke,ye)}function P(Jt,ue,ke){var ye=new y.ARRAY_TYPE(3);return ye[0]=Jt,ye[1]=ue,ye[2]=ke,ye}function L(Jt,ue){return Jt[0]=ue[0],Jt[1]=ue[1],Jt[2]=ue[2],Jt}function p(Jt,ue,ke,ye){return Jt[0]=ue,Jt[1]=ke,Jt[2]=ye,Jt}function g(Jt,ue,ke){return Jt[0]=ue[0]+ke[0],Jt[1]=ue[1]+ke[1],Jt[2]=ue[2]+ke[2],Jt}function S(Jt,ue,ke){return Jt[0]=ue[0]-ke[0],Jt[1]=ue[1]-ke[1],Jt[2]=ue[2]-ke[2],Jt}function E(Jt,ue,ke){return Jt[0]=ue[0]*ke[0],Jt[1]=ue[1]*ke[1],Jt[2]=ue[2]*ke[2],Jt}function b(Jt,ue,ke){return Jt[0]=ue[0]/ke[0],Jt[1]=ue[1]/ke[1],Jt[2]=ue[2]/ke[2],Jt}function A(Jt,ue){return Jt[0]=Math.ceil(ue[0]),Jt[1]=Math.ceil(ue[1]),Jt[2]=Math.ceil(ue[2]),Jt}function x(Jt,ue){return Jt[0]=Math.floor(ue[0]),Jt[1]=Math.floor(ue[1]),Jt[2]=Math.floor(ue[2]),Jt}function T(Jt,ue,ke){return Jt[0]=Math.min(ue[0],ke[0]),Jt[1]=Math.min(ue[1],ke[1]),Jt[2]=Math.min(ue[2],ke[2]),Jt}function B(Jt,ue,ke){return Jt[0]=Math.max(ue[0],ke[0]),Jt[1]=Math.max(ue[1],ke[1]),Jt[2]=Math.max(ue[2],ke[2]),Jt}function m(Jt,ue){return Jt[0]=Math.round(ue[0]),Jt[1]=Math.round(ue[1]),Jt[2]=Math.round(ue[2]),Jt}function f(Jt,ue,ke){return Jt[0]=ue[0]*ke,Jt[1]=ue[1]*ke,Jt[2]=ue[2]*ke,Jt}function U(Jt,ue,ke,ye){return Jt[0]=ue[0]+ke[0]*ye,Jt[1]=ue[1]+ke[1]*ye,Jt[2]=ue[2]+ke[2]*ye,Jt}function j(Jt,ue){var ke=ue[0]-Jt[0],ye=ue[1]-Jt[1],ee=ue[2]-Jt[2];return Math.hypot(ke,ye,ee)}function z(Jt,ue){var ke=ue[0]-Jt[0],ye=ue[1]-Jt[1],ee=ue[2]-Jt[2];return ke*ke+ye*ye+ee*ee}function k(Jt){var ue=Jt[0],ke=Jt[1],ye=Jt[2];return ue*ue+ke*ke+ye*ye}function X(Jt,ue){return Jt[0]=-ue[0],Jt[1]=-ue[1],Jt[2]=-ue[2],Jt}function K(Jt,ue){return Jt[0]=1/ue[0],Jt[1]=1/ue[1],Jt[2]=1/ue[2],Jt}function tt(Jt,ue){var ke=ue[0],ye=ue[1],ee=ue[2],Ut=ke*ke+ye*ye+ee*ee;return Ut>0&&(Ut=1/Math.sqrt(Ut)),Jt[0]=ue[0]*Ut,Jt[1]=ue[1]*Ut,Jt[2]=ue[2]*Ut,Jt}function q(Jt,ue){return Jt[0]*ue[0]+Jt[1]*ue[1]+Jt[2]*ue[2]}function at(Jt,ue,ke){var ye=ue[0],ee=ue[1],Ut=ue[2],bt=ke[0],Ft=ke[1],be=ke[2];return Jt[0]=ee*be-Ut*Ft,Jt[1]=Ut*bt-ye*be,Jt[2]=ye*Ft-ee*bt,Jt}function pt(Jt,ue,ke,ye){var ee=ue[0],Ut=ue[1],bt=ue[2];return Jt[0]=ee+ye*(ke[0]-ee),Jt[1]=Ut+ye*(ke[1]-Ut),Jt[2]=bt+ye*(ke[2]-bt),Jt}function ct(Jt,ue,ke,ye,ee,Ut){var bt=Ut*Ut,Ft=bt*(2*Ut-3)+1,be=bt*(Ut-2)+Ut,qe=bt*(Ut-1),Pe=bt*(3-2*Ut);return Jt[0]=ue[0]*Ft+ke[0]*be+ye[0]*qe+ee[0]*Pe,Jt[1]=ue[1]*Ft+ke[1]*be+ye[1]*qe+ee[1]*Pe,Jt[2]=ue[2]*Ft+ke[2]*be+ye[2]*qe+ee[2]*Pe,Jt}function St(Jt,ue,ke,ye,ee,Ut){var bt=1-Ut,Ft=bt*bt,be=Ut*Ut,qe=Ft*bt,Pe=3*Ut*Ft,Ze=3*be*bt,Qe=be*Ut;return Jt[0]=ue[0]*qe+ke[0]*Pe+ye[0]*Ze+ee[0]*Qe,Jt[1]=ue[1]*qe+ke[1]*Pe+ye[1]*Ze+ee[1]*Qe,Jt[2]=ue[2]*qe+ke[2]*Pe+ye[2]*Ze+ee[2]*Qe,Jt}function vt(Jt,ue){ue=ue||1;var ke=y.RANDOM()*2*Math.PI,ye=y.RANDOM()*2-1,ee=Math.sqrt(1-ye*ye)*ue;return Jt[0]=Math.cos(ke)*ee,Jt[1]=Math.sin(ke)*ee,Jt[2]=ye*ue,Jt}function Lt(Jt,ue,ke){var ye=ue[0],ee=ue[1],Ut=ue[2],bt=ke[3]*ye+ke[7]*ee+ke[11]*Ut+ke[15];return bt=bt||1,Jt[0]=(ke[0]*ye+ke[4]*ee+ke[8]*Ut+ke[12])/bt,Jt[1]=(ke[1]*ye+ke[5]*ee+ke[9]*Ut+ke[13])/bt,Jt[2]=(ke[2]*ye+ke[6]*ee+ke[10]*Ut+ke[14])/bt,Jt}function Mt(Jt,ue,ke){var ye=ue[0],ee=ue[1],Ut=ue[2];return Jt[0]=ye*ke[0]+ee*ke[3]+Ut*ke[6],Jt[1]=ye*ke[1]+ee*ke[4]+Ut*ke[7],Jt[2]=ye*ke[2]+ee*ke[5]+Ut*ke[8],Jt}function wt(Jt,ue,ke){var ye=ke[0],ee=ke[1],Ut=ke[2],bt=ke[3],Ft=ue[0],be=ue[1],qe=ue[2],Pe=ee*qe-Ut*be,Ze=Ut*Ft-ye*qe,Qe=ye*be-ee*Ft,Ar=ee*Qe-Ut*Ze,Hr=Ut*Pe-ye*Qe,Jr=ye*Ze-ee*Pe,Cr=bt*2;return Pe*=Cr,Ze*=Cr,Qe*=Cr,Ar*=2,Hr*=2,Jr*=2,Jt[0]=Ft+Pe+Ar,Jt[1]=be+Ze+Hr,Jt[2]=qe+Qe+Jr,Jt}function et(Jt,ue,ke,ye){var ee=[],Ut=[];return ee[0]=ue[0]-ke[0],ee[1]=ue[1]-ke[1],ee[2]=ue[2]-ke[2],Ut[0]=ee[0],Ut[1]=ee[1]*Math.cos(ye)-ee[2]*Math.sin(ye),Ut[2]=ee[1]*Math.sin(ye)+ee[2]*Math.cos(ye),Jt[0]=Ut[0]+ke[0],Jt[1]=Ut[1]+ke[1],Jt[2]=Ut[2]+ke[2],Jt}function rt(Jt,ue,ke,ye){var ee=[],Ut=[];return ee[0]=ue[0]-ke[0],ee[1]=ue[1]-ke[1],ee[2]=ue[2]-ke[2],Ut[0]=ee[2]*Math.sin(ye)+ee[0]*Math.cos(ye),Ut[1]=ee[1],Ut[2]=ee[2]*Math.cos(ye)-ee[0]*Math.sin(ye),Jt[0]=Ut[0]+ke[0],Jt[1]=Ut[1]+ke[1],Jt[2]=Ut[2]+ke[2],Jt}function Ot(Jt,ue,ke,ye){var ee=[],Ut=[];return ee[0]=ue[0]-ke[0],ee[1]=ue[1]-ke[1],ee[2]=ue[2]-ke[2],Ut[0]=ee[0]*Math.cos(ye)-ee[1]*Math.sin(ye),Ut[1]=ee[0]*Math.sin(ye)+ee[1]*Math.cos(ye),Ut[2]=ee[2],Jt[0]=Ut[0]+ke[0],Jt[1]=Ut[1]+ke[1],Jt[2]=Ut[2]+ke[2],Jt}function Dt(Jt,ue){var ke=Jt[0],ye=Jt[1],ee=Jt[2],Ut=ue[0],bt=ue[1],Ft=ue[2],be=Math.sqrt(ke*ke+ye*ye+ee*ee),qe=Math.sqrt(Ut*Ut+bt*bt+Ft*Ft),Pe=be*qe,Ze=Pe&&q(Jt,ue)/Pe;return Math.acos(Math.min(Math.max(Ze,-1),1))}function ot(Jt){return Jt[0]=0,Jt[1]=0,Jt[2]=0,Jt}function xt(Jt){return"vec3("+Jt[0]+", "+Jt[1]+", "+Jt[2]+")"}function Nt(Jt,ue){return Jt[0]===ue[0]&&Jt[1]===ue[1]&&Jt[2]===ue[2]}function Yt(Jt,ue){var ke=Jt[0],ye=Jt[1],ee=Jt[2],Ut=ue[0],bt=ue[1],Ft=ue[2];return Math.abs(ke-Ut)<=y.EPSILON*Math.max(1,Math.abs(ke),Math.abs(Ut))&&Math.abs(ye-bt)<=y.EPSILON*Math.max(1,Math.abs(ye),Math.abs(bt))&&Math.abs(ee-Ft)<=y.EPSILON*Math.max(1,Math.abs(ee),Math.abs(Ft))}var Ct=S,Xt=E,Zt=b,se=j,ie=z,zt=M,ae=k,Re=function(){var Jt=R();return function(ue,ke,ye,ee,Ut,bt){var Ft,be;for(ke||(ke=3),ye||(ye=0),ee?be=Math.min(ee*ke+ye,ue.length):be=ue.length,Ft=ye;Ft<be;Ft+=ke)Jt[0]=ue[Ft],Jt[1]=ue[Ft+1],Jt[2]=ue[Ft+2],Ut(Jt,Jt,bt),ue[Ft]=Jt[0],ue[Ft+1]=Jt[1],ue[Ft+2]=Jt[2];return ue}}()},241405:function(Ve,W,_){"use strict";var y=typeof Symbol!="undefined"&&Symbol,R=_(455419);Ve.exports=function(){return typeof y!="function"||typeof Symbol!="function"||typeof y("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:R()}},455419:function(Ve){"use strict";Ve.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var _={},y=Symbol("test"),R=Object(y);if(typeof y=="string"||Object.prototype.toString.call(y)!=="[object Symbol]"||Object.prototype.toString.call(R)!=="[object Symbol]")return!1;var w=42;_[y]=w;for(y in _)return!1;if(typeof Object.keys=="function"&&Object.keys(_).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(_).length!==0)return!1;var M=Object.getOwnPropertySymbols(_);if(M.length!==1||M[0]!==y||!Object.prototype.propertyIsEnumerable.call(_,y))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var P=Object.getOwnPropertyDescriptor(_,y);if(P.value!==w||P.enumerable!==!0)return!1}return!0}},117642:function(Ve,W,_){"use strict";var y=_(158612);Ve.exports=y.call(Function.call,Object.prototype.hasOwnProperty)},738186:function(Ve){var W=[],_=[],y="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function R(M,P){if(P=P||{},M===void 0)throw new Error(y);var L=P.prepend===!0?"prepend":"append",p=P.container!==void 0?P.container:document.querySelector("head"),g=W.indexOf(p);g===-1&&(g=W.push(p)-1,_[g]={});var S;return _[g]!==void 0&&_[g][L]!==void 0?S=_[g][L]:(S=_[g][L]=w(),L==="prepend"?p.insertBefore(S,p.childNodes[0]):p.appendChild(S)),M.charCodeAt(0)===65279&&(M=M.substr(1,M.length)),S.styleSheet?S.styleSheet.cssText+=M:S.textContent+=M,S}function w(){var M=document.createElement("style");return M.setAttribute("type","text/css"),M}Ve.exports=R,Ve.exports.insertCss=R},896874:function(Ve){function W(_,y,R){switch(R.length){case 0:return _.call(y);case 1:return _.call(y,R[0]);case 2:return _.call(y,R[0],R[1]);case 3:return _.call(y,R[0],R[1],R[2])}return _.apply(y,R)}Ve.exports=W},920731:function(Ve,W,_){var y=_(288668),R=_(447443),w=_(301196),M=_(829932),P=_(307518),L=_(274757),p=200;function g(S,E,b,A){var x=-1,T=R,B=!0,m=S.length,f=[],U=E.length;if(!m)return f;b&&(E=M(E,P(b))),A?(T=w,B=!1):E.length>=p&&(T=L,B=!1,E=new y(E));t:for(;++x<m;){var j=S[x],z=b==null?j:b(j);if(j=A||j!==0?j:0,B&&z===z){for(var k=U;k--;)if(E[k]===z)continue t;f.push(j)}else T(E,z,A)||f.push(j)}return f}Ve.exports=g},105976:function(Ve,W,_){var y=_(406557),R=_(545357),w=_(430061);function M(P,L){return w(R(P,L,y),P+"")}Ve.exports=M},356560:function(Ve,W,_){var y=_(575703),R=_(538777),w=_(406557),M=R?function(P,L){return R(P,"toString",{configurable:!0,enumerable:!1,value:y(L),writable:!0})}:w;Ve.exports=M},545357:function(Ve,W,_){var y=_(896874),R=Math.max;function w(M,P,L){return P=R(P===void 0?M.length-1:P,0),function(){for(var p=arguments,g=-1,S=R(p.length-P,0),E=Array(S);++g<S;)E[g]=p[P+g];g=-1;for(var b=Array(P+1);++g<P;)b[g]=p[g];return b[P]=L(E),y(M,this,b)}}Ve.exports=w},430061:function(Ve,W,_){var y=_(356560),R=_(521275),w=R(y);Ve.exports=w},521275:function(Ve){var W=800,_=16,y=Date.now;function R(w){var M=0,P=0;return function(){var L=y(),p=_-(L-P);if(P=L,p>0){if(++M>=W)return arguments[0]}else M=0;return w.apply(void 0,arguments)}}Ve.exports=R},575703:function(Ve){function W(_){return function(){return _}}Ve.exports=W},291966:function(Ve,W,_){var y=_(920731),R=_(121078),w=_(105976),M=_(229246),P=w(function(L,p){return M(L)?y(L,R(p,1,M,!0)):[]});Ve.exports=P},229246:function(Ve,W,_){var y=_(498612),R=_(637005);function w(M){return R(M)&&y(M)}Ve.exports=w},281763:function(Ve,W,_){var y=_(644239),R=_(637005),w="[object Number]";function M(P){return typeof P=="number"||R(P)&&y(P)==w}Ve.exports=M},252796:function(Ve,W,_){Ve.exports=_(410643)},913264:function(Ve){"use strict";var W=!!(typeof window!="undefined"&&window.document&&window.document.createElement),_={canUseDOM:W,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:W&&!!(window.addEventListener||window.attachEvent),canUseViewport:W&&!!window.screen,isInWorker:!W};Ve.exports=_},784518:function(Ve){var W=!1,_,y,R,w,M,P,L,p,g,S,E,b,A,x,T;function B(){if(!W){W=!0;var f=navigator.userAgent,U=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(f),j=/(Mac OS X)|(Windows)|(Linux)/.exec(f);if(b=/\b(iPhone|iP[ao]d)/.exec(f),A=/\b(iP[ao]d)/.exec(f),S=/Android/i.exec(f),x=/FBAN\/\w+;/i.exec(f),T=/Mobile/i.exec(f),E=!!/Win64/.exec(f),U){_=U[1]?parseFloat(U[1]):U[5]?parseFloat(U[5]):NaN,_&&document&&document.documentMode&&(_=document.documentMode);var z=/(?:Trident\/(\d+.\d+))/.exec(f);P=z?parseFloat(z[1])+4:_,y=U[2]?parseFloat(U[2]):NaN,R=U[3]?parseFloat(U[3]):NaN,w=U[4]?parseFloat(U[4]):NaN,w?(U=/(?:Chrome\/(\d+\.\d+))/.exec(f),M=U&&U[1]?parseFloat(U[1]):NaN):M=NaN}else _=y=R=M=w=NaN;if(j){if(j[1]){var k=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(f);L=k?parseFloat(k[1].replace("_",".")):!0}else L=!1;p=!!j[2],g=!!j[3]}else L=p=g=!1}}var m={ie:function(){return B()||_},ieCompatibilityMode:function(){return B()||P>_},ie64:function(){return m.ie()&&E},firefox:function(){return B()||y},opera:function(){return B()||R},webkit:function(){return B()||w},safari:function(){return m.webkit()},chrome:function(){return B()||M},windows:function(){return B()||p},osx:function(){return B()||L},linux:function(){return B()||g},iphone:function(){return B()||b},mobile:function(){return B()||b||A||S||T},nativeApp:function(){return B()||x},android:function(){return B()||S},ipad:function(){return B()||A}};Ve.exports=m},396534:function(Ve,W,_){"use strict";var y=_(913264),R;y.canUseDOM&&(R=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function w(M,P){if(!y.canUseDOM||P&&!("addEventListener"in document))return!1;var L="on"+M,p=L in document;if(!p){var g=document.createElement("div");g.setAttribute(L,"return;"),p=typeof g[L]=="function"}return!p&&R&&M==="wheel"&&(p=document.implementation.hasFeature("Events.wheel","3.0")),p}Ve.exports=w},410643:function(Ve,W,_){"use strict";var y=_(784518),R=_(396534),w=10,M=40,P=800;function L(p){var g=0,S=0,E=0,b=0;return"detail"in p&&(S=p.detail),"wheelDelta"in p&&(S=-p.wheelDelta/120),"wheelDeltaY"in p&&(S=-p.wheelDeltaY/120),"wheelDeltaX"in p&&(g=-p.wheelDeltaX/120),"axis"in p&&p.axis===p.HORIZONTAL_AXIS&&(g=S,S=0),E=g*w,b=S*w,"deltaY"in p&&(b=p.deltaY),"deltaX"in p&&(E=p.deltaX),(E||b)&&p.deltaMode&&(p.deltaMode==1?(E*=M,b*=M):(E*=P,b*=P)),E&&!g&&(g=E<1?-1:1),b&&!S&&(S=b<1?-1:1),{spinX:g,spinY:S,pixelX:E,pixelY:b}}L.getEventType=function(){return y.firefox()?"DOMMouseScroll":R("wheel")?"wheel":"mousewheel"},Ve.exports=L},470631:function(Ve,W,_){var y=typeof Map=="function"&&Map.prototype,R=Object.getOwnPropertyDescriptor&&y?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,w=y&&R&&typeof R.get=="function"?R.get:null,M=y&&Map.prototype.forEach,P=typeof Set=="function"&&Set.prototype,L=Object.getOwnPropertyDescriptor&&P?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,p=P&&L&&typeof L.get=="function"?L.get:null,g=P&&Set.prototype.forEach,S=typeof WeakMap=="function"&&WeakMap.prototype,E=S?WeakMap.prototype.has:null,b=typeof WeakSet=="function"&&WeakSet.prototype,A=b?WeakSet.prototype.has:null,x=typeof WeakRef=="function"&&WeakRef.prototype,T=x?WeakRef.prototype.deref:null,B=Boolean.prototype.valueOf,m=Object.prototype.toString,f=Function.prototype.toString,U=String.prototype.match,j=String.prototype.slice,z=String.prototype.replace,k=String.prototype.toUpperCase,X=String.prototype.toLowerCase,K=RegExp.prototype.test,tt=Array.prototype.concat,q=Array.prototype.join,at=Array.prototype.slice,pt=Math.floor,ct=typeof BigInt=="function"?BigInt.prototype.valueOf:null,St=Object.getOwnPropertySymbols,vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Lt=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Mt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Lt||"symbol")?Symbol.toStringTag:null,wt=Object.prototype.propertyIsEnumerable,et=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ae){return Ae.__proto__}:null);function rt(Ae,Ue){if(Ae===1/0||Ae===-1/0||Ae!==Ae||Ae&&Ae>-1e3&&Ae<1e3||K.call(/e/,Ue))return Ue;var jr=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Ae=="number"){var Br=Ae<0?-pt(-Ae):pt(Ae);if(Br!==Ae){var Sn=String(Br),ir=j.call(Ue,Sn.length+1);return z.call(Sn,jr,"$&_")+"."+z.call(z.call(ir,/([0-9]{3})/g,"$&_"),/_$/,"")}}return z.call(Ue,jr,"$&_")}var Ot=_(824654),Dt=Ot.custom,ot=ae(Dt)?Dt:null;Ve.exports=function Ae(Ue,jr,Br,Sn){var ir=jr||{};if(ue(ir,"quoteStyle")&&ir.quoteStyle!=="single"&&ir.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ue(ir,"maxStringLength")&&(typeof ir.maxStringLength=="number"?ir.maxStringLength<0&&ir.maxStringLength!==1/0:ir.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var mn=ue(ir,"customInspect")?ir.customInspect:!0;if(typeof mn!="boolean"&&mn!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ue(ir,"indent")&&ir.indent!==null&&ir.indent!=="	"&&!(parseInt(ir.indent,10)===ir.indent&&ir.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ue(ir,"numericSeparator")&&typeof ir.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Or=ir.numericSeparator;if(typeof Ue=="undefined")return"undefined";if(Ue===null)return"null";if(typeof Ue=="boolean")return Ue?"true":"false";if(typeof Ue=="string")return Ze(Ue,ir);if(typeof Ue=="number"){if(Ue===0)return 1/0/Ue>0?"0":"-0";var sn=String(Ue);return Or?rt(Ue,sn):sn}if(typeof Ue=="bigint"){var ln=String(Ue)+"n";return Or?rt(Ue,ln):ln}var cn=typeof ir.depth=="undefined"?5:ir.depth;if(typeof Br=="undefined"&&(Br=0),Br>=cn&&cn>0&&typeof Ue=="object")return Yt(Ue)?"[Array]":"[Object]";var Cn=bn(ir,Br);if(typeof Sn=="undefined")Sn=[];else if(ee(Sn,Ue)>=0)return"[Circular]";function V(kt,Rt,qt){if(Rt&&(Sn=at.call(Sn),Sn.push(Rt)),qt){var Le={depth:ir.depth};return ue(ir,"quoteStyle")&&(Le.quoteStyle=ir.quoteStyle),Ae(kt,Le,Br+1,Sn)}return Ae(kt,ir,Br+1,Sn)}if(typeof Ue=="function"&&!Xt(Ue)){var $t=ye(Ue),Q=Xe(Ue,V);return"[Function"+($t?": "+$t:" (anonymous)")+"]"+(Q.length>0?" { "+q.call(Q,", ")+" }":"")}if(ae(Ue)){var gt=Lt?z.call(String(Ue),/^(Symbol\(.*\))_[^)]*$/,"$1"):vt.call(Ue);return typeof Ue=="object"&&!Lt?Ar(gt):gt}if(Pe(Ue)){for(var lt="<"+X.call(String(Ue.nodeName)),Gt=Ue.attributes||[],Qt=0;Qt<Gt.length;Qt++)lt+=" "+Gt[Qt].name+"="+xt(Nt(Gt[Qt].value),"double",ir);return lt+=">",Ue.childNodes&&Ue.childNodes.length&&(lt+="..."),lt+="</"+X.call(String(Ue.nodeName))+">",lt}if(Yt(Ue)){if(Ue.length===0)return"[]";var he=Xe(Ue,V);return Cn&&!Cr(he)?"["+Yr(he,Cn)+"]":"[ "+q.call(he,", ")+" ]"}if(Zt(Ue)){var de=Xe(Ue,V);return!("cause"in Error.prototype)&&"cause"in Ue&&!wt.call(Ue,"cause")?"{ ["+String(Ue)+"] "+q.call(tt.call("[cause]: "+V(Ue.cause),de),", ")+" }":de.length===0?"["+String(Ue)+"]":"{ ["+String(Ue)+"] "+q.call(de,", ")+" }"}if(typeof Ue=="object"&&mn){if(ot&&typeof Ue[ot]=="function"&&Ot)return Ot(Ue,{depth:cn-Br});if(mn!=="symbol"&&typeof Ue.inspect=="function")return Ue.inspect()}if(Ut(Ue)){var fe=[];return M&&M.call(Ue,function(kt,Rt){fe.push(V(Rt,Ue,!0)+" => "+V(kt,Ue))}),Jr("Map",w.call(Ue),fe,Cn)}if(be(Ue)){var it=[];return g&&g.call(Ue,function(kt){it.push(V(kt,Ue))}),Jr("Set",p.call(Ue),it,Cn)}if(bt(Ue))return Hr("WeakMap");if(qe(Ue))return Hr("WeakSet");if(Ft(Ue))return Hr("WeakRef");if(ie(Ue))return Ar(V(Number(Ue)));if(Re(Ue))return Ar(V(ct.call(Ue)));if(zt(Ue))return Ar(B.call(Ue));if(se(Ue))return Ar(V(String(Ue)));if(!Ct(Ue)&&!Xt(Ue)){var ft=Xe(Ue,V),G=et?et(Ue)===Object.prototype:Ue instanceof Object||Ue.constructor===Object,O=Ue instanceof Object?"":"null prototype",D=!G&&Mt&&Object(Ue)===Ue&&Mt in Ue?j.call(ke(Ue),8,-1):O?"Object":"",$=G||typeof Ue.constructor!="function"?"":Ue.constructor.name?Ue.constructor.name+" ":"",mt=$+(D||O?"["+q.call(tt.call([],D||[],O||[]),": ")+"] ":"");return ft.length===0?mt+"{}":Cn?mt+"{"+Yr(ft,Cn)+"}":mt+"{ "+q.call(ft,", ")+" }"}return String(Ue)};function xt(Ae,Ue,jr){var Br=(jr.quoteStyle||Ue)==="double"?'"':"'";return Br+Ae+Br}function Nt(Ae){return z.call(String(Ae),/"/g,"&quot;")}function Yt(Ae){return ke(Ae)==="[object Array]"&&(!Mt||!(typeof Ae=="object"&&Mt in Ae))}function Ct(Ae){return ke(Ae)==="[object Date]"&&(!Mt||!(typeof Ae=="object"&&Mt in Ae))}function Xt(Ae){return ke(Ae)==="[object RegExp]"&&(!Mt||!(typeof Ae=="object"&&Mt in Ae))}function Zt(Ae){return ke(Ae)==="[object Error]"&&(!Mt||!(typeof Ae=="object"&&Mt in Ae))}function se(Ae){return ke(Ae)==="[object String]"&&(!Mt||!(typeof Ae=="object"&&Mt in Ae))}function ie(Ae){return ke(Ae)==="[object Number]"&&(!Mt||!(typeof Ae=="object"&&Mt in Ae))}function zt(Ae){return ke(Ae)==="[object Boolean]"&&(!Mt||!(typeof Ae=="object"&&Mt in Ae))}function ae(Ae){if(Lt)return Ae&&typeof Ae=="object"&&Ae instanceof Symbol;if(typeof Ae=="symbol")return!0;if(!Ae||typeof Ae!="object"||!vt)return!1;try{return vt.call(Ae),!0}catch(Ue){}return!1}function Re(Ae){if(!Ae||typeof Ae!="object"||!ct)return!1;try{return ct.call(Ae),!0}catch(Ue){}return!1}var Jt=Object.prototype.hasOwnProperty||function(Ae){return Ae in this};function ue(Ae,Ue){return Jt.call(Ae,Ue)}function ke(Ae){return m.call(Ae)}function ye(Ae){if(Ae.name)return Ae.name;var Ue=U.call(f.call(Ae),/^function\s*([\w$]+)/);return Ue?Ue[1]:null}function ee(Ae,Ue){if(Ae.indexOf)return Ae.indexOf(Ue);for(var jr=0,Br=Ae.length;jr<Br;jr++)if(Ae[jr]===Ue)return jr;return-1}function Ut(Ae){if(!w||!Ae||typeof Ae!="object")return!1;try{w.call(Ae);try{p.call(Ae)}catch(Ue){return!0}return Ae instanceof Map}catch(Ue){}return!1}function bt(Ae){if(!E||!Ae||typeof Ae!="object")return!1;try{E.call(Ae,E);try{A.call(Ae,A)}catch(Ue){return!0}return Ae instanceof WeakMap}catch(Ue){}return!1}function Ft(Ae){if(!T||!Ae||typeof Ae!="object")return!1;try{return T.call(Ae),!0}catch(Ue){}return!1}function be(Ae){if(!p||!Ae||typeof Ae!="object")return!1;try{p.call(Ae);try{w.call(Ae)}catch(Ue){return!0}return Ae instanceof Set}catch(Ue){}return!1}function qe(Ae){if(!A||!Ae||typeof Ae!="object")return!1;try{A.call(Ae,A);try{E.call(Ae,E)}catch(Ue){return!0}return Ae instanceof WeakSet}catch(Ue){}return!1}function Pe(Ae){return!Ae||typeof Ae!="object"?!1:typeof HTMLElement!="undefined"&&Ae instanceof HTMLElement?!0:typeof Ae.nodeName=="string"&&typeof Ae.getAttribute=="function"}function Ze(Ae,Ue){if(Ae.length>Ue.maxStringLength){var jr=Ae.length-Ue.maxStringLength,Br="... "+jr+" more character"+(jr>1?"s":"");return Ze(j.call(Ae,0,Ue.maxStringLength),Ue)+Br}var Sn=z.call(z.call(Ae,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Qe);return xt(Sn,"single",Ue)}function Qe(Ae){var Ue=Ae.charCodeAt(0),jr={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ue];return jr?"\\"+jr:"\\x"+(Ue<16?"0":"")+k.call(Ue.toString(16))}function Ar(Ae){return"Object("+Ae+")"}function Hr(Ae){return Ae+" { ? }"}function Jr(Ae,Ue,jr,Br){var Sn=Br?Yr(jr,Br):q.call(jr,", ");return Ae+" ("+Ue+") {"+Sn+"}"}function Cr(Ae){for(var Ue=0;Ue<Ae.length;Ue++)if(ee(Ae[Ue],`
`)>=0)return!1;return!0}function bn(Ae,Ue){var jr;if(Ae.indent==="	")jr="	";else if(typeof Ae.indent=="number"&&Ae.indent>0)jr=q.call(Array(Ae.indent+1)," ");else return null;return{base:jr,prev:q.call(Array(Ue+1),jr)}}function Yr(Ae,Ue){if(Ae.length===0)return"";var jr=`
`+Ue.prev+Ue.base;return jr+q.call(Ae,","+jr)+`
`+Ue.prev}function Xe(Ae,Ue){var jr=Yt(Ae),Br=[];if(jr){Br.length=Ae.length;for(var Sn=0;Sn<Ae.length;Sn++)Br[Sn]=ue(Ae,Sn)?Ue(Ae[Sn],Ae):""}var ir=typeof St=="function"?St(Ae):[],mn;if(Lt){mn={};for(var Or=0;Or<ir.length;Or++)mn["$"+ir[Or]]=ir[Or]}for(var sn in Ae)ue(Ae,sn)&&(jr&&String(Number(sn))===sn&&sn<Ae.length||Lt&&mn["$"+sn]instanceof Symbol||(K.call(/[^\w$]/,sn)?Br.push(Ue(sn,Ae)+": "+Ue(Ae[sn],Ae)):Br.push(sn+": "+Ue(Ae[sn],Ae))));if(typeof St=="function")for(var ln=0;ln<ir.length;ln++)wt.call(Ae,ir[ln])&&Br.push("["+Ue(ir[ln])+"]: "+Ue(Ae[ir[ln]],Ae));return Br}},75:function(Ve,W,_){var y=_(734155);(function(){var R,w,M,P,L,p;typeof performance!="undefined"&&performance!==null&&performance.now?Ve.exports=function(){return performance.now()}:typeof y!="undefined"&&y!==null&&y.hrtime?(Ve.exports=function(){return(R()-L)/1e6},w=y.hrtime,R=function(){var g;return g=w(),g[0]*1e9+g[1]},P=R(),p=y.uptime()*1e9,L=P-p):Date.now?(Ve.exports=function(){return Date.now()-M},M=Date.now()):(Ve.exports=function(){return new Date().getTime()-M},M=new Date().getTime())}).call(this)},134569:function(Ve){"use strict";var W=String.prototype.replace,_=/%20/g,y={RFC1738:"RFC1738",RFC3986:"RFC3986"};Ve.exports={default:y.RFC3986,formatters:{RFC1738:function(R){return W.call(R,_,"+")},RFC3986:function(R){return String(R)}},RFC1738:y.RFC1738,RFC3986:y.RFC3986}},280129:function(Ve,W,_){"use strict";var y=_(458261),R=_(355235),w=_(134569);Ve.exports={formats:w,parse:R,stringify:y}},355235:function(Ve,W,_){"use strict";var y=_(412769),R=Object.prototype.hasOwnProperty,w=Array.isArray,M={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:y.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},P=function(x){return x.replace(/&#(\d+);/g,function(T,B){return String.fromCharCode(parseInt(B,10))})},L=function(x,T){return x&&typeof x=="string"&&T.comma&&x.indexOf(",")>-1?x.split(","):x},p="utf8=%26%2310003%3B",g="utf8=%E2%9C%93",S=function(T,B){var m={},f=B.ignoreQueryPrefix?T.replace(/^\?/,""):T,U=B.parameterLimit===1/0?void 0:B.parameterLimit,j=f.split(B.delimiter,U),z=-1,k,X=B.charset;if(B.charsetSentinel)for(k=0;k<j.length;++k)j[k].indexOf("utf8=")===0&&(j[k]===g?X="utf-8":j[k]===p&&(X="iso-8859-1"),z=k,k=j.length);for(k=0;k<j.length;++k)if(k!==z){var K=j[k],tt=K.indexOf("]="),q=tt===-1?K.indexOf("="):tt+1,at,pt;q===-1?(at=B.decoder(K,M.decoder,X,"key"),pt=B.strictNullHandling?null:""):(at=B.decoder(K.slice(0,q),M.decoder,X,"key"),pt=y.maybeMap(L(K.slice(q+1),B),function(ct){return B.decoder(ct,M.decoder,X,"value")})),pt&&B.interpretNumericEntities&&X==="iso-8859-1"&&(pt=P(pt)),K.indexOf("[]=")>-1&&(pt=w(pt)?[pt]:pt),R.call(m,at)?m[at]=y.combine(m[at],pt):m[at]=pt}return m},E=function(x,T,B,m){for(var f=m?T:L(T,B),U=x.length-1;U>=0;--U){var j,z=x[U];if(z==="[]"&&B.parseArrays)j=[].concat(f);else{j=B.plainObjects?Object.create(null):{};var k=z.charAt(0)==="["&&z.charAt(z.length-1)==="]"?z.slice(1,-1):z,X=parseInt(k,10);!B.parseArrays&&k===""?j={0:f}:!isNaN(X)&&z!==k&&String(X)===k&&X>=0&&B.parseArrays&&X<=B.arrayLimit?(j=[],j[X]=f):k!=="__proto__"&&(j[k]=f)}f=j}return f},b=function(T,B,m,f){if(T){var U=m.allowDots?T.replace(/\.([^.[]+)/g,"[$1]"):T,j=/(\[[^[\]]*])/,z=/(\[[^[\]]*])/g,k=m.depth>0&&j.exec(U),X=k?U.slice(0,k.index):U,K=[];if(X){if(!m.plainObjects&&R.call(Object.prototype,X)&&!m.allowPrototypes)return;K.push(X)}for(var tt=0;m.depth>0&&(k=z.exec(U))!==null&&tt<m.depth;){if(tt+=1,!m.plainObjects&&R.call(Object.prototype,k[1].slice(1,-1))&&!m.allowPrototypes)return;K.push(k[1])}return k&&K.push("["+U.slice(k.index)+"]"),E(K,B,m,f)}},A=function(T){if(!T)return M;if(T.decoder!==null&&T.decoder!==void 0&&typeof T.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof T.charset!="undefined"&&T.charset!=="utf-8"&&T.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var B=typeof T.charset=="undefined"?M.charset:T.charset;return{allowDots:typeof T.allowDots=="undefined"?M.allowDots:!!T.allowDots,allowPrototypes:typeof T.allowPrototypes=="boolean"?T.allowPrototypes:M.allowPrototypes,allowSparse:typeof T.allowSparse=="boolean"?T.allowSparse:M.allowSparse,arrayLimit:typeof T.arrayLimit=="number"?T.arrayLimit:M.arrayLimit,charset:B,charsetSentinel:typeof T.charsetSentinel=="boolean"?T.charsetSentinel:M.charsetSentinel,comma:typeof T.comma=="boolean"?T.comma:M.comma,decoder:typeof T.decoder=="function"?T.decoder:M.decoder,delimiter:typeof T.delimiter=="string"||y.isRegExp(T.delimiter)?T.delimiter:M.delimiter,depth:typeof T.depth=="number"||T.depth===!1?+T.depth:M.depth,ignoreQueryPrefix:T.ignoreQueryPrefix===!0,interpretNumericEntities:typeof T.interpretNumericEntities=="boolean"?T.interpretNumericEntities:M.interpretNumericEntities,parameterLimit:typeof T.parameterLimit=="number"?T.parameterLimit:M.parameterLimit,parseArrays:T.parseArrays!==!1,plainObjects:typeof T.plainObjects=="boolean"?T.plainObjects:M.plainObjects,strictNullHandling:typeof T.strictNullHandling=="boolean"?T.strictNullHandling:M.strictNullHandling}};Ve.exports=function(x,T){var B=A(T);if(x===""||x===null||typeof x=="undefined")return B.plainObjects?Object.create(null):{};for(var m=typeof x=="string"?S(x,B):x,f=B.plainObjects?Object.create(null):{},U=Object.keys(m),j=0;j<U.length;++j){var z=U[j],k=b(z,m[z],B,typeof x=="string");f=y.merge(f,k,B)}return B.allowSparse===!0?f:y.compact(f)}},458261:function(Ve,W,_){"use strict";var y=_(937478),R=_(412769),w=_(134569),M=Object.prototype.hasOwnProperty,P={brackets:function(f){return f+"[]"},comma:"comma",indices:function(f,U){return f+"["+U+"]"},repeat:function(f){return f}},L=Array.isArray,p=Array.prototype.push,g=function(m,f){p.apply(m,L(f)?f:[f])},S=Date.prototype.toISOString,E=w.default,b={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:R.encode,encodeValuesOnly:!1,format:E,formatter:w.formatters[E],indices:!1,serializeDate:function(f){return S.call(f)},skipNulls:!1,strictNullHandling:!1},A=function(f){return typeof f=="string"||typeof f=="number"||typeof f=="boolean"||typeof f=="symbol"||typeof f=="bigint"},x={},T=function m(f,U,j,z,k,X,K,tt,q,at,pt,ct,St,vt,Lt,Mt){for(var wt=f,et=Mt,rt=0,Ot=!1;(et=et.get(x))!==void 0&&!Ot;){var Dt=et.get(f);if(rt+=1,typeof Dt!="undefined"){if(Dt===rt)throw new RangeError("Cyclic object value");Ot=!0}typeof et.get(x)=="undefined"&&(rt=0)}if(typeof tt=="function"?wt=tt(U,wt):wt instanceof Date?wt=pt(wt):j==="comma"&&L(wt)&&(wt=R.maybeMap(wt,function(ae){return ae instanceof Date?pt(ae):ae})),wt===null){if(k)return K&&!vt?K(U,b.encoder,Lt,"key",ct):U;wt=""}if(A(wt)||R.isBuffer(wt)){if(K){var ot=vt?U:K(U,b.encoder,Lt,"key",ct);return[St(ot)+"="+St(K(wt,b.encoder,Lt,"value",ct))]}return[St(U)+"="+St(String(wt))]}var xt=[];if(typeof wt=="undefined")return xt;var Nt;if(j==="comma"&&L(wt))vt&&K&&(wt=R.maybeMap(wt,K)),Nt=[{value:wt.length>0?wt.join(",")||null:void 0}];else if(L(tt))Nt=tt;else{var Yt=Object.keys(wt);Nt=q?Yt.sort(q):Yt}for(var Ct=z&&L(wt)&&wt.length===1?U+"[]":U,Xt=0;Xt<Nt.length;++Xt){var Zt=Nt[Xt],se=typeof Zt=="object"&&typeof Zt.value!="undefined"?Zt.value:wt[Zt];if(!(X&&se===null)){var ie=L(wt)?typeof j=="function"?j(Ct,Zt):Ct:Ct+(at?"."+Zt:"["+Zt+"]");Mt.set(f,rt);var zt=y();zt.set(x,Mt),g(xt,m(se,ie,j,z,k,X,j==="comma"&&vt&&L(wt)?null:K,tt,q,at,pt,ct,St,vt,Lt,zt))}}return xt},B=function(f){if(!f)return b;if(f.encoder!==null&&typeof f.encoder!="undefined"&&typeof f.encoder!="function")throw new TypeError("Encoder has to be a function.");var U=f.charset||b.charset;if(typeof f.charset!="undefined"&&f.charset!=="utf-8"&&f.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var j=w.default;if(typeof f.format!="undefined"){if(!M.call(w.formatters,f.format))throw new TypeError("Unknown format option provided.");j=f.format}var z=w.formatters[j],k=b.filter;return(typeof f.filter=="function"||L(f.filter))&&(k=f.filter),{addQueryPrefix:typeof f.addQueryPrefix=="boolean"?f.addQueryPrefix:b.addQueryPrefix,allowDots:typeof f.allowDots=="undefined"?b.allowDots:!!f.allowDots,charset:U,charsetSentinel:typeof f.charsetSentinel=="boolean"?f.charsetSentinel:b.charsetSentinel,delimiter:typeof f.delimiter=="undefined"?b.delimiter:f.delimiter,encode:typeof f.encode=="boolean"?f.encode:b.encode,encoder:typeof f.encoder=="function"?f.encoder:b.encoder,encodeValuesOnly:typeof f.encodeValuesOnly=="boolean"?f.encodeValuesOnly:b.encodeValuesOnly,filter:k,format:j,formatter:z,serializeDate:typeof f.serializeDate=="function"?f.serializeDate:b.serializeDate,skipNulls:typeof f.skipNulls=="boolean"?f.skipNulls:b.skipNulls,sort:typeof f.sort=="function"?f.sort:null,strictNullHandling:typeof f.strictNullHandling=="boolean"?f.strictNullHandling:b.strictNullHandling}};Ve.exports=function(m,f){var U=m,j=B(f),z,k;typeof j.filter=="function"?(k=j.filter,U=k("",U)):L(j.filter)&&(k=j.filter,z=k);var X=[];if(typeof U!="object"||U===null)return"";var K;f&&f.arrayFormat in P?K=f.arrayFormat:f&&"indices"in f?K=f.indices?"indices":"repeat":K="indices";var tt=P[K];if(f&&"commaRoundTrip"in f&&typeof f.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var q=tt==="comma"&&f&&f.commaRoundTrip;z||(z=Object.keys(U)),j.sort&&z.sort(j.sort);for(var at=y(),pt=0;pt<z.length;++pt){var ct=z[pt];j.skipNulls&&U[ct]===null||g(X,T(U[ct],ct,tt,q,j.strictNullHandling,j.skipNulls,j.encode?j.encoder:null,j.filter,j.sort,j.allowDots,j.serializeDate,j.format,j.formatter,j.encodeValuesOnly,j.charset,at))}var St=X.join(j.delimiter),vt=j.addQueryPrefix===!0?"?":"";return j.charsetSentinel&&(j.charset==="iso-8859-1"?vt+="utf8=%26%2310003%3B&":vt+="utf8=%E2%9C%93&"),St.length>0?vt+St:""}},412769:function(Ve,W,_){"use strict";var y=_(134569),R=Object.prototype.hasOwnProperty,w=Array.isArray,M=function(){for(var m=[],f=0;f<256;++f)m.push("%"+((f<16?"0":"")+f.toString(16)).toUpperCase());return m}(),P=function(f){for(;f.length>1;){var U=f.pop(),j=U.obj[U.prop];if(w(j)){for(var z=[],k=0;k<j.length;++k)typeof j[k]!="undefined"&&z.push(j[k]);U.obj[U.prop]=z}}},L=function(f,U){for(var j=U&&U.plainObjects?Object.create(null):{},z=0;z<f.length;++z)typeof f[z]!="undefined"&&(j[z]=f[z]);return j},p=function m(f,U,j){if(!U)return f;if(typeof U!="object"){if(w(f))f.push(U);else if(f&&typeof f=="object")(j&&(j.plainObjects||j.allowPrototypes)||!R.call(Object.prototype,U))&&(f[U]=!0);else return[f,U];return f}if(!f||typeof f!="object")return[f].concat(U);var z=f;return w(f)&&!w(U)&&(z=L(f,j)),w(f)&&w(U)?(U.forEach(function(k,X){if(R.call(f,X)){var K=f[X];K&&typeof K=="object"&&k&&typeof k=="object"?f[X]=m(K,k,j):f.push(k)}else f[X]=k}),f):Object.keys(U).reduce(function(k,X){var K=U[X];return R.call(k,X)?k[X]=m(k[X],K,j):k[X]=K,k},z)},g=function(f,U){return Object.keys(U).reduce(function(j,z){return j[z]=U[z],j},f)},S=function(m,f,U){var j=m.replace(/\+/g," ");if(U==="iso-8859-1")return j.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(j)}catch(z){return j}},E=function(f,U,j,z,k){if(f.length===0)return f;var X=f;if(typeof f=="symbol"?X=Symbol.prototype.toString.call(f):typeof f!="string"&&(X=String(f)),j==="iso-8859-1")return escape(X).replace(/%u[0-9a-f]{4}/gi,function(at){return"%26%23"+parseInt(at.slice(2),16)+"%3B"});for(var K="",tt=0;tt<X.length;++tt){var q=X.charCodeAt(tt);if(q===45||q===46||q===95||q===126||q>=48&&q<=57||q>=65&&q<=90||q>=97&&q<=122||k===y.RFC1738&&(q===40||q===41)){K+=X.charAt(tt);continue}if(q<128){K=K+M[q];continue}if(q<2048){K=K+(M[192|q>>6]+M[128|q&63]);continue}if(q<55296||q>=57344){K=K+(M[224|q>>12]+M[128|q>>6&63]+M[128|q&63]);continue}tt+=1,q=65536+((q&1023)<<10|X.charCodeAt(tt)&1023),K+=M[240|q>>18]+M[128|q>>12&63]+M[128|q>>6&63]+M[128|q&63]}return K},b=function(f){for(var U=[{obj:{o:f},prop:"o"}],j=[],z=0;z<U.length;++z)for(var k=U[z],X=k.obj[k.prop],K=Object.keys(X),tt=0;tt<K.length;++tt){var q=K[tt],at=X[q];typeof at=="object"&&at!==null&&j.indexOf(at)===-1&&(U.push({obj:X,prop:q}),j.push(at))}return P(U),f},A=function(f){return Object.prototype.toString.call(f)==="[object RegExp]"},x=function(f){return!f||typeof f!="object"?!1:!!(f.constructor&&f.constructor.isBuffer&&f.constructor.isBuffer(f))},T=function(f,U){return[].concat(f,U)},B=function(f,U){if(w(f)){for(var j=[],z=0;z<f.length;z+=1)j.push(U(f[z]));return j}return U(f)};Ve.exports={arrayToObject:L,assign:g,combine:T,compact:b,decode:S,encode:E,isBuffer:x,isRegExp:A,maybeMap:B,merge:p}},654087:function(Ve,W,_){for(var y=_(75),R=typeof window=="undefined"?_.g:window,w=["moz","webkit"],M="AnimationFrame",P=R["request"+M],L=R["cancel"+M]||R["cancelRequest"+M],p=0;!P&&p<w.length;p++)P=R[w[p]+"Request"+M],L=R[w[p]+"Cancel"+M]||R[w[p]+"CancelRequest"+M];if(!P||!L){var g=0,S=0,E=[],b=1e3/60;P=function(A){if(E.length===0){var x=y(),T=Math.max(0,b-(x-g));g=T+x,setTimeout(function(){var B=E.slice(0);E.length=0;for(var m=0;m<B.length;m++)if(!B[m].cancelled)try{B[m].callback(g)}catch(f){setTimeout(function(){throw f},0)}},Math.round(T))}return E.push({handle:++S,callback:A,cancelled:!1}),S},L=function(A){for(var x=0;x<E.length;x++)E[x].handle===A&&(E[x].cancelled=!0)}}Ve.exports=function(A){return P.call(R,A)},Ve.exports.cancel=function(){L.apply(R,arguments)},Ve.exports.polyfill=function(A){A||(A=R),A.requestAnimationFrame=P,A.cancelAnimationFrame=L}},174219:function(Ve,W){"use strict";var _;_={value:!0},W.Z=void 0;var y={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"};W.Z=y},585369:function(Ve,W){"use strict";var _;_={value:!0},W.Z=void 0;var y={locale:"zh_CN",today:"\u4ECA\u5929",now:"\u6B64\u523B",backToToday:"\u8FD4\u56DE\u4ECA\u5929",ok:"\u786E\u5B9A",timeSelect:"\u9009\u62E9\u65F6\u95F4",dateSelect:"\u9009\u62E9\u65E5\u671F",weekSelect:"\u9009\u62E9\u5468",clear:"\u6E05\u9664",month:"\u6708",year:"\u5E74",previousMonth:"\u4E0A\u4E2A\u6708 (\u7FFB\u9875\u4E0A\u952E)",nextMonth:"\u4E0B\u4E2A\u6708 (\u7FFB\u9875\u4E0B\u952E)",monthSelect:"\u9009\u62E9\u6708\u4EFD",yearSelect:"\u9009\u62E9\u5E74\u4EFD",decadeSelect:"\u9009\u62E9\u5E74\u4EE3",yearFormat:"YYYY\u5E74",dayFormat:"D\u65E5",dateFormat:"YYYY\u5E74M\u6708D\u65E5",dateTimeFormat:"YYYY\u5E74M\u6708D\u65E5 HH\u65F6mm\u5206ss\u79D2",previousYear:"\u4E0A\u4E00\u5E74 (Control\u952E\u52A0\u5DE6\u65B9\u5411\u952E)",nextYear:"\u4E0B\u4E00\u5E74 (Control\u952E\u52A0\u53F3\u65B9\u5411\u952E)",previousDecade:"\u4E0A\u4E00\u5E74\u4EE3",nextDecade:"\u4E0B\u4E00\u5E74\u4EE3",previousCentury:"\u4E0A\u4E00\u4E16\u7EAA",nextCentury:"\u4E0B\u4E00\u4E16\u7EAA"},R=y;W.Z=R},752376:function(Ve,W,_){"use strict";_.d(W,{Z:function(){return $t}});var y=_(671002),R=_(601413),w=_(297685),M=_(700091),P=_(667294);function L(Q){var gt=[];return P.Children.forEach(Q,function(lt){gt.push(lt)}),gt}function p(Q,gt){var lt=null;return Q&&Q.forEach(function(Gt){lt||!Gt||Gt.key===gt&&(lt=Gt)}),lt}function g(Q,gt){var lt=[],Gt={},Qt=[],he=null;return Q.forEach(function(de){de&&(de.key&&p(gt,de.key)?(Qt.length&&(Gt[de.key]=Qt,Qt=[]),he=de.key):de.key&&Qt.push(de))}),he||(lt=lt.concat(Qt)),gt.forEach(function(de){de&&(de.key&&Gt.hasOwnProperty(de.key)&&(lt=lt.concat(Gt[de.key])),lt.push(de),de.key===he&&(lt=lt.concat(Qt)))}),lt}function S(Q,gt,lt){var Gt;return typeof Q=="function"?Gt=Q({key:gt,index:lt}):Gt=Q,Gt}function E(Q){return Q&&Q.children}var b=!(typeof window!="undefined"&&window.document&&window.document.createElement),A=b?P.useEffect:P.useLayoutEffect,x=_(974902),T=_(973935),B=_(364687),m=_.n(B),f=_(115861),U=_(215671),j=_(143144),z=_(952191);function k(){}var X=z.rV,K=/.*shadow$/gi,tt=!(typeof window!="undefined"&&window.document&&window.document.createElement),q=Date.now;function at(Q){if(typeof Q=="string"){if(Q.charAt(0).match(/m/i)){var gt=document.createElementNS("http://www.w3.org/2000/svg","path");return gt.setAttributeNS(null,"d",Q),gt}return document.querySelector(Q)}else if(Q.style)return Q;throw new Error("Error while parsing the path")}var pt={type:"to",duration:450,delay:0,repeat:0,repeatDelay:0,appearTo:0,yoyo:!1,ease:"easeInOutQuad",onStart:k,onUpdate:k,onComplete:k,onRepeat:k,startAt:{}},ct={animation:{},paused:!1,reverse:!1,delay:0,repeat:0,repeatDelay:0,yoyo:!1,moment:null,resetStyle:!1,regionStartTime:0,regionEndTime:void 0,onChange:k,onChangeTimeline:k},St=function(gt){var lt={};return Object.keys(ct).forEach(function(Gt){lt[Gt]=typeof gt[Gt]=="undefined"?ct[Gt]:gt[Gt]}),lt.delay&&(lt.delay=Math.round(lt.delay)),gt.repeatDelay&&(lt.repeatDelay=Math.round(lt.repeatDelay)),lt},vt=function(gt){if(Array.isArray(gt)||!gt)return gt;if(gt.length){var lt=Array.prototype.slice.call(gt);return lt.length?[gt]:lt}return[gt]},Lt=function(gt){return gt.length===1?gt[0]:gt},Mt=function(gt,lt){var Gt=lt.appearTo,Qt=Gt===void 0?0:Gt,he=lt.delay,de=he===void 0?0:he,fe=lt.duration,it=fe===void 0?450:fe,ft=lt.repeat,G=lt.repeatDelay;if(typeof Qt=="string")return 0;var O,D=0;return typeof gt.appearTo=="number"?gt.appearTo:(typeof gt.appearTo=="string"&&gt.appearTo.charAt(1)==="="&&(D=parseFloat(gt.appearTo.replace("=",""))),O=Qt+de+it+D,ft===-1?O=Number.MAX_VALUE:ft&&(O=Qt+de+it*(ft+1)+(G||0)*ft+D),O)},wt=function(gt){switch(gt){case"opacity":case"scaleX":case"scaleY":case"scale":return 1;default:return 0}},et=function(gt,lt){var Gt=typeof gt=="string"?parseFloat(gt):gt;return rt(Gt,lt.vars,1,lt.count,lt.unit)},rt=function(gt,lt,Gt){var Qt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",he=arguments.length>4?arguments[4]:void 0;return Qt==="+="||Qt==="-="?gt+lt*Gt+(he||0):(lt-gt)*Gt+gt+(he||0)},Ot=function(gt){if(!gt)return{};var lt=typeof window!="undefined"&&document.defaultView?document.defaultView.getComputedStyle(gt):{};return lt},Dt={margin:1,padding:1,borderWidth:1,borderRadius:1};function ot(Q){var gt=Q.target,lt=Q.computedStyle,Gt=Q.style,Qt=Q.value,he=Q.startUnit,de=Q.endUnit,fe=Q.fixed,it=Q.isOriginWidth,ft=Q.useCurrentTarget;if(tt)return Qt;var G=/(?:Left|Right|Width|X)/i.test(Gt)||it;G=Gt==="padding"||Gt==="marign"?!0:G;var O=Gt.indexOf("border")!==-1||Gt.indexOf("translate")!==-1||Gt==="transformOrigin"||ft?gt:gt.parentNode||document.body;O=fe?document.body:O;var D,$,mt;switch(he){case"%":D=parseFloat(Qt)/100*(G?O.clientWidth:O.clientHeight);break;case"vw":D=parseFloat(Qt)*document.body.clientWidth/100;break;case"vh":D=parseFloat(Qt)*document.body.clientHeight/100;break;case"em":lt?D=parseFloat(Qt)*parseFloat(lt.fontSize):(mt="em",D=parseFloat(Qt));break;case"rem":{lt?($=window.getComputedStyle(document.getElementsByTagName("html")[0]),D=parseFloat(Qt)*parseFloat($.fontSize)):(mt="rem",D=parseFloat(Qt));break}default:D=parseFloat(Qt);break}switch(de){case"%":D=D?D*100/(G?O.clientWidth:O.clientHeight):0;break;case"vw":D=parseFloat(Qt)/document.body.clientWidth*100;break;case"vh":D=parseFloat(Qt)/document.body.clientHeight*100;break;case"em":lt?D=parseFloat(Qt)/parseFloat(lt.fontSize):(mt="em",D=parseFloat(Qt));break;case"rem":{lt?($=$||window.getComputedStyle(document.getElementsByTagName("html")[0]),D=parseFloat(Qt)/parseFloat($.fontSize)):(mt="rem",D=parseFloat(Qt));break}default:break}return mt&&console.warn("Warning: Element is not 'DOM, can not use '".concat(mt,"', automatically convert to animation units.")),D}function xt(Q){if(typeof Q=="string")return Q;var gt=Q.perspective,lt=Q.rotate,Gt=Q.rotateX,Qt=Q.rotateY,he=Q.scaleX,de=Q.scaleY,fe=Q.scaleZ,it=Q.skewX,ft=Q.skewY,G=typeof Q.translateX=="string"?Q.translateX:"".concat(Q.translateX,"px"),O=typeof Q.translateY=="string"?Q.translateY:"".concat(Q.translateY,"px"),D=typeof Q.translateZ=="string"?Q.translateZ:"".concat(Q.translateZ,"px"),$=it||ft?"skew(".concat(it,"deg,").concat(ft,"deg)"):"",mt=lt?"rotate(".concat(lt,"deg)"):"",kt=he!==1||de!==1||fe!==1?"scale3d(".concat(he,",").concat(de,",").concat(fe,")"):"",Rt=Gt?"rotateX(".concat(Gt,"deg)"):"",qt=Qt?"rotateY(".concat(Qt,"deg)"):"",Le=gt?"perspective(".concat(gt,"px)"):"",Me=kt||mt||Rt||qt||$?"":"translate(0px, 0px)",Ke=Q.translateZ?"translate3d(".concat(G,",").concat(O,",").concat(D,")"):(Q.translateX||Q.translateY)&&"translate(".concat(G,",").concat(O,")")||Me;return"".concat(Le," ").concat(Ke," ").concat(kt," ").concat(mt," ").concat(Rt," ").concat(qt," ").concat($).trim()}var Nt={brightness:1,saturate:1,contrast:1,grayScale:0,hueRotate:"0deg",sepia:0,invert:0},Yt=(0,j.Z)(function Q(){var gt=this;(0,U.Z)(this,Q),this.push=function(lt){vt(lt).forEach(function(Gt){gt[Gt.className]=Gt})},this.register=this.push}),Ct=new Yt,Xt=/%|vw|vh|em|rem/i,Zt=(0,j.Z)(function Q(gt){var lt=this;(0,U.Z)(this,Q),this.props=void 0,this.computedStyle=void 0,this.root=void 0,this.index=void 0,this.targetIndex=void 0,this.tweenVars={},this.transformName=void 0,this.filterName=void 0,this.target=void 0,this.start={},this.startAt={},this.propsData={data:{},type:{},unit:{},count:{},splitStr:{},isTransform:{}},this.setDefaultData=function(){var Gt=lt.props;for(var Qt in Gt){var he=Gt[Qt],de=he.split&&he.split(/\s+|,/).length>1||Qt.match(/color|fill|stroke/i)||Qt.match(/shadow/i),fe=(Qt==="background"||Qt==="backgroundImage")&&he.match(/[a-z|-]+\(([\s\S]*?)\)/gi);if(fe){lt.propsData.data[Qt]={value:he,plugin:Ct.GradientsPlugin};continue}if(de){lt.propsData.data[Qt]={value:he,plugin:Ct.ArrayPlugin};continue}var it=(0,z.Lo)(Qt),ft=lt.getTweenData(it,Gt[Qt]);lt.propsData.data[it]=ft.data[it],lt.propsData.type[it]=ft.type[it],lt.propsData.unit[it]=ft.unit[it],lt.propsData.count[it]=ft.count[it],lt.propsData.isTransform[it]=(0,z.dt)(it)==="transform",ft.splitStr[it]&&(lt.propsData.splitStr[it]=ft.splitStr[it])}},this.getTweenData=function(Gt,Qt){var he={data:{},isTransform:{},type:{},unit:{},count:{},splitStr:{}},de=Qt;he.data[Gt]=de;var fe=typeof he.data[Gt]=="string";he.unit[Gt]=fe?he.data[Gt].replace(/[^a-z|%]/g,""):"",he.count[Gt]=fe?he.data[Gt].replace(/[^+|=|-]/g,""):"";var it=fe?parseFloat(he.data[Gt].replace(/[a-z|%|=]/g,"")):he.data[Gt];return he.data[Gt]=!it&&it!==0?he.data[Gt]:it,he},this.setStartAtValue=function(Gt,Qt){return(0,y.Z)(Qt)==="object"?et(Gt,Qt):Gt},this.getAnimStart=function(){var Gt=lt.target,Qt=lt.root,he=lt.targetIndex,de=lt.propsData,fe=lt.startAt,it=lt.start,ft=lt.tweenVars,G={};for(var O in fe)G[(0,z.Lo)(O)]=fe[O];lt.computedStyle=lt.computedStyle||Ot(Gt),ft.style=ft.style||{};var D,$;for(var mt in de.data){var kt,Rt=de.data[mt];if(Rt.plugin){var qt=new Rt.plugin(Rt.value,mt);qt.target=Gt,qt.root=Qt,qt.parent=parent,qt.index=lt.index,qt.targetIndex=he,qt.tweenVars=ft,qt.startAt=lt.startAt,qt.computedStyle=lt.computedStyle,Rt.plugin=qt,it[mt]=qt.getAnimStart();continue}var Le=(0,z.dt)(mt),Me=Le==="transform"?lt.transformName:Le;Me=Le==="filter"?lt.filterName:Me;var Ke=ft.style[Me],vr=Ke!=null?Ke:lt.computedStyle[Le],He=(kt=G[mt])!==null&&kt!==void 0?kt:vr,Rr=de.unit[mt],fn="";if(Le==="transform"){D=D||(He===Ke?(0,R.Z)({},Ke):(0,z.Ck)(lt.computedStyle[lt.transformName]));var Je=D[mt];if(G&&mt in G){var pr,kr;Je=lt.setStartAtValue((pr=(kr=G[mt].vars)!==null&&kr!==void 0?kr:Ke==null?void 0:Ke[mt])!==null&&pr!==void 0?pr:Je,G[mt]),fn=G[mt].unit,mt==="scale"?(D.scaleX=Je,D.scaleY=Je):D[mt]=Je}fn!==Rr&&(Je=ot({target:Gt,computedStyle:lt.computedStyle,style:Le,value:Je,startUnit:fn,endUnit:Rr}),mt==="scale"?(D.scaleX=Je,D.scaleY=Je):D[mt]=Je),it[lt.transformName]=D}else if(Le==="filter"){var Pr=z._T.filterConvert[mt]||mt;$=$||(He===Ke?(0,R.Z)({},Ke):(0,z.GX)(vr)||{}),$[Pr]=$[Pr]||Nt[Pr];var oe=$[Pr];if(G&&mt in G){var Wt;oe=lt.setStartAtValue((Wt=G[mt].vars)!==null&&Wt!==void 0?Wt:oe,G[mt]),fn=G[mt].unit,$[Pr]=oe}if(Rr!==fn){var pe;$[Pr]=ot({target:Gt,computedStyle:lt.computedStyle,style:Le,value:oe,startUnit:fn,endUnit:Rr,fixed:((pe=lt.computedStyle)===null||pe===void 0?void 0:pe.position)==="fixed"})}it[lt.filterName]=$}else{var _e;if(He=(_e=G[mt])!==null&&_e!==void 0?_e:vr,(!He||He==="none"||He==="auto")&&(He=""),Rr=de.unit[Le],fn=(0,y.Z)(He)==="object"?He.unit:"".concat(He).replace(/[^a-z|%]/g,""),He=lt.setStartAtValue(vr,G[mt]),Rr!==fn){var xe;He=ot({target:Gt,computedStyle:lt.computedStyle,style:Le,value:parseFloat(He),startUnit:fn,endUnit:Rr,fixed:((xe=lt.computedStyle)===null||xe===void 0?void 0:xe.position)==="fixed"})}it[Le]=parseFloat(He)||wt(Le)}}return it},this.render=function(Gt){var Qt=lt.propsData,he=lt.start,de=lt.tweenVars,fe=de.style||{};he[lt.transformName]&&!fe[lt.transformName]&&(fe[lt.transformName]=(0,R.Z)({},he[lt.transformName])),he[lt.filterName]&&!fe[lt.filterName]&&(fe[lt.filterName]=(0,R.Z)({},he[lt.filterName]));var it=fe[lt.transformName],ft=fe[lt.filterName],G=Qt.data,O=Qt.unit,D=Qt.count,$=Qt.isTransform;for(var mt in G){var kt=G[mt];if(kt.plugin){fe[mt]=kt.plugin.render(Gt);continue}var Rt=$[mt],qt=Rt?he[lt.transformName][mt]:he[mt],Le=O[mt],Me=D[mt];if(Rt){if(mt==="scale"){var Ke=he[lt.transformName].scaleX,vr=he[lt.transformName].scaleY;Me.charAt(1)==="="?(it.scaleX=Ke+kt*Gt,it.scaleY=vr+kt*Gt):(it.scaleX=(kt-Ke)*Gt+Ke,it.scaleY=(kt-vr)*Gt+vr)}else it[mt]=rt(parseFloat(qt),kt,Gt,Me,Le);it.text=xt(fe[lt.transformName])}else if(z._T.filter.indexOf(mt)>=0){var He=z._T.filterConvert[mt]||mt;qt=parseFloat(he[lt.filterName][He])||0,ft[He]=rt(qt,kt,Gt,Me,Le),ft.text="";for(var Rr in ft)Rr!=="text"&&(ft.text="".concat(ft.text," ").concat(Rr,"(").concat(ft[Rr],")").trim())}else{var fn=(0,z.YJ)(mt,0);fn=typeof fn=="number"?0:fn.replace(/[^a-z|%]/g,""),Le=Le||fn,typeof kt=="string"?fe[mt]=kt:fe[mt]=rt(qt,kt,Gt,Me,Le)}}return fe},this.props=gt,this.transformName=(0,z.Yf)("transform"),this.filterName=(0,z.Yf)("filter")||"filter",this.setDefaultData()});Zt.key="style",Zt.className="style";var se=Zt,ie=_(497326),zt=_(360136),ae=_(318486),Re=(0,j.Z)(function Q(gt,lt){(0,U.Z)(this,Q),this.value=void 0,this.key=void 0,this.root=void 0,this.index=void 0,this.style={},this.start={},this.startAt={},this.target=void 0,this.value=gt,this.key=lt});Re.className=void 0,Re.key=void 0;var Jt=function(Q){(0,zt.Z)(lt,Q);var gt=(0,ae.Z)(lt);function lt(Gt,Qt){var he;(0,U.Z)(this,lt),he=gt.call(this,Gt,Qt),he.value=void 0,he.key=void 0,he.start=[],he.tweenVars={},he.vars={},he.computedStyle=void 0,he.propsData={data:[],unit:[],count:[]},he.setDefaultData=function(it,ft){var G=(0,ie.Z)(he),O=G.propsData,D=G.value,$=(0,x.Z)(D);if(it==="color"){var mt;$[3]=(mt=$[3])!==null&&mt!==void 0?mt:1}O.type=it,O.data=$.map(function(kt){return!parseFloat(kt)&&parseFloat(kt)!==0?kt:parseFloat(kt)}),O.unit=$.map(function(kt){return kt.toString().replace(/[^a-z|%]/g,"")}),O.count=$.map(function(kt){return kt.toString().replace(/[^+|=|-]/g,"")}),ft&&(O.splitStr=ft)},he.convertToMarksArray=function(it,ft,G,O){var D=(G||"").toString().replace(/[^a-z|%]/g,""),$=typeof O=="number"?it[O]:void 0;return D===$?parseFloat(G):!parseFloat(G)&&parseFloat(G)!==0?G:ot({target:he.target,computedStyle:he.computedStyle,style:ft,value:G,startUnit:D,endUnit:$,isOriginWidth:ft==="transformOrigin"&&!O})},he.getAnimStart=function(){var it,ft,G,O,D=(0,ie.Z)(he),$=D.startAt,mt=D.target,kt=D.key,Rt=D.propsData,qt=D.computedStyle,Le=D.tweenVars,Me=(it=(ft=(G=$==null?void 0:$[kt])!==null&&G!==void 0?G:qt?(O=Le.style)===null||O===void 0?void 0:O[kt]:Le[kt])!==null&&ft!==void 0?ft:(qt||mt)[kt])!==null&&it!==void 0?it:"",Ke=Rt.data.indexOf("inset"),vr;if(Ke!==-1&&!Me.match("inset")&&Rt.type==="shadow"&&(vr=Me,Me=""),(!Me||Me==="none"||Me==="auto")&&(Me=""),Me=Rt.type==="shadow"?(0,z.hy)(Me,kt):Me,Me=Rt.type==="color"?(0,z.lu)(Me):Me,Me=Rt.type==="string"?Me.split(/[\s|,]/):Me,Dt[kt]){var He,Rr,fn,Je;Me[1]=(He=Me[1])!==null&&He!==void 0?He:Me[0],Me[2]=(Rr=Me[2])!==null&&Rr!==void 0?Rr:Me[0],Me[3]=(fn=(Je=Me[3])!==null&&Je!==void 0?Je:Me[1])!==null&&fn!==void 0?fn:Me[0]}var pr=Rt.unit,kr=Me.map(function(Pr,oe){return parseFloat(Pr).toString()==="NaN"?Pr:he.convertToMarksArray(pr,kt,Pr,oe)});return he.start=kr.concat(Ke>=0?"inset":[]),he.start.oldShadow=vr,he.start},he.render=function(it){var ft=(0,ie.Z)(he),G=ft.start,O=ft.propsData,D=O.type,$=O.splitStr,mt=O.data,kt=O.count,Rt=O.unit,qt=mt.map(function(He,Rr){return typeof He=="string"?He:rt(G[Rr],He,it,kt[Rr],Rt[Rr])});switch(D){case"string":qt=qt.join($);break;case"color":qt=(0,z.Lq)(qt);break;case"shadow":{var Le=qt.indexOf("inset")>=0,Me=Le?qt.filter(function(He){return He!=="inset"}):qt,Ke=Me.slice(0,Me.length-4).map(function(He){return typeof He=="number"?"".concat(He,"px"):He}),vr=(0,z.Lq)(Me.slice(Me.length-4,Me.length));qt="".concat(G.oldShadow?"".concat(G.oldShadow,","):"").concat(Ke.join(" ")," ").concat(vr," ").concat(Le?"inset":"").trim();break}default:break}return qt},he.value=Gt,he.key=Qt;var de="",fe="";return typeof Gt=="string"&&(Qt.match(K)?(he.value=(0,z.hy)(Gt,Qt),de="shadow"):Qt.match(/color|fill|stroke/i)||Gt.match(X)?(he.value=(0,z.lu)(Gt),de="color"):(fe=Gt.replace(/[^\s|,]/g,"").replace(/\s+/g," "),he.value=Gt.split(/[\s|,]/),de="string")),he.setDefaultData(de,fe),he}return(0,j.Z)(lt)}(Re);Jt.className="ArrayPlugin";var ue=Jt,ke={linear:{"to top":"0deg","to top right":"45deg","to right top":"45deg","to right":"90deg","to right bottom":"135deg","to bottom right":"135deg","to bottom":"180deg","to bottom left":"225deg","to left bottom":"225deg","to left":"270deg","to left top":"315deg","to top left":"315deg"},radial:{center:"50% 50%",top:"50% 0%","top right":"100% 0%","right top":"100% 0%",right:"100% 50%","right bottom":"100% 100%","bottom right":"100% 100%",bottom:"50% 100%","bottom left":"0% 100%","left bottom":"0% 100%",left:"0% 50%","left top":"0% 0%","top left":"0% 0%"}},ye=["closest-side","closest-corner","farthest-side","farthest-corner"],ee=function(gt,lt,Gt){console.warn("Warning: The gradient ".concat(gt,"(").concat(lt," => ").concat(Gt,") is different, which has been automatically converted to animation gradient ").concat(gt,"(").concat(Gt,")."))},Ut=function(gt){return gt==="url"||gt.indexOf("image")>=0||gt==="paint"||gt==="cross-fade"||gt==="element"},bt=function(Q){(0,zt.Z)(lt,Q);var gt=(0,ae.Z)(lt);function lt(Gt){var Qt;return(0,U.Z)(this,lt),Qt=gt.call(this,Gt,"backgroundImage"),Qt.value=void 0,Qt.tweenVars={},Qt.vars=[],Qt.computedStyle=void 0,Qt.defaultStartVars=[],Qt.getPosition=function(he){return he.map(function(de){return{data:parseFloat(de),unit:de.replace(/[^a-z|%]/g,"")}})},Qt.getAngle=function(he,de){var fe=he.replace(/-|gradient|repeating]/g,""),it,ft,G,O;switch(fe){case"linear":{G=Qt.getPosition((ke.linear[de]||de||ke.linear["to bottom"]).split(" "));break}case"radial":{var D=de.split(" ");it=D.find(function(qt){return ye.indexOf(qt)>=0})||ye[3],ft=D.find(function(qt){return qt==="circle"||qt==="ellipse"})||"ellipse";var $=new RegExp("".concat(it,"|").concat(ft,"|at"),"g"),mt=de.replace($,"").trim();O=Qt.getPosition((ke.radial[mt]||mt||ke.radial.center).split(" "));break}case"conic":{var kt=de.split("at").map(function(qt){return qt.trim()}),Rt=(kt[0]||"").split(" ");ft=Rt[0]||"from",G=Qt.getPosition([Rt[1]||"0deg"]),O=Qt.getPosition((ke.radial[kt[1]]||kt[1]||ke.radial.center).split(" "));break}default:break}return{extent:it,shape:ft,angle:G,position:O}},Qt.valueToIValue=function(he){if(!he)return[];var de=he.replace(/\),\s+?(url|radial|conic|linear|repeating|image|element|cross|paint)/,")#,#$1").split("#,#");return de.map(function(fe){var it=fe.replace(/([a-z|-]+)\((.*)\)/,"$1").trim();if(it==="url")return{type:it,values:fe};var ft=fe.replace(/([a-z|-]+)\((.*)\)/,"$2").replace(/#([0-9a-f]{6}|[0-9a-f]{3})|(rgb[a]?|hsl)+\(\d+\,[\s+]?\d+[\%]?\,[\s+]?\d+[\%]?(\,\d+)?\)/gi,function($){return $.replace(/\s+/g,"")}).replace(/\,([a-z|#|\s+])/g,"#,#$1").split("#,#").map(function($){return $.trim()}),G=ft[0].match(X)?"":ft[0];G&&ft.splice(0,1);var O=Qt.getAngle(it,G),D=ft.map(function($){var mt=$.trim().split(/\s+/),kt,Rt=(mt[0].match(X),mt[0]);return Rt&&(mt.splice(0,1),kt=(0,z.lu)(Rt)),{color:kt,positions:mt.map(function(qt){return{data:parseFloat(qt),unit:qt.toString().replace(/[^a-z|%]/g,"")}})}});return{type:it,angle:O,values:D}})},Qt.getAnimStart=function(){var he,de=(0,ie.Z)(Qt),fe=de.startAt,it=de.key,ft=de.computedStyle,G=de.target,O=de.vars,D=de.tweenVars,$=(0,R.Z)({},fe),mt=(he=D[it])!==null&&he!==void 0?he:(ft||G)[it];(!mt||mt==="none"||mt==="auto")&&(mt=""),$[it]||($[it]=mt?Qt.valueToIValue(mt):Qt.defaultStartVars);var kt=Math.max(O.length,$[it].length),Rt=(kt===$[it].length?$[it]:O).map(function(qt,Le){var Me,Ke,vr=$[it][Le]||Qt.defaultStartVars[Le],He=O[Le]||vr;if((!vr||vr.type!==He.type)&&(vr.type!==He.type&&ee("type",vr.type,He.type),vr=Qt.defaultStartVars[Le]),Ut(He.type)||typeof He.values=="string"||typeof vr.values=="string")return(0,R.Z)({},He);if(((Me=He.angle)===null||Me===void 0?void 0:Me.extent)!==((Ke=vr.angle)===null||Ke===void 0?void 0:Ke.extent)){var Rr,fn;ee("extent keyword",(Rr=vr.angle)===null||Rr===void 0?void 0:Rr.extent,(fn=He.angle)===null||fn===void 0?void 0:fn.extent)}var Je=Math.max(vr.values.length,He.values.length),pr=Je===vr.values.length?vr.values:He.values;return vr.values=pr.map(function(kr,Pr){var oe=vr.values[Pr],Wt=He.values[Pr]||oe;return(0,R.Z)((0,R.Z)({},oe),{},{positions:(Wt||oe).positions.map(function(pe,_e){var xe=oe?oe.positions[_e]||oe.positions[oe.positions.length-1]:Wt.positions[Wt.positions.length-1],Ge=pe||xe;return!xe&&oe&&vr.values.length&&(xe={data:100/(vr.values.length-1)*Pr,unit:"%"}),Ge.unit!==xe.unit&&ee("units",xe.unit,Ge.unit),{data:xe.data,unit:Ge.unit}})})}),vr});return Qt.start=Rt,Qt.start},Qt.render=function(he){var de="",fe=Math.max(Qt.vars.length,Qt.start.length);return(fe===Qt.vars.length?Qt.vars:Qt.start).forEach(function(it,ft){var G=Qt.start[ft],O=Qt.vars[ft]||G;if(Ut(O.type)||typeof O.values=="string"||!O.angle){de+="".concat(de?",":""," ").concat(O.values).trim();return}var D=Math.max(G.values.length,O.values.length),$=(D===G.values.length?G.values:O.values).map(function(Le,Me){var Ke=G.values[Me],vr=O.values[Me];vr||(vr=Ke);var He=Ke.color,Rr=Ke.positions;!He&&vr.color&&(He=(0,x.Z)(vr.color)),Rr||(Rr=vr.positions.map(function(pr){return(0,R.Z)({},pr)}));var fn=vr.color?vr.color.map(function(pr,kr){return rt(He[kr],pr,he)}):vr.color,Je=vr.positions.map(function(pr,kr){return"".concat(rt(Rr[kr].data,pr.data,he)).concat(pr.unit)}).join(" ");return"".concat(fn?(0,z.Lq)(fn):fn||""," ").concat(Je).trim()}),mt=O.angle,kt=mt.angle&&mt.angle.map(function(Le,Me){return"".concat(rt(G.angle.angle[Me].data,Le.data,he)).concat(Le.unit)}).join(" "),Rt=mt.position&&mt.position.map(function(Le,Me){return"".concat(rt(G.angle.position[Me].data,Le.data,he)).concat(Le.unit)}).join(" "),qt="".concat(mt.extent||""," ").concat(mt.shape||""," ").concat(kt||""," ").concat(Rt?"at ".concat(Rt):"").trim();de+="".concat(de?",":""," ").concat(O.type,"(").concat(qt?"".concat(qt,","):"").concat($.join(","),")").trim()}),de},Qt.value=Gt,Qt.vars=Qt.valueToIValue(Gt),Qt.defaultStartVars=Qt.vars.map(function(he){return Ut(he.type)||typeof he.values=="string"?(0,R.Z)({},he):(0,R.Z)((0,R.Z)({},he),{},{values:he.values.map(function(de){var fe;return de.color&&typeof de.color!="string"?(fe=(0,x.Z)(de.color),fe[3]=0):fe=de.color,{color:fe,positions:(0,x.Z)(de.positions)}})})}),Qt}return(0,j.Z)(lt)}(Re);bt.className="GradientsPlugin";var Ft=_(654087),be=_.n(Ft),qe=function(){function Q(){var gt=this;(0,U.Z)(this,Q),this.lagThreshold=150,this.adjustedLag=33,this.emptyTime=0,this.elapsed=0,this.frameFPS=1e3/240,this.startTime=0,this.prevTime=0,this.useTimeout=!1,this.lastUpdate=this.startTime,this.nextTime=this.frameFPS,this.req=void 0,this.id=-1,this.tweenId=0,this.tickFn=[],this.state="sleep",this.time=0,this.frame=0,this.removeReq=function(lt){return gt.useTimeout?clearTimeout(lt):(0,Ft.cancel)(lt)},this.tick=function(){var lt=gt.tickFn;gt.startTime||(gt.startTime=q()-gt.frameFPS,gt.lastUpdate=gt.startTime),gt.elapsed=q()-gt.lastUpdate,gt.elapsed>gt.lagThreshold&&(gt.startTime+=gt.elapsed-gt.adjustedLag),gt.lastUpdate+=gt.elapsed,gt.time=gt.lastUpdate-gt.startTime;var Gt=gt.time-gt.nextTime;if(Gt>0){gt.frame++,gt.nextTime+=Gt+(Gt>=gt.frameFPS?4:gt.frameFPS-Gt);for(var Qt=gt.time-gt.prevTime,he=0;he<lt.length;he++)lt[he].fn({time:gt.time,elapsed:Qt<gt.frameFPS?gt.frameFPS:Qt});gt.prevTime=gt.time}if(!gt.tickFn.length&&(gt.emptyTime||(gt.emptyTime=gt.time+500),gt.time>=gt.emptyTime)){gt.emptyTime=0,gt.sleep();return}gt.req&&(gt.id=gt.req(gt.tick))},this.wake=function(){gt.id&&gt.sleep(),gt.req=gt.useTimeout?function(lt){return setTimeout(lt,gt.frameFPS)}:be(),gt.tick(),gt.state="wake"},this.sleep=function(){gt.removeReq(gt.id),gt.id=-1,gt.req=void 0,gt.state="sleep"},this.add=function(lt){var Gt="TweenOneTicker_".concat(gt.tweenId);return gt.tweenId+=1,gt.tickFn.findIndex(function(Qt){return Qt.key===Gt})===-1&&gt.tickFn.push({key:Gt,fn:lt}),gt.emptyTime=0,gt.req||gt.wake(),Gt},this.clear=function(lt){gt.tickFn=gt.tickFn.filter(function(Gt){return Gt.key!==lt&&Gt.fn!==lt})},this.timeout=function(lt,Gt){if(typeof lt!="function")return console.warn("not function");var Qt=gt.time,he=gt.add(function(){var de=gt.time-Qt;de>=(Gt||0)&&(gt.clear(he),lt())});return he},this.interval=function(lt,Gt){if(typeof lt!="function")return console.warn("not function"),null;var Qt=gt.time;return gt.add(function(){var he=gt.time-Qt;he>=(Gt||0)&&(Qt=gt.time,lt())})}}return(0,j.Z)(Q,[{key:"fps",value:function(lt,Gt){this.frameFPS=1e3/(lt||240),this.nextTime=this.time+this.frameFPS,this.useTimeout=typeof Gt=="undefined"?this.useTimeout:Gt,this.useTimeout&&(this.req=function(Qt){return setTimeout(Qt,lt)})}}]),Q}(),Pe=new qe,Ze=Pe,Qe=function(){function Q(){var gt=this;(0,U.Z)(this,Q),this.children=[],this.autoSleep=200,this.tickerKey=void 0,this.startTime=void 0,this.addChild=function(lt){gt.children.indexOf(lt)===-1?(gt.children.push(lt),gt.updateTickerState()):gt.start()},this.removeChild=function(lt){gt.children=gt.children.filter(function(Gt){return Gt!==lt}),gt.updateTickerState()},this.kill=function(lt){gt.children=gt.children.filter(function(Gt){var Qt=Gt.root.targets,he=Qt.map(function(fe,it){if(lt.indexOf(fe)===-1)return fe;delete fe._tweenOneVars});Gt.root.targets=he;var de=!!he.filter(function(fe){return fe}).length;return de||Gt.kill(),de}),gt.updateTickerState()},this.killAll=function(lt){lt&&(gt.children.forEach(function(Gt){Gt==null||Gt.root.targets.forEach(function(Qt){Qt&&delete Qt._tweenOneVars})}),gt.children=[]),Ze.clear(gt.tickerKey),gt.tickerKey=void 0},this.getTotalTime=function(){for(var lt=0,Gt=0;Gt<gt.children.length;Gt++){var Qt=gt.children[Gt],he=Qt.pausedState?0:Qt.startTime+Qt.totalTime;lt?lt=Math.max(he,lt):lt=he}return lt},this.updateTickerState=function(){!gt.children.length||!gt.children.some(function(lt){return!(lt!=null&&lt.pausedState)&&(!(lt!=null&&lt.reverseState)&&lt.progressTime<lt.totalTime||(lt==null?void 0:lt.reverseState)&&lt.progressTime>0)})?gt.killAll(!gt.children.length):gt.start()},this.start=function(){gt.tickerKey||(gt.tickerKey=Ze.add(gt.render))},this.render=function(lt){for(var Gt=lt.time,Qt=lt.elapsed,he=Qt===void 0?0:Qt,de=gt.children,fe=de.length,it=0;it<fe;it++){var ft=de[it];if(ft){var G=ft.startTime-he,O=ft.startTime+ft.totalTime+he;Gt>G&&Gt<O&&!ft.pausedState&&ft.render({time:Gt,elapsed:he})}}}}return(0,j.Z)(Q,[{key:"totalTime",get:function(){return this.getTotalTime()}}]),Q}(),Ar=Qe,Hr=_(141e3),Jr=_.n(Hr);Jr().path=function(Q,gt){var lt=gt||{};if(tt)return"linear";for(var Gt=at(Q),Qt=Gt.getTotalLength(),he=lt.rect||100,de=lt.lengthPixel||200,fe=[],it=0;it<de-1;it++)fe.push(Gt.getPointAtLength(Qt/(de-1)*it));return fe.push(Gt.getPointAtLength(de)),function(G,O,D,$){var mt=Jr().linear(G,O,D,$),kt=he*mt,Rt=fe.filter(function(qt){return qt.x>=kt})[0]||Gt.getPointAtLength(mt*Qt);return 1-Rt.y/he}};var Cr=Jr(),bn=function(){function Q(gt){var lt=this;(0,U.Z)(this,Q),this.item=void 0,this.vars={},this.start=void 0,this.parent=void 0,this.root=void 0,this.startAt={},this.mode=void 0,this.appearTo=0,this.props={},this.index=void 0,this.register=void 0,this.reverseStart=void 0,this.repeatNum=0,this.prevMoment=void 0,this.easing=void 0,this.changeValueToVars=function(de,fe,it){var ft=(Array.isArray(fe)||de.match(/color|fill|stroke/i)||de.match(K)&&typeof fe=="string"||typeof fe=="string"&&fe.split(/[\s|,]/).length>1)&&!(de in Ct);if(de in Ct||ft)return it?fe:{value:fe,plugins:[],array:ft};var G=parseFloat(fe.toString().replace(/=/g,"")),O=fe.toString().replace(/[^a-z|%]/g,""),D=fe.toString().charAt(1)==="="?fe.toString().replace(/[^\+\=|\-\=]/gi,""):"";return{vars:G,unit:O,count:D}},this.setEase=function(de){if(typeof de=="function"){lt.easing=de;return}else if(de.match(/,/g)){lt.easing=Cr.path(de);return}lt.easing=Cr[de]},this.getTotalTime=function(){var de=lt.props,fe=de.duration,it=fe===void 0?450:fe,ft=de.delay,G=ft===void 0?0:ft,O=de.repeat,D=O===void 0?0:O,$=de.repeatDelay,mt=$===void 0?0:$;return D===-1?Number.MAX_VALUE:G+it*(D+1)+mt*D},this.getEaseToRatio=function(de,fe){var it=lt.props.ease,ft=it===void 0?"":it;return(de===0||de===1)&&!(typeof ft=="function"||ft.match(/,/g))?de:lt.easing(fe?1-de:de,fe?1:0,fe?0:1,1)},this.setRatioToVars=function(de){for(var fe=lt.vars,it=lt.root,ft=0;ft<it.targets.length;ft++)if(it.targets[ft])for(var G in fe){var O=fe[G];if(O.plugins){G==="PathMotion"?it.vars[ft].style=O.plugins[ft].render(de):it.vars[ft][G]=O.plugins[ft].render(de);continue}var D=O.vars,$=O.count,mt=O.unit,kt=lt.start[ft][G];it.vars[ft][G]=rt(kt,D,de,$,mt)}},this.onRegisterAnimate=function(){lt.register=!0;for(var de=lt.root,fe=lt.parent,it=lt.startAt,ft=[],G=0;G<de.targets.length;G++){var O=de.targets[G],D=de.vars[G],$={};for(var mt in lt.vars){var kt=lt.vars[mt];if(kt.plugins){var Rt=new Ct[kt.array?"ArrayPlugin":mt](kt.value,mt);Rt.target=O,Rt.root=de,Rt.parent=fe,Rt.targetIndex=G,Rt.tweenVars=D,Rt.index=lt.index,Rt.startAt=it,$[mt]=Rt.getAnimStart(),kt.plugins.push(Rt)}else{var qt,Le,Me=(qt=de.attr?O.getAttribute(mt):D[mt]||O[mt])!==null&&qt!==void 0?qt:wt(mt),Ke=(Le=it[mt])!==null&&Le!==void 0?Le:Me,vr=(0,y.Z)(Ke)==="object"&&"vars"in Ke&&"count"in Ke,He=vr?Ke.unit:"".concat(Ke).replace(/[^a-z|%]/g,""),Rr=kt.unit;He&&He!==Rr&&console.warn("Different units, start unit ".concat(He,", to value unit ").concat(Rr,", remove start unit.")),$[mt]=vr?et(Me,Ke):parseFloat(Ke)}}ft.push($)}lt.start=ft},this.overflowRatio=function(de){var fe=de<0?0:de,it=lt.props.duration;return fe=fe>it?it:fe,fe},this.render=function(de){var fe=de.moment,it=de.fps,ft=it===void 0?0:it,G=de.silence,O=de.render,D=lt.parent,$=lt.root,mt=lt.props,kt=Lt($.targets),Rt=D.onChange,qt=mt.repeat,Le=qt===void 0?0:qt,Me=mt.type,Ke=Me===void 0?"to":Me,vr=mt.duration,He=vr===void 0?450:vr,Rr=mt.delay,fn=Rr===void 0?0:Rr,Je=mt.repeatDelay,pr=Je===void 0?0:Je,kr=mt.yoyo;Le=Le===-1?Number.MAX_VALUE:Le;var Pr=fe-fn,oe=Math.floor(Pr/(He+pr))||0;oe=oe>Le?Le:oe,oe=oe<0?0:oe,Pr=Pr-(He+pr)*oe;var Wt=!!(kr&&oe%2),pe=Ke==="from",_e=Wt&&pe?!1:Wt||pe;Pr=_e?He-Pr:Pr;var xe=pe?0:fn,Ge=_e?1:0;if(!lt.register&&fe>=xe&&(lt.onRegisterAnimate(),(_e&&Pr<=0||!_e&&Pr>=He&&He)&&(lt.prevMoment=fe,Ge=_e?0:1),lt.setRatioToVars(Ge),Rt({index:lt.index,vars:$.vars})),lt.register&&fe>fn-ft&&fe<lt.totalTime+ft){Pr=lt.overflowRatio(Pr),Ge=_e?1:0,fe>=lt.totalTime&&lt.mode!=="onComplete"&&lt.prevMoment!==void 0||lt.prevMoment===void 0&&fe>=lt.totalTime&&He?(Ge=_e?0:1,lt.mode="onComplete",lt.props.onComplete&&lt.props.onComplete({mode:lt.mode,index:lt.index,moment:Pr,ratio:Ge,targets:kt,vars:Lt($.vars)})):lt.prevMoment===void 0||fe<=0&&fe>-ft&&lt.mode!=="onStart"&&lt.prevMoment>fe?(lt.mode="onStart",lt.props.onStart&&lt.props.onStart({mode:lt.mode,index:lt.index,moment:Pr,ratio:Ge,targets:kt,vars:Lt($.vars)})):(Ge=Pr&&He?Pr/He:0,lt.mode="onUpdate",lt.props.onUpdate&&lt.props.onUpdate({mode:lt.mode,index:lt.index,moment:Pr,ratio:Ge,targets:kt,vars:Lt($.vars)})),Le&&oe!==lt.repeatNum&&fe&&lt.mode==="onUpdate"&&(lt.mode="onRepeat",lt.props.onRepeat&&lt.props.onRepeat({mode:lt.mode,index:lt.index,moment:Pr,ratio:Ge,targets:kt,vars:Lt(lt.root.vars)})),lt.setRatioToVars(lt.getEaseToRatio(Ge,pe)),Le&&(lt.repeatNum=oe);var lr={mode:lt.mode,moment:Pr,repeat:oe,ratio:Ge,targets:$.targets,vars:$.vars,index:lt.index};G&&(lr.silence=G),O&&(lr.render=O),Rt(lr),lt.prevMoment=fe}},this.item=gt,this.startAt=(0,R.Z)({},gt.startAt),Object.keys(this.startAt).forEach(function(de){lt.startAt[de]=lt.changeValueToVars(de,lt.startAt[de],!0)});var Gt={};for(var Qt in gt){var he=gt[Qt];Qt in pt?Gt[Qt]=he:this.vars[Qt]=this.changeValueToVars(Qt,he)}this.props=(0,R.Z)((0,R.Z)({},pt),Gt),this.setEase(this.props.ease)}return(0,j.Z)(Q,[{key:"totalTime",get:function(){return this.getTotalTime()}}]),Q}(),Yr=(0,j.Z)(function Q(gt){var lt=this;(0,U.Z)(this,Q),this.props=void 0,this.id=void 0,this.children=[],this.totalTime=0,this.totalTimeRegion=0,this.childTotalTime=0,this.childRegionTotalTime=0,this.prevMoment=void 0,this.progressTime=0,this.progressMoment=-1,this.startMoment=0,this.startTime=0,this.repeatNum=0,this.mode="onTimelineStart",this.pausedState=void 0,this.reverseState=void 0,this.root=void 0,this.parent=void 0,this.regionStartTime=0,this.regionEndTime=void 0,this.onChangeChild=void 0,this.onChangeTimeline=void 0,this.init=function(){for(var de=lt.props,fe=de.reverse,it=de.animation,ft=de.moment,G=vt(it),O=0;O<G.length;O++){var D=G[O];D.type==="set"&&(D.duration=0);var $=new bn(D);$.index=O;var mt=O?Mt(D,G[O-1]):0;D.appearTo=mt,$.appearTo=mt,lt.addChild($)}lt.render({time:(fe?lt.totalTime:0)+lt.startTime,elapsed:16.67}),lt.totalTime||lt.render({time:(fe?lt.totalTime:0)+lt.startTime,elapsed:16.67}),ft?lt.goto(ft):lt.play()},this.addChild=function(de){de.parent=lt,de.root=lt.root,lt.children.indexOf(de)===-1&&(lt.children.push(de),lt.setTotalTime())},this.setTotalTime=function(){lt.childTotalTime=0,lt.childRegionTotalTime=0;for(var de=0;de<lt.children.length;de++){var fe=lt.children[de];if(fe.appearTo!==lt.childTotalTime){var it=fe.appearTo+fe.totalTime;it>lt.childTotalTime&&(lt.childTotalTime=it,lt.childRegionTotalTime=it)}else lt.childTotalTime+=fe.totalTime,lt.childRegionTotalTime+=fe.totalTime}lt.regionStartTime&&(lt.childRegionTotalTime-=lt.regionStartTime),lt.regionEndTime&&(lt.childRegionTotalTime=lt.regionEndTime-lt.regionStartTime);var ft=lt.props,G=ft.repeat,O=G===void 0?0:G,D=ft.repeatDelay,$=D===void 0?0:D,mt=ft.delay;lt.totalTime=O===-1?Number.MAX_VALUE:mt+lt.childTotalTime*(O+1)+$*O,lt.totalTimeRegion=O===-1?Number.MAX_VALUE:mt+lt.childRegionTotalTime*(O+1)+$*O},this.setStartTimeOrMoment=function(de){lt.startTime=Ze.time,lt.startMoment=de||lt.progressMoment},this.reRenderCall=function(){lt.render({time:lt.startTime,elapsed:Ze.elapsed||Ze.frameFPS})},this.play=function(de){if(de){var it;(it=lt.parent)===null||it===void 0||it.updateTickerState()}else{var fe;(fe=lt.parent)===null||fe===void 0||fe.addChild(lt)}},this.paused=function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;lt.pausedState=de,lt.setStartTimeOrMoment(),lt.play(de)},this.reverse=function(de){lt.reverseState=de,lt.setStartTimeOrMoment(),lt.play(lt.pausedState)},this.goto=function(de,fe){var it=de-lt.regionStartTime;lt.startTime=Ze.time,lt.startMoment=it>lt.totalTime?lt.totalTime:it,lt.progressMoment=lt.startMoment,lt.progressTime=it,lt.play(lt.pausedState),lt.reRenderCall(),!!fe!==lt.pausedState&&lt.paused(fe)},this.kill=function(de){if(typeof de=="number")lt.paused(),delete lt.children[de],lt.setTotalTime(),lt.paused(!1);else{var fe;lt.children=[],(fe=lt.parent)===null||fe===void 0||fe.removeChild(lt)}},this.onChange=function(de){de.timelineMoment=lt.progressMoment,lt.onChangeChild(de)},this.render=function(de){var fe=de.time,it=de.elapsed,ft=it||Ze.frameFPS||0,G=lt.totalTime,O=lt.totalTimeRegion,D=lt.childTotalTime,$=lt.childRegionTotalTime,mt=lt.children,kt=lt.props,Rt=lt.startTime,qt=lt.reverseState,Le=lt.pausedState,Me=lt.startMoment,Ke=lt.onChangeTimeline,vr=lt.parent,He=lt.root,Rr=lt.prevMoment,fn=lt.regionStartTime,Je=kt.repeatDelay,pr=Je===void 0?0:Je,kr=kt.yoyo,Pr=kt.delay,oe=kt.repeat,Wt=oe===void 0?0:oe;Wt=Wt===-1?Number.MAX_VALUE:Wt;var pe=fe-Rt-Pr,_e=qt?Me-pe:pe+Me;if(!(_e<-ft)){var xe=_e<0?0:_e;xe=xe>G?G:xe,xe=Me<fn?_e:xe,xe=Me>O?Me:xe;var Ge=Wt?Math.floor(xe/($+pr)):0;Ge=Wt&&Ge>Wt?Wt:Ge;var lr=xe-($+pr)*Ge,gr=!!(kr&&Ge%2);lr=gr?$-lr:lr,lr=fn+lr;var Zr=qt?!gr:gr;if(lt.mode="onTimelineUpdate",typeof Rr!="number"&&(lt.mode="onTimelineStart"),xe>=O-Pr&&typeof Rr=="number"&&(lt.mode="onTimelineComplete"),Ge!==lt.repeatNum&&(lt.mode="onTimelineRepeat",xe>D*Ge&&xe<D*Ge+ft)){for(var Tn=Zr?0:mt.length-1;Zr?Tn<=mt.length-1:Tn>=0;Zr?Tn++:Tn--){var an=mt[Tn];Zr||(an.prevMoment=void 0),an.render({moment:Zr?an.totalTime:0,fps:ft})}Ke({moment:xe,totalTime:G,repeat:Ge,mode:lt.mode,targets:He.targets}),lt.mode="onTimelineUpdate"}Wt&&(lt.repeatNum=Ge),lt.progressMoment=xe,lt.prevMoment=xe,lt.progressTime=pe;for(var kn=0;kn<mt.length;kn++){var un=mt[kn],Bn=un.totalTime+un.appearTo,Zn=lr>=un.appearTo-ft&&lr<Bn+ft;if((un.mode!=="onComplete"&&lr>Bn+ft&&!gr&&un.totalTime||typeof un.mode=="undefined"&&!un.totalTime)&&(un.render({moment:un.totalTime,fps:ft}),un.prevMoment=void 0),lr<un.appearTo-ft&&un.mode&&un.mode!=="onStart"&&(un.render({moment:un.appearTo,fps:ft,silence:!0}),un.prevMoment=void 0,un.mode=void 0),Zn){var na=lr<0?0:lr;if(lr>Bn&&un.mode==="onComplete"&&!gr)return;na=lr>Bn?Bn:lr,un.render({moment:na-un.appearTo,fps:ft}),Bn||(un.render({moment:un.totalTime,fps:ft,render:!0}),un.prevMoment=void 0)}}Ke({moment:xe,totalTime:G,repeat:Ge,mode:lt.mode,targets:He.targets}),(Le||O&&_e+Pr>=O&&!qt||qt&&_e+Pr<=0||!mt.length)&&(vr==null||vr.removeChild(lt))}},this.props=gt;var Gt=this.props,Qt=Gt.paused,he=Gt.reverse;this.reverseState=he,this.pausedState=Qt,this.regionStartTime=gt.regionStartTime||0,this.regionEndTime=gt.regionEndTime});Ct.push(ue),Ct.push(bt),Ct.push(se);var Xe=0,Ae=new Ar,Ue=function(){function Q(gt,lt){var Gt=this;(0,U.Z)(this,Q),this.targets=void 0,this.props=void 0,this.timeline=void 0,this.animate=void 0,this.$reverse=!1,this.vars=[],this.initTime=void 0,this.attr=void 0,this.init=function(){var Qt=(0,f.Z)(m().mark(function he(de){var fe;return m().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:fe=St(de),Gt.targets[0].tagName&&!Gt.attr&&(fe.animation=vt(fe.animation).map(function(G){var O={style:{}};for(var D in G)D in Ct||D in pt?O[D]=G[D]:O.style[D]=G[D];return Object.keys(O.style).length||delete O.style,G.duration&&(G.duration=Math.round(G.duration)),G.delay&&(G.delay=Math.round(G.delay)),G.appearTo&&(G.appearTo=Math.round(G.appearTo)),G.repeatDelay&&(G.repeatDelay=Math.round(G.repeatDelay)),O})),Gt.animate=new Yr(fe),Gt.animate.id="TweenOne_".concat(Xe),Xe++,Gt.animate.startTime=Gt.initTime,Gt.animate.onChangeChild=Gt.onChange,Gt.animate.onChangeTimeline=Gt.onChangeTimeline,Gt.animate.root=Gt,Gt.animate.parent=Gt.timeline,Gt.animate.init();case 11:case"end":return ft.stop()}},he)}));return function(he){return Qt.apply(this,arguments)}}(),this.renderToDom=function(){for(var Qt=0;Qt<Gt.vars.length;Qt++){var he=Gt.vars[Qt];for(var de in he){var fe=he[de],it=Gt.targets[Qt];if(it)if(Gt.props.attr&&it.tagName&&it.setAttribute){if(de==="style")for(var ft in fe)it.style[ft]=fe[de];it.setAttribute(de,fe)}else if(de in Ct){var G=Ct[de].key;if(typeof it[G]=="function")it[G](fe.attr,fe.path);else if((0,y.Z)(fe)==="object"&&(0,y.Z)(it[G])==="object"&&G)for(var O in fe){var D=fe[O];G==="__self"?it[O]=D:it[G][O]=(0,y.Z)(D)==="object"&&D.text||D}else it[G||de]=fe}else it[de]=fe}}},this.onChange=function(Qt){Qt.mode==="onComplete"&&Qt.render&&Gt.renderToDom(),Qt.mode&&Gt.props.onChange&&!Qt.silence&&(Qt.targets=Lt(Qt.targets),Qt.vars=Lt(Qt.vars),Gt.props.onChange(Qt))},this.onChangeTimeline=function(Qt){if(Gt.renderToDom(),Qt.mode==="onTimelineComplete"){var he;(he=Qt.targets)===null||he===void 0||he.forEach(function(de){delete de._tweenOneVars})}Qt.mode&&Gt.props.onChangeTimeline&&(Qt.targets=Lt(Qt.targets),Qt.vars=Lt(Gt.vars),Gt.props.onChangeTimeline(Qt))},this.goto=function(Qt,he){Gt.targets.forEach(function(de){de&&Object.keys(de._tweenOneVars||{}).forEach(function(fe){delete de._tweenOneVars[fe]})}),Gt.animate.goto(Qt,he)},this.kill=function(Qt){Gt.animate.kill(Qt)},this.targets=gt,this.props=lt,this.timeline=Ae,this.initTime=Ze.time,this.attr=lt.attr,gt.forEach(function(Qt){Gt.vars.push(Qt._tweenOneVars)}),this.init(lt)}return(0,j.Z)(Q,[{key:"paused",get:function(){return this.animate.pausedState},set:function(lt){this.animate.paused(lt)}},{key:"reverse",get:function(){return this.$reverse},set:function(lt){this.$reverse=lt,this.animate.reverse(lt)}},{key:"regionStartTime",get:function(){return this.animate.regionStartTime},set:function(lt){this.animate.regionStartTime=lt,this.animate.setTotalTime()}},{key:"regionEndTime",get:function(){return this.animate.regionEndTime||this.animate.totalTime},set:function(lt){this.animate.regionEndTime=lt,this.animate.setTotalTime()}}]),Q}(),jr=function(gt,lt){if(!gt){console.error("Error: targets is undefined.");return}Ze.state!=="wake"&&Ze.wake();var Gt=vt(gt).map(function(fe){return fe._tweenOneVars=fe._tweenOneVars||{},fe}),Qt=Gt.filter(function(fe){return fe.tagName}),he=Gt.filter(function(fe){return!fe.tagName}),de=[];return Qt.length&&de.push(new Ue(Qt,lt)),he.length&&de.push(new Ue(he,lt)),Lt(de)};jr.kill=function(Q){typeof Q=="undefined"?Ae.killAll(!0):Ae.kill(vt(Q))},jr.plugins=Ct;var Br=jr,Sn=Br;function ir(Q){return!Q&&Q!==0?[]:Array.isArray(Q)?Q:[Q]}function mn(Q,gt){if(!Q||!gt)return!1;var lt=Object.keys(Q),Gt=Object.keys(gt);return lt.length&&Gt.length&&lt.length===Gt.length?!lt.some(function(Qt){var he=Q[Qt],de=gt[Qt];if(Array.isArray(he)&&Array.isArray(de)){var fe=he.join(),it=de.join();fe===it&&!fe.match(/\[object object\]/gi)&&(he=fe,de=it)}return he!==de}):!1}function Or(Q,gt){if(Q===gt||mn(Q,gt))return!0;if(!Q||!gt||Object.keys(Q).length!==Object.keys(gt).length)return!1;var lt=!0,Gt=function(he,de){var fe=Object.keys(he).length>Object.keys(de).length?he:de,it=Object.keys(he).length>Object.keys(de).length?de:he;Object.keys(fe).forEach(function(ft){lt&&(ft in it||(lt=!1),(0,y.Z)(fe[ft])==="object"&&(0,y.Z)(it[ft])==="object"?lt=Or(fe[ft],it[ft]):typeof fe[ft]=="function"&&typeof it[ft]=="function"?fe[ft].toString().replace(/\s+/g,"")!==it[ft].toString().replace(/\s+/g,"")&&(lt=!1):fe[ft]!==it[ft]&&(lt=!1))})};return Array.isArray(Q)&&Array.isArray(gt)?Q.forEach(function(Qt,he){Gt(Qt,gt[he])}):Gt(Q,gt),lt}var sn=["component","componentProps","animation","attr","paused","reverse","repeat","repeatDelay","yoyo","moment","onChange","onChangeTimeline","resetStyle","killPrevAnim"],ln=P.forwardRef(function(Q,gt){var lt=Q.component,Gt=lt===void 0?"div":lt,Qt=Q.componentProps,he=Q.animation,de=Q.attr,fe=Q.paused,it=Q.reverse,ft=Q.repeat,G=Q.repeatDelay,O=Q.yoyo,D=Q.moment,$=Q.onChange,mt=Q.onChangeTimeline,kt=Q.resetStyle,Rt=Q.killPrevAnim,qt=Rt===void 0?!0:Rt,Le=(0,M.Z)(Q,sn),Me=Le||{},Ke=Me.children,vr=Me.className,He=Me.style,Rr=He===void 0?{}:He,fn=(0,P.useRef)(),Je=(0,P.useRef)(),pr=(0,P.useRef)(),kr=function(Zr,Tn){var an=pr.current;if(an){if(Zr==="moment"){typeof Tn=="number"&&an.goto(Tn,fe);return}an[Zr]=!!Tn}};A(function(){kr("paused",fe)},[fe]),A(function(){kr("moment",D)},[D]),A(function(){kr("reverse",it)},[it]),A(function(){if(!fn.current)return console.warn("Warning: TweenOne domRef is error.");if(!Or(he,Je.current)){var gr=ir(fn.current).map(function(an){return an instanceof Element||!(an instanceof P.Component)?an:(0,T.findDOMNode)(an)}).filter(function(an,kn){return an instanceof Element?an:(console.warn("Warning: TweenOne tag[".concat(kn,"] is not dom.")),!1)});if(pr.current&&qt&&pr.current.kill(),kt&&pr.current){var Zr=Gt?Rr:(0,R.Z)((0,R.Z)({},Rr),Ke.props.style),Tn=Object.keys(Zr).map(function(an){return"".concat((0,z.Rs)(an),":").concat((0,z.YJ)(an,Zr[an]))}).join(";");gr.forEach(function(an){an.setAttribute("style",Tn),delete an._tweenOneVars})}pr.current=he&&Sn(gr,{animation:he,attr:de,yoyo:O,moment:D,repeat:ft,reverse:it,paused:fe,repeatDelay:G,onChange:$,onChangeTimeline:mt}),Je.current=he}},[he]),(0,P.useEffect)(function(){return function(){pr.current&&pr.current.kill&&pr.current.kill()}},[]);var Pr=function(Zr){fn.current=Zr,gt&&"current"in gt?gt.current=Zr:typeof gt=="function"&&gt(Zr)};if(!Gt&&Ke&&typeof Ke!="string"&&typeof Ke!="boolean"&&typeof Ke!="number"){var oe=Ke.props,Wt=oe||{},pe=Wt.style,_e=Wt.className,xe=_e===void 0?"":_e,Ge=(0,R.Z)((0,R.Z)({},pe),Rr),lr=vr?"".concat(vr," ").concat(xe).trim():xe;return P.cloneElement(Ke,{style:Ge,ref:Pr,className:(0,x.Z)(new Set(lr.split(/\s+/))).join(" ").trim()||void 0})}return Gt?(0,P.createElement)(Gt,(0,R.Z)((0,R.Z)({ref:Pr},Le),Qt)):(console.warn("Warning: component is null, children must be ReactElement."),Ke)});ln.isTweenOne=!0,ln.displayName="TweenOne";var cn=ln,Cn=["component","componentProps","leave","enter","appear","resetStyle","animatingClassName","onEnd","exclusive"],V=P.forwardRef(function(Q,gt){var lt=Q.component,Gt=lt===void 0?"div":lt,Qt=Q.componentProps,he=Qt===void 0?{}:Qt,de=Q.leave,fe=de===void 0?{x:-50,opacity:0}:de,it=Q.enter,ft=it===void 0?{x:50,opacity:0,type:"from"}:it,G=Q.appear,O=G===void 0?!0:G,D=Q.resetStyle,$=D===void 0?!0:D,mt=Q.animatingClassName,kt=mt===void 0?["tween-one-entering","tween-one-leaving"]:mt,Rt=Q.onEnd,qt=Rt===void 0?function(){}:Rt,Le=Q.exclusive,Me=Le===void 0?!1:Le,Ke=(0,M.Z)(Q,Cn),vr=(0,P.useRef)([]),He=(0,P.useRef)([]),Rr=(0,P.useRef)({}),fn=(0,P.useRef)(!1),Je=(0,P.useRef)([]),pr=(0,P.useRef)({}),kr=L(E(Q)),Pr=(0,P.useRef)(kr),oe=(0,P.useState)(kr),Wt=(0,w.Z)(oe,2),pe=Wt[0],_e=Wt[1],xe=function(un){var Bn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Zn=un.key;return Rr.current[Zn]=P.createElement(cn,(0,R.Z)((0,R.Z)({},Bn),{},{key:Zn,component:null}),un),Rr.current[Zn]},Ge=function(un,Bn){var Zn=un.replace(kt[Bn?1:0],"").trim();return Zn.indexOf(kt[Bn?0:1])===-1&&(Zn="".concat(Zn," ").concat(kt[Bn?0:1]).trim()),Zn},lr=function(un,Bn){var Zn=g(Bn,un);return vr.current=[],He.current=[],un.forEach(function(na){if(na){var ra=na.key,ti=p(Bn,ra);ra&&Rr.current[ra]&&(Rr.current[ra]=P.cloneElement(Rr.current[ra],{},na)),!ti&&ra&&vr.current.push(ra)}}),Bn.forEach(function(na){if(na){var ra=na.key,ti=p(un,ra);!ti&&ra&&(He.current.push(ra),delete Rr.current[ra])}}),Zn},gr=function(){if(!Object.keys(pr.current).length&&Je.current.length){var un=lr(Je.current[Je.current.length-1],Pr.current);_e(un),Je.current=[]}},Zr=function(un,Bn,Zn){var na=Zn.targets,ra=(0,y.Z)(na.className)==="object"&&"baseVal"in na.className,ti=Bn==="enter"||Bn==="appear";if(un&&Zn.mode==="onTimelineComplete"){if(delete pr.current[un],ra?na.className.baseVal=na.className.baseVal.replace(kt[ti?0:1],"").trim():na.className=na.className.replace(kt[ti?0:1],"").trim(),ti)vr.current.splice(vr.current.indexOf(un),1),vr.current.length||gr();else if(Bn==="leave"&&(He.current.splice(He.current.indexOf(un),1),Pr.current=Pr.current.filter(function(Ia){return un!==Ia.key}),!He.current.length)){var Ua=Pr.current.map(function(Ia){return Ia.key});Object.keys(Rr.current).forEach(function(Ia){Ua.indexOf(Ia)===-1&&delete Rr.current[Ia]}),_e(Pr.current)}qt({key:un,type:Bn,target:Zn.targets})}},Tn=function(un,Bn,Zn){var na=Zn==="leave"?fe:ft;if(Zn==="appear"){var ra=S(O,un.key,Bn);na=ra&&ft||null}var ti=S(na,un.key,Bn),Ua=function(gi){Zr(un.key,Zn,gi)},Ia=Zn==="appear"&&!O?un.props.className:Ge(un.props.className||"",Zn==="enter"||Zn==="appear")||void 0,oi={key:un.key,animation:ti,onChangeTimeline:Ua,resetStyle:$,className:Ia};return(un.key&&vr.current.concat(He.current).indexOf(un.key)>=0||!fn.current&&na)&&un.key&&!Rr.current[un.key]&&(pr.current[un.key]=Zn),xe(un,oi)};A(function(){if(fn.current){var kn=L(Q.children).filter(function(Bn){return Bn}),un=L(Pr.current);Object.keys(pr.current).length&&!Me?Je.current.push(kn):_e(lr(kn,un))}},[Q.children]),A(function(){gr()}),(0,P.useEffect)(function(){fn.current=!0},[]),Pr.current=pe;var an=pe.map(function(kn,un){if(!kn||!kn.key)return kn;var Bn=kn.key;return He.current.indexOf(Bn)>=0?Tn(kn,He.current.indexOf(Bn),"leave"):(vr.current.indexOf(Bn)>=0||pr.current[Bn]&&He.current.indexOf(Bn)===-1)&&!(pr.current[Bn]==="enter"&&Rr.current[Bn])?Tn(kn,vr.current.indexOf(Bn),"enter"):fn.current?Rr.current[Bn]:Tn(kn,un,"appear")});return b?Gt?(0,P.createElement)(Gt,(0,R.Z)((0,R.Z)((0,R.Z)({},Ke),he),{},{ref:gt}),Q.children):P.createElement(P.Fragment,null,Q.children):Gt?(0,P.createElement)(Gt,(0,R.Z)((0,R.Z)((0,R.Z)({},Ke),he),{},{ref:gt}),an):an[0]?(0,P.cloneElement)(an[0],{ref:gt}):null});V.displayName="TweenOneGroup",V.isTweenOneGroup=!0;var $t=V},217857:function(Ve,W,_){"use strict";var y;y={value:!0};var R=_(667294),w=_(308273);function M(z,k){var X=Object.keys(z);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(z);k&&(K=K.filter(function(tt){return Object.getOwnPropertyDescriptor(z,tt).enumerable})),X.push.apply(X,K)}return X}function P(z){for(var k=1;k<arguments.length;k++){var X=arguments[k]!=null?arguments[k]:{};k%2?M(Object(X),!0).forEach(function(K){L(z,K,X[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(X)):M(Object(X)).forEach(function(K){Object.defineProperty(z,K,Object.getOwnPropertyDescriptor(X,K))})}return z}function L(z,k,X){return k=b(k),k in z?Object.defineProperty(z,k,{value:X,enumerable:!0,configurable:!0,writable:!0}):z[k]=X,z}function p(){return p=Object.assign?Object.assign.bind():function(z){for(var k=1;k<arguments.length;k++){var X=arguments[k];for(var K in X)Object.prototype.hasOwnProperty.call(X,K)&&(z[K]=X[K])}return z},p.apply(this,arguments)}function g(z,k){if(z==null)return{};var X={},K=Object.keys(z),tt,q;for(q=0;q<K.length;q++)tt=K[q],!(k.indexOf(tt)>=0)&&(X[tt]=z[tt]);return X}function S(z,k){if(z==null)return{};var X=g(z,k),K,tt;if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(z);for(tt=0;tt<q.length;tt++)K=q[tt],!(k.indexOf(K)>=0)&&Object.prototype.propertyIsEnumerable.call(z,K)&&(X[K]=z[K])}return X}function E(z,k){if(typeof z!="object"||z===null)return z;var X=z[Symbol.toPrimitive];if(X!==void 0){var K=X.call(z,k||"default");if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k==="string"?String:Number)(z)}function b(z){var k=E(z,"string");return typeof k=="symbol"?k:String(k)}var A=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?R.useLayoutEffect:R.useEffect;function x(z){var k=R.useRef(z);return A(function(){k.current=z}),R.useCallback(function(){for(var X=arguments.length,K=new Array(X),tt=0;tt<X;tt++)K[tt]=arguments[tt];return k.current.apply(void 0,K)},[])}var T=function(k,X){var K=X.decimal,tt=X.decimals,q=X.duration,at=X.easingFn,pt=X.end,ct=X.formattingFn,St=X.numerals,vt=X.prefix,Lt=X.separator,Mt=X.start,wt=X.suffix,et=X.useEasing,rt=X.enableScrollSpy,Ot=X.scrollSpyDelay,Dt=X.scrollSpyOnce;return new w.CountUp(k,pt,{startVal:Mt,duration:q,decimal:K,decimalPlaces:tt,easingFn:at,formattingFn:ct,numerals:St,separator:Lt,prefix:vt,suffix:wt,useEasing:et,useGrouping:!!Lt,enableScrollSpy:rt,scrollSpyDelay:Ot,scrollSpyOnce:Dt})},B=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],m={decimal:".",delay:null,prefix:"",suffix:"",duration:2,start:0,startOnMount:!0,enableReinitialize:!0},f=function(k){var X=R.useMemo(function(){return P(P({},m),k)},[k]),K=X.ref,tt=X.startOnMount,q=X.enableReinitialize,at=X.delay,pt=X.onEnd,ct=X.onStart,St=X.onPauseResume,vt=X.onReset,Lt=X.onUpdate,Mt=S(X,B),wt=R.useRef(),et=R.useRef(),rt=R.useRef(!1),Ot=x(function(){return T(typeof K=="string"?K:K.current,Mt)}),Dt=x(function(Zt){var se=wt.current;if(se&&!Zt)return se;var ie=Ot();return wt.current=ie,ie}),ot=x(function(){var Zt=function(){return Dt(!0).start(function(){pt==null||pt({pauseResume:xt,reset:Nt,start:Ct,update:Yt})})};at&&at>0?et.current=setTimeout(Zt,at*1e3):Zt(),ct==null||ct({pauseResume:xt,reset:Nt,update:Yt})}),xt=x(function(){Dt().pauseResume(),St==null||St({reset:Nt,start:Ct,update:Yt})}),Nt=x(function(){Dt().el&&(et.current&&clearTimeout(et.current),Dt().reset(),vt==null||vt({pauseResume:xt,start:Ct,update:Yt}))}),Yt=x(function(Zt){Dt().update(Zt),Lt==null||Lt({pauseResume:xt,reset:Nt,start:Ct})}),Ct=x(function(){Nt(),ot()}),Xt=x(function(Zt){tt&&(Zt&&Nt(),ot())});return R.useEffect(function(){rt.current?q&&Xt(!0):(rt.current=!0,Xt())},[q,rt,Xt,at,k.start,k.suffix,k.prefix,k.duration,k.separator,k.decimals,k.decimal,k.formattingFn]),R.useEffect(function(){return function(){Nt()}},[Nt]),{start:Ct,pauseResume:xt,reset:Nt,update:Yt,getCountUp:Dt}},U=["className","redraw","containerProps","children","style"],j=function(k){var X=k.className,K=k.redraw,tt=k.containerProps,q=k.children,at=k.style,pt=S(k,U),ct=R.useRef(null),St=R.useRef(!1),vt=f(P(P({},pt),{},{ref:ct,startOnMount:typeof q!="function"||k.delay===0,enableReinitialize:!1})),Lt=vt.start,Mt=vt.reset,wt=vt.update,et=vt.pauseResume,rt=vt.getCountUp,Ot=x(function(){Lt()}),Dt=x(function(Nt){k.preserveValue||Mt(),wt(Nt)}),ot=x(function(){if(typeof k.children=="function"&&!(ct.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}rt()});R.useEffect(function(){ot()},[ot]),R.useEffect(function(){St.current&&Dt(k.end)},[k.end,Dt]);var xt=K&&k;return R.useEffect(function(){K&&St.current&&Ot()},[Ot,K,xt]),R.useEffect(function(){!K&&St.current&&Ot()},[Ot,K,k.start,k.suffix,k.prefix,k.duration,k.separator,k.decimals,k.decimal,k.className,k.formattingFn]),R.useEffect(function(){St.current=!0},[]),typeof q=="function"?q({countUpRef:ct,start:Lt,reset:Mt,update:wt,pauseResume:et,getCountUp:rt}):R.createElement("span",p({className:X,ref:ct,style:at},tt),typeof k.start!="undefined"?rt().formattingFn(k.start):"")};W.ZP=j,y=f},175668:function(Ve,W,_){"use strict";function y(ot){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xt){return typeof xt}:function(xt){return xt&&typeof Symbol=="function"&&xt.constructor===Symbol&&xt!==Symbol.prototype?"symbol":typeof xt},y(ot)}Object.defineProperty(W,"__esModule",{value:!0}),Object.defineProperty(W,"DraggableCore",{enumerable:!0,get:function(){return S.default}}),W.default=void 0;var R=T(_(667294)),w=A(_(45697)),M=A(_(973935)),P=A(_(386010)),L=_(381825),p=_(102849),g=_(909280),S=A(_(180783)),E=A(_(955904)),b=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function A(ot){return ot&&ot.__esModule?ot:{default:ot}}function x(ot){if(typeof WeakMap!="function")return null;var xt=new WeakMap,Nt=new WeakMap;return(x=function(Ct){return Ct?Nt:xt})(ot)}function T(ot,xt){if(!xt&&ot&&ot.__esModule)return ot;if(ot===null||y(ot)!=="object"&&typeof ot!="function")return{default:ot};var Nt=x(xt);if(Nt&&Nt.has(ot))return Nt.get(ot);var Yt={},Ct=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Xt in ot)if(Xt!=="default"&&Object.prototype.hasOwnProperty.call(ot,Xt)){var Zt=Ct?Object.getOwnPropertyDescriptor(ot,Xt):null;Zt&&(Zt.get||Zt.set)?Object.defineProperty(Yt,Xt,Zt):Yt[Xt]=ot[Xt]}return Yt.default=ot,Nt&&Nt.set(ot,Yt),Yt}function B(){return B=Object.assign||function(ot){for(var xt=1;xt<arguments.length;xt++){var Nt=arguments[xt];for(var Yt in Nt)Object.prototype.hasOwnProperty.call(Nt,Yt)&&(ot[Yt]=Nt[Yt])}return ot},B.apply(this,arguments)}function m(ot,xt){if(ot==null)return{};var Nt=f(ot,xt),Yt,Ct;if(Object.getOwnPropertySymbols){var Xt=Object.getOwnPropertySymbols(ot);for(Ct=0;Ct<Xt.length;Ct++)Yt=Xt[Ct],!(xt.indexOf(Yt)>=0)&&Object.prototype.propertyIsEnumerable.call(ot,Yt)&&(Nt[Yt]=ot[Yt])}return Nt}function f(ot,xt){if(ot==null)return{};var Nt={},Yt=Object.keys(ot),Ct,Xt;for(Xt=0;Xt<Yt.length;Xt++)Ct=Yt[Xt],!(xt.indexOf(Ct)>=0)&&(Nt[Ct]=ot[Ct]);return Nt}function U(ot,xt){var Nt=Object.keys(ot);if(Object.getOwnPropertySymbols){var Yt=Object.getOwnPropertySymbols(ot);xt&&(Yt=Yt.filter(function(Ct){return Object.getOwnPropertyDescriptor(ot,Ct).enumerable})),Nt.push.apply(Nt,Yt)}return Nt}function j(ot){for(var xt=1;xt<arguments.length;xt++){var Nt=arguments[xt]!=null?arguments[xt]:{};xt%2?U(Object(Nt),!0).forEach(function(Yt){Ot(ot,Yt,Nt[Yt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ot,Object.getOwnPropertyDescriptors(Nt)):U(Object(Nt)).forEach(function(Yt){Object.defineProperty(ot,Yt,Object.getOwnPropertyDescriptor(Nt,Yt))})}return ot}function z(ot,xt){return q(ot)||tt(ot,xt)||X(ot,xt)||k()}function k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X(ot,xt){if(ot){if(typeof ot=="string")return K(ot,xt);var Nt=Object.prototype.toString.call(ot).slice(8,-1);if(Nt==="Object"&&ot.constructor&&(Nt=ot.constructor.name),Nt==="Map"||Nt==="Set")return Array.from(ot);if(Nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Nt))return K(ot,xt)}}function K(ot,xt){(xt==null||xt>ot.length)&&(xt=ot.length);for(var Nt=0,Yt=new Array(xt);Nt<xt;Nt++)Yt[Nt]=ot[Nt];return Yt}function tt(ot,xt){var Nt=ot==null?null:typeof Symbol!="undefined"&&ot[Symbol.iterator]||ot["@@iterator"];if(Nt!=null){var Yt=[],Ct=!0,Xt=!1,Zt,se;try{for(Nt=Nt.call(ot);!(Ct=(Zt=Nt.next()).done)&&(Yt.push(Zt.value),!(xt&&Yt.length===xt));Ct=!0);}catch(ie){Xt=!0,se=ie}finally{try{!Ct&&Nt.return!=null&&Nt.return()}finally{if(Xt)throw se}}return Yt}}function q(ot){if(Array.isArray(ot))return ot}function at(ot,xt){if(!(ot instanceof xt))throw new TypeError("Cannot call a class as a function")}function pt(ot,xt){for(var Nt=0;Nt<xt.length;Nt++){var Yt=xt[Nt];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(ot,Yt.key,Yt)}}function ct(ot,xt,Nt){return xt&&pt(ot.prototype,xt),Nt&&pt(ot,Nt),Object.defineProperty(ot,"prototype",{writable:!1}),ot}function St(ot,xt){if(typeof xt!="function"&&xt!==null)throw new TypeError("Super expression must either be null or a function");ot.prototype=Object.create(xt&&xt.prototype,{constructor:{value:ot,writable:!0,configurable:!0}}),Object.defineProperty(ot,"prototype",{writable:!1}),xt&&vt(ot,xt)}function vt(ot,xt){return vt=Object.setPrototypeOf||function(Yt,Ct){return Yt.__proto__=Ct,Yt},vt(ot,xt)}function Lt(ot){var xt=et();return function(){var Yt=rt(ot),Ct;if(xt){var Xt=rt(this).constructor;Ct=Reflect.construct(Yt,arguments,Xt)}else Ct=Yt.apply(this,arguments);return Mt(this,Ct)}}function Mt(ot,xt){if(xt&&(y(xt)==="object"||typeof xt=="function"))return xt;if(xt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wt(ot)}function wt(ot){if(ot===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ot}function et(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ot){return!1}}function rt(ot){return rt=Object.setPrototypeOf?Object.getPrototypeOf:function(Nt){return Nt.__proto__||Object.getPrototypeOf(Nt)},rt(ot)}function Ot(ot,xt,Nt){return xt in ot?Object.defineProperty(ot,xt,{value:Nt,enumerable:!0,configurable:!0,writable:!0}):ot[xt]=Nt,ot}var Dt=function(ot){St(Nt,ot);var xt=Lt(Nt);function Nt(Yt){var Ct;return at(this,Nt),Ct=xt.call(this,Yt),Ot(wt(Ct),"onDragStart",function(Xt,Zt){(0,E.default)("Draggable: onDragStart: %j",Zt);var se=Ct.props.onStart(Xt,(0,p.createDraggableData)(wt(Ct),Zt));if(se===!1)return!1;Ct.setState({dragging:!0,dragged:!0})}),Ot(wt(Ct),"onDrag",function(Xt,Zt){if(!Ct.state.dragging)return!1;(0,E.default)("Draggable: onDrag: %j",Zt);var se=(0,p.createDraggableData)(wt(Ct),Zt),ie={x:se.x,y:se.y};if(Ct.props.bounds){var zt=ie.x,ae=ie.y;ie.x+=Ct.state.slackX,ie.y+=Ct.state.slackY;var Re=(0,p.getBoundPosition)(wt(Ct),ie.x,ie.y),Jt=z(Re,2),ue=Jt[0],ke=Jt[1];ie.x=ue,ie.y=ke,ie.slackX=Ct.state.slackX+(zt-ie.x),ie.slackY=Ct.state.slackY+(ae-ie.y),se.x=ie.x,se.y=ie.y,se.deltaX=ie.x-Ct.state.x,se.deltaY=ie.y-Ct.state.y}var ye=Ct.props.onDrag(Xt,se);if(ye===!1)return!1;Ct.setState(ie)}),Ot(wt(Ct),"onDragStop",function(Xt,Zt){if(!Ct.state.dragging)return!1;var se=Ct.props.onStop(Xt,(0,p.createDraggableData)(wt(Ct),Zt));if(se===!1)return!1;(0,E.default)("Draggable: onDragStop: %j",Zt);var ie={dragging:!1,slackX:0,slackY:0},zt=Boolean(Ct.props.position);if(zt){var ae=Ct.props.position,Re=ae.x,Jt=ae.y;ie.x=Re,ie.y=Jt}Ct.setState(ie)}),Ct.state={dragging:!1,dragged:!1,x:Yt.position?Yt.position.x:Yt.defaultPosition.x,y:Yt.position?Yt.position.y:Yt.defaultPosition.y,prevPropsPosition:j({},Yt.position),slackX:0,slackY:0,isElementSVG:!1},Yt.position&&!(Yt.onDrag||Yt.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),Ct}return ct(Nt,[{key:"componentDidMount",value:function(){typeof window.SVGElement!="undefined"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var Ct,Xt,Zt;return(Ct=(Xt=this.props)===null||Xt===void 0||(Zt=Xt.nodeRef)===null||Zt===void 0?void 0:Zt.current)!==null&&Ct!==void 0?Ct:M.default.findDOMNode(this)}},{key:"render",value:function(){var Ct,Xt=this.props,Zt=Xt.axis,se=Xt.bounds,ie=Xt.children,zt=Xt.defaultPosition,ae=Xt.defaultClassName,Re=Xt.defaultClassNameDragging,Jt=Xt.defaultClassNameDragged,ue=Xt.position,ke=Xt.positionOffset,ye=Xt.scale,ee=m(Xt,b),Ut={},bt=null,Ft=Boolean(ue),be=!Ft||this.state.dragging,qe=ue||zt,Pe={x:(0,p.canDragX)(this)&&be?this.state.x:qe.x,y:(0,p.canDragY)(this)&&be?this.state.y:qe.y};this.state.isElementSVG?bt=(0,L.createSVGTransform)(Pe,ke):Ut=(0,L.createCSSTransform)(Pe,ke);var Ze=(0,P.default)(ie.props.className||"",ae,(Ct={},Ot(Ct,Re,this.state.dragging),Ot(Ct,Jt,this.state.dragged),Ct));return R.createElement(S.default,B({},ee,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),R.cloneElement(R.Children.only(ie),{className:Ze,style:j(j({},ie.props.style),Ut),transform:bt}))}}],[{key:"getDerivedStateFromProps",value:function(Ct,Xt){var Zt=Ct.position,se=Xt.prevPropsPosition;return Zt&&(!se||Zt.x!==se.x||Zt.y!==se.y)?((0,E.default)("Draggable: getDerivedStateFromProps %j",{position:Zt,prevPropsPosition:se}),{x:Zt.x,y:Zt.y,prevPropsPosition:j({},Zt)}):null}}]),Nt}(R.Component);W.default=Dt,Ot(Dt,"displayName","Draggable"),Ot(Dt,"propTypes",j(j({},S.default.propTypes),{},{axis:w.default.oneOf(["both","x","y","none"]),bounds:w.default.oneOfType([w.default.shape({left:w.default.number,right:w.default.number,top:w.default.number,bottom:w.default.number}),w.default.string,w.default.oneOf([!1])]),defaultClassName:w.default.string,defaultClassNameDragging:w.default.string,defaultClassNameDragged:w.default.string,defaultPosition:w.default.shape({x:w.default.number,y:w.default.number}),positionOffset:w.default.shape({x:w.default.oneOfType([w.default.number,w.default.string]),y:w.default.oneOfType([w.default.number,w.default.string])}),position:w.default.shape({x:w.default.number,y:w.default.number}),className:g.dontSetMe,style:g.dontSetMe,transform:g.dontSetMe})),Ot(Dt,"defaultProps",j(j({},S.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},180783:function(Ve,W,_){"use strict";function y(Mt){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt},y(Mt)}Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var R=b(_(667294)),w=S(_(45697)),M=S(_(973935)),P=_(381825),L=_(102849),p=_(909280),g=S(_(955904));function S(Mt){return Mt&&Mt.__esModule?Mt:{default:Mt}}function E(Mt){if(typeof WeakMap!="function")return null;var wt=new WeakMap,et=new WeakMap;return(E=function(Ot){return Ot?et:wt})(Mt)}function b(Mt,wt){if(!wt&&Mt&&Mt.__esModule)return Mt;if(Mt===null||y(Mt)!=="object"&&typeof Mt!="function")return{default:Mt};var et=E(wt);if(et&&et.has(Mt))return et.get(Mt);var rt={},Ot=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Dt in Mt)if(Dt!=="default"&&Object.prototype.hasOwnProperty.call(Mt,Dt)){var ot=Ot?Object.getOwnPropertyDescriptor(Mt,Dt):null;ot&&(ot.get||ot.set)?Object.defineProperty(rt,Dt,ot):rt[Dt]=Mt[Dt]}return rt.default=Mt,et&&et.set(Mt,rt),rt}function A(Mt,wt){return f(Mt)||m(Mt,wt)||T(Mt,wt)||x()}function x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T(Mt,wt){if(Mt){if(typeof Mt=="string")return B(Mt,wt);var et=Object.prototype.toString.call(Mt).slice(8,-1);if(et==="Object"&&Mt.constructor&&(et=Mt.constructor.name),et==="Map"||et==="Set")return Array.from(Mt);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return B(Mt,wt)}}function B(Mt,wt){(wt==null||wt>Mt.length)&&(wt=Mt.length);for(var et=0,rt=new Array(wt);et<wt;et++)rt[et]=Mt[et];return rt}function m(Mt,wt){var et=Mt==null?null:typeof Symbol!="undefined"&&Mt[Symbol.iterator]||Mt["@@iterator"];if(et!=null){var rt=[],Ot=!0,Dt=!1,ot,xt;try{for(et=et.call(Mt);!(Ot=(ot=et.next()).done)&&(rt.push(ot.value),!(wt&&rt.length===wt));Ot=!0);}catch(Nt){Dt=!0,xt=Nt}finally{try{!Ot&&et.return!=null&&et.return()}finally{if(Dt)throw xt}}return rt}}function f(Mt){if(Array.isArray(Mt))return Mt}function U(Mt,wt){if(!(Mt instanceof wt))throw new TypeError("Cannot call a class as a function")}function j(Mt,wt){for(var et=0;et<wt.length;et++){var rt=wt[et];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(Mt,rt.key,rt)}}function z(Mt,wt,et){return wt&&j(Mt.prototype,wt),et&&j(Mt,et),Object.defineProperty(Mt,"prototype",{writable:!1}),Mt}function k(Mt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");Mt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:Mt,writable:!0,configurable:!0}}),Object.defineProperty(Mt,"prototype",{writable:!1}),wt&&X(Mt,wt)}function X(Mt,wt){return X=Object.setPrototypeOf||function(rt,Ot){return rt.__proto__=Ot,rt},X(Mt,wt)}function K(Mt){var wt=at();return function(){var rt=pt(Mt),Ot;if(wt){var Dt=pt(this).constructor;Ot=Reflect.construct(rt,arguments,Dt)}else Ot=rt.apply(this,arguments);return tt(this,Ot)}}function tt(Mt,wt){if(wt&&(y(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(Mt)}function q(Mt){if(Mt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Mt}function at(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Mt){return!1}}function pt(Mt){return pt=Object.setPrototypeOf?Object.getPrototypeOf:function(et){return et.__proto__||Object.getPrototypeOf(et)},pt(Mt)}function ct(Mt,wt,et){return wt in Mt?Object.defineProperty(Mt,wt,{value:et,enumerable:!0,configurable:!0,writable:!0}):Mt[wt]=et,Mt}var St={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},vt=St.mouse,Lt=function(Mt){k(et,Mt);var wt=K(et);function et(){var rt;U(this,et);for(var Ot=arguments.length,Dt=new Array(Ot),ot=0;ot<Ot;ot++)Dt[ot]=arguments[ot];return rt=wt.call.apply(wt,[this].concat(Dt)),ct(q(rt),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),ct(q(rt),"mounted",!1),ct(q(rt),"handleDragStart",function(xt){if(rt.props.onMouseDown(xt),!rt.props.allowAnyClick&&typeof xt.button=="number"&&xt.button!==0)return!1;var Nt=rt.findDOMNode();if(!Nt||!Nt.ownerDocument||!Nt.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var Yt=Nt.ownerDocument;if(!(rt.props.disabled||!(xt.target instanceof Yt.defaultView.Node)||rt.props.handle&&!(0,P.matchesSelectorAndParentsTo)(xt.target,rt.props.handle,Nt)||rt.props.cancel&&(0,P.matchesSelectorAndParentsTo)(xt.target,rt.props.cancel,Nt))){xt.type==="touchstart"&&xt.preventDefault();var Ct=(0,P.getTouchIdentifier)(xt);rt.setState({touchIdentifier:Ct});var Xt=(0,L.getControlPosition)(xt,Ct,q(rt));if(Xt!=null){var Zt=Xt.x,se=Xt.y,ie=(0,L.createCoreData)(q(rt),Zt,se);(0,g.default)("DraggableCore: handleDragStart: %j",ie),(0,g.default)("calling",rt.props.onStart);var zt=rt.props.onStart(xt,ie);zt===!1||rt.mounted===!1||(rt.props.enableUserSelectHack&&(0,P.addUserSelectStyles)(Yt),rt.setState({dragging:!0,lastX:Zt,lastY:se}),(0,P.addEvent)(Yt,vt.move,rt.handleDrag),(0,P.addEvent)(Yt,vt.stop,rt.handleDragStop))}}}),ct(q(rt),"handleDrag",function(xt){var Nt=(0,L.getControlPosition)(xt,rt.state.touchIdentifier,q(rt));if(Nt!=null){var Yt=Nt.x,Ct=Nt.y;if(Array.isArray(rt.props.grid)){var Xt=Yt-rt.state.lastX,Zt=Ct-rt.state.lastY,se=(0,L.snapToGrid)(rt.props.grid,Xt,Zt),ie=A(se,2);if(Xt=ie[0],Zt=ie[1],!Xt&&!Zt)return;Yt=rt.state.lastX+Xt,Ct=rt.state.lastY+Zt}var zt=(0,L.createCoreData)(q(rt),Yt,Ct);(0,g.default)("DraggableCore: handleDrag: %j",zt);var ae=rt.props.onDrag(xt,zt);if(ae===!1||rt.mounted===!1){try{rt.handleDragStop(new MouseEvent("mouseup"))}catch(Jt){var Re=document.createEvent("MouseEvents");Re.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),rt.handleDragStop(Re)}return}rt.setState({lastX:Yt,lastY:Ct})}}),ct(q(rt),"handleDragStop",function(xt){if(rt.state.dragging){var Nt=(0,L.getControlPosition)(xt,rt.state.touchIdentifier,q(rt));if(Nt!=null){var Yt=Nt.x,Ct=Nt.y;if(Array.isArray(rt.props.grid)){var Xt=Yt-rt.state.lastX||0,Zt=Ct-rt.state.lastY||0,se=(0,L.snapToGrid)(rt.props.grid,Xt,Zt),ie=A(se,2);Xt=ie[0],Zt=ie[1],Yt=rt.state.lastX+Xt,Ct=rt.state.lastY+Zt}var zt=(0,L.createCoreData)(q(rt),Yt,Ct),ae=rt.props.onStop(xt,zt);if(ae===!1||rt.mounted===!1)return!1;var Re=rt.findDOMNode();Re&&rt.props.enableUserSelectHack&&(0,P.removeUserSelectStyles)(Re.ownerDocument),(0,g.default)("DraggableCore: handleDragStop: %j",zt),rt.setState({dragging:!1,lastX:NaN,lastY:NaN}),Re&&((0,g.default)("DraggableCore: Removing handlers"),(0,P.removeEvent)(Re.ownerDocument,vt.move,rt.handleDrag),(0,P.removeEvent)(Re.ownerDocument,vt.stop,rt.handleDragStop))}}}),ct(q(rt),"onMouseDown",function(xt){return vt=St.mouse,rt.handleDragStart(xt)}),ct(q(rt),"onMouseUp",function(xt){return vt=St.mouse,rt.handleDragStop(xt)}),ct(q(rt),"onTouchStart",function(xt){return vt=St.touch,rt.handleDragStart(xt)}),ct(q(rt),"onTouchEnd",function(xt){return vt=St.touch,rt.handleDragStop(xt)}),rt}return z(et,[{key:"componentDidMount",value:function(){this.mounted=!0;var Ot=this.findDOMNode();Ot&&(0,P.addEvent)(Ot,St.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var Ot=this.findDOMNode();if(Ot){var Dt=Ot.ownerDocument;(0,P.removeEvent)(Dt,St.mouse.move,this.handleDrag),(0,P.removeEvent)(Dt,St.touch.move,this.handleDrag),(0,P.removeEvent)(Dt,St.mouse.stop,this.handleDragStop),(0,P.removeEvent)(Dt,St.touch.stop,this.handleDragStop),(0,P.removeEvent)(Ot,St.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,P.removeUserSelectStyles)(Dt)}}},{key:"findDOMNode",value:function(){var Ot,Dt,ot;return(Ot=this.props)!==null&&Ot!==void 0&&Ot.nodeRef?(Dt=this.props)===null||Dt===void 0||(ot=Dt.nodeRef)===null||ot===void 0?void 0:ot.current:M.default.findDOMNode(this)}},{key:"render",value:function(){return R.cloneElement(R.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),et}(R.Component);W.default=Lt,ct(Lt,"displayName","DraggableCore"),ct(Lt,"propTypes",{allowAnyClick:w.default.bool,disabled:w.default.bool,enableUserSelectHack:w.default.bool,offsetParent:function(wt,et){if(wt[et]&&wt[et].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:w.default.arrayOf(w.default.number),handle:w.default.string,cancel:w.default.string,nodeRef:w.default.object,onStart:w.default.func,onDrag:w.default.func,onStop:w.default.func,onMouseDown:w.default.func,scale:w.default.number,className:p.dontSetMe,style:p.dontSetMe,transform:p.dontSetMe}),ct(Lt,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},861193:function(Ve,W,_){"use strict";var y=_(175668),R=y.default,w=y.DraggableCore;Ve.exports=R,Ve.exports.default=R,Ve.exports.DraggableCore=w},381825:function(Ve,W,_){"use strict";function y(ct){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(St){return typeof St}:function(St){return St&&typeof Symbol=="function"&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St},y(ct)}Object.defineProperty(W,"__esModule",{value:!0}),W.addClassName=at,W.addEvent=A,W.addUserSelectStyles=tt,W.createCSSTransform=j,W.createSVGTransform=z,W.getTouch=X,W.getTouchIdentifier=K,W.getTranslation=k,W.innerHeight=m,W.innerWidth=f,W.matchesSelector=E,W.matchesSelectorAndParentsTo=b,W.offsetXYFromParent=U,W.outerHeight=T,W.outerWidth=B,W.removeClassName=pt,W.removeEvent=x,W.removeUserSelectStyles=q;var R=_(909280),w=P(_(138650));function M(ct){if(typeof WeakMap!="function")return null;var St=new WeakMap,vt=new WeakMap;return(M=function(Mt){return Mt?vt:St})(ct)}function P(ct,St){if(!St&&ct&&ct.__esModule)return ct;if(ct===null||y(ct)!=="object"&&typeof ct!="function")return{default:ct};var vt=M(St);if(vt&&vt.has(ct))return vt.get(ct);var Lt={},Mt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var wt in ct)if(wt!=="default"&&Object.prototype.hasOwnProperty.call(ct,wt)){var et=Mt?Object.getOwnPropertyDescriptor(ct,wt):null;et&&(et.get||et.set)?Object.defineProperty(Lt,wt,et):Lt[wt]=ct[wt]}return Lt.default=ct,vt&&vt.set(ct,Lt),Lt}function L(ct,St){var vt=Object.keys(ct);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(ct);St&&(Lt=Lt.filter(function(Mt){return Object.getOwnPropertyDescriptor(ct,Mt).enumerable})),vt.push.apply(vt,Lt)}return vt}function p(ct){for(var St=1;St<arguments.length;St++){var vt=arguments[St]!=null?arguments[St]:{};St%2?L(Object(vt),!0).forEach(function(Lt){g(ct,Lt,vt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ct,Object.getOwnPropertyDescriptors(vt)):L(Object(vt)).forEach(function(Lt){Object.defineProperty(ct,Lt,Object.getOwnPropertyDescriptor(vt,Lt))})}return ct}function g(ct,St,vt){return St in ct?Object.defineProperty(ct,St,{value:vt,enumerable:!0,configurable:!0,writable:!0}):ct[St]=vt,ct}var S="";function E(ct,St){return S||(S=(0,R.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(vt){return(0,R.isFunction)(ct[vt])})),(0,R.isFunction)(ct[S])?ct[S](St):!1}function b(ct,St,vt){var Lt=ct;do{if(E(Lt,St))return!0;if(Lt===vt)return!1;Lt=Lt.parentNode}while(Lt);return!1}function A(ct,St,vt,Lt){if(ct){var Mt=p({capture:!0},Lt);ct.addEventListener?ct.addEventListener(St,vt,Mt):ct.attachEvent?ct.attachEvent("on"+St,vt):ct["on"+St]=vt}}function x(ct,St,vt,Lt){if(ct){var Mt=p({capture:!0},Lt);ct.removeEventListener?ct.removeEventListener(St,vt,Mt):ct.detachEvent?ct.detachEvent("on"+St,vt):ct["on"+St]=null}}function T(ct){var St=ct.clientHeight,vt=ct.ownerDocument.defaultView.getComputedStyle(ct);return St+=(0,R.int)(vt.borderTopWidth),St+=(0,R.int)(vt.borderBottomWidth),St}function B(ct){var St=ct.clientWidth,vt=ct.ownerDocument.defaultView.getComputedStyle(ct);return St+=(0,R.int)(vt.borderLeftWidth),St+=(0,R.int)(vt.borderRightWidth),St}function m(ct){var St=ct.clientHeight,vt=ct.ownerDocument.defaultView.getComputedStyle(ct);return St-=(0,R.int)(vt.paddingTop),St-=(0,R.int)(vt.paddingBottom),St}function f(ct){var St=ct.clientWidth,vt=ct.ownerDocument.defaultView.getComputedStyle(ct);return St-=(0,R.int)(vt.paddingLeft),St-=(0,R.int)(vt.paddingRight),St}function U(ct,St,vt){var Lt=St===St.ownerDocument.body,Mt=Lt?{left:0,top:0}:St.getBoundingClientRect(),wt=(ct.clientX+St.scrollLeft-Mt.left)/vt,et=(ct.clientY+St.scrollTop-Mt.top)/vt;return{x:wt,y:et}}function j(ct,St){var vt=k(ct,St,"px");return g({},(0,w.browserPrefixToKey)("transform",w.default),vt)}function z(ct,St){var vt=k(ct,St,"");return vt}function k(ct,St,vt){var Lt=ct.x,Mt=ct.y,wt="translate(".concat(Lt).concat(vt,",").concat(Mt).concat(vt,")");if(St){var et="".concat(typeof St.x=="string"?St.x:St.x+vt),rt="".concat(typeof St.y=="string"?St.y:St.y+vt);wt="translate(".concat(et,", ").concat(rt,")")+wt}return wt}function X(ct,St){return ct.targetTouches&&(0,R.findInArray)(ct.targetTouches,function(vt){return St===vt.identifier})||ct.changedTouches&&(0,R.findInArray)(ct.changedTouches,function(vt){return St===vt.identifier})}function K(ct){if(ct.targetTouches&&ct.targetTouches[0])return ct.targetTouches[0].identifier;if(ct.changedTouches&&ct.changedTouches[0])return ct.changedTouches[0].identifier}function tt(ct){if(ct){var St=ct.getElementById("react-draggable-style-el");St||(St=ct.createElement("style"),St.type="text/css",St.id="react-draggable-style-el",St.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,St.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,ct.getElementsByTagName("head")[0].appendChild(St)),ct.body&&at(ct.body,"react-draggable-transparent-selection")}}function q(ct){if(ct)try{if(ct.body&&pt(ct.body,"react-draggable-transparent-selection"),ct.selection)ct.selection.empty();else{var St=(ct.defaultView||window).getSelection();St&&St.type!=="Caret"&&St.removeAllRanges()}}catch(vt){}}function at(ct,St){ct.classList?ct.classList.add(St):ct.className.match(new RegExp("(?:^|\\s)".concat(St,"(?!\\S)")))||(ct.className+=" ".concat(St))}function pt(ct,St){ct.classList?ct.classList.remove(St):ct.className=ct.className.replace(new RegExp("(?:^|\\s)".concat(St,"(?!\\S)"),"g"),"")}},138650:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.browserPrefixToKey=R,W.browserPrefixToStyle=w,W.default=void 0,W.getPrefix=y;var _=["Moz","Webkit","O","ms"];function y(){var L,p,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window=="undefined")return"";var S=(L=window.document)===null||L===void 0||(p=L.documentElement)===null||p===void 0?void 0:p.style;if(!S||g in S)return"";for(var E=0;E<_.length;E++)if(R(g,_[E])in S)return _[E];return""}function R(L,p){return p?"".concat(p).concat(M(L)):L}function w(L,p){return p?"-".concat(p.toLowerCase(),"-").concat(L):L}function M(L){for(var p="",g=!0,S=0;S<L.length;S++)g?(p+=L[S].toUpperCase(),g=!1):L[S]==="-"?g=!0:p+=L[S];return p}var P=y();W.default=P},955904:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=_;function _(){var y}},102849:function(Ve,W,_){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.canDragX=P,W.canDragY=L,W.createCoreData=g,W.createDraggableData=S,W.getBoundPosition=w,W.getControlPosition=p,W.snapToGrid=M;var y=_(909280),R=_(381825);function w(A,x,T){if(!A.props.bounds)return[x,T];var B=A.props.bounds;B=typeof B=="string"?B:E(B);var m=b(A);if(typeof B=="string"){var f=m.ownerDocument,U=f.defaultView,j;if(B==="parent"?j=m.parentNode:j=f.querySelector(B),!(j instanceof U.HTMLElement))throw new Error('Bounds selector "'+B+'" could not find an element.');var z=j,k=U.getComputedStyle(m),X=U.getComputedStyle(z);B={left:-m.offsetLeft+(0,y.int)(X.paddingLeft)+(0,y.int)(k.marginLeft),top:-m.offsetTop+(0,y.int)(X.paddingTop)+(0,y.int)(k.marginTop),right:(0,R.innerWidth)(z)-(0,R.outerWidth)(m)-m.offsetLeft+(0,y.int)(X.paddingRight)-(0,y.int)(k.marginRight),bottom:(0,R.innerHeight)(z)-(0,R.outerHeight)(m)-m.offsetTop+(0,y.int)(X.paddingBottom)-(0,y.int)(k.marginBottom)}}return(0,y.isNum)(B.right)&&(x=Math.min(x,B.right)),(0,y.isNum)(B.bottom)&&(T=Math.min(T,B.bottom)),(0,y.isNum)(B.left)&&(x=Math.max(x,B.left)),(0,y.isNum)(B.top)&&(T=Math.max(T,B.top)),[x,T]}function M(A,x,T){var B=Math.round(x/A[0])*A[0],m=Math.round(T/A[1])*A[1];return[B,m]}function P(A){return A.props.axis==="both"||A.props.axis==="x"}function L(A){return A.props.axis==="both"||A.props.axis==="y"}function p(A,x,T){var B=typeof x=="number"?(0,R.getTouch)(A,x):null;if(typeof x=="number"&&!B)return null;var m=b(T),f=T.props.offsetParent||m.offsetParent||m.ownerDocument.body;return(0,R.offsetXYFromParent)(B||A,f,T.props.scale)}function g(A,x,T){var B=A.state,m=!(0,y.isNum)(B.lastX),f=b(A);return m?{node:f,deltaX:0,deltaY:0,lastX:x,lastY:T,x,y:T}:{node:f,deltaX:x-B.lastX,deltaY:T-B.lastY,lastX:B.lastX,lastY:B.lastY,x,y:T}}function S(A,x){var T=A.props.scale;return{node:x.node,x:A.state.x+x.deltaX/T,y:A.state.y+x.deltaY/T,deltaX:x.deltaX/T,deltaY:x.deltaY/T,lastX:A.state.x,lastY:A.state.y}}function E(A){return{left:A.left,top:A.top,right:A.right,bottom:A.bottom}}function b(A){var x=A.findDOMNode();if(!x)throw new Error("<DraggableCore>: Unmounted during event!");return x}},909280:function(Ve,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.dontSetMe=M,W.findInArray=_,W.int=w,W.isFunction=y,W.isNum=R;function _(P,L){for(var p=0,g=P.length;p<g;p++)if(L.apply(L,[P[p],p,P]))return P[p]}function y(P){return typeof P=="function"||Object.prototype.toString.call(P)==="[object Function]"}function R(P){return typeof P=="number"&&!isNaN(P)}function w(P){return parseInt(P,10)}function M(P,L,p){if(P[L])return new Error("Invalid prop ".concat(L," passed to ").concat(p," - do not set this, set it on the child."))}},797005:function(Ve,W,_){var y;function R(g){if(!g||typeof window=="undefined")return;const S=document.createElement("style");return S.setAttribute("type","text/css"),S.innerHTML=g,document.head.appendChild(S),g}y={value:!0};var w=_(667294);function M(g){return g&&typeof g=="object"&&"default"in g?g:{default:g}}var P=M(w);var L=function(){return L=Object.assign||function(S){for(var E,b=1,A=arguments.length;b<A;b++){E=arguments[b];for(var x in E)Object.prototype.hasOwnProperty.call(E,x)&&(S[x]=E[x])}return S},L.apply(this,arguments)};R(`.marquee-container {
  overflow-x: hidden !important;
  display: flex !important;
  flex-direction: row !important;
  position: relative;
  width: 100%;
}
.marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.overlay::before, .overlay::after {
  background: linear-gradient(to right, var(--gradient-color));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
}
.overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.overlay::before {
  left: 0;
  top: 0;
}

.marquee {
  flex: 0 0 auto;
  min-width: 100%;
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}`);var p=function(g){var S,E,b,A,x=g.style,T=x===void 0?{}:x,B=g.className,m=B===void 0?"":B,f=g.play,U=f===void 0?!0:f,j=g.pauseOnHover,z=j===void 0?!1:j,k=g.pauseOnClick,X=k===void 0?!1:k,K=g.direction,tt=K===void 0?"left":K,q=g.speed,at=q===void 0?20:q,pt=g.delay,ct=pt===void 0?0:pt,St=g.loop,vt=St===void 0?0:St,Lt=g.gradient,Mt=Lt===void 0?!0:Lt,wt=g.gradientColor,et=wt===void 0?[255,255,255]:wt,rt=g.gradientWidth,Ot=rt===void 0?200:rt,Dt=g.onFinish,ot=g.onCycleComplete,xt=g.children,Nt=w.useState(0),Yt=Nt[0],Ct=Nt[1],Xt=w.useState(0),Zt=Xt[0],se=Xt[1],ie=w.useState(!1),zt=ie[0],ae=ie[1],Re=w.useRef(null),Jt=w.useRef(null);w.useEffect(function(){if(zt){var ye=function(){Jt.current&&Re.current&&(Ct(Re.current.getBoundingClientRect().width),se(Jt.current.getBoundingClientRect().width))};return ye(),window.addEventListener("resize",ye),function(){window.removeEventListener("resize",ye)}}},[zt]),w.useEffect(function(){ae(!0)},[]);var ue="rgba("+et[0]+", "+et[1]+", "+et[2],ke=Zt<Yt?Yt/at:Zt/at;return P.default.createElement(w.Fragment,null,zt?P.default.createElement("div",{ref:Re,style:L(L({},T),(S={},S["--pause-on-hover"]=!U||z?"paused":"running",S["--pause-on-click"]=!U||z&&!X||X?"paused":"running",S)),className:m+" marquee-container"},Mt&&P.default.createElement("div",{style:(E={},E["--gradient-color"]=ue+", 1), "+ue+", 0)",E["--gradient-width"]=typeof Ot=="number"?Ot+"px":Ot,E),className:"overlay"}),P.default.createElement("div",{ref:Jt,style:(b={},b["--play"]=U?"running":"paused",b["--direction"]=tt==="left"?"normal":"reverse",b["--duration"]=ke+"s",b["--delay"]=ct+"s",b["--iteration-count"]=vt?""+vt:"infinite",b),className:"marquee",onAnimationIteration:ot,onAnimationEnd:Dt},xt),P.default.createElement("div",{style:(A={},A["--play"]=U?"running":"paused",A["--direction"]=tt==="left"?"normal":"reverse",A["--duration"]=ke+"s",A["--delay"]=ct+"s",A["--iteration-count"]=vt?""+vt:"infinite",A),className:"marquee","aria-hidden":"true"},xt)):null)};W.Z=p},537763:function(Ve,W,_){Ve.exports=function(y){var R={};function w(M){if(R[M])return R[M].exports;var P=R[M]={exports:{},id:M,loaded:!1};return y[M].call(P.exports,P,P.exports,w),P.loaded=!0,P.exports}return w.m=y,w.c=R,w.p="",w(0)}([function(y,R,w){y.exports=w(1)},function(y,R,w){"use strict";Object.defineProperty(R,"__esModule",{value:!0});function M(p){return p&&p.__esModule?p:{default:p}}var P=w(2),L=M(P);R.default=L.default,y.exports=R.default},function(y,R,w){"use strict";Object.defineProperty(R,"__esModule",{value:!0});var M=Object.assign||function(T){for(var B=1;B<arguments.length;B++){var m=arguments[B];for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(T[f]=m[f])}return T};R.default=x;function P(T){return T&&T.__esModule?T:{default:T}}function L(T,B){var m={};for(var f in T)B.indexOf(f)>=0||Object.prototype.hasOwnProperty.call(T,f)&&(m[f]=T[f]);return m}var p=w(3),g=w(4),S=P(g),E=w(14),b=w(15),A=P(b);x.propTypes={activeClassName:S.default.string,activeIndex:S.default.number,activeStyle:S.default.object,autoEscape:S.default.bool,className:S.default.string,findChunks:S.default.func,highlightClassName:S.default.oneOfType([S.default.object,S.default.string]),highlightStyle:S.default.object,highlightTag:S.default.oneOfType([S.default.node,S.default.func,S.default.string]),sanitize:S.default.func,searchWords:S.default.arrayOf(S.default.oneOfType([S.default.string,S.default.instanceOf(RegExp)])).isRequired,textToHighlight:S.default.string.isRequired,unhighlightTag:S.default.oneOfType([S.default.node,S.default.func,S.default.string]),unhighlightClassName:S.default.string,unhighlightStyle:S.default.object};function x(T){var B=T.activeClassName,m=B===void 0?"":B,f=T.activeIndex,U=f===void 0?-1:f,j=T.activeStyle,z=T.autoEscape,k=T.caseSensitive,X=k===void 0?!1:k,K=T.className,tt=T.findChunks,q=T.highlightClassName,at=q===void 0?"":q,pt=T.highlightStyle,ct=pt===void 0?{}:pt,St=T.highlightTag,vt=St===void 0?"mark":St,Lt=T.sanitize,Mt=T.searchWords,wt=T.textToHighlight,et=T.unhighlightTag,rt=et===void 0?"span":et,Ot=T.unhighlightClassName,Dt=Ot===void 0?"":Ot,ot=T.unhighlightStyle,xt=L(T,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightTag","unhighlightClassName","unhighlightStyle"]),Nt=(0,p.findAll)({autoEscape:z,caseSensitive:X,findChunks:tt,sanitize:Lt,searchWords:Mt,textToHighlight:wt}),Yt=vt,Ct=-1,Xt="",Zt=void 0,se=function(ae){var Re={};for(var Jt in ae)Re[Jt.toLowerCase()]=ae[Jt];return Re},ie=(0,A.default)(se);return(0,E.createElement)("span",M({className:K},xt,{children:Nt.map(function(zt,ae){var Re=wt.substr(zt.start,zt.end-zt.start);if(zt.highlight){Ct++;var Jt=void 0;typeof at=="object"?X?Jt=at[Re]:(at=ie(at),Jt=at[Re.toLowerCase()]):Jt=at;var ue=Ct===+U;Xt=Jt+" "+(ue?m:""),Zt=ue===!0&&j!=null?Object.assign({},ct,j):ct;var ke={children:Re,className:Xt,key:ae,style:Zt};return typeof Yt!="string"&&(ke.highlightIndex=Ct),(0,E.createElement)(Yt,ke)}else return(0,E.createElement)(rt,{children:Re,className:Dt,key:ae,style:ot})})}))}y.exports=R.default},function(y,R){y.exports=function(w){var M={};function P(L){if(M[L])return M[L].exports;var p=M[L]={exports:{},id:L,loaded:!1};return w[L].call(p.exports,p,p.exports,P),p.loaded=!0,p.exports}return P.m=w,P.c=M,P.p="",P(0)}([function(w,M,P){w.exports=P(1)},function(w,M,P){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var L=P(2);Object.defineProperty(M,"combineChunks",{enumerable:!0,get:function(){return L.combineChunks}}),Object.defineProperty(M,"fillInChunks",{enumerable:!0,get:function(){return L.fillInChunks}}),Object.defineProperty(M,"findAll",{enumerable:!0,get:function(){return L.findAll}}),Object.defineProperty(M,"findChunks",{enumerable:!0,get:function(){return L.findChunks}})},function(w,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var P=M.findAll=function(A){var x=A.autoEscape,T=A.caseSensitive,B=T===void 0?!1:T,m=A.findChunks,f=m===void 0?p:m,U=A.sanitize,j=A.searchWords,z=A.textToHighlight;return g({chunksToHighlight:L({chunks:f({autoEscape:x,caseSensitive:B,sanitize:U,searchWords:j,textToHighlight:z})}),totalLength:z?z.length:0})},L=M.combineChunks=function(A){var x=A.chunks;return x=x.sort(function(T,B){return T.start-B.start}).reduce(function(T,B){if(T.length===0)return[B];var m=T.pop();if(B.start<=m.end){var f=Math.max(m.end,B.end);T.push({start:m.start,end:f})}else T.push(m,B);return T},[]),x},p=function(A){var x=A.autoEscape,T=A.caseSensitive,B=A.sanitize,m=B===void 0?S:B,f=A.searchWords,U=A.textToHighlight;return U=m(U),f.filter(function(j){return j}).reduce(function(j,z){z=m(z),x&&(z=E(z));for(var k=new RegExp(z,T?"g":"gi"),X=void 0;X=k.exec(U);){var K=X.index,tt=k.lastIndex;tt>K&&j.push({start:K,end:tt}),X.index==k.lastIndex&&k.lastIndex++}return j},[])};M.findChunks=p;var g=M.fillInChunks=function(A){var x=A.chunksToHighlight,T=A.totalLength,B=[],m=function(j,z,k){z-j>0&&B.push({start:j,end:z,highlight:k})};if(x.length===0)m(0,T,!1);else{var f=0;x.forEach(function(U){m(f,U.start,!1),m(U.start,U.end,!0),f=U.end}),m(f,T,!1)}return B};function S(b){return b}function E(b){return b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}}])},function(y,R,w){(function(M){if(M.env.NODE_ENV!=="production"){var P=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103,L=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===P},p=!0;y.exports=w(6)(L,p)}else y.exports=w(13)()}).call(R,w(5))},function(y,R){var w=y.exports={},M,P;function L(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?M=setTimeout:M=L}catch(U){M=L}try{typeof clearTimeout=="function"?P=clearTimeout:P=p}catch(U){P=p}})();function g(U){if(M===setTimeout)return setTimeout(U,0);if((M===L||!M)&&setTimeout)return M=setTimeout,setTimeout(U,0);try{return M(U,0)}catch(j){try{return M.call(null,U,0)}catch(z){return M.call(this,U,0)}}}function S(U){if(P===clearTimeout)return clearTimeout(U);if((P===p||!P)&&clearTimeout)return P=clearTimeout,clearTimeout(U);try{return P(U)}catch(j){try{return P.call(null,U)}catch(z){return P.call(this,U)}}}var E=[],b=!1,A,x=-1;function T(){!b||!A||(b=!1,A.length?E=A.concat(E):x=-1,E.length&&B())}function B(){if(!b){var U=g(T);b=!0;for(var j=E.length;j;){for(A=E,E=[];++x<j;)A&&A[x].run();x=-1,j=E.length}A=null,b=!1,S(U)}}w.nextTick=function(U){var j=new Array(arguments.length-1);if(arguments.length>1)for(var z=1;z<arguments.length;z++)j[z-1]=arguments[z];E.push(new m(U,j)),E.length===1&&!b&&g(B)};function m(U,j){this.fun=U,this.array=j}m.prototype.run=function(){this.fun.apply(null,this.array)},w.title="browser",w.browser=!0,w.env={},w.argv=[],w.version="",w.versions={};function f(){}w.on=f,w.addListener=f,w.once=f,w.off=f,w.removeListener=f,w.removeAllListeners=f,w.emit=f,w.prependListener=f,w.prependOnceListener=f,w.listeners=function(U){return[]},w.binding=function(U){throw new Error("process.binding is not supported")},w.cwd=function(){return"/"},w.chdir=function(U){throw new Error("process.chdir is not supported")},w.umask=function(){return 0}},function(y,R,w){(function(M){"use strict";var P=w(7),L=w(8),p=w(9),g=w(10),S=w(11),E=w(12);y.exports=function(b,A){var x=typeof Symbol=="function"&&Symbol.iterator,T="@@iterator";function B(ot){var xt=ot&&(x&&ot[x]||ot[T]);if(typeof xt=="function")return xt}var m="<<anonymous>>",f={array:k("array"),bool:k("boolean"),func:k("function"),number:k("number"),object:k("object"),string:k("string"),symbol:k("symbol"),any:X(),arrayOf:K,element:tt(),instanceOf:q,node:St(),objectOf:pt,oneOf:at,oneOfType:ct,shape:vt,exact:Lt};function U(ot,xt){return ot===xt?ot!==0||1/ot===1/xt:ot!==ot&&xt!==xt}function j(ot){this.message=ot,this.stack=""}j.prototype=Error.prototype;function z(ot){if(M.env.NODE_ENV!=="production")var xt={},Nt=0;function Yt(Xt,Zt,se,ie,zt,ae,Re){if(ie=ie||m,ae=ae||se,Re!==S){if(A)L(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if(M.env.NODE_ENV!=="production"&&typeof console!="undefined"){var Jt=ie+":"+se;!xt[Jt]&&Nt<3&&(p(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",ae,ie),xt[Jt]=!0,Nt++)}}return Zt[se]==null?Xt?Zt[se]===null?new j("The "+zt+" `"+ae+"` is marked as required "+("in `"+ie+"`, but its value is `null`.")):new j("The "+zt+" `"+ae+"` is marked as required in "+("`"+ie+"`, but its value is `undefined`.")):null:ot(Zt,se,ie,zt,ae)}var Ct=Yt.bind(null,!1);return Ct.isRequired=Yt.bind(null,!0),Ct}function k(ot){function xt(Nt,Yt,Ct,Xt,Zt,se){var ie=Nt[Yt],zt=et(ie);if(zt!==ot){var ae=rt(ie);return new j("Invalid "+Xt+" `"+Zt+"` of type "+("`"+ae+"` supplied to `"+Ct+"`, expected ")+("`"+ot+"`."))}return null}return z(xt)}function X(){return z(P.thatReturnsNull)}function K(ot){function xt(Nt,Yt,Ct,Xt,Zt){if(typeof ot!="function")return new j("Property `"+Zt+"` of component `"+Ct+"` has invalid PropType notation inside arrayOf.");var se=Nt[Yt];if(!Array.isArray(se)){var ie=et(se);return new j("Invalid "+Xt+" `"+Zt+"` of type "+("`"+ie+"` supplied to `"+Ct+"`, expected an array."))}for(var zt=0;zt<se.length;zt++){var ae=ot(se,zt,Ct,Xt,Zt+"["+zt+"]",S);if(ae instanceof Error)return ae}return null}return z(xt)}function tt(){function ot(xt,Nt,Yt,Ct,Xt){var Zt=xt[Nt];if(!b(Zt)){var se=et(Zt);return new j("Invalid "+Ct+" `"+Xt+"` of type "+("`"+se+"` supplied to `"+Yt+"`, expected a single ReactElement."))}return null}return z(ot)}function q(ot){function xt(Nt,Yt,Ct,Xt,Zt){if(!(Nt[Yt]instanceof ot)){var se=ot.name||m,ie=Dt(Nt[Yt]);return new j("Invalid "+Xt+" `"+Zt+"` of type "+("`"+ie+"` supplied to `"+Ct+"`, expected ")+("instance of `"+se+"`."))}return null}return z(xt)}function at(ot){if(!Array.isArray(ot))return M.env.NODE_ENV!=="production"&&p(!1,"Invalid argument supplied to oneOf, expected an instance of array."),P.thatReturnsNull;function xt(Nt,Yt,Ct,Xt,Zt){for(var se=Nt[Yt],ie=0;ie<ot.length;ie++)if(U(se,ot[ie]))return null;var zt=JSON.stringify(ot);return new j("Invalid "+Xt+" `"+Zt+"` of value `"+se+"` "+("supplied to `"+Ct+"`, expected one of "+zt+"."))}return z(xt)}function pt(ot){function xt(Nt,Yt,Ct,Xt,Zt){if(typeof ot!="function")return new j("Property `"+Zt+"` of component `"+Ct+"` has invalid PropType notation inside objectOf.");var se=Nt[Yt],ie=et(se);if(ie!=="object")return new j("Invalid "+Xt+" `"+Zt+"` of type "+("`"+ie+"` supplied to `"+Ct+"`, expected an object."));for(var zt in se)if(se.hasOwnProperty(zt)){var ae=ot(se,zt,Ct,Xt,Zt+"."+zt,S);if(ae instanceof Error)return ae}return null}return z(xt)}function ct(ot){if(!Array.isArray(ot))return M.env.NODE_ENV!=="production"&&p(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),P.thatReturnsNull;for(var xt=0;xt<ot.length;xt++){var Nt=ot[xt];if(typeof Nt!="function")return p(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",Ot(Nt),xt),P.thatReturnsNull}function Yt(Ct,Xt,Zt,se,ie){for(var zt=0;zt<ot.length;zt++){var ae=ot[zt];if(ae(Ct,Xt,Zt,se,ie,S)==null)return null}return new j("Invalid "+se+" `"+ie+"` supplied to "+("`"+Zt+"`."))}return z(Yt)}function St(){function ot(xt,Nt,Yt,Ct,Xt){return Mt(xt[Nt])?null:new j("Invalid "+Ct+" `"+Xt+"` supplied to "+("`"+Yt+"`, expected a ReactNode."))}return z(ot)}function vt(ot){function xt(Nt,Yt,Ct,Xt,Zt){var se=Nt[Yt],ie=et(se);if(ie!=="object")return new j("Invalid "+Xt+" `"+Zt+"` of type `"+ie+"` "+("supplied to `"+Ct+"`, expected `object`."));for(var zt in ot){var ae=ot[zt];if(ae){var Re=ae(se,zt,Ct,Xt,Zt+"."+zt,S);if(Re)return Re}}return null}return z(xt)}function Lt(ot){function xt(Nt,Yt,Ct,Xt,Zt){var se=Nt[Yt],ie=et(se);if(ie!=="object")return new j("Invalid "+Xt+" `"+Zt+"` of type `"+ie+"` "+("supplied to `"+Ct+"`, expected `object`."));var zt=g({},Nt[Yt],ot);for(var ae in zt){var Re=ot[ae];if(!Re)return new j("Invalid "+Xt+" `"+Zt+"` key `"+ae+"` supplied to `"+Ct+"`.\nBad object: "+JSON.stringify(Nt[Yt],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(ot),null,"  "));var Jt=Re(se,ae,Ct,Xt,Zt+"."+ae,S);if(Jt)return Jt}return null}return z(xt)}function Mt(ot){switch(typeof ot){case"number":case"string":case"undefined":return!0;case"boolean":return!ot;case"object":if(Array.isArray(ot))return ot.every(Mt);if(ot===null||b(ot))return!0;var xt=B(ot);if(xt){var Nt=xt.call(ot),Yt;if(xt!==ot.entries){for(;!(Yt=Nt.next()).done;)if(!Mt(Yt.value))return!1}else for(;!(Yt=Nt.next()).done;){var Ct=Yt.value;if(Ct&&!Mt(Ct[1]))return!1}}else return!1;return!0;default:return!1}}function wt(ot,xt){return ot==="symbol"||xt["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&xt instanceof Symbol}function et(ot){var xt=typeof ot;return Array.isArray(ot)?"array":ot instanceof RegExp?"object":wt(xt,ot)?"symbol":xt}function rt(ot){if(typeof ot=="undefined"||ot===null)return""+ot;var xt=et(ot);if(xt==="object"){if(ot instanceof Date)return"date";if(ot instanceof RegExp)return"regexp"}return xt}function Ot(ot){var xt=rt(ot);switch(xt){case"array":case"object":return"an "+xt;case"boolean":case"date":case"regexp":return"a "+xt;default:return xt}}function Dt(ot){return!ot.constructor||!ot.constructor.name?m:ot.constructor.name}return f.checkPropTypes=E,f.PropTypes=f,f}}).call(R,w(5))},function(y,R){"use strict";function w(P){return function(){return P}}var M=function(){};M.thatReturns=w,M.thatReturnsFalse=w(!1),M.thatReturnsTrue=w(!0),M.thatReturnsNull=w(null),M.thatReturnsThis=function(){return this},M.thatReturnsArgument=function(P){return P},y.exports=M},function(y,R,w){(function(M){"use strict";var P=function(g){};M.env.NODE_ENV!=="production"&&(P=function(g){if(g===void 0)throw new Error("invariant requires an error message argument")});function L(p,g,S,E,b,A,x,T){if(P(g),!p){var B;if(g===void 0)B=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[S,E,b,A,x,T],f=0;B=new Error(g.replace(/%s/g,function(){return m[f++]})),B.name="Invariant Violation"}throw B.framesToPop=1,B}}y.exports=L}).call(R,w(5))},function(y,R,w){(function(M){"use strict";var P=w(7),L=P;if(M.env.NODE_ENV!=="production"){var p=function(S){for(var E=arguments.length,b=Array(E>1?E-1:0),A=1;A<E;A++)b[A-1]=arguments[A];var x=0,T="Warning: "+S.replace(/%s/g,function(){return b[x++]});typeof console!="undefined"&&console.error(T);try{throw new Error(T)}catch(B){}};L=function(S,E){if(E===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(E.indexOf("Failed Composite propType: ")!==0&&!S){for(var b=arguments.length,A=Array(b>2?b-2:0),x=2;x<b;x++)A[x-2]=arguments[x];p.apply(void 0,[E].concat(A))}}}y.exports=L}).call(R,w(5))},function(y,R){"use strict";var w=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;function L(g){if(g==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(g)}function p(){try{if(!Object.assign)return!1;var g=new String("abc");if(g[5]="de",Object.getOwnPropertyNames(g)[0]==="5")return!1;for(var S={},E=0;E<10;E++)S["_"+String.fromCharCode(E)]=E;var b=Object.getOwnPropertyNames(S).map(function(x){return S[x]});if(b.join("")!=="0123456789")return!1;var A={};return"abcdefghijklmnopqrst".split("").forEach(function(x){A[x]=x}),Object.keys(Object.assign({},A)).join("")==="abcdefghijklmnopqrst"}catch(x){return!1}}y.exports=p()?Object.assign:function(g,S){for(var E,b=L(g),A,x=1;x<arguments.length;x++){E=Object(arguments[x]);for(var T in E)M.call(E,T)&&(b[T]=E[T]);if(w){A=w(E);for(var B=0;B<A.length;B++)P.call(E,A[B])&&(b[A[B]]=E[A[B]])}}return b}},function(y,R){"use strict";var w="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";y.exports=w},function(y,R,w){(function(M){"use strict";if(M.env.NODE_ENV!=="production")var P=w(8),L=w(9),p=w(11),g={};function S(E,b,A,x,T){if(M.env.NODE_ENV!=="production"){for(var B in E)if(E.hasOwnProperty(B)){var m;try{P(typeof E[B]=="function","%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",x||"React class",A,B,typeof E[B]),m=E[B](b,B,x,A,null,p)}catch(U){m=U}if(L(!m||m instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",x||"React class",A,B,typeof m),m instanceof Error&&!(m.message in g)){g[m.message]=!0;var f=T?T():"";L(!1,"Failed %s type: %s%s",A,m.message,f!=null?f:"")}}}}y.exports=S}).call(R,w(5))},function(y,R,w){"use strict";var M=w(7),P=w(8),L=w(11);y.exports=function(){function p(E,b,A,x,T,B){B!==L&&P(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}p.isRequired=p;function g(){return p}var S={array:p,bool:p,func:p,number:p,object:p,string:p,symbol:p,any:p,arrayOf:g,element:p,instanceOf:g,node:p,objectOf:g,oneOf:g,oneOfType:g,shape:g,exact:g};return S.checkPropTypes=M,S.PropTypes=S,S}},function(y,R){y.exports=_(667294)},function(y,R){"use strict";var w=function(L,p){return L===p};function M(P){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w,p=void 0,g=[],S=void 0,E=!1,b=function(T,B){return L(T,g[B])},A=function(){for(var T=arguments.length,B=Array(T),m=0;m<T;m++)B[m]=arguments[m];return E&&p===this&&B.length===g.length&&B.every(b)||(E=!0,p=this,g=B,S=P.apply(this,B)),S};return A}y.exports=M}])},58533:function(Ve,W,_){"use strict";var y=_(667294);var R=function(E,b){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,x){A.__proto__=x}||function(A,x){for(var T in x)x.hasOwnProperty(T)&&(A[T]=x[T])},R(E,b)};function w(E,b){R(E,b);function A(){this.constructor=E}E.prototype=b===null?Object.create(b):(A.prototype=b.prototype,new A)}var M=function(){return M=Object.assign||function(b){for(var A,x=1,T=arguments.length;x<T;x++){A=arguments[x];for(var B in A)Object.prototype.hasOwnProperty.call(A,B)&&(b[B]=A[B])}return b},M.apply(this,arguments)};function P(E,b,A,x){var T,B=!1,m=0;function f(){T&&clearTimeout(T)}function U(){f(),B=!0}typeof b!="boolean"&&(x=A,A=b,b=void 0);function j(){var z=this,k=Date.now()-m,X=arguments;if(B)return;function K(){m=Date.now(),A.apply(z,X)}function tt(){T=void 0}x&&!T&&K(),f(),x===void 0&&k>E?K():b!==!0&&(T=setTimeout(x?tt:K,x===void 0?E-k:E))}return j.cancel=U,j}var L={Pixel:"Pixel",Percent:"Percent"},p={unit:L.Percent,value:.8};function g(E){return typeof E=="number"?{unit:L.Percent,value:E*100}:typeof E=="string"?E.match(/^(\d*(\.\d+)?)px$/)?{unit:L.Pixel,value:parseFloat(E)}:E.match(/^(\d*(\.\d+)?)%$/)?{unit:L.Percent,value:parseFloat(E)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),p):(console.warn("scrollThreshold should be string or number"),p)}var S=function(E){w(b,E);function b(A){var x=E.call(this,A)||this;return x.lastScrollTop=0,x.actionTriggered=!1,x.startY=0,x.currentY=0,x.dragging=!1,x.maxPullDownDistance=0,x.getScrollableTarget=function(){return x.props.scrollableTarget instanceof HTMLElement?x.props.scrollableTarget:typeof x.props.scrollableTarget=="string"?document.getElementById(x.props.scrollableTarget):(x.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},x.onStart=function(T){x.lastScrollTop||(x.dragging=!0,T instanceof MouseEvent?x.startY=T.pageY:T instanceof TouchEvent&&(x.startY=T.touches[0].pageY),x.currentY=x.startY,x._infScroll&&(x._infScroll.style.willChange="transform",x._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},x.onMove=function(T){x.dragging&&(T instanceof MouseEvent?x.currentY=T.pageY:T instanceof TouchEvent&&(x.currentY=T.touches[0].pageY),!(x.currentY<x.startY)&&(x.currentY-x.startY>=Number(x.props.pullDownToRefreshThreshold)&&x.setState({pullToRefreshThresholdBreached:!0}),!(x.currentY-x.startY>x.maxPullDownDistance*1.5)&&x._infScroll&&(x._infScroll.style.overflow="visible",x._infScroll.style.transform="translate3d(0px, "+(x.currentY-x.startY)+"px, 0px)")))},x.onEnd=function(){x.startY=0,x.currentY=0,x.dragging=!1,x.state.pullToRefreshThresholdBreached&&(x.props.refreshFunction&&x.props.refreshFunction(),x.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){x._infScroll&&(x._infScroll.style.overflow="auto",x._infScroll.style.transform="none",x._infScroll.style.willChange="unset")})},x.onScrollListener=function(T){typeof x.props.onScroll=="function"&&setTimeout(function(){return x.props.onScroll&&x.props.onScroll(T)},0);var B=x.props.height||x._scrollableNode?T.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!x.actionTriggered){var m=x.props.inverse?x.isElementAtTop(B,x.props.scrollThreshold):x.isElementAtBottom(B,x.props.scrollThreshold);m&&x.props.hasMore&&(x.actionTriggered=!0,x.setState({showLoader:!0}),x.props.next&&x.props.next()),x.lastScrollTop=B.scrollTop}},x.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:A.dataLength},x.throttledOnScrollListener=P(150,x.onScrollListener).bind(x),x.onStart=x.onStart.bind(x),x.onMove=x.onMove.bind(x),x.onEnd=x.onEnd.bind(x),x}return b.prototype.componentDidMount=function(){if(typeof this.props.dataLength=="undefined")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},b.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},b.prototype.componentDidUpdate=function(A){this.props.dataLength!==A.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},b.getDerivedStateFromProps=function(A,x){var T=A.dataLength!==x.prevDataLength;return T?M(M({},x),{prevDataLength:A.dataLength}):null},b.prototype.isElementAtTop=function(A,x){x===void 0&&(x=.8);var T=A===document.body||A===document.documentElement?window.screen.availHeight:A.clientHeight,B=g(x);return B.unit===L.Pixel?A.scrollTop<=B.value+T-A.scrollHeight+1:A.scrollTop<=B.value/100+T-A.scrollHeight+1},b.prototype.isElementAtBottom=function(A,x){x===void 0&&(x=.8);var T=A===document.body||A===document.documentElement?window.screen.availHeight:A.clientHeight,B=g(x);return B.unit===L.Pixel?A.scrollTop+T>=A.scrollHeight-B.value:A.scrollTop+T>=B.value/100*A.scrollHeight},b.prototype.render=function(){var A=this,x=M({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),T=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),B=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return y.createElement("div",{style:B,className:"infinite-scroll-component__outerdiv"},y.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(m){return A._infScroll=m},style:x},this.props.pullDownToRefresh&&y.createElement("div",{style:{position:"relative"},ref:function(m){return A._pullDown=m}},y.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!T&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},b}(y.Component);W.Z=S},122827:function(Ve,W,_){"use strict";W.__esModule=!0,W.default=void 0;var y=p(_(667294)),R=_(861193),w=_(459069),M=_(100448),P=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function L(m){if(typeof WeakMap!="function")return null;var f=new WeakMap,U=new WeakMap;return(L=function(z){return z?U:f})(m)}function p(m,f){if(!f&&m&&m.__esModule)return m;if(m===null||typeof m!="object"&&typeof m!="function")return{default:m};var U=L(f);if(U&&U.has(m))return U.get(m);var j={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in m)if(k!=="default"&&Object.prototype.hasOwnProperty.call(m,k)){var X=z?Object.getOwnPropertyDescriptor(m,k):null;X&&(X.get||X.set)?Object.defineProperty(j,k,X):j[k]=m[k]}return j.default=m,U&&U.set(m,j),j}function g(){return g=Object.assign||function(m){for(var f=1;f<arguments.length;f++){var U=arguments[f];for(var j in U)Object.prototype.hasOwnProperty.call(U,j)&&(m[j]=U[j])}return m},g.apply(this,arguments)}function S(m,f){if(m==null)return{};var U={},j=Object.keys(m),z,k;for(k=0;k<j.length;k++)z=j[k],!(f.indexOf(z)>=0)&&(U[z]=m[z]);return U}function E(m,f){var U=Object.keys(m);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(m);f&&(j=j.filter(function(z){return Object.getOwnPropertyDescriptor(m,z).enumerable})),U.push.apply(U,j)}return U}function b(m){for(var f=1;f<arguments.length;f++){var U=arguments[f]!=null?arguments[f]:{};f%2?E(Object(U),!0).forEach(function(j){A(m,j,U[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(U)):E(Object(U)).forEach(function(j){Object.defineProperty(m,j,Object.getOwnPropertyDescriptor(U,j))})}return m}function A(m,f,U){return f in m?Object.defineProperty(m,f,{value:U,enumerable:!0,configurable:!0,writable:!0}):m[f]=U,m}function x(m,f){m.prototype=Object.create(f.prototype),m.prototype.constructor=m,T(m,f)}function T(m,f){return T=Object.setPrototypeOf||function(j,z){return j.__proto__=z,j},T(m,f)}var B=function(m){x(f,m);function f(){for(var j,z=arguments.length,k=new Array(z),X=0;X<z;X++)k[X]=arguments[X];return j=m.call.apply(m,[this].concat(k))||this,j.handleRefs={},j.lastHandleRect=null,j.slack=null,j}var U=f.prototype;return U.componentWillUnmount=function(){this.resetData()},U.resetData=function(){this.lastHandleRect=this.slack=null},U.runConstraints=function(z,k){var X=this.props,K=X.minConstraints,tt=X.maxConstraints,q=X.lockAspectRatio;if(!K&&!tt&&!q)return[z,k];if(q){var at=this.props.width/this.props.height,pt=z-this.props.width,ct=k-this.props.height;Math.abs(pt)>Math.abs(ct*at)?k=z/at:z=k*at}var St=z,vt=k,Lt=this.slack||[0,0],Mt=Lt[0],wt=Lt[1];return z+=Mt,k+=wt,K&&(z=Math.max(K[0],z),k=Math.max(K[1],k)),tt&&(z=Math.min(tt[0],z),k=Math.min(tt[1],k)),this.slack=[Mt+(St-z),wt+(vt-k)],[z,k]},U.resizeHandler=function(z,k){var X=this;return function(K,tt){var q=tt.node,at=tt.deltaX,pt=tt.deltaY;z==="onResizeStart"&&X.resetData();var ct=(X.props.axis==="both"||X.props.axis==="x")&&k!=="n"&&k!=="s",St=(X.props.axis==="both"||X.props.axis==="y")&&k!=="e"&&k!=="w";if(!(!ct&&!St)){var vt=k[0],Lt=k[k.length-1],Mt=q.getBoundingClientRect();if(X.lastHandleRect!=null){if(Lt==="w"){var wt=Mt.left-X.lastHandleRect.left;at+=wt}if(vt==="n"){var et=Mt.top-X.lastHandleRect.top;pt+=et}}X.lastHandleRect=Mt,Lt==="w"&&(at=-at),vt==="n"&&(pt=-pt);var rt=X.props.width+(ct?at/X.props.transformScale:0),Ot=X.props.height+(St?pt/X.props.transformScale:0),Dt=X.runConstraints(rt,Ot);rt=Dt[0],Ot=Dt[1];var ot=rt!==X.props.width||Ot!==X.props.height,xt=typeof X.props[z]=="function"?X.props[z]:null,Nt=z==="onResize"&&!ot;xt&&!Nt&&(K.persist==null||K.persist(),xt(K,{node:q,size:{width:rt,height:Ot},handle:k})),z==="onResizeStop"&&X.resetData()}}},U.renderResizeHandle=function(z,k){var X=this.props.handle;if(!X)return y.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+z,ref:k});if(typeof X=="function")return X(z,k);var K=typeof X.type=="string",tt=b({ref:k},K?{}:{handleAxis:z});return y.cloneElement(X,tt)},U.render=function(){var z=this,k=this.props,X=k.children,K=k.className,tt=k.draggableOpts,q=k.width,at=k.height,pt=k.handle,ct=k.handleSize,St=k.lockAspectRatio,vt=k.axis,Lt=k.minConstraints,Mt=k.maxConstraints,wt=k.onResize,et=k.onResizeStop,rt=k.onResizeStart,Ot=k.resizeHandles,Dt=k.transformScale,ot=S(k,P);return(0,w.cloneElement)(X,b(b({},ot),{},{className:(K?K+" ":"")+"react-resizable",children:[].concat(X.props.children,Ot.map(function(xt){var Nt,Yt=(Nt=z.handleRefs[xt])!=null?Nt:z.handleRefs[xt]=y.createRef();return y.createElement(R.DraggableCore,g({},tt,{nodeRef:Yt,key:"resizableHandle-"+xt,onStop:z.resizeHandler("onResizeStop",xt),onStart:z.resizeHandler("onResizeStart",xt),onDrag:z.resizeHandler("onResize",xt)}),z.renderResizeHandle(xt,Yt))}))}))},f}(y.Component);W.default=B,B.propTypes=M.resizableProps,B.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}},808735:function(Ve,W,_){"use strict";var y;y=!0,W.default=void 0;var R=S(_(667294)),w=p(_(45697)),M=p(_(122827)),P=_(100448),L=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function p(U){return U&&U.__esModule?U:{default:U}}function g(U){if(typeof WeakMap!="function")return null;var j=new WeakMap,z=new WeakMap;return(g=function(X){return X?z:j})(U)}function S(U,j){if(!j&&U&&U.__esModule)return U;if(U===null||typeof U!="object"&&typeof U!="function")return{default:U};var z=g(j);if(z&&z.has(U))return z.get(U);var k={},X=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var K in U)if(K!=="default"&&Object.prototype.hasOwnProperty.call(U,K)){var tt=X?Object.getOwnPropertyDescriptor(U,K):null;tt&&(tt.get||tt.set)?Object.defineProperty(k,K,tt):k[K]=U[K]}return k.default=U,z&&z.set(U,k),k}function E(){return E=Object.assign||function(U){for(var j=1;j<arguments.length;j++){var z=arguments[j];for(var k in z)Object.prototype.hasOwnProperty.call(z,k)&&(U[k]=z[k])}return U},E.apply(this,arguments)}function b(U,j){var z=Object.keys(U);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(U);j&&(k=k.filter(function(X){return Object.getOwnPropertyDescriptor(U,X).enumerable})),z.push.apply(z,k)}return z}function A(U){for(var j=1;j<arguments.length;j++){var z=arguments[j]!=null?arguments[j]:{};j%2?b(Object(z),!0).forEach(function(k){x(U,k,z[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(z)):b(Object(z)).forEach(function(k){Object.defineProperty(U,k,Object.getOwnPropertyDescriptor(z,k))})}return U}function x(U,j,z){return j in U?Object.defineProperty(U,j,{value:z,enumerable:!0,configurable:!0,writable:!0}):U[j]=z,U}function T(U,j){if(U==null)return{};var z={},k=Object.keys(U),X,K;for(K=0;K<k.length;K++)X=k[K],!(j.indexOf(X)>=0)&&(z[X]=U[X]);return z}function B(U,j){U.prototype=Object.create(j.prototype),U.prototype.constructor=U,m(U,j)}function m(U,j){return m=Object.setPrototypeOf||function(k,X){return k.__proto__=X,k},m(U,j)}var f=function(U){B(j,U);function j(){for(var k,X=arguments.length,K=new Array(X),tt=0;tt<X;tt++)K[tt]=arguments[tt];return k=U.call.apply(U,[this].concat(K))||this,k.state={width:k.props.width,height:k.props.height,propsWidth:k.props.width,propsHeight:k.props.height},k.onResize=function(q,at){var pt=at.size;k.props.onResize?(q.persist==null||q.persist(),k.setState(pt,function(){return k.props.onResize&&k.props.onResize(q,at)})):k.setState(pt)},k}j.getDerivedStateFromProps=function(X,K){return K.propsWidth!==X.width||K.propsHeight!==X.height?{width:X.width,height:X.height,propsWidth:X.width,propsHeight:X.height}:null};var z=j.prototype;return z.render=function(){var X=this.props,K=X.handle,tt=X.handleSize,q=X.onResize,at=X.onResizeStart,pt=X.onResizeStop,ct=X.draggableOpts,St=X.minConstraints,vt=X.maxConstraints,Lt=X.lockAspectRatio,Mt=X.axis,wt=X.width,et=X.height,rt=X.resizeHandles,Ot=X.style,Dt=X.transformScale,ot=T(X,L);return R.createElement(M.default,{axis:Mt,draggableOpts:ct,handle:K,handleSize:tt,height:this.state.height,lockAspectRatio:Lt,maxConstraints:vt,minConstraints:St,onResizeStart:at,onResize:this.onResize,onResizeStop:pt,resizeHandles:rt,transformScale:Dt,width:this.state.width},R.createElement("div",E({},ot,{style:A(A({},Ot),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},j}(R.Component);W.default=f,f.propTypes=A(A({},P.resizableProps),{},{children:w.default.element})},100448:function(Ve,W,_){"use strict";W.__esModule=!0,W.resizableProps=void 0;var y=w(_(45697)),R=_(861193);function w(P){return P&&P.__esModule?P:{default:P}}var M={axis:y.default.oneOf(["both","x","y","none"]),className:y.default.string,children:y.default.element.isRequired,draggableOpts:y.default.shape({allowAnyClick:y.default.bool,cancel:y.default.string,children:y.default.node,disabled:y.default.bool,enableUserSelectHack:y.default.bool,offsetParent:y.default.node,grid:y.default.arrayOf(y.default.number),handle:y.default.string,nodeRef:y.default.object,onStart:y.default.func,onDrag:y.default.func,onStop:y.default.func,onMouseDown:y.default.func,scale:y.default.number}),height:y.default.number.isRequired,handle:y.default.oneOfType([y.default.node,y.default.func]),handleSize:y.default.arrayOf(y.default.number),lockAspectRatio:y.default.bool,maxConstraints:y.default.arrayOf(y.default.number),minConstraints:y.default.arrayOf(y.default.number),onResizeStop:y.default.func,onResizeStart:y.default.func,onResize:y.default.func,resizeHandles:y.default.arrayOf(y.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:y.default.number,width:y.default.number.isRequired};W.resizableProps=M},459069:function(Ve,W,_){"use strict";W.__esModule=!0,W.cloneElement=L;var y=R(_(667294));function R(p){return p&&p.__esModule?p:{default:p}}function w(p,g){var S=Object.keys(p);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(p);g&&(E=E.filter(function(b){return Object.getOwnPropertyDescriptor(p,b).enumerable})),S.push.apply(S,E)}return S}function M(p){for(var g=1;g<arguments.length;g++){var S=arguments[g]!=null?arguments[g]:{};g%2?w(Object(S),!0).forEach(function(E){P(p,E,S[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(S)):w(Object(S)).forEach(function(E){Object.defineProperty(p,E,Object.getOwnPropertyDescriptor(S,E))})}return p}function P(p,g,S){return g in p?Object.defineProperty(p,g,{value:S,enumerable:!0,configurable:!0,writable:!0}):p[g]=S,p}function L(p,g){return g.style&&p.props.style&&(g.style=M(M({},p.props.style),g.style)),g.className&&p.props.className&&(g.className=p.props.className+" "+g.className),y.default.cloneElement(p,g)}},101706:function(Ve,W,_){"use strict";Ve.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},Ve.exports.Resizable=_(122827).default,Ve.exports.ResizableBox=_(808735).default},201314:function(Ve,W,_){"use strict";_.d(W,{cd:function(){return wt}});var y=_(487462),R=_(497326),w=_(894578),M=Number.isNaN||function(Ut){return typeof Ut=="number"&&Ut!==Ut};function P(ee,Ut){return!!(ee===Ut||M(ee)&&M(Ut))}function L(ee,Ut){if(ee.length!==Ut.length)return!1;for(var bt=0;bt<ee.length;bt++)if(!P(ee[bt],Ut[bt]))return!1;return!0}function p(ee,Ut){Ut===void 0&&(Ut=L);var bt,Ft=[],be,qe=!1;function Pe(){for(var Ze=[],Qe=0;Qe<arguments.length;Qe++)Ze[Qe]=arguments[Qe];return qe&&bt===this&&Ut(Ze,Ft)||(be=ee.apply(this,Ze),qe=!0,bt=this,Ft=Ze),be}return Pe}var g=p,S=_(667294),E=typeof performance=="object"&&typeof performance.now=="function",b=E?function(){return performance.now()}:function(){return Date.now()};function A(ee){cancelAnimationFrame(ee.id)}function x(ee,Ut){var bt=b();function Ft(){b()-bt>=Ut?ee.call(null):be.id=requestAnimationFrame(Ft)}var be={id:requestAnimationFrame(Ft)};return be}var T=-1;function B(ee){if(ee===void 0&&(ee=!1),T===-1||ee){var Ut=document.createElement("div"),bt=Ut.style;bt.width="50px",bt.height="50px",bt.overflow="scroll",document.body.appendChild(Ut),T=Ut.offsetWidth-Ut.clientWidth,document.body.removeChild(Ut)}return T}var m=null;function f(ee){if(ee===void 0&&(ee=!1),m===null||ee){var Ut=document.createElement("div"),bt=Ut.style;bt.width="50px",bt.height="50px",bt.overflow="scroll",bt.direction="rtl";var Ft=document.createElement("div"),be=Ft.style;return be.width="100px",be.height="100px",Ut.appendChild(Ft),document.body.appendChild(Ut),Ut.scrollLeft>0?m="positive-descending":(Ut.scrollLeft=1,Ut.scrollLeft===0?m="negative":m="positive-ascending"),document.body.removeChild(Ut),m}return m}var U=150,j=function(Ut){var bt=Ut.columnIndex,Ft=Ut.data,be=Ut.rowIndex;return be+":"+bt},z=null,k=null,X=null;function K(ee){var Ut,bt=ee.getColumnOffset,Ft=ee.getColumnStartIndexForOffset,be=ee.getColumnStopIndexForStartIndex,qe=ee.getColumnWidth,Pe=ee.getEstimatedTotalHeight,Ze=ee.getEstimatedTotalWidth,Qe=ee.getOffsetForColumnAndAlignment,Ar=ee.getOffsetForRowAndAlignment,Hr=ee.getRowHeight,Jr=ee.getRowOffset,Cr=ee.getRowStartIndexForOffset,bn=ee.getRowStopIndexForStartIndex,Yr=ee.initInstanceProps,Xe=ee.shouldResetStyleCacheOnItemSizeChange,Ae=ee.validateProps;return Ut=function(Ue){(0,w.Z)(jr,Ue);function jr(Sn){var ir;return ir=Ue.call(this,Sn)||this,ir._instanceProps=Yr(ir.props,(0,R.Z)(ir)),ir._resetIsScrollingTimeoutId=null,ir._outerRef=void 0,ir.state={instance:(0,R.Z)(ir),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:typeof ir.props.initialScrollLeft=="number"?ir.props.initialScrollLeft:0,scrollTop:typeof ir.props.initialScrollTop=="number"?ir.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},ir._callOnItemsRendered=void 0,ir._callOnItemsRendered=g(function(mn,Or,sn,ln,cn,Cn,V,$t){return ir.props.onItemsRendered({overscanColumnStartIndex:mn,overscanColumnStopIndex:Or,overscanRowStartIndex:sn,overscanRowStopIndex:ln,visibleColumnStartIndex:cn,visibleColumnStopIndex:Cn,visibleRowStartIndex:V,visibleRowStopIndex:$t})}),ir._callOnScroll=void 0,ir._callOnScroll=g(function(mn,Or,sn,ln,cn){return ir.props.onScroll({horizontalScrollDirection:sn,scrollLeft:mn,scrollTop:Or,verticalScrollDirection:ln,scrollUpdateWasRequested:cn})}),ir._getItemStyle=void 0,ir._getItemStyle=function(mn,Or){var sn=ir.props,ln=sn.columnWidth,cn=sn.direction,Cn=sn.rowHeight,V=ir._getItemStyleCache(Xe&&ln,Xe&&cn,Xe&&Cn),$t=mn+":"+Or,Q;if(V.hasOwnProperty($t))Q=V[$t];else{var gt=bt(ir.props,Or,ir._instanceProps),lt=cn==="rtl";V[$t]=Q={position:"absolute",left:lt?void 0:gt,right:lt?gt:void 0,top:Jr(ir.props,mn,ir._instanceProps),height:Hr(ir.props,mn,ir._instanceProps),width:qe(ir.props,Or,ir._instanceProps)}}return Q},ir._getItemStyleCache=void 0,ir._getItemStyleCache=g(function(mn,Or,sn){return{}}),ir._onScroll=function(mn){var Or=mn.currentTarget,sn=Or.clientHeight,ln=Or.clientWidth,cn=Or.scrollLeft,Cn=Or.scrollTop,V=Or.scrollHeight,$t=Or.scrollWidth;ir.setState(function(Q){if(Q.scrollLeft===cn&&Q.scrollTop===Cn)return null;var gt=ir.props.direction,lt=cn;if(gt==="rtl")switch(f()){case"negative":lt=-cn;break;case"positive-descending":lt=$t-ln-cn;break}lt=Math.max(0,Math.min(lt,$t-ln));var Gt=Math.max(0,Math.min(Cn,V-sn));return{isScrolling:!0,horizontalScrollDirection:Q.scrollLeft<cn?"forward":"backward",scrollLeft:lt,scrollTop:Gt,verticalScrollDirection:Q.scrollTop<Cn?"forward":"backward",scrollUpdateWasRequested:!1}},ir._resetIsScrollingDebounced)},ir._outerRefSetter=function(mn){var Or=ir.props.outerRef;ir._outerRef=mn,typeof Or=="function"?Or(mn):Or!=null&&typeof Or=="object"&&Or.hasOwnProperty("current")&&(Or.current=mn)},ir._resetIsScrollingDebounced=function(){ir._resetIsScrollingTimeoutId!==null&&A(ir._resetIsScrollingTimeoutId),ir._resetIsScrollingTimeoutId=x(ir._resetIsScrolling,U)},ir._resetIsScrolling=function(){ir._resetIsScrollingTimeoutId=null,ir.setState({isScrolling:!1},function(){ir._getItemStyleCache(-1)})},ir}jr.getDerivedStateFromProps=function(ir,mn){return tt(ir,mn),Ae(ir),null};var Br=jr.prototype;return Br.scrollTo=function(ir){var mn=ir.scrollLeft,Or=ir.scrollTop;mn!==void 0&&(mn=Math.max(0,mn)),Or!==void 0&&(Or=Math.max(0,Or)),this.setState(function(sn){return mn===void 0&&(mn=sn.scrollLeft),Or===void 0&&(Or=sn.scrollTop),sn.scrollLeft===mn&&sn.scrollTop===Or?null:{horizontalScrollDirection:sn.scrollLeft<mn?"forward":"backward",scrollLeft:mn,scrollTop:Or,scrollUpdateWasRequested:!0,verticalScrollDirection:sn.scrollTop<Or?"forward":"backward"}},this._resetIsScrollingDebounced)},Br.scrollToItem=function(ir){var mn=ir.align,Or=mn===void 0?"auto":mn,sn=ir.columnIndex,ln=ir.rowIndex,cn=this.props,Cn=cn.columnCount,V=cn.height,$t=cn.rowCount,Q=cn.width,gt=this.state,lt=gt.scrollLeft,Gt=gt.scrollTop,Qt=B();sn!==void 0&&(sn=Math.max(0,Math.min(sn,Cn-1))),ln!==void 0&&(ln=Math.max(0,Math.min(ln,$t-1)));var he=Pe(this.props,this._instanceProps),de=Ze(this.props,this._instanceProps),fe=de>Q?Qt:0,it=he>V?Qt:0;this.scrollTo({scrollLeft:sn!==void 0?Qe(this.props,sn,Or,lt,this._instanceProps,it):lt,scrollTop:ln!==void 0?Ar(this.props,ln,Or,Gt,this._instanceProps,fe):Gt})},Br.componentDidMount=function(){var ir=this.props,mn=ir.initialScrollLeft,Or=ir.initialScrollTop;if(this._outerRef!=null){var sn=this._outerRef;typeof mn=="number"&&(sn.scrollLeft=mn),typeof Or=="number"&&(sn.scrollTop=Or)}this._callPropsCallbacks()},Br.componentDidUpdate=function(){var ir=this.props.direction,mn=this.state,Or=mn.scrollLeft,sn=mn.scrollTop,ln=mn.scrollUpdateWasRequested;if(ln&&this._outerRef!=null){var cn=this._outerRef;if(ir==="rtl")switch(f()){case"negative":cn.scrollLeft=-Or;break;case"positive-ascending":cn.scrollLeft=Or;break;default:var Cn=cn.clientWidth,V=cn.scrollWidth;cn.scrollLeft=V-Cn-Or;break}else cn.scrollLeft=Math.max(0,Or);cn.scrollTop=Math.max(0,sn)}this._callPropsCallbacks()},Br.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&A(this._resetIsScrollingTimeoutId)},Br.render=function(){var ir=this.props,mn=ir.children,Or=ir.className,sn=ir.columnCount,ln=ir.direction,cn=ir.height,Cn=ir.innerRef,V=ir.innerElementType,$t=ir.innerTagName,Q=ir.itemData,gt=ir.itemKey,lt=gt===void 0?j:gt,Gt=ir.outerElementType,Qt=ir.outerTagName,he=ir.rowCount,de=ir.style,fe=ir.useIsScrolling,it=ir.width,ft=this.state.isScrolling,G=this._getHorizontalRangeToRender(),O=G[0],D=G[1],$=this._getVerticalRangeToRender(),mt=$[0],kt=$[1],Rt=[];if(sn>0&&he)for(var qt=mt;qt<=kt;qt++)for(var Le=O;Le<=D;Le++)Rt.push((0,S.createElement)(mn,{columnIndex:Le,data:Q,isScrolling:fe?ft:void 0,key:lt({columnIndex:Le,data:Q,rowIndex:qt}),rowIndex:qt,style:this._getItemStyle(qt,Le)}));var Me=Pe(this.props,this._instanceProps),Ke=Ze(this.props,this._instanceProps);return(0,S.createElement)(Gt||Qt||"div",{className:Or,onScroll:this._onScroll,ref:this._outerRefSetter,style:(0,y.Z)({position:"relative",height:cn,width:it,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:ln},de)},(0,S.createElement)(V||$t||"div",{children:Rt,ref:Cn,style:{height:Me,pointerEvents:ft?"none":void 0,width:Ke}}))},Br._callPropsCallbacks=function(){var ir=this.props,mn=ir.columnCount,Or=ir.onItemsRendered,sn=ir.onScroll,ln=ir.rowCount;if(typeof Or=="function"&&mn>0&&ln>0){var cn=this._getHorizontalRangeToRender(),Cn=cn[0],V=cn[1],$t=cn[2],Q=cn[3],gt=this._getVerticalRangeToRender(),lt=gt[0],Gt=gt[1],Qt=gt[2],he=gt[3];this._callOnItemsRendered(Cn,V,lt,Gt,$t,Q,Qt,he)}if(typeof sn=="function"){var de=this.state,fe=de.horizontalScrollDirection,it=de.scrollLeft,ft=de.scrollTop,G=de.scrollUpdateWasRequested,O=de.verticalScrollDirection;this._callOnScroll(it,ft,fe,O,G)}},Br._getHorizontalRangeToRender=function(){var ir=this.props,mn=ir.columnCount,Or=ir.overscanColumnCount,sn=ir.overscanColumnsCount,ln=ir.overscanCount,cn=ir.rowCount,Cn=this.state,V=Cn.horizontalScrollDirection,$t=Cn.isScrolling,Q=Cn.scrollLeft,gt=Or||sn||ln||1;if(mn===0||cn===0)return[0,0,0,0];var lt=Ft(this.props,Q,this._instanceProps),Gt=be(this.props,lt,Q,this._instanceProps),Qt=!$t||V==="backward"?Math.max(1,gt):1,he=!$t||V==="forward"?Math.max(1,gt):1;return[Math.max(0,lt-Qt),Math.max(0,Math.min(mn-1,Gt+he)),lt,Gt]},Br._getVerticalRangeToRender=function(){var ir=this.props,mn=ir.columnCount,Or=ir.overscanCount,sn=ir.overscanRowCount,ln=ir.overscanRowsCount,cn=ir.rowCount,Cn=this.state,V=Cn.isScrolling,$t=Cn.verticalScrollDirection,Q=Cn.scrollTop,gt=sn||ln||Or||1;if(mn===0||cn===0)return[0,0,0,0];var lt=Cr(this.props,Q,this._instanceProps),Gt=bn(this.props,lt,Q,this._instanceProps),Qt=!V||$t==="backward"?Math.max(1,gt):1,he=!V||$t==="forward"?Math.max(1,gt):1;return[Math.max(0,lt-Qt),Math.max(0,Math.min(cn-1,Gt+he)),lt,Gt]},jr}(S.PureComponent),Ut.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},Ut}var tt=function(Ut,bt){var Ft=Ut.children,be=Ut.direction,qe=Ut.height,Pe=Ut.innerTagName,Ze=Ut.outerTagName,Qe=Ut.overscanColumnsCount,Ar=Ut.overscanCount,Hr=Ut.overscanRowsCount,Jr=Ut.width,Cr=bt.instance},q=50,at=function(Ut,bt){var Ft=Ut.rowCount,be=bt.rowMetadataMap,qe=bt.estimatedRowHeight,Pe=bt.lastMeasuredRowIndex,Ze=0;if(Pe>=Ft&&(Pe=Ft-1),Pe>=0){var Qe=be[Pe];Ze=Qe.offset+Qe.size}var Ar=Ft-Pe-1,Hr=Ar*qe;return Ze+Hr},pt=function(Ut,bt){var Ft=Ut.columnCount,be=bt.columnMetadataMap,qe=bt.estimatedColumnWidth,Pe=bt.lastMeasuredColumnIndex,Ze=0;if(Pe>=Ft&&(Pe=Ft-1),Pe>=0){var Qe=be[Pe];Ze=Qe.offset+Qe.size}var Ar=Ft-Pe-1,Hr=Ar*qe;return Ze+Hr},ct=function(Ut,bt,Ft,be){var qe,Pe,Ze;if(Ut==="column"?(qe=be.columnMetadataMap,Pe=bt.columnWidth,Ze=be.lastMeasuredColumnIndex):(qe=be.rowMetadataMap,Pe=bt.rowHeight,Ze=be.lastMeasuredRowIndex),Ft>Ze){var Qe=0;if(Ze>=0){var Ar=qe[Ze];Qe=Ar.offset+Ar.size}for(var Hr=Ze+1;Hr<=Ft;Hr++){var Jr=Pe(Hr);qe[Hr]={offset:Qe,size:Jr},Qe+=Jr}Ut==="column"?be.lastMeasuredColumnIndex=Ft:be.lastMeasuredRowIndex=Ft}return qe[Ft]},St=function(Ut,bt,Ft,be){var qe,Pe;Ut==="column"?(qe=Ft.columnMetadataMap,Pe=Ft.lastMeasuredColumnIndex):(qe=Ft.rowMetadataMap,Pe=Ft.lastMeasuredRowIndex);var Ze=Pe>0?qe[Pe].offset:0;return Ze>=be?vt(Ut,bt,Ft,Pe,0,be):Lt(Ut,bt,Ft,Math.max(0,Pe),be)},vt=function(Ut,bt,Ft,be,qe,Pe){for(;qe<=be;){var Ze=qe+Math.floor((be-qe)/2),Qe=ct(Ut,bt,Ze,Ft).offset;if(Qe===Pe)return Ze;Qe<Pe?qe=Ze+1:Qe>Pe&&(be=Ze-1)}return qe>0?qe-1:0},Lt=function(Ut,bt,Ft,be,qe){for(var Pe=Ut==="column"?bt.columnCount:bt.rowCount,Ze=1;be<Pe&&ct(Ut,bt,be,Ft).offset<qe;)be+=Ze,Ze*=2;return vt(Ut,bt,Ft,Math.min(be,Pe-1),Math.floor(be/2),qe)},Mt=function(Ut,bt,Ft,be,qe,Pe,Ze){var Qe=Ut==="column"?bt.width:bt.height,Ar=ct(Ut,bt,Ft,Pe),Hr=Ut==="column"?pt(bt,Pe):at(bt,Pe),Jr=Math.max(0,Math.min(Hr-Qe,Ar.offset)),Cr=Math.max(0,Ar.offset-Qe+Ze+Ar.size);switch(be==="smart"&&(qe>=Cr-Qe&&qe<=Jr+Qe?be="auto":be="center"),be){case"start":return Jr;case"end":return Cr;case"center":return Math.round(Cr+(Jr-Cr)/2);case"auto":default:return qe>=Cr&&qe<=Jr?qe:Cr>Jr||qe<Cr?Cr:Jr}},wt=K({getColumnOffset:function(Ut,bt,Ft){return ct("column",Ut,bt,Ft).offset},getColumnStartIndexForOffset:function(Ut,bt,Ft){return St("column",Ut,Ft,bt)},getColumnStopIndexForStartIndex:function(Ut,bt,Ft,be){for(var qe=Ut.columnCount,Pe=Ut.width,Ze=ct("column",Ut,bt,be),Qe=Ft+Pe,Ar=Ze.offset+Ze.size,Hr=bt;Hr<qe-1&&Ar<Qe;)Hr++,Ar+=ct("column",Ut,Hr,be).size;return Hr},getColumnWidth:function(Ut,bt,Ft){return Ft.columnMetadataMap[bt].size},getEstimatedTotalHeight:at,getEstimatedTotalWidth:pt,getOffsetForColumnAndAlignment:function(Ut,bt,Ft,be,qe,Pe){return Mt("column",Ut,bt,Ft,be,qe,Pe)},getOffsetForRowAndAlignment:function(Ut,bt,Ft,be,qe,Pe){return Mt("row",Ut,bt,Ft,be,qe,Pe)},getRowOffset:function(Ut,bt,Ft){return ct("row",Ut,bt,Ft).offset},getRowHeight:function(Ut,bt,Ft){return Ft.rowMetadataMap[bt].size},getRowStartIndexForOffset:function(Ut,bt,Ft){return St("row",Ut,Ft,bt)},getRowStopIndexForStartIndex:function(Ut,bt,Ft,be){for(var qe=Ut.rowCount,Pe=Ut.height,Ze=ct("row",Ut,bt,be),Qe=Ft+Pe,Ar=Ze.offset+Ze.size,Hr=bt;Hr<qe-1&&Ar<Qe;)Hr++,Ar+=ct("row",Ut,Hr,be).size;return Hr},initInstanceProps:function(Ut,bt){var Ft=Ut,be=Ft.estimatedColumnWidth,qe=Ft.estimatedRowHeight,Pe={columnMetadataMap:{},estimatedColumnWidth:be||q,estimatedRowHeight:qe||q,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return bt.resetAfterColumnIndex=function(Ze,Qe){Qe===void 0&&(Qe=!0),bt.resetAfterIndices({columnIndex:Ze,shouldForceUpdate:Qe})},bt.resetAfterRowIndex=function(Ze,Qe){Qe===void 0&&(Qe=!0),bt.resetAfterIndices({rowIndex:Ze,shouldForceUpdate:Qe})},bt.resetAfterIndices=function(Ze){var Qe=Ze.columnIndex,Ar=Ze.rowIndex,Hr=Ze.shouldForceUpdate,Jr=Hr===void 0?!0:Hr;typeof Qe=="number"&&(Pe.lastMeasuredColumnIndex=Math.min(Pe.lastMeasuredColumnIndex,Qe-1)),typeof Ar=="number"&&(Pe.lastMeasuredRowIndex=Math.min(Pe.lastMeasuredRowIndex,Ar-1)),bt._getItemStyleCache(-1),Jr&&bt.forceUpdate()},Pe},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(Ut){var bt=Ut.columnWidth,Ft=Ut.rowHeight}}),et=150,rt=function(Ut,bt){return Ut},Ot=null,Dt=null;function ot(ee){var Ut,bt=ee.getItemOffset,Ft=ee.getEstimatedTotalSize,be=ee.getItemSize,qe=ee.getOffsetForIndexAndAlignment,Pe=ee.getStartIndexForOffset,Ze=ee.getStopIndexForStartIndex,Qe=ee.initInstanceProps,Ar=ee.shouldResetStyleCacheOnItemSizeChange,Hr=ee.validateProps;return Ut=function(Jr){(0,w.Z)(Cr,Jr);function Cr(Yr){var Xe;return Xe=Jr.call(this,Yr)||this,Xe._instanceProps=Qe(Xe.props,(0,R.Z)(Xe)),Xe._outerRef=void 0,Xe._resetIsScrollingTimeoutId=null,Xe.state={instance:(0,R.Z)(Xe),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof Xe.props.initialScrollOffset=="number"?Xe.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},Xe._callOnItemsRendered=void 0,Xe._callOnItemsRendered=g(function(Ae,Ue,jr,Br){return Xe.props.onItemsRendered({overscanStartIndex:Ae,overscanStopIndex:Ue,visibleStartIndex:jr,visibleStopIndex:Br})}),Xe._callOnScroll=void 0,Xe._callOnScroll=g(function(Ae,Ue,jr){return Xe.props.onScroll({scrollDirection:Ae,scrollOffset:Ue,scrollUpdateWasRequested:jr})}),Xe._getItemStyle=void 0,Xe._getItemStyle=function(Ae){var Ue=Xe.props,jr=Ue.direction,Br=Ue.itemSize,Sn=Ue.layout,ir=Xe._getItemStyleCache(Ar&&Br,Ar&&Sn,Ar&&jr),mn;if(ir.hasOwnProperty(Ae))mn=ir[Ae];else{var Or=bt(Xe.props,Ae,Xe._instanceProps),sn=be(Xe.props,Ae,Xe._instanceProps),ln=jr==="horizontal"||Sn==="horizontal",cn=jr==="rtl",Cn=ln?Or:0;ir[Ae]=mn={position:"absolute",left:cn?void 0:Cn,right:cn?Cn:void 0,top:ln?0:Or,height:ln?"100%":sn,width:ln?sn:"100%"}}return mn},Xe._getItemStyleCache=void 0,Xe._getItemStyleCache=g(function(Ae,Ue,jr){return{}}),Xe._onScrollHorizontal=function(Ae){var Ue=Ae.currentTarget,jr=Ue.clientWidth,Br=Ue.scrollLeft,Sn=Ue.scrollWidth;Xe.setState(function(ir){if(ir.scrollOffset===Br)return null;var mn=Xe.props.direction,Or=Br;if(mn==="rtl")switch(f()){case"negative":Or=-Br;break;case"positive-descending":Or=Sn-jr-Br;break}return Or=Math.max(0,Math.min(Or,Sn-jr)),{isScrolling:!0,scrollDirection:ir.scrollOffset<Br?"forward":"backward",scrollOffset:Or,scrollUpdateWasRequested:!1}},Xe._resetIsScrollingDebounced)},Xe._onScrollVertical=function(Ae){var Ue=Ae.currentTarget,jr=Ue.clientHeight,Br=Ue.scrollHeight,Sn=Ue.scrollTop;Xe.setState(function(ir){if(ir.scrollOffset===Sn)return null;var mn=Math.max(0,Math.min(Sn,Br-jr));return{isScrolling:!0,scrollDirection:ir.scrollOffset<mn?"forward":"backward",scrollOffset:mn,scrollUpdateWasRequested:!1}},Xe._resetIsScrollingDebounced)},Xe._outerRefSetter=function(Ae){var Ue=Xe.props.outerRef;Xe._outerRef=Ae,typeof Ue=="function"?Ue(Ae):Ue!=null&&typeof Ue=="object"&&Ue.hasOwnProperty("current")&&(Ue.current=Ae)},Xe._resetIsScrollingDebounced=function(){Xe._resetIsScrollingTimeoutId!==null&&A(Xe._resetIsScrollingTimeoutId),Xe._resetIsScrollingTimeoutId=x(Xe._resetIsScrolling,et)},Xe._resetIsScrolling=function(){Xe._resetIsScrollingTimeoutId=null,Xe.setState({isScrolling:!1},function(){Xe._getItemStyleCache(-1,null)})},Xe}Cr.getDerivedStateFromProps=function(Xe,Ae){return xt(Xe,Ae),Hr(Xe),null};var bn=Cr.prototype;return bn.scrollTo=function(Xe){Xe=Math.max(0,Xe),this.setState(function(Ae){return Ae.scrollOffset===Xe?null:{scrollDirection:Ae.scrollOffset<Xe?"forward":"backward",scrollOffset:Xe,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},bn.scrollToItem=function(Xe,Ae){Ae===void 0&&(Ae="auto");var Ue=this.props,jr=Ue.itemCount,Br=Ue.layout,Sn=this.state.scrollOffset;Xe=Math.max(0,Math.min(Xe,jr-1));var ir=0;if(this._outerRef){var mn=this._outerRef;Br==="vertical"?ir=mn.scrollWidth>mn.clientWidth?B():0:ir=mn.scrollHeight>mn.clientHeight?B():0}this.scrollTo(qe(this.props,Xe,Ae,Sn,this._instanceProps,ir))},bn.componentDidMount=function(){var Xe=this.props,Ae=Xe.direction,Ue=Xe.initialScrollOffset,jr=Xe.layout;if(typeof Ue=="number"&&this._outerRef!=null){var Br=this._outerRef;Ae==="horizontal"||jr==="horizontal"?Br.scrollLeft=Ue:Br.scrollTop=Ue}this._callPropsCallbacks()},bn.componentDidUpdate=function(){var Xe=this.props,Ae=Xe.direction,Ue=Xe.layout,jr=this.state,Br=jr.scrollOffset,Sn=jr.scrollUpdateWasRequested;if(Sn&&this._outerRef!=null){var ir=this._outerRef;if(Ae==="horizontal"||Ue==="horizontal")if(Ae==="rtl")switch(f()){case"negative":ir.scrollLeft=-Br;break;case"positive-ascending":ir.scrollLeft=Br;break;default:var mn=ir.clientWidth,Or=ir.scrollWidth;ir.scrollLeft=Or-mn-Br;break}else ir.scrollLeft=Br;else ir.scrollTop=Br}this._callPropsCallbacks()},bn.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&A(this._resetIsScrollingTimeoutId)},bn.render=function(){var Xe=this.props,Ae=Xe.children,Ue=Xe.className,jr=Xe.direction,Br=Xe.height,Sn=Xe.innerRef,ir=Xe.innerElementType,mn=Xe.innerTagName,Or=Xe.itemCount,sn=Xe.itemData,ln=Xe.itemKey,cn=ln===void 0?rt:ln,Cn=Xe.layout,V=Xe.outerElementType,$t=Xe.outerTagName,Q=Xe.style,gt=Xe.useIsScrolling,lt=Xe.width,Gt=this.state.isScrolling,Qt=jr==="horizontal"||Cn==="horizontal",he=Qt?this._onScrollHorizontal:this._onScrollVertical,de=this._getRangeToRender(),fe=de[0],it=de[1],ft=[];if(Or>0)for(var G=fe;G<=it;G++)ft.push((0,S.createElement)(Ae,{data:sn,key:cn(G,sn),index:G,isScrolling:gt?Gt:void 0,style:this._getItemStyle(G)}));var O=Ft(this.props,this._instanceProps);return(0,S.createElement)(V||$t||"div",{className:Ue,onScroll:he,ref:this._outerRefSetter,style:(0,y.Z)({position:"relative",height:Br,width:lt,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:jr},Q)},(0,S.createElement)(ir||mn||"div",{children:ft,ref:Sn,style:{height:Qt?"100%":O,pointerEvents:Gt?"none":void 0,width:Qt?O:"100%"}}))},bn._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var Xe=this.props.itemCount;if(Xe>0){var Ae=this._getRangeToRender(),Ue=Ae[0],jr=Ae[1],Br=Ae[2],Sn=Ae[3];this._callOnItemsRendered(Ue,jr,Br,Sn)}}if(typeof this.props.onScroll=="function"){var ir=this.state,mn=ir.scrollDirection,Or=ir.scrollOffset,sn=ir.scrollUpdateWasRequested;this._callOnScroll(mn,Or,sn)}},bn._getRangeToRender=function(){var Xe=this.props,Ae=Xe.itemCount,Ue=Xe.overscanCount,jr=this.state,Br=jr.isScrolling,Sn=jr.scrollDirection,ir=jr.scrollOffset;if(Ae===0)return[0,0,0,0];var mn=Pe(this.props,ir,this._instanceProps),Or=Ze(this.props,mn,ir,this._instanceProps),sn=!Br||Sn==="backward"?Math.max(1,Ue):1,ln=!Br||Sn==="forward"?Math.max(1,Ue):1;return[Math.max(0,mn-sn),Math.max(0,Math.min(Ae-1,Or+ln)),mn,Or]},Cr}(S.PureComponent),Ut.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},Ut}var xt=function(Ut,bt){var Ft=Ut.children,be=Ut.direction,qe=Ut.height,Pe=Ut.layout,Ze=Ut.innerTagName,Qe=Ut.outerTagName,Ar=Ut.width,Hr=bt.instance;if(!1)var Jr},Nt=50,Yt=function(Ut,bt,Ft){var be=Ut,qe=be.itemSize,Pe=Ft.itemMetadataMap,Ze=Ft.lastMeasuredIndex;if(bt>Ze){var Qe=0;if(Ze>=0){var Ar=Pe[Ze];Qe=Ar.offset+Ar.size}for(var Hr=Ze+1;Hr<=bt;Hr++){var Jr=qe(Hr);Pe[Hr]={offset:Qe,size:Jr},Qe+=Jr}Ft.lastMeasuredIndex=bt}return Pe[bt]},Ct=function(Ut,bt,Ft){var be=bt.itemMetadataMap,qe=bt.lastMeasuredIndex,Pe=qe>0?be[qe].offset:0;return Pe>=Ft?Xt(Ut,bt,qe,0,Ft):Zt(Ut,bt,Math.max(0,qe),Ft)},Xt=function(Ut,bt,Ft,be,qe){for(;be<=Ft;){var Pe=be+Math.floor((Ft-be)/2),Ze=Yt(Ut,Pe,bt).offset;if(Ze===qe)return Pe;Ze<qe?be=Pe+1:Ze>qe&&(Ft=Pe-1)}return be>0?be-1:0},Zt=function(Ut,bt,Ft,be){for(var qe=Ut.itemCount,Pe=1;Ft<qe&&Yt(Ut,Ft,bt).offset<be;)Ft+=Pe,Pe*=2;return Xt(Ut,bt,Math.min(Ft,qe-1),Math.floor(Ft/2),be)},se=function(Ut,bt){var Ft=Ut.itemCount,be=bt.itemMetadataMap,qe=bt.estimatedItemSize,Pe=bt.lastMeasuredIndex,Ze=0;if(Pe>=Ft&&(Pe=Ft-1),Pe>=0){var Qe=be[Pe];Ze=Qe.offset+Qe.size}var Ar=Ft-Pe-1,Hr=Ar*qe;return Ze+Hr},ie=ot({getItemOffset:function(Ut,bt,Ft){return Yt(Ut,bt,Ft).offset},getItemSize:function(Ut,bt,Ft){return Ft.itemMetadataMap[bt].size},getEstimatedTotalSize:se,getOffsetForIndexAndAlignment:function(Ut,bt,Ft,be,qe,Pe){var Ze=Ut.direction,Qe=Ut.height,Ar=Ut.layout,Hr=Ut.width,Jr=Ze==="horizontal"||Ar==="horizontal",Cr=Jr?Hr:Qe,bn=Yt(Ut,bt,qe),Yr=se(Ut,qe),Xe=Math.max(0,Math.min(Yr-Cr,bn.offset)),Ae=Math.max(0,bn.offset-Cr+bn.size+Pe);switch(Ft==="smart"&&(be>=Ae-Cr&&be<=Xe+Cr?Ft="auto":Ft="center"),Ft){case"start":return Xe;case"end":return Ae;case"center":return Math.round(Ae+(Xe-Ae)/2);case"auto":default:return be>=Ae&&be<=Xe?be:be<Ae?Ae:Xe}},getStartIndexForOffset:function(Ut,bt,Ft){return Ct(Ut,Ft,bt)},getStopIndexForStartIndex:function(Ut,bt,Ft,be){for(var qe=Ut.direction,Pe=Ut.height,Ze=Ut.itemCount,Qe=Ut.layout,Ar=Ut.width,Hr=qe==="horizontal"||Qe==="horizontal",Jr=Hr?Ar:Pe,Cr=Yt(Ut,bt,be),bn=Ft+Jr,Yr=Cr.offset+Cr.size,Xe=bt;Xe<Ze-1&&Yr<bn;)Xe++,Yr+=Yt(Ut,Xe,be).size;return Xe},initInstanceProps:function(Ut,bt){var Ft=Ut,be=Ft.estimatedItemSize,qe={itemMetadataMap:{},estimatedItemSize:be||Nt,lastMeasuredIndex:-1};return bt.resetAfterIndex=function(Pe,Ze){Ze===void 0&&(Ze=!0),qe.lastMeasuredIndex=Math.min(qe.lastMeasuredIndex,Pe-1),bt._getItemStyleCache(-1),Ze&&bt.forceUpdate()},qe},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(Ut){var bt=Ut.itemSize}}),zt=K({getColumnOffset:function(Ut,bt){var Ft=Ut.columnWidth;return bt*Ft},getColumnWidth:function(Ut,bt){var Ft=Ut.columnWidth;return Ft},getRowOffset:function(Ut,bt){var Ft=Ut.rowHeight;return bt*Ft},getRowHeight:function(Ut,bt){var Ft=Ut.rowHeight;return Ft},getEstimatedTotalHeight:function(Ut){var bt=Ut.rowCount,Ft=Ut.rowHeight;return Ft*bt},getEstimatedTotalWidth:function(Ut){var bt=Ut.columnCount,Ft=Ut.columnWidth;return Ft*bt},getOffsetForColumnAndAlignment:function(Ut,bt,Ft,be,qe,Pe){var Ze=Ut.columnCount,Qe=Ut.columnWidth,Ar=Ut.width,Hr=Math.max(0,Ze*Qe-Ar),Jr=Math.min(Hr,bt*Qe),Cr=Math.max(0,bt*Qe-Ar+Pe+Qe);switch(Ft==="smart"&&(be>=Cr-Ar&&be<=Jr+Ar?Ft="auto":Ft="center"),Ft){case"start":return Jr;case"end":return Cr;case"center":var bn=Math.round(Cr+(Jr-Cr)/2);return bn<Math.ceil(Ar/2)?0:bn>Hr+Math.floor(Ar/2)?Hr:bn;case"auto":default:return be>=Cr&&be<=Jr?be:Cr>Jr||be<Cr?Cr:Jr}},getOffsetForRowAndAlignment:function(Ut,bt,Ft,be,qe,Pe){var Ze=Ut.rowHeight,Qe=Ut.height,Ar=Ut.rowCount,Hr=Math.max(0,Ar*Ze-Qe),Jr=Math.min(Hr,bt*Ze),Cr=Math.max(0,bt*Ze-Qe+Pe+Ze);switch(Ft==="smart"&&(be>=Cr-Qe&&be<=Jr+Qe?Ft="auto":Ft="center"),Ft){case"start":return Jr;case"end":return Cr;case"center":var bn=Math.round(Cr+(Jr-Cr)/2);return bn<Math.ceil(Qe/2)?0:bn>Hr+Math.floor(Qe/2)?Hr:bn;case"auto":default:return be>=Cr&&be<=Jr?be:Cr>Jr||be<Cr?Cr:Jr}},getColumnStartIndexForOffset:function(Ut,bt){var Ft=Ut.columnWidth,be=Ut.columnCount;return Math.max(0,Math.min(be-1,Math.floor(bt/Ft)))},getColumnStopIndexForStartIndex:function(Ut,bt,Ft){var be=Ut.columnWidth,qe=Ut.columnCount,Pe=Ut.width,Ze=bt*be,Qe=Math.ceil((Pe+Ft-Ze)/be);return Math.max(0,Math.min(qe-1,bt+Qe-1))},getRowStartIndexForOffset:function(Ut,bt){var Ft=Ut.rowHeight,be=Ut.rowCount;return Math.max(0,Math.min(be-1,Math.floor(bt/Ft)))},getRowStopIndexForStartIndex:function(Ut,bt,Ft){var be=Ut.rowHeight,qe=Ut.rowCount,Pe=Ut.height,Ze=bt*be,Qe=Math.ceil((Pe+Ft-Ze)/be);return Math.max(0,Math.min(qe-1,bt+Qe-1))},initInstanceProps:function(Ut){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(Ut){var bt=Ut.columnWidth,Ft=Ut.rowHeight}}),ae=ot({getItemOffset:function(Ut,bt){var Ft=Ut.itemSize;return bt*Ft},getItemSize:function(Ut,bt){var Ft=Ut.itemSize;return Ft},getEstimatedTotalSize:function(Ut){var bt=Ut.itemCount,Ft=Ut.itemSize;return Ft*bt},getOffsetForIndexAndAlignment:function(Ut,bt,Ft,be,qe,Pe){var Ze=Ut.direction,Qe=Ut.height,Ar=Ut.itemCount,Hr=Ut.itemSize,Jr=Ut.layout,Cr=Ut.width,bn=Ze==="horizontal"||Jr==="horizontal",Yr=bn?Cr:Qe,Xe=Math.max(0,Ar*Hr-Yr),Ae=Math.min(Xe,bt*Hr),Ue=Math.max(0,bt*Hr-Yr+Hr+Pe);switch(Ft==="smart"&&(be>=Ue-Yr&&be<=Ae+Yr?Ft="auto":Ft="center"),Ft){case"start":return Ae;case"end":return Ue;case"center":{var jr=Math.round(Ue+(Ae-Ue)/2);return jr<Math.ceil(Yr/2)?0:jr>Xe+Math.floor(Yr/2)?Xe:jr}case"auto":default:return be>=Ue&&be<=Ae?be:be<Ue?Ue:Ae}},getStartIndexForOffset:function(Ut,bt){var Ft=Ut.itemCount,be=Ut.itemSize;return Math.max(0,Math.min(Ft-1,Math.floor(bt/be)))},getStopIndexForStartIndex:function(Ut,bt,Ft){var be=Ut.direction,qe=Ut.height,Pe=Ut.itemCount,Ze=Ut.itemSize,Qe=Ut.layout,Ar=Ut.width,Hr=be==="horizontal"||Qe==="horizontal",Jr=bt*Ze,Cr=Hr?Ar:qe,bn=Math.ceil((Cr+Ft-Jr)/Ze);return Math.max(0,Math.min(Pe-1,bt+bn-1))},initInstanceProps:function(Ut){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(Ut){var bt=Ut.itemSize}});function Re(ee,Ut){for(var bt in ee)if(!(bt in Ut))return!0;for(var Ft in Ut)if(ee[Ft]!==Ut[Ft])return!0;return!1}var Jt=null,ue=null;function ke(ee,Ut){var bt=ee.style,Ft=_objectWithoutPropertiesLoose(ee,Jt),be=Ut.style,qe=_objectWithoutPropertiesLoose(Ut,ue);return!Re(bt,be)&&!Re(Ft,qe)}function ye(ee,Ut){return!ke(this.props,ee)||Re(this.state,Ut)}},675251:function(Ve,W,_){"use strict";var y=_(667294),R=Symbol.for("react.element"),w=Symbol.for("react.fragment"),M=Object.prototype.hasOwnProperty,P=y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L={key:!0,ref:!0,__self:!0,__source:!0};function p(g,S,E){var b,A={},x=null,T=null;E!==void 0&&(x=""+E),S.key!==void 0&&(x=""+S.key),S.ref!==void 0&&(T=S.ref);for(b in S)M.call(S,b)&&!L.hasOwnProperty(b)&&(A[b]=S[b]);if(g&&g.defaultProps)for(b in S=g.defaultProps,S)A[b]===void 0&&(A[b]=S[b]);return{$$typeof:R,type:g,key:x,ref:T,props:A,_owner:P.current}}W.Fragment=w,W.jsx=p,W.jsxs=p},785893:function(Ve,W,_){"use strict";Ve.exports=_(675251)},481550:function(Ve){(function(W,_){Ve.exports=_()})(this,function(){"use strict";var W=function(At){return At instanceof Uint8Array||At instanceof Uint16Array||At instanceof Uint32Array||At instanceof Int8Array||At instanceof Int16Array||At instanceof Int32Array||At instanceof Float32Array||At instanceof Float64Array||At instanceof Uint8ClampedArray},_=function(At,Se){for(var je=Object.keys(Se),Nr=0;Nr<je.length;++Nr)At[je[Nr]]=Se[je[Nr]];return At},y=`
`;function R(At){return typeof atob!="undefined"?atob(At):"base64:"+At}function w(At){var Se=new Error("(regl) "+At);throw console.error(Se),Se}function M(At,Se){At||w(Se)}function P(At){return At?": "+At:""}function L(At,Se,je){At in Se||w("unknown parameter ("+At+")"+P(je)+". possible values: "+Object.keys(Se).join())}function p(At,Se){W(At)||w("invalid parameter type"+P(Se)+". must be a typed array")}function g(At,Se){switch(Se){case"number":return typeof At=="number";case"object":return typeof At=="object";case"string":return typeof At=="string";case"boolean":return typeof At=="boolean";case"function":return typeof At=="function";case"undefined":return typeof At=="undefined";case"symbol":return typeof At=="symbol"}}function S(At,Se,je){g(At,Se)||w("invalid parameter type"+P(je)+". expected "+Se+", got "+typeof At)}function E(At,Se){At>=0&&(At|0)===At||w("invalid parameter type, ("+At+")"+P(Se)+". must be a nonnegative integer")}function b(At,Se,je){Se.indexOf(At)<0&&w("invalid value"+P(je)+". must be one of: "+Se)}var A=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function x(At){Object.keys(At).forEach(function(Se){A.indexOf(Se)<0&&w('invalid regl constructor argument "'+Se+'". must be one of '+A)})}function T(At,Se){for(At=At+"";At.length<Se;)At=" "+At;return At}function B(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function m(At,Se){this.number=At,this.line=Se,this.errors=[]}function f(At,Se,je){this.file=At,this.line=Se,this.message=je}function U(){var At=new Error,Se=(At.stack||At).toString(),je=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(Se);if(je)return je[1];var Nr=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(Se);return Nr?Nr[1]:"unknown"}function j(){var At=new Error,Se=(At.stack||At).toString(),je=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(Se);if(je)return je[1];var Nr=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(Se);return Nr?Nr[1]:"unknown"}function z(At,Se){var je=At.split(`
`),Nr=1,Qr=0,_r={unknown:new B,0:new B};_r.unknown.name=_r[0].name=Se||U(),_r.unknown.lines.push(new m(0,""));for(var Ur=0;Ur<je.length;++Ur){var vn=je[Ur],Mn=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(vn);if(Mn)switch(Mn[1]){case"line":var pn=/(\d+)(\s+\d+)?/.exec(Mn[2]);pn&&(Nr=pn[1]|0,pn[2]&&(Qr=pn[2]|0,Qr in _r||(_r[Qr]=new B)));break;case"define":var En=/SHADER_NAME(_B64)?\s+(.*)$/.exec(Mn[2]);En&&(_r[Qr].name=En[1]?R(En[2]):En[2]);break}_r[Qr].lines.push(new m(Nr++,vn))}return Object.keys(_r).forEach(function(On){var v=_r[On];v.lines.forEach(function(N){v.index[N.number]=N})}),_r}function k(At){var Se=[];return At.split(`
`).forEach(function(je){if(!(je.length<5)){var Nr=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(je);Nr?Se.push(new f(Nr[1]|0,Nr[2]|0,Nr[3].trim())):je.length>0&&Se.push(new f("unknown",0,je))}}),Se}function X(At,Se){Se.forEach(function(je){var Nr=At[je.file];if(Nr){var Qr=Nr.index[je.line];if(Qr){Qr.errors.push(je),Nr.hasErrors=!0;return}}At.unknown.hasErrors=!0,At.unknown.lines[0].errors.push(je)})}function K(At,Se,je,Nr,Qr){if(!At.getShaderParameter(Se,At.COMPILE_STATUS)){var _r=At.getShaderInfoLog(Se),Ur=Nr===At.FRAGMENT_SHADER?"fragment":"vertex";vt(je,"string",Ur+" shader source must be a string",Qr);var vn=z(je,Qr),Mn=k(_r);X(vn,Mn),Object.keys(vn).forEach(function(pn){var En=vn[pn];if(!En.hasErrors)return;var On=[""],v=[""];function N(Z,nt){On.push(Z),v.push(nt||"")}N("file number "+pn+": "+En.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),En.lines.forEach(function(Z){if(Z.errors.length>0){N(T(Z.number,4)+"|  ","background-color:yellow; font-weight:bold"),N(Z.line+y,"color:red; background-color:yellow; font-weight:bold");var nt=0;Z.errors.forEach(function(dt){var yt=dt.message,Tt=/^\s*'(.*)'\s*:\s*(.*)$/.exec(yt);if(Tt){var It=Tt[1];switch(yt=Tt[2],It){case"assign":It="=";break}nt=Math.max(Z.line.indexOf(It,nt),0)}else nt=0;N(T("| ",6)),N(T("^^^",nt+3)+y,"font-weight:bold"),N(T("| ",6)),N(yt+y,"font-weight:bold")}),N(T("| ",6)+y)}else N(T(Z.number,4)+"|  "),N(Z.line+y,"color:red")}),typeof document!="undefined"&&!window.chrome?(v[0]=On.join("%c"),console.log.apply(console,v)):console.log(On.join(""))}),M.raise("Error compiling "+Ur+" shader, "+vn[0].name)}}function tt(At,Se,je,Nr,Qr){if(!At.getProgramParameter(Se,At.LINK_STATUS)){var _r=At.getProgramInfoLog(Se),Ur=z(je,Qr),vn=z(Nr,Qr),Mn='Error linking program with vertex shader, "'+vn[0].name+'", and fragment shader "'+Ur[0].name+'"';typeof document!="undefined"?console.log("%c"+Mn+y+"%c"+_r,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(Mn+y+_r),M.raise(Mn)}}function q(At){At._commandRef=U()}function at(At,Se,je,Nr){q(At);function Qr(Mn){return Mn?Nr.id(Mn):0}At._fragId=Qr(At.static.frag),At._vertId=Qr(At.static.vert);function _r(Mn,pn){Object.keys(pn).forEach(function(En){Mn[Nr.id(En)]=!0})}var Ur=At._uniformSet={};_r(Ur,Se.static),_r(Ur,Se.dynamic);var vn=At._attributeSet={};_r(vn,je.static),_r(vn,je.dynamic),At._hasCount="count"in At.static||"count"in At.dynamic||"elements"in At.static||"elements"in At.dynamic}function pt(At,Se){var je=j();w(At+" in command "+(Se||U())+(je==="unknown"?"":" called from "+je))}function ct(At,Se,je){At||pt(Se,je||U())}function St(At,Se,je,Nr){At in Se||pt("unknown parameter ("+At+")"+P(je)+". possible values: "+Object.keys(Se).join(),Nr||U())}function vt(At,Se,je,Nr){g(At,Se)||pt("invalid parameter type"+P(je)+". expected "+Se+", got "+typeof At,Nr||U())}function Lt(At){At()}function Mt(At,Se,je){At.texture?b(At.texture._texture.internalformat,Se,"unsupported texture format for attachment"):b(At.renderbuffer._renderbuffer.format,je,"unsupported renderbuffer format for attachment")}var wt=33071,et=9728,rt=9984,Ot=9985,Dt=9986,ot=9987,xt=5120,Nt=5121,Yt=5122,Ct=5123,Xt=5124,Zt=5125,se=5126,ie=32819,zt=32820,ae=33635,Re=34042,Jt=36193,ue={};ue[xt]=ue[Nt]=1,ue[Yt]=ue[Ct]=ue[Jt]=ue[ae]=ue[ie]=ue[zt]=2,ue[Xt]=ue[Zt]=ue[se]=ue[Re]=4;function ke(At,Se){return At===zt||At===ie||At===ae?2:At===Re?4:ue[At]*Se}function ye(At){return!(At&At-1)&&!!At}function ee(At,Se,je){var Nr,Qr=Se.width,_r=Se.height,Ur=Se.channels;M(Qr>0&&Qr<=je.maxTextureSize&&_r>0&&_r<=je.maxTextureSize,"invalid texture shape"),(At.wrapS!==wt||At.wrapT!==wt)&&M(ye(Qr)&&ye(_r),"incompatible wrap mode for texture, both width and height must be power of 2"),Se.mipmask===1?Qr!==1&&_r!==1&&M(At.minFilter!==rt&&At.minFilter!==Dt&&At.minFilter!==Ot&&At.minFilter!==ot,"min filter requires mipmap"):(M(ye(Qr)&&ye(_r),"texture must be a square power of 2 to support mipmapping"),M(Se.mipmask===(Qr<<1)-1,"missing or incomplete mipmap data")),Se.type===se&&(je.extensions.indexOf("oes_texture_float_linear")<0&&M(At.minFilter===et&&At.magFilter===et,"filter not supported, must enable oes_texture_float_linear"),M(!At.genMipmaps,"mipmap generation not supported with float textures"));var vn=Se.images;for(Nr=0;Nr<16;++Nr)if(vn[Nr]){var Mn=Qr>>Nr,pn=_r>>Nr;M(Se.mipmask&1<<Nr,"missing mipmap data");var En=vn[Nr];if(M(En.width===Mn&&En.height===pn,"invalid shape for mip images"),M(En.format===Se.format&&En.internalformat===Se.internalformat&&En.type===Se.type,"incompatible type for mip image"),!En.compressed)if(En.data){var On=Math.ceil(ke(En.type,Ur)*Mn/En.unpackAlignment)*En.unpackAlignment;M(En.data.byteLength===On*pn,"invalid data for image, buffer size is inconsistent with image format")}else En.element||En.copy}else At.genMipmaps||M((Se.mipmask&1<<Nr)===0,"extra mipmap data");Se.compressed&&M(!At.genMipmaps,"mipmap generation for compressed images not supported")}function Ut(At,Se,je,Nr){var Qr=At.width,_r=At.height,Ur=At.channels;M(Qr>0&&Qr<=Nr.maxTextureSize&&_r>0&&_r<=Nr.maxTextureSize,"invalid texture shape"),M(Qr===_r,"cube map must be square"),M(Se.wrapS===wt&&Se.wrapT===wt,"wrap mode not supported by cube map");for(var vn=0;vn<je.length;++vn){var Mn=je[vn];M(Mn.width===Qr&&Mn.height===_r,"inconsistent cube map face shape"),Se.genMipmaps&&(M(!Mn.compressed,"can not generate mipmap for compressed textures"),M(Mn.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var pn=Mn.images,En=0;En<16;++En){var On=pn[En];if(On){var v=Qr>>En,N=_r>>En;M(Mn.mipmask&1<<En,"missing mipmap data"),M(On.width===v&&On.height===N,"invalid shape for mip images"),M(On.format===At.format&&On.internalformat===At.internalformat&&On.type===At.type,"incompatible type for mip image"),On.compressed||(On.data?M(On.data.byteLength===v*N*Math.max(ke(On.type,Ur),On.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):On.element||On.copy)}}}}var bt=_(M,{optional:Lt,raise:w,commandRaise:pt,command:ct,parameter:L,commandParameter:St,constructor:x,type:S,commandType:vt,isTypedArray:p,nni:E,oneOf:b,shaderError:K,linkError:tt,callSite:j,saveCommandRef:q,saveDrawInfo:at,framebufferFormat:Mt,guessCommand:U,texture2D:ee,textureCube:Ut}),Ft=0,be=0,qe=5,Pe=6;function Ze(At,Se){this.id=Ft++,this.type=At,this.data=Se}function Qe(At){return At.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Ar(At){if(At.length===0)return[];var Se=At.charAt(0),je=At.charAt(At.length-1);if(At.length>1&&Se===je&&(Se==='"'||Se==="'"))return['"'+Qe(At.substr(1,At.length-2))+'"'];var Nr=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(At);if(Nr)return Ar(At.substr(0,Nr.index)).concat(Ar(Nr[1])).concat(Ar(At.substr(Nr.index+Nr[0].length)));var Qr=At.split(".");if(Qr.length===1)return['"'+Qe(At)+'"'];for(var _r=[],Ur=0;Ur<Qr.length;++Ur)_r=_r.concat(Ar(Qr[Ur]));return _r}function Hr(At){return"["+Ar(At).join("][")+"]"}function Jr(At,Se){return new Ze(At,Hr(Se+""))}function Cr(At){return typeof At=="function"&&!At._reglType||At instanceof Ze}function bn(At,Se){if(typeof At=="function")return new Ze(be,At);if(typeof At=="number"||typeof At=="boolean")return new Ze(qe,At);if(Array.isArray(At))return new Ze(Pe,At.map((je,Nr)=>bn(je,Se+"["+Nr+"]")));if(At instanceof Ze)return At;bt(!1,"invalid option type in uniform "+Se)}var Yr={DynamicVariable:Ze,define:Jr,isDynamic:Cr,unbox:bn,accessor:Hr},Xe={next:typeof requestAnimationFrame=="function"?function(At){return requestAnimationFrame(At)}:function(At){return setTimeout(At,16)},cancel:typeof cancelAnimationFrame=="function"?function(At){return cancelAnimationFrame(At)}:clearTimeout},Ae=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function Ue(){var At={"":0},Se=[""];return{id:function(je){var Nr=At[je];return Nr||(Nr=At[je]=Se.length,Se.push(je),Nr)},str:function(je){return Se[je]}}}function jr(At,Se,je){var Nr=document.createElement("canvas");_(Nr.style,{border:0,margin:0,padding:0,top:0,left:0}),At.appendChild(Nr),At===document.body&&(Nr.style.position="absolute",_(At.style,{margin:0,padding:0}));function Qr(){var vn=window.innerWidth,Mn=window.innerHeight;if(At!==document.body){var pn=At.getBoundingClientRect();vn=pn.right-pn.left,Mn=pn.bottom-pn.top}Nr.width=je*vn,Nr.height=je*Mn,_(Nr.style,{width:vn+"px",height:Mn+"px"})}var _r;At!==document.body&&typeof ResizeObserver=="function"?(_r=new ResizeObserver(function(){setTimeout(Qr)}),_r.observe(At)):window.addEventListener("resize",Qr,!1);function Ur(){_r?_r.disconnect():window.removeEventListener("resize",Qr),At.removeChild(Nr)}return Qr(),{canvas:Nr,onDestroy:Ur}}function Br(At,Se){function je(Nr){try{return At.getContext(Nr,Se)}catch(Qr){return null}}return je("webgl")||je("experimental-webgl")||je("webgl-experimental")}function Sn(At){return typeof At.nodeName=="string"&&typeof At.appendChild=="function"&&typeof At.getBoundingClientRect=="function"}function ir(At){return typeof At.drawArrays=="function"||typeof At.drawElements=="function"}function mn(At){return typeof At=="string"?At.split():(bt(Array.isArray(At),"invalid extension array"),At)}function Or(At){return typeof At=="string"?(bt(typeof document!="undefined","not supported outside of DOM"),document.querySelector(At)):At}function sn(At){var Se=At||{},je,Nr,Qr,_r,Ur={},vn=[],Mn=[],pn=typeof window=="undefined"?1:window.devicePixelRatio,En=!1,On=function(Z){Z&&bt.raise(Z)},v=function(){};if(typeof Se=="string"?(bt(typeof document!="undefined","selector queries only supported in DOM enviroments"),je=document.querySelector(Se),bt(je,"invalid query string for element")):typeof Se=="object"?Sn(Se)?je=Se:ir(Se)?(_r=Se,Qr=_r.canvas):(bt.constructor(Se),"gl"in Se?_r=Se.gl:"canvas"in Se?Qr=Or(Se.canvas):"container"in Se&&(Nr=Or(Se.container)),"attributes"in Se&&(Ur=Se.attributes,bt.type(Ur,"object","invalid context attributes")),"extensions"in Se&&(vn=mn(Se.extensions)),"optionalExtensions"in Se&&(Mn=mn(Se.optionalExtensions)),"onDone"in Se&&(bt.type(Se.onDone,"function","invalid or missing onDone callback"),On=Se.onDone),"profile"in Se&&(En=!!Se.profile),"pixelRatio"in Se&&(pn=+Se.pixelRatio,bt(pn>0,"invalid pixel ratio"))):bt.raise("invalid arguments to regl"),je&&(je.nodeName.toLowerCase()==="canvas"?Qr=je:Nr=je),!_r){if(!Qr){bt(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var N=jr(Nr||document.body,On,pn);if(!N)return null;Qr=N.canvas,v=N.onDestroy}Ur.premultipliedAlpha===void 0&&(Ur.premultipliedAlpha=!0),_r=Br(Qr,Ur)}return _r?{gl:_r,canvas:Qr,container:Nr,extensions:vn,optionalExtensions:Mn,pixelRatio:pn,profile:En,onDone:On,onDestroy:v}:(v(),On("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function ln(At,Se){var je={};function Nr(Ur){bt.type(Ur,"string","extension name must be string");var vn=Ur.toLowerCase(),Mn;try{Mn=je[vn]=At.getExtension(vn)}catch(pn){}return!!Mn}for(var Qr=0;Qr<Se.extensions.length;++Qr){var _r=Se.extensions[Qr];if(!Nr(_r))return Se.onDestroy(),Se.onDone('"'+_r+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Se.optionalExtensions.forEach(Nr),{extensions:je,restore:function(){Object.keys(je).forEach(function(Ur){if(je[Ur]&&!Nr(Ur))throw new Error("(regl): error restoring extension "+Ur)})}}}function cn(At,Se){for(var je=Array(At),Nr=0;Nr<At;++Nr)je[Nr]=Se(Nr);return je}var Cn=5120,V=5121,$t=5122,Q=5123,gt=5124,lt=5125,Gt=5126;function Qt(At){for(var Se=16;Se<=1<<28;Se*=16)if(At<=Se)return Se;return 0}function he(At){var Se,je;return Se=(At>65535)<<4,At>>>=Se,je=(At>255)<<3,At>>>=je,Se|=je,je=(At>15)<<2,At>>>=je,Se|=je,je=(At>3)<<1,At>>>=je,Se|=je,Se|At>>1}function de(){var At=cn(8,function(){return[]});function Se(_r){var Ur=Qt(_r),vn=At[he(Ur)>>2];return vn.length>0?vn.pop():new ArrayBuffer(Ur)}function je(_r){At[he(_r.byteLength)>>2].push(_r)}function Nr(_r,Ur){var vn=null;switch(_r){case Cn:vn=new Int8Array(Se(Ur),0,Ur);break;case V:vn=new Uint8Array(Se(Ur),0,Ur);break;case $t:vn=new Int16Array(Se(2*Ur),0,Ur);break;case Q:vn=new Uint16Array(Se(2*Ur),0,Ur);break;case gt:vn=new Int32Array(Se(4*Ur),0,Ur);break;case lt:vn=new Uint32Array(Se(4*Ur),0,Ur);break;case Gt:vn=new Float32Array(Se(4*Ur),0,Ur);break;default:return null}return vn.length!==Ur?vn.subarray(0,Ur):vn}function Qr(_r){je(_r.buffer)}return{alloc:Se,free:je,allocType:Nr,freeType:Qr}}var fe=de();fe.zero=de();var it=3408,ft=3410,G=3411,O=3412,D=3413,$=3414,mt=3415,kt=33901,Rt=33902,qt=3379,Le=3386,Me=34921,Ke=36347,vr=36348,He=35661,Rr=35660,fn=34930,Je=36349,pr=34076,kr=34024,Pr=7936,oe=7937,Wt=7938,pe=35724,_e=34047,xe=36063,Ge=34852,lr=3553,gr=34067,Zr=34069,Tn=33984,an=6408,kn=5126,un=5121,Bn=36160,Zn=36053,na=36064,ra=16384,ti=function(At,Se){var je=1;Se.ext_texture_filter_anisotropic&&(je=At.getParameter(_e));var Nr=1,Qr=1;Se.webgl_draw_buffers&&(Nr=At.getParameter(Ge),Qr=At.getParameter(xe));var _r=!!Se.oes_texture_float;if(_r){var Ur=At.createTexture();At.bindTexture(lr,Ur),At.texImage2D(lr,0,an,1,1,0,an,kn,null);var vn=At.createFramebuffer();if(At.bindFramebuffer(Bn,vn),At.framebufferTexture2D(Bn,na,lr,Ur,0),At.bindTexture(lr,null),At.checkFramebufferStatus(Bn)!==Zn)_r=!1;else{At.viewport(0,0,1,1),At.clearColor(1,0,0,1),At.clear(ra);var Mn=fe.allocType(kn,4);At.readPixels(0,0,1,1,an,kn,Mn),At.getError()?_r=!1:(At.deleteFramebuffer(vn),At.deleteTexture(Ur),_r=Mn[0]===1),fe.freeType(Mn)}}var pn=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),En=!0;if(!pn){var On=At.createTexture(),v=fe.allocType(un,36);At.activeTexture(Tn),At.bindTexture(gr,On),At.texImage2D(Zr,0,an,3,3,0,an,un,v),fe.freeType(v),At.bindTexture(gr,null),At.deleteTexture(On),En=!At.getError()}return{colorBits:[At.getParameter(ft),At.getParameter(G),At.getParameter(O),At.getParameter(D)],depthBits:At.getParameter($),stencilBits:At.getParameter(mt),subpixelBits:At.getParameter(it),extensions:Object.keys(Se).filter(function(N){return!!Se[N]}),maxAnisotropic:je,maxDrawbuffers:Nr,maxColorAttachments:Qr,pointSizeDims:At.getParameter(kt),lineWidthDims:At.getParameter(Rt),maxViewportDims:At.getParameter(Le),maxCombinedTextureUnits:At.getParameter(He),maxCubeMapSize:At.getParameter(pr),maxRenderbufferSize:At.getParameter(kr),maxTextureUnits:At.getParameter(fn),maxTextureSize:At.getParameter(qt),maxAttributes:At.getParameter(Me),maxVertexUniforms:At.getParameter(Ke),maxVertexTextureUnits:At.getParameter(Rr),maxVaryingVectors:At.getParameter(vr),maxFragmentUniforms:At.getParameter(Je),glsl:At.getParameter(pe),renderer:At.getParameter(oe),vendor:At.getParameter(Pr),version:At.getParameter(Wt),readFloat:_r,npotTextureCube:En}};function Ua(At){return!!At&&typeof At=="object"&&Array.isArray(At.shape)&&Array.isArray(At.stride)&&typeof At.offset=="number"&&At.shape.length===At.stride.length&&(Array.isArray(At.data)||W(At.data))}var Ia=function(At){return Object.keys(At).map(function(Se){return At[Se]})},oi={shape:No,flatten:_i};function Lo(At,Se,je){for(var Nr=0;Nr<Se;++Nr)je[Nr]=At[Nr]}function gi(At,Se,je,Nr){for(var Qr=0,_r=0;_r<Se;++_r)for(var Ur=At[_r],vn=0;vn<je;++vn)Nr[Qr++]=Ur[vn]}function ci(At,Se,je,Nr,Qr,_r){for(var Ur=_r,vn=0;vn<Se;++vn)for(var Mn=At[vn],pn=0;pn<je;++pn)for(var En=Mn[pn],On=0;On<Nr;++On)Qr[Ur++]=En[On]}function xa(At,Se,je,Nr,Qr){for(var _r=1,Ur=je+1;Ur<Se.length;++Ur)_r*=Se[Ur];var vn=Se[je];if(Se.length-je===4){var Mn=Se[je+1],pn=Se[je+2],En=Se[je+3];for(Ur=0;Ur<vn;++Ur)ci(At[Ur],Mn,pn,En,Nr,Qr),Qr+=_r}else for(Ur=0;Ur<vn;++Ur)xa(At[Ur],Se,je+1,Nr,Qr),Qr+=_r}function _i(At,Se,je,Nr){var Qr=1;if(Se.length)for(var _r=0;_r<Se.length;++_r)Qr*=Se[_r];else Qr=0;var Ur=Nr||fe.allocType(je,Qr);switch(Se.length){case 0:break;case 1:Lo(At,Se[0],Ur);break;case 2:gi(At,Se[0],Se[1],Ur);break;case 3:ci(At,Se[0],Se[1],Se[2],Ur,0);break;default:xa(At,Se,0,Ur,0)}return Ur}function No(At){for(var Se=[],je=At;je.length;je=je[0])Se.push(je.length);return Se}var Wa={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},go=5120,So=5122,Mo=5124,Wi=5121,eo=5123,_o=5125,is=5126,Oi=5126,ro={int8:go,int16:So,int32:Mo,uint8:Wi,uint16:eo,uint32:_o,float:is,float32:Oi},Jn=35048,Kt=35040,ce={dynamic:Jn,stream:Kt,static:35044},Be=oi.flatten,cr=oi.shape,Lr=35044,Ir=35040,Sr=5121,tn=5126,dn=[];dn[5120]=1,dn[5122]=2,dn[5124]=4,dn[5121]=1,dn[5123]=2,dn[5125]=4,dn[5126]=4;function An(At){return Wa[Object.prototype.toString.call(At)]|0}function Kn(At,Se){for(var je=0;je<Se.length;++je)At[je]=Se[je]}function Wn(At,Se,je,Nr,Qr,_r,Ur){for(var vn=0,Mn=0;Mn<je;++Mn)for(var pn=0;pn<Nr;++pn)At[vn++]=Se[Qr*Mn+_r*pn+Ur]}function aa(At,Se,je,Nr){var Qr=0,_r={};function Ur(nt){this.id=Qr++,this.buffer=At.createBuffer(),this.type=nt,this.usage=Lr,this.byteLength=0,this.dimension=1,this.dtype=Sr,this.persistentData=null,je.profile&&(this.stats={size:0})}Ur.prototype.bind=function(){At.bindBuffer(this.type,this.buffer)},Ur.prototype.destroy=function(){v(this)};var vn=[];function Mn(nt,dt){var yt=vn.pop();return yt||(yt=new Ur(nt)),yt.bind(),On(yt,dt,Ir,0,1,!1),yt}function pn(nt){vn.push(nt)}function En(nt,dt,yt){nt.byteLength=dt.byteLength,At.bufferData(nt.type,dt,yt)}function On(nt,dt,yt,Tt,It,jt){var ne;if(nt.usage=yt,Array.isArray(dt)){if(nt.dtype=Tt||tn,dt.length>0){var we;if(Array.isArray(dt[0])){ne=cr(dt);for(var ge=1,Ye=1;Ye<ne.length;++Ye)ge*=ne[Ye];nt.dimension=ge,we=Be(dt,ne,nt.dtype),En(nt,we,yt),jt?nt.persistentData=we:fe.freeType(we)}else if(typeof dt[0]=="number"){nt.dimension=It;var ur=fe.allocType(nt.dtype,dt.length);Kn(ur,dt),En(nt,ur,yt),jt?nt.persistentData=ur:fe.freeType(ur)}else W(dt[0])?(nt.dimension=dt[0].length,nt.dtype=Tt||An(dt[0])||tn,we=Be(dt,[dt.length,dt[0].length],nt.dtype),En(nt,we,yt),jt?nt.persistentData=we:fe.freeType(we)):bt.raise("invalid buffer data")}}else if(W(dt))nt.dtype=Tt||An(dt),nt.dimension=It,En(nt,dt,yt),jt&&(nt.persistentData=new Uint8Array(new Uint8Array(dt.buffer)));else if(Ua(dt)){ne=dt.shape;var Xr=dt.stride,mr=dt.offset,br=0,xr=0,wn=0,Rn=0;ne.length===1?(br=ne[0],xr=1,wn=Xr[0],Rn=0):ne.length===2?(br=ne[0],xr=ne[1],wn=Xr[0],Rn=Xr[1]):bt.raise("invalid shape"),nt.dtype=Tt||An(dt.data)||tn,nt.dimension=xr;var In=fe.allocType(nt.dtype,br*xr);Wn(In,dt.data,br,xr,wn,Rn,mr),En(nt,In,yt),jt?nt.persistentData=In:fe.freeType(In)}else dt instanceof ArrayBuffer?(nt.dtype=Sr,nt.dimension=It,En(nt,dt,yt),jt&&(nt.persistentData=new Uint8Array(new Uint8Array(dt)))):bt.raise("invalid buffer data")}function v(nt){Se.bufferCount--,Nr(nt);var dt=nt.buffer;bt(dt,"buffer must not be deleted already"),At.deleteBuffer(dt),nt.buffer=null,delete _r[nt.id]}function N(nt,dt,yt,Tt){Se.bufferCount++;var It=new Ur(dt);_r[It.id]=It;function jt(ge){var Ye=Lr,ur=null,Xr=0,mr=0,br=1;return Array.isArray(ge)||W(ge)||Ua(ge)||ge instanceof ArrayBuffer?ur=ge:typeof ge=="number"?Xr=ge|0:ge&&(bt.type(ge,"object","buffer arguments must be an object, a number or an array"),"data"in ge&&(bt(ur===null||Array.isArray(ur)||W(ur)||Ua(ur),"invalid data for buffer"),ur=ge.data),"usage"in ge&&(bt.parameter(ge.usage,ce,"invalid buffer usage"),Ye=ce[ge.usage]),"type"in ge&&(bt.parameter(ge.type,ro,"invalid buffer type"),mr=ro[ge.type]),"dimension"in ge&&(bt.type(ge.dimension,"number","invalid dimension"),br=ge.dimension|0),"length"in ge&&(bt.nni(Xr,"buffer length must be a nonnegative integer"),Xr=ge.length|0)),It.bind(),ur?On(It,ur,Ye,mr,br,Tt):(Xr&&At.bufferData(It.type,Xr,Ye),It.dtype=mr||Sr,It.usage=Ye,It.dimension=br,It.byteLength=Xr),je.profile&&(It.stats.size=It.byteLength*dn[It.dtype]),jt}function ne(ge,Ye){bt(Ye+ge.byteLength<=It.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+ge.byteLength+" starting from offset "+Ye+" to a buffer of size "+It.byteLength),At.bufferSubData(It.type,Ye,ge)}function we(ge,Ye){var ur=(Ye||0)|0,Xr;if(It.bind(),W(ge)||ge instanceof ArrayBuffer)ne(ge,ur);else if(Array.isArray(ge)){if(ge.length>0)if(typeof ge[0]=="number"){var mr=fe.allocType(It.dtype,ge.length);Kn(mr,ge),ne(mr,ur),fe.freeType(mr)}else if(Array.isArray(ge[0])||W(ge[0])){Xr=cr(ge);var br=Be(ge,Xr,It.dtype);ne(br,ur),fe.freeType(br)}else bt.raise("invalid buffer data")}else if(Ua(ge)){Xr=ge.shape;var xr=ge.stride,wn=0,Rn=0,In=0,Qn=0;Xr.length===1?(wn=Xr[0],Rn=1,In=xr[0],Qn=0):Xr.length===2?(wn=Xr[0],Rn=Xr[1],In=xr[0],Qn=xr[1]):bt.raise("invalid shape");var Hn=Array.isArray(ge.data)?It.dtype:An(ge.data),ia=fe.allocType(Hn,wn*Rn);Wn(ia,ge.data,wn,Rn,In,Qn,ge.offset),ne(ia,ur),fe.freeType(ia)}else bt.raise("invalid data for buffer subdata");return jt}return yt||jt(nt),jt._reglType="buffer",jt._buffer=It,jt.subdata=we,je.profile&&(jt.stats=It.stats),jt.destroy=function(){v(It)},jt}function Z(){Ia(_r).forEach(function(nt){nt.buffer=At.createBuffer(),At.bindBuffer(nt.type,nt.buffer),At.bufferData(nt.type,nt.persistentData||nt.byteLength,nt.usage)})}return je.profile&&(Se.getTotalBufferSize=function(){var nt=0;return Object.keys(_r).forEach(function(dt){nt+=_r[dt].stats.size}),nt}),{create:N,createStream:Mn,destroyStream:pn,clear:function(){Ia(_r).forEach(v),vn.forEach(v)},getBuffer:function(nt){return nt&&nt._buffer instanceof Ur?nt._buffer:null},restore:Z,_initBuffer:On}}var oa=0,Ya=0,ua=1,qn=1,za=4,Pa=4,Ea={points:oa,point:Ya,lines:ua,line:qn,triangles:za,triangle:Pa,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},si=0,qa=1,Na=4,_a=5120,pa=5121,fi=5122,ri=5123,di=5124,Di=5125,Ci=34963,Ri=35040,Eo=35044;function wo(At,Se,je,Nr){var Qr={},_r=0,Ur={uint8:pa,uint16:ri};Se.oes_element_index_uint&&(Ur.uint32=Di);function vn(Z){this.id=_r++,Qr[this.id]=this,this.buffer=Z,this.primType=Na,this.vertCount=0,this.type=0}vn.prototype.bind=function(){this.buffer.bind()};var Mn=[];function pn(Z){var nt=Mn.pop();return nt||(nt=new vn(je.create(null,Ci,!0,!1)._buffer)),On(nt,Z,Ri,-1,-1,0,0),nt}function En(Z){Mn.push(Z)}function On(Z,nt,dt,yt,Tt,It,jt){Z.buffer.bind();var ne;if(nt){var we=jt;!jt&&(!W(nt)||Ua(nt)&&!W(nt.data))&&(we=Se.oes_element_index_uint?Di:ri),je._initBuffer(Z.buffer,nt,dt,we,3)}else At.bufferData(Ci,It,dt),Z.buffer.dtype=ne||pa,Z.buffer.usage=dt,Z.buffer.dimension=3,Z.buffer.byteLength=It;if(ne=jt,!jt){switch(Z.buffer.dtype){case pa:case _a:ne=pa;break;case ri:case fi:ne=ri;break;case Di:case di:ne=Di;break;default:bt.raise("unsupported type for element array")}Z.buffer.dtype=ne}Z.type=ne,bt(ne!==Di||!!Se.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var ge=Tt;ge<0&&(ge=Z.buffer.byteLength,ne===ri?ge>>=1:ne===Di&&(ge>>=2)),Z.vertCount=ge;var Ye=yt;if(yt<0){Ye=Na;var ur=Z.buffer.dimension;ur===1&&(Ye=si),ur===2&&(Ye=qa),ur===3&&(Ye=Na)}Z.primType=Ye}function v(Z){Nr.elementsCount--,bt(Z.buffer!==null,"must not double destroy elements"),delete Qr[Z.id],Z.buffer.destroy(),Z.buffer=null}function N(Z,nt){var dt=je.create(null,Ci,!0),yt=new vn(dt._buffer);Nr.elementsCount++;function Tt(It){if(!It)dt(),yt.primType=Na,yt.vertCount=0,yt.type=pa;else if(typeof It=="number")dt(It),yt.primType=Na,yt.vertCount=It|0,yt.type=pa;else{var jt=null,ne=Eo,we=-1,ge=-1,Ye=0,ur=0;Array.isArray(It)||W(It)||Ua(It)?jt=It:(bt.type(It,"object","invalid arguments for elements"),"data"in It&&(jt=It.data,bt(Array.isArray(jt)||W(jt)||Ua(jt),"invalid data for element buffer")),"usage"in It&&(bt.parameter(It.usage,ce,"invalid element buffer usage"),ne=ce[It.usage]),"primitive"in It&&(bt.parameter(It.primitive,Ea,"invalid element buffer primitive"),we=Ea[It.primitive]),"count"in It&&(bt(typeof It.count=="number"&&It.count>=0,"invalid vertex count for elements"),ge=It.count|0),"type"in It&&(bt.parameter(It.type,Ur,"invalid buffer type"),ur=Ur[It.type]),"length"in It?Ye=It.length|0:(Ye=ge,ur===ri||ur===fi?Ye*=2:(ur===Di||ur===di)&&(Ye*=4))),On(yt,jt,ne,we,ge,Ye,ur)}return Tt}return Tt(Z),Tt._reglType="elements",Tt._elements=yt,Tt.subdata=function(It,jt){return dt.subdata(It,jt),Tt},Tt.destroy=function(){v(yt)},Tt}return{create:N,createStream:pn,destroyStream:En,getElements:function(Z){return typeof Z=="function"&&Z._elements instanceof vn?Z._elements:null},clear:function(){Ia(Qr).forEach(v)}}}var Ii=new Float32Array(1),Ra=new Uint32Array(Ii.buffer),mi=5123;function Pi(At){for(var Se=fe.allocType(mi,At.length),je=0;je<At.length;++je)if(isNaN(At[je]))Se[je]=65535;else if(At[je]===1/0)Se[je]=31744;else if(At[je]===-1/0)Se[je]=64512;else{Ii[0]=At[je];var Nr=Ra[0],Qr=Nr>>>31<<15,_r=(Nr<<1>>>24)-127,Ur=Nr>>13&(1<<10)-1;if(_r<-24)Se[je]=Qr;else if(_r<-14){var vn=-14-_r;Se[je]=Qr+(Ur+(1<<10)>>vn)}else _r>15?Se[je]=Qr+31744:Se[je]=Qr+(_r+15<<10)+Ur}return Se}function Ma(At){return Array.isArray(At)||W(At)}var ki=function(At){return!(At&At-1)&&!!At},no=34467,Mi=3553,Co=34067,yi=34069,ao=6408,Ro=6406,es=6407,Bi=6409,ko=6410,Bo=32854,cs=32855,va=36194,Bt=32819,Fe=32820,or=33635,Er=34042,qr=6402,hn=34041,zn=35904,Da=35906,hi=36193,Hi=33776,mo=33777,fs=33778,Ti=33779,Zi=35986,Fo=35987,ds=34798,qo=35840,bs=35841,Os=35842,xs=35843,nu=36196,jo=5121,os=5123,hs=5125,To=5126,Eu=10242,wu=10243,Fi=10497,yo=33071,Ao=33648,h=10240,Y=10241,Et=9728,Pt=9729,Ht=9984,le=9985,ve=9986,Ce=9987,Ne=33170,$e=4352,fr=4353,zr=4354,Wr=34046,Gr=3317,xn=37440,Nn=37441,en=37443,Vn=37444,Ta=33984,Oa=[Ht,ve,le,Ce],wa=[0,Bi,ko,es,ao],ca={};ca[Bi]=ca[Ro]=ca[qr]=1,ca[hn]=ca[ko]=2,ca[es]=ca[zn]=3,ca[ao]=ca[Da]=4;function ya(At){return"[object "+At+"]"}var Ki=ya("HTMLCanvasElement"),Yi=ya("OffscreenCanvas"),zi=ya("CanvasRenderingContext2D"),Xi=ya("ImageBitmap"),ji=ya("HTMLImageElement"),io=ya("HTMLVideoElement"),bo=Object.keys(Wa).concat([Ki,Yi,zi,Xi,ji,io]),Xa=[];Xa[jo]=1,Xa[To]=4,Xa[hi]=2,Xa[os]=2,Xa[hs]=4;var vi=[];vi[Bo]=2,vi[cs]=2,vi[va]=2,vi[hn]=4,vi[Hi]=.5,vi[mo]=.5,vi[fs]=1,vi[Ti]=1,vi[Zi]=.5,vi[Fo]=1,vi[ds]=1,vi[qo]=.5,vi[bs]=.25,vi[Os]=.5,vi[xs]=.25,vi[nu]=.5;function Is(At){return Array.isArray(At)&&(At.length===0||typeof At[0]=="number")}function vs(At){if(!Array.isArray(At))return!1;var Se=At.length;return!(Se===0||!Ma(At[0]))}function rs(At){return Object.prototype.toString.call(At)}function au(At){return rs(At)===Ki}function cc(At){return rs(At)===Yi}function pf(At){return rs(At)===zi}function gf(At){return rs(At)===Xi}function fc(At){return rs(At)===ji}function ud(At){return rs(At)===io}function dc(At){if(!At)return!1;var Se=rs(At);return bo.indexOf(Se)>=0?!0:Is(At)||vs(At)||Ua(At)}function Ku(At){return Wa[Object.prototype.toString.call(At)]|0}function mf(At,Se){var je=Se.length;switch(At.type){case jo:case os:case hs:case To:var Nr=fe.allocType(At.type,je);Nr.set(Se),At.data=Nr;break;case hi:At.data=Pi(Se);break;default:bt.raise("unsupported texture type, must specify a typed array")}}function hc(At,Se){return fe.allocType(At.type===hi?To:At.type,Se)}function yf(At,Se){At.type===hi?(At.data=Pi(Se),fe.freeType(Se)):At.data=Se}function ld(At,Se,je,Nr,Qr,_r){for(var Ur=At.width,vn=At.height,Mn=At.channels,pn=Ur*vn*Mn,En=hc(At,pn),On=0,v=0;v<vn;++v)for(var N=0;N<Ur;++N)for(var Z=0;Z<Mn;++Z)En[On++]=Se[je*N+Nr*v+Qr*Z+_r];yf(At,En)}function iu(At,Se,je,Nr,Qr,_r){var Ur;if(typeof vi[At]!="undefined"?Ur=vi[At]:Ur=ca[At]*Xa[Se],_r&&(Ur*=6),Qr){for(var vn=0,Mn=je;Mn>=1;)vn+=Ur*Mn*Mn,Mn/=2;return vn}else return Ur*je*Nr}function bf(At,Se,je,Nr,Qr,_r,Ur){var vn={"don't care":$e,"dont care":$e,nice:zr,fast:fr},Mn={repeat:Fi,clamp:yo,mirror:Ao},pn={nearest:Et,linear:Pt},En=_({mipmap:Ce,"nearest mipmap nearest":Ht,"linear mipmap nearest":le,"nearest mipmap linear":ve,"linear mipmap linear":Ce},pn),On={none:0,browser:Vn},v={uint8:jo,rgba4:Bt,rgb565:or,"rgb5 a1":Fe},N={alpha:Ro,luminance:Bi,"luminance alpha":ko,rgb:es,rgba:ao,rgba4:Bo,"rgb5 a1":cs,rgb565:va},Z={};Se.ext_srgb&&(N.srgb=zn,N.srgba=Da),Se.oes_texture_float&&(v.float32=v.float=To),Se.oes_texture_half_float&&(v.float16=v["half float"]=hi),Se.webgl_depth_texture&&(_(N,{depth:qr,"depth stencil":hn}),_(v,{uint16:os,uint32:hs,"depth stencil":Er})),Se.webgl_compressed_texture_s3tc&&_(Z,{"rgb s3tc dxt1":Hi,"rgba s3tc dxt1":mo,"rgba s3tc dxt3":fs,"rgba s3tc dxt5":Ti}),Se.webgl_compressed_texture_atc&&_(Z,{"rgb atc":Zi,"rgba atc explicit alpha":Fo,"rgba atc interpolated alpha":ds}),Se.webgl_compressed_texture_pvrtc&&_(Z,{"rgb pvrtc 4bppv1":qo,"rgb pvrtc 2bppv1":bs,"rgba pvrtc 4bppv1":Os,"rgba pvrtc 2bppv1":xs}),Se.webgl_compressed_texture_etc1&&(Z["rgb etc1"]=nu);var nt=Array.prototype.slice.call(At.getParameter(no));Object.keys(Z).forEach(function(We){var Fr=Z[We];nt.indexOf(Fr)>=0&&(N[We]=Fr)});var dt=Object.keys(N);je.textureFormats=dt;var yt=[];Object.keys(N).forEach(function(We){var Fr=N[We];yt[Fr]=We});var Tt=[];Object.keys(v).forEach(function(We){var Fr=v[We];Tt[Fr]=We});var It=[];Object.keys(pn).forEach(function(We){var Fr=pn[We];It[Fr]=We});var jt=[];Object.keys(En).forEach(function(We){var Fr=En[We];jt[Fr]=We});var ne=[];Object.keys(Mn).forEach(function(We){var Fr=Mn[We];ne[Fr]=We});var we=dt.reduce(function(We,Fr){var Dr=N[Fr];return Dr===Bi||Dr===Ro||Dr===Bi||Dr===ko||Dr===qr||Dr===hn||Se.ext_srgb&&(Dr===zn||Dr===Da)?We[Dr]=Dr:Dr===cs||Fr.indexOf("rgba")>=0?We[Dr]=ao:We[Dr]=es,We},{});function ge(){this.internalformat=ao,this.format=ao,this.type=jo,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Vn,this.width=0,this.height=0,this.channels=0}function Ye(We,Fr){We.internalformat=Fr.internalformat,We.format=Fr.format,We.type=Fr.type,We.compressed=Fr.compressed,We.premultiplyAlpha=Fr.premultiplyAlpha,We.flipY=Fr.flipY,We.unpackAlignment=Fr.unpackAlignment,We.colorSpace=Fr.colorSpace,We.width=Fr.width,We.height=Fr.height,We.channels=Fr.channels}function ur(We,Fr){if(!(typeof Fr!="object"||!Fr)){if("premultiplyAlpha"in Fr&&(bt.type(Fr.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),We.premultiplyAlpha=Fr.premultiplyAlpha),"flipY"in Fr&&(bt.type(Fr.flipY,"boolean","invalid texture flip"),We.flipY=Fr.flipY),"alignment"in Fr&&(bt.oneOf(Fr.alignment,[1,2,4,8],"invalid texture unpack alignment"),We.unpackAlignment=Fr.alignment),"colorSpace"in Fr&&(bt.parameter(Fr.colorSpace,On,"invalid colorSpace"),We.colorSpace=On[Fr.colorSpace]),"type"in Fr){var Dr=Fr.type;bt(Se.oes_texture_float||!(Dr==="float"||Dr==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),bt(Se.oes_texture_half_float||!(Dr==="half float"||Dr==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),bt(Se.webgl_depth_texture||!(Dr==="uint16"||Dr==="uint32"||Dr==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),bt.parameter(Dr,v,"invalid texture type"),We.type=v[Dr]}var Xn=We.width,Fa=We.height,Ie=We.channels,me=!1;"shape"in Fr?(bt(Array.isArray(Fr.shape)&&Fr.shape.length>=2,"shape must be an array"),Xn=Fr.shape[0],Fa=Fr.shape[1],Fr.shape.length===3&&(Ie=Fr.shape[2],bt(Ie>0&&Ie<=4,"invalid number of channels"),me=!0),bt(Xn>=0&&Xn<=je.maxTextureSize,"invalid width"),bt(Fa>=0&&Fa<=je.maxTextureSize,"invalid height")):("radius"in Fr&&(Xn=Fa=Fr.radius,bt(Xn>=0&&Xn<=je.maxTextureSize,"invalid radius")),"width"in Fr&&(Xn=Fr.width,bt(Xn>=0&&Xn<=je.maxTextureSize,"invalid width")),"height"in Fr&&(Fa=Fr.height,bt(Fa>=0&&Fa<=je.maxTextureSize,"invalid height")),"channels"in Fr&&(Ie=Fr.channels,bt(Ie>0&&Ie<=4,"invalid number of channels"),me=!0)),We.width=Xn|0,We.height=Fa|0,We.channels=Ie|0;var nr=!1;if("format"in Fr){var wr=Fr.format;bt(Se.webgl_depth_texture||!(wr==="depth"||wr==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),bt.parameter(wr,N,"invalid texture format");var Mr=We.internalformat=N[wr];We.format=we[Mr],wr in v&&("type"in Fr||(We.type=v[wr])),wr in Z&&(We.compressed=!0),nr=!0}!me&&nr?We.channels=ca[We.format]:me&&!nr?We.channels!==wa[We.format]&&(We.format=We.internalformat=wa[We.channels]):nr&&me&&bt(We.channels===ca[We.format],"number of channels inconsistent with specified format")}}function Xr(We){At.pixelStorei(xn,We.flipY),At.pixelStorei(Nn,We.premultiplyAlpha),At.pixelStorei(en,We.colorSpace),At.pixelStorei(Gr,We.unpackAlignment)}function mr(){ge.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function br(We,Fr){var Dr=null;if(dc(Fr)?Dr=Fr:Fr&&(bt.type(Fr,"object","invalid pixel data type"),ur(We,Fr),"x"in Fr&&(We.xOffset=Fr.x|0),"y"in Fr&&(We.yOffset=Fr.y|0),dc(Fr.data)&&(Dr=Fr.data)),bt(!We.compressed||Dr instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),Fr.copy){bt(!Dr,"can not specify copy and data field for the same texture");var Xn=Qr.viewportWidth,Fa=Qr.viewportHeight;We.width=We.width||Xn-We.xOffset,We.height=We.height||Fa-We.yOffset,We.needsCopy=!0,bt(We.xOffset>=0&&We.xOffset<Xn&&We.yOffset>=0&&We.yOffset<Fa&&We.width>0&&We.width<=Xn&&We.height>0&&We.height<=Fa,"copy texture read out of bounds")}else if(!Dr)We.width=We.width||1,We.height=We.height||1,We.channels=We.channels||4;else if(W(Dr))We.channels=We.channels||4,We.data=Dr,!("type"in Fr)&&We.type===jo&&(We.type=Ku(Dr));else if(Is(Dr))We.channels=We.channels||4,mf(We,Dr),We.alignment=1,We.needsFree=!0;else if(Ua(Dr)){var Ie=Dr.data;!Array.isArray(Ie)&&We.type===jo&&(We.type=Ku(Ie));var me=Dr.shape,nr=Dr.stride,wr,Mr,sr,ar,dr,De;me.length===3?(sr=me[2],De=nr[2]):(bt(me.length===2,"invalid ndarray pixel data, must be 2 or 3D"),sr=1,De=1),wr=me[0],Mr=me[1],ar=nr[0],dr=nr[1],We.alignment=1,We.width=wr,We.height=Mr,We.channels=sr,We.format=We.internalformat=wa[sr],We.needsFree=!0,ld(We,Ie,ar,dr,De,Dr.offset)}else if(au(Dr)||cc(Dr)||pf(Dr))au(Dr)||cc(Dr)?We.element=Dr:We.element=Dr.canvas,We.width=We.element.width,We.height=We.element.height,We.channels=4;else if(gf(Dr))We.element=Dr,We.width=Dr.width,We.height=Dr.height,We.channels=4;else if(fc(Dr))We.element=Dr,We.width=Dr.naturalWidth,We.height=Dr.naturalHeight,We.channels=4;else if(ud(Dr))We.element=Dr,We.width=Dr.videoWidth,We.height=Dr.videoHeight,We.channels=4;else if(vs(Dr)){var rr=We.width||Dr[0].length,Te=We.height||Dr.length,yr=We.channels;Ma(Dr[0][0])?yr=yr||Dr[0][0].length:yr=yr||1;for(var Tr=oi.shape(Dr),nn=1,on=0;on<Tr.length;++on)nn*=Tr[on];var Vr=hc(We,nn);oi.flatten(Dr,Tr,"",Vr),yf(We,Vr),We.alignment=1,We.width=rr,We.height=Te,We.channels=yr,We.format=We.internalformat=wa[yr],We.needsFree=!0}We.type===To?bt(je.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):We.type===hi&&bt(je.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function xr(We,Fr,Dr){var Xn=We.element,Fa=We.data,Ie=We.internalformat,me=We.format,nr=We.type,wr=We.width,Mr=We.height;Xr(We),Xn?At.texImage2D(Fr,Dr,me,me,nr,Xn):We.compressed?At.compressedTexImage2D(Fr,Dr,Ie,wr,Mr,0,Fa):We.needsCopy?(Nr(),At.copyTexImage2D(Fr,Dr,me,We.xOffset,We.yOffset,wr,Mr,0)):At.texImage2D(Fr,Dr,me,wr,Mr,0,me,nr,Fa||null)}function wn(We,Fr,Dr,Xn,Fa){var Ie=We.element,me=We.data,nr=We.internalformat,wr=We.format,Mr=We.type,sr=We.width,ar=We.height;Xr(We),Ie?At.texSubImage2D(Fr,Fa,Dr,Xn,wr,Mr,Ie):We.compressed?At.compressedTexSubImage2D(Fr,Fa,Dr,Xn,nr,sr,ar,me):We.needsCopy?(Nr(),At.copyTexSubImage2D(Fr,Fa,Dr,Xn,We.xOffset,We.yOffset,sr,ar)):At.texSubImage2D(Fr,Fa,Dr,Xn,sr,ar,wr,Mr,me)}var Rn=[];function In(){return Rn.pop()||new mr}function Qn(We){We.needsFree&&fe.freeType(We.data),mr.call(We),Rn.push(We)}function Hn(){ge.call(this),this.genMipmaps=!1,this.mipmapHint=$e,this.mipmask=0,this.images=Array(16)}function ia(We,Fr,Dr){var Xn=We.images[0]=In();We.mipmask=1,Xn.width=We.width=Fr,Xn.height=We.height=Dr,Xn.channels=We.channels=4}function ga(We,Fr){var Dr=null;if(dc(Fr))Dr=We.images[0]=In(),Ye(Dr,We),br(Dr,Fr),We.mipmask=1;else if(ur(We,Fr),Array.isArray(Fr.mipmap))for(var Xn=Fr.mipmap,Fa=0;Fa<Xn.length;++Fa)Dr=We.images[Fa]=In(),Ye(Dr,We),Dr.width>>=Fa,Dr.height>>=Fa,br(Dr,Xn[Fa]),We.mipmask|=1<<Fa;else Dr=We.images[0]=In(),Ye(Dr,We),br(Dr,Fr),We.mipmask=1;Ye(We,We.images[0]),We.compressed&&(We.internalformat===Hi||We.internalformat===mo||We.internalformat===fs||We.internalformat===Ti)&&bt(We.width%4===0&&We.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function fa(We,Fr){for(var Dr=We.images,Xn=0;Xn<Dr.length;++Xn){if(!Dr[Xn])return;xr(Dr[Xn],Fr,Xn)}}var Ei=[];function ma(){var We=Ei.pop()||new Hn;ge.call(We),We.mipmask=0;for(var Fr=0;Fr<16;++Fr)We.images[Fr]=null;return We}function qi(We){for(var Fr=We.images,Dr=0;Dr<Fr.length;++Dr)Fr[Dr]&&Qn(Fr[Dr]),Fr[Dr]=null;Ei.push(We)}function pi(){this.minFilter=Et,this.magFilter=Et,this.wrapS=yo,this.wrapT=yo,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=$e}function ka(We,Fr){if("min"in Fr){var Dr=Fr.min;bt.parameter(Dr,En),We.minFilter=En[Dr],Oa.indexOf(We.minFilter)>=0&&!("faces"in Fr)&&(We.genMipmaps=!0)}if("mag"in Fr){var Xn=Fr.mag;bt.parameter(Xn,pn),We.magFilter=pn[Xn]}var Fa=We.wrapS,Ie=We.wrapT;if("wrap"in Fr){var me=Fr.wrap;typeof me=="string"?(bt.parameter(me,Mn),Fa=Ie=Mn[me]):Array.isArray(me)&&(bt.parameter(me[0],Mn),bt.parameter(me[1],Mn),Fa=Mn[me[0]],Ie=Mn[me[1]])}else{if("wrapS"in Fr){var nr=Fr.wrapS;bt.parameter(nr,Mn),Fa=Mn[nr]}if("wrapT"in Fr){var wr=Fr.wrapT;bt.parameter(wr,Mn),Ie=Mn[wr]}}if(We.wrapS=Fa,We.wrapT=Ie,"anisotropic"in Fr){var Mr=Fr.anisotropic;bt(typeof Mr=="number"&&Mr>=1&&Mr<=je.maxAnisotropic,"aniso samples must be between 1 and "),We.anisotropic=Fr.anisotropic}if("mipmap"in Fr){var sr=!1;switch(typeof Fr.mipmap){case"string":bt.parameter(Fr.mipmap,vn,"invalid mipmap hint"),We.mipmapHint=vn[Fr.mipmap],We.genMipmaps=!0,sr=!0;break;case"boolean":sr=We.genMipmaps=Fr.mipmap;break;case"object":bt(Array.isArray(Fr.mipmap),"invalid mipmap type"),We.genMipmaps=!1,sr=!0;break;default:bt.raise("invalid mipmap type")}sr&&!("min"in Fr)&&(We.minFilter=Ht)}}function Gi(We,Fr){At.texParameteri(Fr,Y,We.minFilter),At.texParameteri(Fr,h,We.magFilter),At.texParameteri(Fr,Eu,We.wrapS),At.texParameteri(Fr,wu,We.wrapT),Se.ext_texture_filter_anisotropic&&At.texParameteri(Fr,Wr,We.anisotropic),We.genMipmaps&&(At.hint(Ne,We.mipmapHint),At.generateMipmap(Fr))}var Vi=0,so={},Io=je.maxTextureUnits,uo=Array(Io).map(function(){return null});function Aa(We){ge.call(this),this.mipmask=0,this.internalformat=ao,this.id=Vi++,this.refCount=1,this.target=We,this.texture=At.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new pi,Ur.profile&&(this.stats={size:0})}function Go(We){At.activeTexture(Ta),At.bindTexture(We.target,We.texture)}function ni(){var We=uo[0];We?At.bindTexture(We.target,We.texture):At.bindTexture(Mi,null)}function sa(We){var Fr=We.texture;bt(Fr,"must not double destroy texture");var Dr=We.unit,Xn=We.target;Dr>=0&&(At.activeTexture(Ta+Dr),At.bindTexture(Xn,null),uo[Dr]=null),At.deleteTexture(Fr),We.texture=null,We.params=null,We.pixels=null,We.refCount=0,delete so[We.id],_r.textureCount--}_(Aa.prototype,{bind:function(){var We=this;We.bindCount+=1;var Fr=We.unit;if(Fr<0){for(var Dr=0;Dr<Io;++Dr){var Xn=uo[Dr];if(Xn){if(Xn.bindCount>0)continue;Xn.unit=-1}uo[Dr]=We,Fr=Dr;break}Fr>=Io&&bt.raise("insufficient number of texture units"),Ur.profile&&_r.maxTextureUnits<Fr+1&&(_r.maxTextureUnits=Fr+1),We.unit=Fr,At.activeTexture(Ta+Fr),At.bindTexture(We.target,We.texture)}return Fr},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&sa(this)}});function Ba(We,Fr){var Dr=new Aa(Mi);so[Dr.id]=Dr,_r.textureCount++;function Xn(me,nr){var wr=Dr.texInfo;pi.call(wr);var Mr=ma();return typeof me=="number"?typeof nr=="number"?ia(Mr,me|0,nr|0):ia(Mr,me|0,me|0):me?(bt.type(me,"object","invalid arguments to regl.texture"),ka(wr,me),ga(Mr,me)):ia(Mr,1,1),wr.genMipmaps&&(Mr.mipmask=(Mr.width<<1)-1),Dr.mipmask=Mr.mipmask,Ye(Dr,Mr),bt.texture2D(wr,Mr,je),Dr.internalformat=Mr.internalformat,Xn.width=Mr.width,Xn.height=Mr.height,Go(Dr),fa(Mr,Mi),Gi(wr,Mi),ni(),qi(Mr),Ur.profile&&(Dr.stats.size=iu(Dr.internalformat,Dr.type,Mr.width,Mr.height,wr.genMipmaps,!1)),Xn.format=yt[Dr.internalformat],Xn.type=Tt[Dr.type],Xn.mag=It[wr.magFilter],Xn.min=jt[wr.minFilter],Xn.wrapS=ne[wr.wrapS],Xn.wrapT=ne[wr.wrapT],Xn}function Fa(me,nr,wr,Mr){bt(!!me,"must specify image data");var sr=nr|0,ar=wr|0,dr=Mr|0,De=In();return Ye(De,Dr),De.width=0,De.height=0,br(De,me),De.width=De.width||(Dr.width>>dr)-sr,De.height=De.height||(Dr.height>>dr)-ar,bt(Dr.type===De.type&&Dr.format===De.format&&Dr.internalformat===De.internalformat,"incompatible format for texture.subimage"),bt(sr>=0&&ar>=0&&sr+De.width<=Dr.width&&ar+De.height<=Dr.height,"texture.subimage write out of bounds"),bt(Dr.mipmask&1<<dr,"missing mipmap data"),bt(De.data||De.element||De.needsCopy,"missing image data"),Go(Dr),wn(De,Mi,sr,ar,dr),ni(),Qn(De),Xn}function Ie(me,nr){var wr=me|0,Mr=nr|0||wr;if(wr===Dr.width&&Mr===Dr.height)return Xn;Xn.width=Dr.width=wr,Xn.height=Dr.height=Mr,Go(Dr);for(var sr=0;Dr.mipmask>>sr;++sr){var ar=wr>>sr,dr=Mr>>sr;if(!ar||!dr)break;At.texImage2D(Mi,sr,Dr.format,ar,dr,0,Dr.format,Dr.type,null)}return ni(),Ur.profile&&(Dr.stats.size=iu(Dr.internalformat,Dr.type,wr,Mr,!1,!1)),Xn}return Xn(We,Fr),Xn.subimage=Fa,Xn.resize=Ie,Xn._reglType="texture2d",Xn._texture=Dr,Ur.profile&&(Xn.stats=Dr.stats),Xn.destroy=function(){Dr.decRef()},Xn}function Za(We,Fr,Dr,Xn,Fa,Ie){var me=new Aa(Co);so[me.id]=me,_r.cubeCount++;var nr=new Array(6);function wr(ar,dr,De,rr,Te,yr){var Tr,nn=me.texInfo;for(pi.call(nn),Tr=0;Tr<6;++Tr)nr[Tr]=ma();if(typeof ar=="number"||!ar){var on=ar|0||1;for(Tr=0;Tr<6;++Tr)ia(nr[Tr],on,on)}else if(typeof ar=="object")if(dr)ga(nr[0],ar),ga(nr[1],dr),ga(nr[2],De),ga(nr[3],rr),ga(nr[4],Te),ga(nr[5],yr);else if(ka(nn,ar),ur(me,ar),"faces"in ar){var Vr=ar.faces;for(bt(Array.isArray(Vr)&&Vr.length===6,"cube faces must be a length 6 array"),Tr=0;Tr<6;++Tr)bt(typeof Vr[Tr]=="object"&&!!Vr[Tr],"invalid input for cube map face"),Ye(nr[Tr],me),ga(nr[Tr],Vr[Tr])}else for(Tr=0;Tr<6;++Tr)ga(nr[Tr],ar);else bt.raise("invalid arguments to cube map");for(Ye(me,nr[0]),je.npotTextureCube||bt(ki(me.width)&&ki(me.height),"your browser does not support non power or two texture dimensions"),nn.genMipmaps?me.mipmask=(nr[0].width<<1)-1:me.mipmask=nr[0].mipmask,bt.textureCube(me,nn,nr,je),me.internalformat=nr[0].internalformat,wr.width=nr[0].width,wr.height=nr[0].height,Go(me),Tr=0;Tr<6;++Tr)fa(nr[Tr],yi+Tr);for(Gi(nn,Co),ni(),Ur.profile&&(me.stats.size=iu(me.internalformat,me.type,wr.width,wr.height,nn.genMipmaps,!0)),wr.format=yt[me.internalformat],wr.type=Tt[me.type],wr.mag=It[nn.magFilter],wr.min=jt[nn.minFilter],wr.wrapS=ne[nn.wrapS],wr.wrapT=ne[nn.wrapT],Tr=0;Tr<6;++Tr)qi(nr[Tr]);return wr}function Mr(ar,dr,De,rr,Te){bt(!!dr,"must specify image data"),bt(typeof ar=="number"&&ar===(ar|0)&&ar>=0&&ar<6,"invalid face");var yr=De|0,Tr=rr|0,nn=Te|0,on=In();return Ye(on,me),on.width=0,on.height=0,br(on,dr),on.width=on.width||(me.width>>nn)-yr,on.height=on.height||(me.height>>nn)-Tr,bt(me.type===on.type&&me.format===on.format&&me.internalformat===on.internalformat,"incompatible format for texture.subimage"),bt(yr>=0&&Tr>=0&&yr+on.width<=me.width&&Tr+on.height<=me.height,"texture.subimage write out of bounds"),bt(me.mipmask&1<<nn,"missing mipmap data"),bt(on.data||on.element||on.needsCopy,"missing image data"),Go(me),wn(on,yi+ar,yr,Tr,nn),ni(),Qn(on),wr}function sr(ar){var dr=ar|0;if(dr!==me.width){wr.width=me.width=dr,wr.height=me.height=dr,Go(me);for(var De=0;De<6;++De)for(var rr=0;me.mipmask>>rr;++rr)At.texImage2D(yi+De,rr,me.format,dr>>rr,dr>>rr,0,me.format,me.type,null);return ni(),Ur.profile&&(me.stats.size=iu(me.internalformat,me.type,wr.width,wr.height,!1,!0)),wr}}return wr(We,Fr,Dr,Xn,Fa,Ie),wr.subimage=Mr,wr.resize=sr,wr._reglType="textureCube",wr._texture=me,Ur.profile&&(wr.stats=me.stats),wr.destroy=function(){me.decRef()},wr}function vo(){for(var We=0;We<Io;++We)At.activeTexture(Ta+We),At.bindTexture(Mi,null),uo[We]=null;Ia(so).forEach(sa),_r.cubeCount=0,_r.textureCount=0}Ur.profile&&(_r.getTotalTextureSize=function(){var We=0;return Object.keys(so).forEach(function(Fr){We+=so[Fr].stats.size}),We});function Zs(){for(var We=0;We<Io;++We){var Fr=uo[We];Fr&&(Fr.bindCount=0,Fr.unit=-1,uo[We]=null)}Ia(so).forEach(function(Dr){Dr.texture=At.createTexture(),At.bindTexture(Dr.target,Dr.texture);for(var Xn=0;Xn<32;++Xn)if(Dr.mipmask&1<<Xn)if(Dr.target===Mi)At.texImage2D(Mi,Xn,Dr.internalformat,Dr.width>>Xn,Dr.height>>Xn,0,Dr.internalformat,Dr.type,null);else for(var Fa=0;Fa<6;++Fa)At.texImage2D(yi+Fa,Xn,Dr.internalformat,Dr.width>>Xn,Dr.height>>Xn,0,Dr.internalformat,Dr.type,null);Gi(Dr.texInfo,Dr.target)})}function El(){for(var We=0;We<Io;++We){var Fr=uo[We];Fr&&(Fr.bindCount=0,Fr.unit=-1,uo[We]=null),At.activeTexture(Ta+We),At.bindTexture(Mi,null),At.bindTexture(Co,null)}}return{create2D:Ba,createCube:Za,clear:vo,getTexture:function(We){return null},restore:Zs,refresh:El}}var Yn=36161,Su=32854,ja=32855,vc=36194,Dl=33189,ou=36168,pc=34041,gc=35907,Pl=34836,xf=34842,Ef=34843,ps=[];ps[Su]=2,ps[ja]=2,ps[vc]=2,ps[Dl]=2,ps[ou]=1,ps[pc]=4,ps[gc]=4,ps[Pl]=16,ps[xf]=8,ps[Ef]=6;function mc(At,Se,je){return ps[At]*Se*je}var Fs=function(At,Se,je,Nr,Qr){var _r={rgba4:Su,rgb565:vc,"rgb5 a1":ja,depth:Dl,stencil:ou,"depth stencil":pc};Se.ext_srgb&&(_r.srgba=gc),Se.ext_color_buffer_half_float&&(_r.rgba16f=xf,_r.rgb16f=Ef),Se.webgl_color_buffer_float&&(_r.rgba32f=Pl);var Ur=[];Object.keys(_r).forEach(function(N){var Z=_r[N];Ur[Z]=N});var vn=0,Mn={};function pn(N){this.id=vn++,this.refCount=1,this.renderbuffer=N,this.format=Su,this.width=0,this.height=0,Qr.profile&&(this.stats={size:0})}pn.prototype.decRef=function(){--this.refCount<=0&&En(this)};function En(N){var Z=N.renderbuffer;bt(Z,"must not double destroy renderbuffer"),At.bindRenderbuffer(Yn,null),At.deleteRenderbuffer(Z),N.renderbuffer=null,N.refCount=0,delete Mn[N.id],Nr.renderbufferCount--}function On(N,Z){var nt=new pn(At.createRenderbuffer());Mn[nt.id]=nt,Nr.renderbufferCount++;function dt(Tt,It){var jt=0,ne=0,we=Su;if(typeof Tt=="object"&&Tt){var ge=Tt;if("shape"in ge){var Ye=ge.shape;bt(Array.isArray(Ye)&&Ye.length>=2,"invalid renderbuffer shape"),jt=Ye[0]|0,ne=Ye[1]|0}else"radius"in ge&&(jt=ne=ge.radius|0),"width"in ge&&(jt=ge.width|0),"height"in ge&&(ne=ge.height|0);"format"in ge&&(bt.parameter(ge.format,_r,"invalid renderbuffer format"),we=_r[ge.format])}else typeof Tt=="number"?(jt=Tt|0,typeof It=="number"?ne=It|0:ne=jt):Tt?bt.raise("invalid arguments to renderbuffer constructor"):jt=ne=1;if(bt(jt>0&&ne>0&&jt<=je.maxRenderbufferSize&&ne<=je.maxRenderbufferSize,"invalid renderbuffer size"),!(jt===nt.width&&ne===nt.height&&we===nt.format))return dt.width=nt.width=jt,dt.height=nt.height=ne,nt.format=we,At.bindRenderbuffer(Yn,nt.renderbuffer),At.renderbufferStorage(Yn,we,jt,ne),bt(At.getError()===0,"invalid render buffer format"),Qr.profile&&(nt.stats.size=mc(nt.format,nt.width,nt.height)),dt.format=Ur[nt.format],dt}function yt(Tt,It){var jt=Tt|0,ne=It|0||jt;return jt===nt.width&&ne===nt.height||(bt(jt>0&&ne>0&&jt<=je.maxRenderbufferSize&&ne<=je.maxRenderbufferSize,"invalid renderbuffer size"),dt.width=nt.width=jt,dt.height=nt.height=ne,At.bindRenderbuffer(Yn,nt.renderbuffer),At.renderbufferStorage(Yn,nt.format,jt,ne),bt(At.getError()===0,"invalid render buffer format"),Qr.profile&&(nt.stats.size=mc(nt.format,nt.width,nt.height))),dt}return dt(N,Z),dt.resize=yt,dt._reglType="renderbuffer",dt._renderbuffer=nt,Qr.profile&&(dt.stats=nt.stats),dt.destroy=function(){nt.decRef()},dt}Qr.profile&&(Nr.getTotalRenderbufferSize=function(){var N=0;return Object.keys(Mn).forEach(function(Z){N+=Mn[Z].stats.size}),N});function v(){Ia(Mn).forEach(function(N){N.renderbuffer=At.createRenderbuffer(),At.bindRenderbuffer(Yn,N.renderbuffer),At.renderbufferStorage(Yn,N.format,N.width,N.height)}),At.bindRenderbuffer(Yn,null)}return{create:On,clear:function(){Ia(Mn).forEach(En)},restore:v}},ho=36160,zs=36161,Ds=3553,Ll=34069,yc=36064,wf=36096,Sf=36128,Mf=33306,Nl=36053,_f=36054,Rl=36055,Cf=36057,bc=36061,$u=36193,xc=5121,ss=5126,Ec=6407,qu=6408,Tf=6402,cd=[Ec,qu],wc=[];wc[qu]=4,wc[Ec]=3;var Qu=[];Qu[xc]=1,Qu[ss]=4,Qu[$u]=2;var Mu=32854,Ju=32855,tl=36194,Af=33189,kl=36168,_u=34041,su=35907,uu=34836,Bl=34842,el=34843,Sc=[Mu,Ju,tl,su,Bl,el,uu],lu={};lu[Nl]="complete",lu[_f]="incomplete attachment",lu[Cf]="incomplete dimensions",lu[Rl]="incomplete, missing attachment",lu[bc]="unsupported";function fd(At,Se,je,Nr,Qr,_r){var Ur={cur:null,next:null,dirty:!1,setFBO:null},vn=["rgba"],Mn=["rgba4","rgb565","rgb5 a1"];Se.ext_srgb&&Mn.push("srgba"),Se.ext_color_buffer_half_float&&Mn.push("rgba16f","rgb16f"),Se.webgl_color_buffer_float&&Mn.push("rgba32f");var pn=["uint8"];Se.oes_texture_half_float&&pn.push("half float","float16"),Se.oes_texture_float&&pn.push("float","float32");function En(mr,br,xr){this.target=mr,this.texture=br,this.renderbuffer=xr;var wn=0,Rn=0;br?(wn=br.width,Rn=br.height):xr&&(wn=xr.width,Rn=xr.height),this.width=wn,this.height=Rn}function On(mr){mr&&(mr.texture&&mr.texture._texture.decRef(),mr.renderbuffer&&mr.renderbuffer._renderbuffer.decRef())}function v(mr,br,xr){if(mr)if(mr.texture){var wn=mr.texture._texture,Rn=Math.max(1,wn.width),In=Math.max(1,wn.height);bt(Rn===br&&In===xr,"inconsistent width/height for supplied texture"),wn.refCount+=1}else{var Qn=mr.renderbuffer._renderbuffer;bt(Qn.width===br&&Qn.height===xr,"inconsistent width/height for renderbuffer"),Qn.refCount+=1}}function N(mr,br){br&&(br.texture?At.framebufferTexture2D(ho,mr,br.target,br.texture._texture.texture,0):At.framebufferRenderbuffer(ho,mr,zs,br.renderbuffer._renderbuffer.renderbuffer))}function Z(mr){var br=Ds,xr=null,wn=null,Rn=mr;typeof mr=="object"&&(Rn=mr.data,"target"in mr&&(br=mr.target|0)),bt.type(Rn,"function","invalid attachment data");var In=Rn._reglType;return In==="texture2d"?(xr=Rn,bt(br===Ds)):In==="textureCube"?(xr=Rn,bt(br>=Ll&&br<Ll+6,"invalid cube map target")):In==="renderbuffer"?(wn=Rn,br=zs):bt.raise("invalid regl object for attachment"),new En(br,xr,wn)}function nt(mr,br,xr,wn,Rn){if(xr){var In=Nr.create2D({width:mr,height:br,format:wn,type:Rn});return In._texture.refCount=0,new En(Ds,In,null)}else{var Qn=Qr.create({width:mr,height:br,format:wn});return Qn._renderbuffer.refCount=0,new En(zs,null,Qn)}}function dt(mr){return mr&&(mr.texture||mr.renderbuffer)}function yt(mr,br,xr){mr&&(mr.texture?mr.texture.resize(br,xr):mr.renderbuffer&&mr.renderbuffer.resize(br,xr),mr.width=br,mr.height=xr)}var Tt=0,It={};function jt(){this.id=Tt++,It[this.id]=this,this.framebuffer=At.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function ne(mr){mr.colorAttachments.forEach(On),On(mr.depthAttachment),On(mr.stencilAttachment),On(mr.depthStencilAttachment)}function we(mr){var br=mr.framebuffer;bt(br,"must not double destroy framebuffer"),At.deleteFramebuffer(br),mr.framebuffer=null,_r.framebufferCount--,delete It[mr.id]}function ge(mr){var br;At.bindFramebuffer(ho,mr.framebuffer);var xr=mr.colorAttachments;for(br=0;br<xr.length;++br)N(yc+br,xr[br]);for(br=xr.length;br<je.maxColorAttachments;++br)At.framebufferTexture2D(ho,yc+br,Ds,null,0);At.framebufferTexture2D(ho,Mf,Ds,null,0),At.framebufferTexture2D(ho,wf,Ds,null,0),At.framebufferTexture2D(ho,Sf,Ds,null,0),N(wf,mr.depthAttachment),N(Sf,mr.stencilAttachment),N(Mf,mr.depthStencilAttachment);var wn=At.checkFramebufferStatus(ho);!At.isContextLost()&&wn!==Nl&&bt.raise("framebuffer configuration not supported, status = "+lu[wn]),At.bindFramebuffer(ho,Ur.next?Ur.next.framebuffer:null),Ur.cur=Ur.next,At.getError()}function Ye(mr,br){var xr=new jt;_r.framebufferCount++;function wn(In,Qn){var Hn;bt(Ur.next!==xr,"can not update framebuffer which is currently in use");var ia=0,ga=0,fa=!0,Ei=!0,ma=null,qi=!0,pi="rgba",ka="uint8",Gi=1,Vi=null,so=null,Io=null,uo=!1;if(typeof In=="number")ia=In|0,ga=Qn|0||ia;else if(!In)ia=ga=1;else{bt.type(In,"object","invalid arguments for framebuffer");var Aa=In;if("shape"in Aa){var Go=Aa.shape;bt(Array.isArray(Go)&&Go.length>=2,"invalid shape for framebuffer"),ia=Go[0],ga=Go[1]}else"radius"in Aa&&(ia=ga=Aa.radius),"width"in Aa&&(ia=Aa.width),"height"in Aa&&(ga=Aa.height);("color"in Aa||"colors"in Aa)&&(ma=Aa.color||Aa.colors,Array.isArray(ma)&&bt(ma.length===1||Se.webgl_draw_buffers,"multiple render targets not supported")),ma||("colorCount"in Aa&&(Gi=Aa.colorCount|0,bt(Gi>0,"invalid color buffer count")),"colorTexture"in Aa&&(qi=!!Aa.colorTexture,pi="rgba4"),"colorType"in Aa&&(ka=Aa.colorType,qi?(bt(Se.oes_texture_float||!(ka==="float"||ka==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),bt(Se.oes_texture_half_float||!(ka==="half float"||ka==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):ka==="half float"||ka==="float16"?(bt(Se.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),pi="rgba16f"):(ka==="float"||ka==="float32")&&(bt(Se.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),pi="rgba32f"),bt.oneOf(ka,pn,"invalid color type")),"colorFormat"in Aa&&(pi=Aa.colorFormat,vn.indexOf(pi)>=0?qi=!0:Mn.indexOf(pi)>=0?qi=!1:qi?bt.oneOf(Aa.colorFormat,vn,"invalid color format for texture"):bt.oneOf(Aa.colorFormat,Mn,"invalid color format for renderbuffer"))),("depthTexture"in Aa||"depthStencilTexture"in Aa)&&(uo=!!(Aa.depthTexture||Aa.depthStencilTexture),bt(!uo||Se.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Aa&&(typeof Aa.depth=="boolean"?fa=Aa.depth:(Vi=Aa.depth,Ei=!1)),"stencil"in Aa&&(typeof Aa.stencil=="boolean"?Ei=Aa.stencil:(so=Aa.stencil,fa=!1)),"depthStencil"in Aa&&(typeof Aa.depthStencil=="boolean"?fa=Ei=Aa.depthStencil:(Io=Aa.depthStencil,fa=!1,Ei=!1))}var ni=null,sa=null,Ba=null,Za=null;if(Array.isArray(ma))ni=ma.map(Z);else if(ma)ni=[Z(ma)];else for(ni=new Array(Gi),Hn=0;Hn<Gi;++Hn)ni[Hn]=nt(ia,ga,qi,pi,ka);bt(Se.webgl_draw_buffers||ni.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),bt(ni.length<=je.maxColorAttachments,"too many color attachments, not supported"),ia=ia||ni[0].width,ga=ga||ni[0].height,Vi?sa=Z(Vi):fa&&!Ei&&(sa=nt(ia,ga,uo,"depth","uint32")),so?Ba=Z(so):Ei&&!fa&&(Ba=nt(ia,ga,!1,"stencil","uint8")),Io?Za=Z(Io):!Vi&&!so&&Ei&&fa&&(Za=nt(ia,ga,uo,"depth stencil","depth stencil")),bt(!!Vi+!!so+!!Io<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var vo=null;for(Hn=0;Hn<ni.length;++Hn)if(v(ni[Hn],ia,ga),bt(!ni[Hn]||ni[Hn].texture&&cd.indexOf(ni[Hn].texture._texture.format)>=0||ni[Hn].renderbuffer&&Sc.indexOf(ni[Hn].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Hn+" is invalid"),ni[Hn]&&ni[Hn].texture){var Zs=wc[ni[Hn].texture._texture.format]*Qu[ni[Hn].texture._texture.type];vo===null?vo=Zs:bt(vo===Zs,"all color attachments much have the same number of bits per pixel.")}return v(sa,ia,ga),bt(!sa||sa.texture&&sa.texture._texture.format===Tf||sa.renderbuffer&&sa.renderbuffer._renderbuffer.format===Af,"invalid depth attachment for framebuffer object"),v(Ba,ia,ga),bt(!Ba||Ba.renderbuffer&&Ba.renderbuffer._renderbuffer.format===kl,"invalid stencil attachment for framebuffer object"),v(Za,ia,ga),bt(!Za||Za.texture&&Za.texture._texture.format===_u||Za.renderbuffer&&Za.renderbuffer._renderbuffer.format===_u,"invalid depth-stencil attachment for framebuffer object"),ne(xr),xr.width=ia,xr.height=ga,xr.colorAttachments=ni,xr.depthAttachment=sa,xr.stencilAttachment=Ba,xr.depthStencilAttachment=Za,wn.color=ni.map(dt),wn.depth=dt(sa),wn.stencil=dt(Ba),wn.depthStencil=dt(Za),wn.width=xr.width,wn.height=xr.height,ge(xr),wn}function Rn(In,Qn){bt(Ur.next!==xr,"can not resize a framebuffer which is currently in use");var Hn=Math.max(In|0,1),ia=Math.max(Qn|0||Hn,1);if(Hn===xr.width&&ia===xr.height)return wn;for(var ga=xr.colorAttachments,fa=0;fa<ga.length;++fa)yt(ga[fa],Hn,ia);return yt(xr.depthAttachment,Hn,ia),yt(xr.stencilAttachment,Hn,ia),yt(xr.depthStencilAttachment,Hn,ia),xr.width=wn.width=Hn,xr.height=wn.height=ia,ge(xr),wn}return wn(mr,br),_(wn,{resize:Rn,_reglType:"framebuffer",_framebuffer:xr,destroy:function(){we(xr),ne(xr)},use:function(In){Ur.setFBO({framebuffer:wn},In)}})}function ur(mr){var br=Array(6);function xr(Rn){var In;bt(br.indexOf(Ur.next)<0,"can not update framebuffer which is currently in use");var Qn={color:null},Hn=0,ia=null,ga="rgba",fa="uint8",Ei=1;if(typeof Rn=="number")Hn=Rn|0;else if(!Rn)Hn=1;else{bt.type(Rn,"object","invalid arguments for framebuffer");var ma=Rn;if("shape"in ma){var qi=ma.shape;bt(Array.isArray(qi)&&qi.length>=2,"invalid shape for framebuffer"),bt(qi[0]===qi[1],"cube framebuffer must be square"),Hn=qi[0]}else"radius"in ma&&(Hn=ma.radius|0),"width"in ma?(Hn=ma.width|0,"height"in ma&&bt(ma.height===Hn,"must be square")):"height"in ma&&(Hn=ma.height|0);("color"in ma||"colors"in ma)&&(ia=ma.color||ma.colors,Array.isArray(ia)&&bt(ia.length===1||Se.webgl_draw_buffers,"multiple render targets not supported")),ia||("colorCount"in ma&&(Ei=ma.colorCount|0,bt(Ei>0,"invalid color buffer count")),"colorType"in ma&&(bt.oneOf(ma.colorType,pn,"invalid color type"),fa=ma.colorType),"colorFormat"in ma&&(ga=ma.colorFormat,bt.oneOf(ma.colorFormat,vn,"invalid color format for texture"))),"depth"in ma&&(Qn.depth=ma.depth),"stencil"in ma&&(Qn.stencil=ma.stencil),"depthStencil"in ma&&(Qn.depthStencil=ma.depthStencil)}var pi;if(ia)if(Array.isArray(ia))for(pi=[],In=0;In<ia.length;++In)pi[In]=ia[In];else pi=[ia];else{pi=Array(Ei);var ka={radius:Hn,format:ga,type:fa};for(In=0;In<Ei;++In)pi[In]=Nr.createCube(ka)}for(Qn.color=Array(pi.length),In=0;In<pi.length;++In){var Gi=pi[In];bt(typeof Gi=="function"&&Gi._reglType==="textureCube","invalid cube map"),Hn=Hn||Gi.width,bt(Gi.width===Hn&&Gi.height===Hn,"invalid cube map shape"),Qn.color[In]={target:Ll,data:pi[In]}}for(In=0;In<6;++In){for(var Vi=0;Vi<pi.length;++Vi)Qn.color[Vi].target=Ll+In;In>0&&(Qn.depth=br[0].depth,Qn.stencil=br[0].stencil,Qn.depthStencil=br[0].depthStencil),br[In]?br[In](Qn):br[In]=Ye(Qn)}return _(xr,{width:Hn,height:Hn,color:pi})}function wn(Rn){var In,Qn=Rn|0;if(bt(Qn>0&&Qn<=je.maxCubeMapSize,"invalid radius for cube fbo"),Qn===xr.width)return xr;var Hn=xr.color;for(In=0;In<Hn.length;++In)Hn[In].resize(Qn);for(In=0;In<6;++In)br[In].resize(Qn);return xr.width=xr.height=Qn,xr}return xr(mr),_(xr,{faces:br,resize:wn,_reglType:"framebufferCube",destroy:function(){br.forEach(function(Rn){Rn.destroy()})}})}function Xr(){Ur.cur=null,Ur.next=null,Ur.dirty=!0,Ia(It).forEach(function(mr){mr.framebuffer=At.createFramebuffer(),ge(mr)})}return _(Ur,{getFramebuffer:function(mr){if(typeof mr=="function"&&mr._reglType==="framebuffer"){var br=mr._framebuffer;if(br instanceof jt)return br}return null},create:Ye,createCube:ur,clear:function(){Ia(It).forEach(we)},restore:Xr})}var Mc=5126,rl=34962;function _c(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Mc,this.offset=0,this.stride=0,this.divisor=0}function Of(At,Se,je,Nr,Qr){for(var _r=je.maxAttributes,Ur=new Array(_r),vn=0;vn<_r;++vn)Ur[vn]=new _c;var Mn=0,pn={},En={Record:_c,scope:{},state:Ur,currentVAO:null,targetVAO:null,restore:v()?It:function(){},createVAO:jt,getVAO:Z,destroyBuffer:On,setVAO:v()?nt:dt,clear:v()?yt:function(){}};function On(ne){for(var we=0;we<Ur.length;++we){var ge=Ur[we];ge.buffer===ne&&(At.disableVertexAttribArray(we),ge.buffer=null)}}function v(){return Se.oes_vertex_array_object}function N(){return Se.angle_instanced_arrays}function Z(ne){return typeof ne=="function"&&ne._vao?ne._vao:null}function nt(ne){if(ne!==En.currentVAO){var we=v();ne?we.bindVertexArrayOES(ne.vao):we.bindVertexArrayOES(null),En.currentVAO=ne}}function dt(ne){if(ne!==En.currentVAO){if(ne)ne.bindAttrs();else for(var we=N(),ge=0;ge<Ur.length;++ge){var Ye=Ur[ge];Ye.buffer?(At.enableVertexAttribArray(ge),At.vertexAttribPointer(ge,Ye.size,Ye.type,Ye.normalized,Ye.stride,Ye.offfset),we&&Ye.divisor&&we.vertexAttribDivisorANGLE(ge,Ye.divisor)):(At.disableVertexAttribArray(ge),At.vertexAttrib4f(ge,Ye.x,Ye.y,Ye.z,Ye.w))}En.currentVAO=ne}}function yt(){Ia(pn).forEach(function(ne){ne.destroy()})}function Tt(){this.id=++Mn,this.attributes=[];var ne=v();ne?this.vao=ne.createVertexArrayOES():this.vao=null,pn[this.id]=this,this.buffers=[]}Tt.prototype.bindAttrs=function(){for(var ne=N(),we=this.attributes,ge=0;ge<we.length;++ge){var Ye=we[ge];Ye.buffer?(At.enableVertexAttribArray(ge),At.bindBuffer(rl,Ye.buffer.buffer),At.vertexAttribPointer(ge,Ye.size,Ye.type,Ye.normalized,Ye.stride,Ye.offset),ne&&Ye.divisor&&ne.vertexAttribDivisorANGLE(ge,Ye.divisor)):(At.disableVertexAttribArray(ge),At.vertexAttrib4f(ge,Ye.x,Ye.y,Ye.z,Ye.w))}for(var ur=we.length;ur<_r;++ur)At.disableVertexAttribArray(ur)},Tt.prototype.refresh=function(){var ne=v();ne&&(ne.bindVertexArrayOES(this.vao),this.bindAttrs(),En.currentVAO=this)},Tt.prototype.destroy=function(){if(this.vao){var ne=v();this===En.currentVAO&&(En.currentVAO=null,ne.bindVertexArrayOES(null)),ne.deleteVertexArrayOES(this.vao),this.vao=null}pn[this.id]&&(delete pn[this.id],Nr.vaoCount-=1)};function It(){var ne=v();ne&&Ia(pn).forEach(function(we){we.refresh()})}function jt(ne){var we=new Tt;Nr.vaoCount+=1;function ge(Ye){bt(Array.isArray(Ye),"arguments to vertex array constructor must be an array"),bt(Ye.length<_r,"too many attributes"),bt(Ye.length>0,"must specify at least one attribute");var ur={},Xr=we.attributes;Xr.length=Ye.length;for(var mr=0;mr<Ye.length;++mr){var br=Ye[mr],xr=Xr[mr]=new _c,wn=br.data||br;if(Array.isArray(wn)||W(wn)||Ua(wn)){var Rn;we.buffers[mr]&&(Rn=we.buffers[mr],W(wn)&&Rn._buffer.byteLength>=wn.byteLength?Rn.subdata(wn):(Rn.destroy(),we.buffers[mr]=null)),we.buffers[mr]||(Rn=we.buffers[mr]=Qr.create(br,rl,!1,!0)),xr.buffer=Qr.getBuffer(Rn),xr.size=xr.buffer.dimension|0,xr.normalized=!1,xr.type=xr.buffer.dtype,xr.offset=0,xr.stride=0,xr.divisor=0,xr.state=1,ur[mr]=1}else Qr.getBuffer(br)?(xr.buffer=Qr.getBuffer(br),xr.size=xr.buffer.dimension|0,xr.normalized=!1,xr.type=xr.buffer.dtype,xr.offset=0,xr.stride=0,xr.divisor=0,xr.state=1):Qr.getBuffer(br.buffer)?(xr.buffer=Qr.getBuffer(br.buffer),xr.size=(+br.size||xr.buffer.dimension)|0,xr.normalized=!!br.normalized||!1,"type"in br?(bt.parameter(br.type,ro,"invalid buffer type"),xr.type=ro[br.type]):xr.type=xr.buffer.dtype,xr.offset=(br.offset||0)|0,xr.stride=(br.stride||0)|0,xr.divisor=(br.divisor||0)|0,xr.state=1,bt(xr.size>=1&&xr.size<=4,"size must be between 1 and 4"),bt(xr.offset>=0,"invalid offset"),bt(xr.stride>=0&&xr.stride<=255,"stride must be between 0 and 255"),bt(xr.divisor>=0,"divisor must be positive"),bt(!xr.divisor||!!Se.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in br?(bt(mr>0,"first attribute must not be a constant"),xr.x=+br.x||0,xr.y=+br.y||0,xr.z=+br.z||0,xr.w=+br.w||0,xr.state=2):bt(!1,"invalid attribute spec for location "+mr)}for(var In=0;In<we.buffers.length;++In)!ur[In]&&we.buffers[In]&&(we.buffers[In].destroy(),we.buffers[In]=null);return we.refresh(),ge}return ge.destroy=function(){for(var Ye=0;Ye<we.buffers.length;++Ye)we.buffers[Ye]&&we.buffers[Ye].destroy();we.buffers.length=0,we.destroy()},ge._vao=we,ge._reglType="vao",ge(ne)}return En}var Fl=35632,dd=35633,Cc=35718,zl=35721;function Tc(At,Se,je,Nr){var Qr={},_r={};function Ur(nt,dt,yt,Tt){this.name=nt,this.id=dt,this.location=yt,this.info=Tt}function vn(nt,dt){for(var yt=0;yt<nt.length;++yt)if(nt[yt].id===dt.id){nt[yt].location=dt.location;return}nt.push(dt)}function Mn(nt,dt,yt){var Tt=nt===Fl?Qr:_r,It=Tt[dt];if(!It){var jt=Se.str(dt);It=At.createShader(nt),At.shaderSource(It,jt),At.compileShader(It),bt.shaderError(At,It,jt,nt,yt),Tt[dt]=It}return It}var pn={},En=[],On=0;function v(nt,dt){this.id=On++,this.fragId=nt,this.vertId=dt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Nr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function N(nt,dt,yt){var Tt,It,jt=Mn(Fl,nt.fragId),ne=Mn(dd,nt.vertId),we=nt.program=At.createProgram();if(At.attachShader(we,jt),At.attachShader(we,ne),yt)for(Tt=0;Tt<yt.length;++Tt){var ge=yt[Tt];At.bindAttribLocation(we,ge[0],ge[1])}At.linkProgram(we),bt.linkError(At,we,Se.str(nt.fragId),Se.str(nt.vertId),dt);var Ye=At.getProgramParameter(we,Cc);Nr.profile&&(nt.stats.uniformsCount=Ye);var ur=nt.uniforms;for(Tt=0;Tt<Ye;++Tt)if(It=At.getActiveUniform(we,Tt),It)if(It.size>1)for(var Xr=0;Xr<It.size;++Xr){var mr=It.name.replace("[0]","["+Xr+"]");vn(ur,new Ur(mr,Se.id(mr),At.getUniformLocation(we,mr),It))}else vn(ur,new Ur(It.name,Se.id(It.name),At.getUniformLocation(we,It.name),It));var br=At.getProgramParameter(we,zl);Nr.profile&&(nt.stats.attributesCount=br);var xr=nt.attributes;for(Tt=0;Tt<br;++Tt)It=At.getActiveAttrib(we,Tt),It&&vn(xr,new Ur(It.name,Se.id(It.name),At.getAttribLocation(we,It.name),It))}Nr.profile&&(je.getMaxUniformsCount=function(){var nt=0;return En.forEach(function(dt){dt.stats.uniformsCount>nt&&(nt=dt.stats.uniformsCount)}),nt},je.getMaxAttributesCount=function(){var nt=0;return En.forEach(function(dt){dt.stats.attributesCount>nt&&(nt=dt.stats.attributesCount)}),nt});function Z(){Qr={},_r={};for(var nt=0;nt<En.length;++nt)N(En[nt],null,En[nt].attributes.map(function(dt){return[dt.location,dt.name]}))}return{clear:function(){var nt=At.deleteShader.bind(At);Ia(Qr).forEach(nt),Qr={},Ia(_r).forEach(nt),_r={},En.forEach(function(dt){At.deleteProgram(dt.program)}),En.length=0,pn={},je.shaderCount=0},program:function(nt,dt,yt,Tt){bt.command(nt>=0,"missing vertex shader",yt),bt.command(dt>=0,"missing fragment shader",yt);var It=pn[dt];It||(It=pn[dt]={});var jt=It[nt];if(jt&&(jt.refCount++,!Tt))return jt;var ne=new v(dt,nt);return je.shaderCount++,N(ne,yt,Tt),jt||(It[nt]=ne),En.push(ne),_(ne,{destroy:function(){if(ne.refCount--,ne.refCount<=0){At.deleteProgram(ne.program);var we=En.indexOf(ne);En.splice(we,1),je.shaderCount--}It[ne.vertId].refCount<=0&&(At.deleteShader(_r[ne.vertId]),delete _r[ne.vertId],delete pn[ne.fragId][ne.vertId]),Object.keys(pn[ne.fragId]).length||(At.deleteShader(Qr[ne.fragId]),delete Qr[ne.fragId],delete pn[ne.fragId])}})},restore:Z,shader:Mn,frag:-1,vert:-1}}var If=6408,Ps=5121,cu=3333,fu=5126;function Cu(At,Se,je,Nr,Qr,_r,Ur){function vn(En){var On;Se.next===null?(bt(Qr.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),On=Ps):(bt(Se.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),On=Se.next.colorAttachments[0].texture._texture.type,_r.oes_texture_float?(bt(On===Ps||On===fu,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),On===fu&&bt(Ur.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):bt(On===Ps,"Reading from a framebuffer is only allowed for the type 'uint8'"));var v=0,N=0,Z=Nr.framebufferWidth,nt=Nr.framebufferHeight,dt=null;W(En)?dt=En:En&&(bt.type(En,"object","invalid arguments to regl.read()"),v=En.x|0,N=En.y|0,bt(v>=0&&v<Nr.framebufferWidth,"invalid x offset for regl.read"),bt(N>=0&&N<Nr.framebufferHeight,"invalid y offset for regl.read"),Z=(En.width||Nr.framebufferWidth-v)|0,nt=(En.height||Nr.framebufferHeight-N)|0,dt=En.data||null),dt&&(On===Ps?bt(dt instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):On===fu&&bt(dt instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),bt(Z>0&&Z+v<=Nr.framebufferWidth,"invalid width for read pixels"),bt(nt>0&&nt+N<=Nr.framebufferHeight,"invalid height for read pixels"),je();var yt=Z*nt*4;return dt||(On===Ps?dt=new Uint8Array(yt):On===fu&&(dt=dt||new Float32Array(yt))),bt.isTypedArray(dt,"data buffer for regl.read() must be a typedarray"),bt(dt.byteLength>=yt,"data buffer for regl.read() too small"),At.pixelStorei(cu,4),At.readPixels(v,N,Z,nt,If,On,dt),dt}function Mn(En){var On;return Se.setFBO({framebuffer:En.framebuffer},function(){On=vn(En)}),On}function pn(En){return!En||!("framebuffer"in En)?vn(En):Mn(En)}return pn}function Es(At){return Array.prototype.slice.call(At)}function Vo(At){return Es(At).join("")}function Df(){var At=0,Se=[],je=[];function Nr(On){for(var v=0;v<je.length;++v)if(je[v]===On)return Se[v];var N="g"+At++;return Se.push(N),je.push(On),N}function Qr(){var On=[];function v(){On.push.apply(On,Es(arguments))}var N=[];function Z(){var nt="v"+At++;return N.push(nt),arguments.length>0&&(On.push(nt,"="),On.push.apply(On,Es(arguments)),On.push(";")),nt}return _(v,{def:Z,toString:function(){return Vo([N.length>0?"var "+N.join(",")+";":"",Vo(On)])}})}function _r(){var On=Qr(),v=Qr(),N=On.toString,Z=v.toString;function nt(dt,yt){v(dt,yt,"=",On.def(dt,yt),";")}return _(function(){On.apply(On,Es(arguments))},{def:On.def,entry:On,exit:v,save:nt,set:function(dt,yt,Tt){nt(dt,yt),On(dt,yt,"=",Tt,";")},toString:function(){return N()+Z()}})}function Ur(){var On=Vo(arguments),v=_r(),N=_r(),Z=v.toString,nt=N.toString;return _(v,{then:function(){return v.apply(v,Es(arguments)),this},else:function(){return N.apply(N,Es(arguments)),this},toString:function(){var dt=nt();return dt&&(dt="else{"+dt+"}"),Vo(["if(",On,"){",Z(),"}",dt])}})}var vn=Qr(),Mn={};function pn(On,v){var N=[];function Z(){var It="a"+N.length;return N.push(It),It}v=v||0;for(var nt=0;nt<v;++nt)Z();var dt=_r(),yt=dt.toString,Tt=Mn[On]=_(dt,{arg:Z,toString:function(){return Vo(["function(",N.join(),"){",yt(),"}"])}});return Tt}function En(){var On=['"use strict";',vn,"return {"];Object.keys(Mn).forEach(function(Z){On.push('"',Z,'":',Mn[Z].toString(),",")}),On.push("}");var v=Vo(On).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),N=Function.apply(null,Se.concat(v));return N.apply(null,je)}return{global:vn,link:Nr,block:Qr,proc:pn,scope:_r,cond:Ur,compile:En}}var Tu="xyzw".split(""),Pf=5121,Au=1,Ac=2,Oc=0,Ic=1,Gl=2,Ul=3,Wl=4,Lf=5,Dc=6,Ou="dither",Pc="blend.enable",nl="blend.color",Lc="blend.equation",Iu="blend.func",Ho="depth.enable",Nc="depth.func",Nf="depth.range",Du="depth.mask",Pu="colorMask",tr="cull.enable",Gs="cull.face",du="frontFace",al="lineWidth",Rf="polygonOffset.enable",ns="polygonOffset.offset",Rc="sample.alpha",il="sample.enable",hu="sample.coverage",ol="stencil.enable",kc="stencil.mask",Yl="stencil.func",oo="stencil.opFront",vu="stencil.opBack",Bc="scissor.enable",Xl="scissor.box",ws="viewport",pu="profile",Us="framebuffer",Ls="vert",sl="frag",Lu="elements",Ws="primitive",Ys="count",jl="offset",ul="instances",ll="vao",cl="Width",Fc="Height",Xs=Us+cl,Qo=Us+Fc,zc=ws+cl,kf=ws+Fc,Vl="drawingBuffer",Nu=Vl+cl,Gc=Vl+Fc,Bf=[Iu,Lc,Yl,oo,vu,hu,ws,Xl,ns],gu=34962,Uc=34963,Ff=35632,hd=35633,Wc=3553,Hl=34067,vd=2884,zf=3042,Yc=3024,Gf=2960,Xc=2929,Uf=3089,Wf=32823,jc=32926,Ss=32928,fl=5126,Zl=35664,dl=35665,Kl=35666,Vc=5124,hl=35667,Ru=35668,vl=35669,Hc=35670,$l=35671,ql=35672,Ql=35673,pl=35674,gl=35675,ku=35676,js=35678,Bu=35680,Fu=4,ml=1028,Ns=1029,Yf=2304,Jl=2305,Xf=32775,zu=32776,Zc=519,Ms=7680,jf=0,Kc=1,Vf=32774,Hf=513,Zf=36160,Ud=36064,Oo={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Kf=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],mu={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Vs={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},$f={frag:Ff,vert:hd},$c={cw:Yf,ccw:Jl};function tc(At){return Array.isArray(At)||W(At)||Ua(At)}function qf(At){return At.sort(function(Se,je){return Se===ws?-1:je===ws?1:Se<je?-1:1})}function zo(At,Se,je,Nr){this.thisDep=At,this.contextDep=Se,this.propDep=je,this.append=Nr}function Hs(At){return At&&!(At.thisDep||At.contextDep||At.propDep)}function $i(At){return new zo(!1,!1,!1,At)}function Zo(At,Se){var je=At.type;if(je===Oc){var Nr=At.data.length;return new zo(!0,Nr>=1,Nr>=2,Se)}else if(je===Wl){var Qr=At.data;return new zo(Qr.thisDep,Qr.contextDep,Qr.propDep,Se)}else{if(je===Lf)return new zo(!1,!1,!1,Se);if(je===Dc){for(var _r=!1,Ur=!1,vn=!1,Mn=0;Mn<At.data.length;++Mn){var pn=At.data[Mn];if(pn.type===Ic)vn=!0;else if(pn.type===Gl)Ur=!0;else if(pn.type===Ul)_r=!0;else if(pn.type===Oc){_r=!0;var En=pn.data;En>=1&&(Ur=!0),En>=2&&(vn=!0)}else pn.type===Wl&&(_r=_r||pn.data.thisDep,Ur=Ur||pn.data.contextDep,vn=vn||pn.data.propDep)}return new zo(_r,Ur,vn,Se)}else return new zo(je===Ul,je===Gl,je===Ic,Se)}}var yl=new zo(!1,!1,!1,function(){});function pd(At,Se,je,Nr,Qr,_r,Ur,vn,Mn,pn,En,On,v,N,Z){var nt=pn.Record,dt={add:32774,subtract:32778,"reverse subtract":32779};je.ext_blend_minmax&&(dt.min=Xf,dt.max=zu);var yt=je.angle_instanced_arrays,Tt=je.webgl_draw_buffers,It={dirty:!0,profile:Z.profile},jt={},ne=[],we={},ge={};function Ye(Ie){return Ie.replace(".","_")}function ur(Ie,me,nr){var wr=Ye(Ie);ne.push(Ie),jt[wr]=It[wr]=!!nr,we[wr]=me}function Xr(Ie,me,nr){var wr=Ye(Ie);ne.push(Ie),Array.isArray(nr)?(It[wr]=nr.slice(),jt[wr]=nr.slice()):It[wr]=jt[wr]=nr,ge[wr]=me}ur(Ou,Yc),ur(Pc,zf),Xr(nl,"blendColor",[0,0,0,0]),Xr(Lc,"blendEquationSeparate",[Vf,Vf]),Xr(Iu,"blendFuncSeparate",[Kc,jf,Kc,jf]),ur(Ho,Xc,!0),Xr(Nc,"depthFunc",Hf),Xr(Nf,"depthRange",[0,1]),Xr(Du,"depthMask",!0),Xr(Pu,Pu,[!0,!0,!0,!0]),ur(tr,vd),Xr(Gs,"cullFace",Ns),Xr(du,du,Jl),Xr(al,al,1),ur(Rf,Wf),Xr(ns,"polygonOffset",[0,0]),ur(Rc,jc),ur(il,Ss),Xr(hu,"sampleCoverage",[1,!1]),ur(ol,Gf),Xr(kc,"stencilMask",-1),Xr(Yl,"stencilFunc",[Zc,0,-1]),Xr(oo,"stencilOpSeparate",[ml,Ms,Ms,Ms]),Xr(vu,"stencilOpSeparate",[Ns,Ms,Ms,Ms]),ur(Bc,Uf),Xr(Xl,"scissor",[0,0,At.drawingBufferWidth,At.drawingBufferHeight]),Xr(ws,ws,[0,0,At.drawingBufferWidth,At.drawingBufferHeight]);var mr={gl:At,context:v,strings:Se,next:jt,current:It,draw:On,elements:_r,buffer:Qr,shader:En,attributes:pn.state,vao:pn,uniforms:Mn,framebuffer:vn,extensions:je,timer:N,isBufferArgs:tc},br={primTypes:Ea,compareFuncs:mu,blendFuncs:Oo,blendEquations:dt,stencilOps:Vs,glTypes:ro,orientationType:$c};bt.optional(function(){mr.isArrayLike=Ma}),Tt&&(br.backBuffer=[Ns],br.drawBuffer=cn(Nr.maxDrawbuffers,function(Ie){return Ie===0?[0]:cn(Ie,function(me){return Ud+me})}));var xr=0;function wn(){var Ie=Df(),me=Ie.link,nr=Ie.global;Ie.id=xr++,Ie.batchId="0";var wr=me(mr),Mr=Ie.shared={props:"a0"};Object.keys(mr).forEach(function(rr){Mr[rr]=nr.def(wr,".",rr)}),bt.optional(function(){Ie.CHECK=me(bt),Ie.commandStr=bt.guessCommand(),Ie.command=me(Ie.commandStr),Ie.assert=function(rr,Te,yr){rr("if(!(",Te,"))",this.CHECK,".commandRaise(",me(yr),",",this.command,");")},br.invalidBlendCombinations=Kf});var sr=Ie.next={},ar=Ie.current={};Object.keys(ge).forEach(function(rr){Array.isArray(It[rr])&&(sr[rr]=nr.def(Mr.next,".",rr),ar[rr]=nr.def(Mr.current,".",rr))});var dr=Ie.constants={};Object.keys(br).forEach(function(rr){dr[rr]=nr.def(JSON.stringify(br[rr]))}),Ie.invoke=function(rr,Te){switch(Te.type){case Oc:var yr=["this",Mr.context,Mr.props,Ie.batchId];return rr.def(me(Te.data),".call(",yr.slice(0,Math.max(Te.data.length+1,4)),")");case Ic:return rr.def(Mr.props,Te.data);case Gl:return rr.def(Mr.context,Te.data);case Ul:return rr.def("this",Te.data);case Wl:return Te.data.append(Ie,rr),Te.data.ref;case Lf:return Te.data.toString();case Dc:return Te.data.map(function(Tr){return Ie.invoke(rr,Tr)})}},Ie.attribCache={};var De={};return Ie.scopeAttrib=function(rr){var Te=Se.id(rr);if(Te in De)return De[Te];var yr=pn.scope[Te];yr||(yr=pn.scope[Te]=new nt);var Tr=De[Te]=me(yr);return Tr},Ie}function Rn(Ie){var me=Ie.static,nr=Ie.dynamic,wr;if(pu in me){var Mr=!!me[pu];wr=$i(function(ar,dr){return Mr}),wr.enable=Mr}else if(pu in nr){var sr=nr[pu];wr=Zo(sr,function(ar,dr){return ar.invoke(dr,sr)})}return wr}function In(Ie,me){var nr=Ie.static,wr=Ie.dynamic;if(Us in nr){var Mr=nr[Us];return Mr?(Mr=vn.getFramebuffer(Mr),bt.command(Mr,"invalid framebuffer object"),$i(function(ar,dr){var De=ar.link(Mr),rr=ar.shared;dr.set(rr.framebuffer,".next",De);var Te=rr.context;return dr.set(Te,"."+Xs,De+".width"),dr.set(Te,"."+Qo,De+".height"),De})):$i(function(ar,dr){var De=ar.shared;dr.set(De.framebuffer,".next","null");var rr=De.context;return dr.set(rr,"."+Xs,rr+"."+Nu),dr.set(rr,"."+Qo,rr+"."+Gc),"null"})}else if(Us in wr){var sr=wr[Us];return Zo(sr,function(ar,dr){var De=ar.invoke(dr,sr),rr=ar.shared,Te=rr.framebuffer,yr=dr.def(Te,".getFramebuffer(",De,")");bt.optional(function(){ar.assert(dr,"!"+De+"||"+yr,"invalid framebuffer object")}),dr.set(Te,".next",yr);var Tr=rr.context;return dr.set(Tr,"."+Xs,yr+"?"+yr+".width:"+Tr+"."+Nu),dr.set(Tr,"."+Qo,yr+"?"+yr+".height:"+Tr+"."+Gc),yr})}else return null}function Qn(Ie,me,nr){var wr=Ie.static,Mr=Ie.dynamic;function sr(De){if(De in wr){var rr=wr[De];bt.commandType(rr,"object","invalid "+De,nr.commandStr);var Te=!0,yr=rr.x|0,Tr=rr.y|0,nn,on;return"width"in rr?(nn=rr.width|0,bt.command(nn>=0,"invalid "+De,nr.commandStr)):Te=!1,"height"in rr?(on=rr.height|0,bt.command(on>=0,"invalid "+De,nr.commandStr)):Te=!1,new zo(!Te&&me&&me.thisDep,!Te&&me&&me.contextDep,!Te&&me&&me.propDep,function(ea,Ca){var $n=ea.shared.context,la=nn;"width"in rr||(la=Ca.def($n,".",Xs,"-",yr));var ha=on;return"height"in rr||(ha=Ca.def($n,".",Qo,"-",Tr)),[yr,Tr,la,ha]})}else if(De in Mr){var Vr=Mr[De],_n=Zo(Vr,function(ea,Ca){var $n=ea.invoke(Ca,Vr);bt.optional(function(){ea.assert(Ca,$n+"&&typeof "+$n+'==="object"',"invalid "+De)});var la=ea.shared.context,ha=Ca.def($n,".x|0"),Ka=Ca.def($n,".y|0"),lo=Ca.def('"width" in ',$n,"?",$n,".width|0:","(",la,".",Xs,"-",ha,")"),Jo=Ca.def('"height" in ',$n,"?",$n,".height|0:","(",la,".",Qo,"-",Ka,")");return bt.optional(function(){ea.assert(Ca,lo+">=0&&"+Jo+">=0","invalid "+De)}),[ha,Ka,lo,Jo]});return me&&(_n.thisDep=_n.thisDep||me.thisDep,_n.contextDep=_n.contextDep||me.contextDep,_n.propDep=_n.propDep||me.propDep),_n}else return me?new zo(me.thisDep,me.contextDep,me.propDep,function(ea,Ca){var $n=ea.shared.context;return[0,0,Ca.def($n,".",Xs),Ca.def($n,".",Qo)]}):null}var ar=sr(ws);if(ar){var dr=ar;ar=new zo(ar.thisDep,ar.contextDep,ar.propDep,function(De,rr){var Te=dr.append(De,rr),yr=De.shared.context;return rr.set(yr,"."+zc,Te[2]),rr.set(yr,"."+kf,Te[3]),Te})}return{viewport:ar,scissor_box:sr(Xl)}}function Hn(Ie,me){var nr=Ie.static,wr=typeof nr[sl]=="string"&&typeof nr[Ls]=="string";if(wr){if(Object.keys(me.dynamic).length>0)return null;var Mr=me.static,sr=Object.keys(Mr);if(sr.length>0&&typeof Mr[sr[0]]=="number"){for(var ar=[],dr=0;dr<sr.length;++dr)bt(typeof Mr[sr[dr]]=="number","must specify all vertex attribute locations when using vaos"),ar.push([Mr[sr[dr]]|0,sr[dr]]);return ar}}return null}function ia(Ie,me,nr){var wr=Ie.static,Mr=Ie.dynamic;function sr(Te){if(Te in wr){var yr=Se.id(wr[Te]);bt.optional(function(){En.shader($f[Te],yr,bt.guessCommand())});var Tr=$i(function(){return yr});return Tr.id=yr,Tr}else if(Te in Mr){var nn=Mr[Te];return Zo(nn,function(on,Vr){var _n=on.invoke(Vr,nn),ea=Vr.def(on.shared.strings,".id(",_n,")");return bt.optional(function(){Vr(on.shared.shader,".shader(",$f[Te],",",ea,",",on.command,");")}),ea})}return null}var ar=sr(sl),dr=sr(Ls),De=null,rr;return Hs(ar)&&Hs(dr)?(De=En.program(dr.id,ar.id,null,nr),rr=$i(function(Te,yr){return Te.link(De)})):rr=new zo(ar&&ar.thisDep||dr&&dr.thisDep,ar&&ar.contextDep||dr&&dr.contextDep,ar&&ar.propDep||dr&&dr.propDep,function(Te,yr){var Tr=Te.shared.shader,nn;ar?nn=ar.append(Te,yr):nn=yr.def(Tr,".",sl);var on;dr?on=dr.append(Te,yr):on=yr.def(Tr,".",Ls);var Vr=Tr+".program("+on+","+nn;return bt.optional(function(){Vr+=","+Te.command}),yr.def(Vr+")")}),{frag:ar,vert:dr,progVar:rr,program:De}}function ga(Ie,me){var nr=Ie.static,wr=Ie.dynamic;function Mr(){if(Lu in nr){var Te=nr[Lu];tc(Te)?Te=_r.getElements(_r.create(Te,!0)):Te&&(Te=_r.getElements(Te),bt.command(Te,"invalid elements",me.commandStr));var yr=$i(function(nn,on){if(Te){var Vr=nn.link(Te);return nn.ELEMENTS=Vr,Vr}return nn.ELEMENTS=null,null});return yr.value=Te,yr}else if(Lu in wr){var Tr=wr[Lu];return Zo(Tr,function(nn,on){var Vr=nn.shared,_n=Vr.isBufferArgs,ea=Vr.elements,Ca=nn.invoke(on,Tr),$n=on.def("null"),la=on.def(_n,"(",Ca,")"),ha=nn.cond(la).then($n,"=",ea,".createStream(",Ca,");").else($n,"=",ea,".getElements(",Ca,");");return bt.optional(function(){nn.assert(ha.else,"!"+Ca+"||"+$n,"invalid elements")}),on.entry(ha),on.exit(nn.cond(la).then(ea,".destroyStream(",$n,");")),nn.ELEMENTS=$n,$n})}return null}var sr=Mr();function ar(){if(Ws in nr){var Te=nr[Ws];return bt.commandParameter(Te,Ea,"invalid primitve",me.commandStr),$i(function(Tr,nn){return Ea[Te]})}else if(Ws in wr){var yr=wr[Ws];return Zo(yr,function(Tr,nn){var on=Tr.constants.primTypes,Vr=Tr.invoke(nn,yr);return bt.optional(function(){Tr.assert(nn,Vr+" in "+on,"invalid primitive, must be one of "+Object.keys(Ea))}),nn.def(on,"[",Vr,"]")})}else if(sr)return Hs(sr)?sr.value?$i(function(Tr,nn){return nn.def(Tr.ELEMENTS,".primType")}):$i(function(){return Fu}):new zo(sr.thisDep,sr.contextDep,sr.propDep,function(Tr,nn){var on=Tr.ELEMENTS;return nn.def(on,"?",on,".primType:",Fu)});return null}function dr(Te,yr){if(Te in nr){var Tr=nr[Te]|0;return bt.command(!yr||Tr>=0,"invalid "+Te,me.commandStr),$i(function(on,Vr){return yr&&(on.OFFSET=Tr),Tr})}else if(Te in wr){var nn=wr[Te];return Zo(nn,function(on,Vr){var _n=on.invoke(Vr,nn);return yr&&(on.OFFSET=_n,bt.optional(function(){on.assert(Vr,_n+">=0","invalid "+Te)})),_n})}else if(yr&&sr)return $i(function(on,Vr){return on.OFFSET="0",0});return null}var De=dr(jl,!0);function rr(){if(Ys in nr){var Te=nr[Ys]|0;return bt.command(typeof Te=="number"&&Te>=0,"invalid vertex count",me.commandStr),$i(function(){return Te})}else if(Ys in wr){var yr=wr[Ys];return Zo(yr,function(on,Vr){var _n=on.invoke(Vr,yr);return bt.optional(function(){on.assert(Vr,"typeof "+_n+'==="number"&&'+_n+">=0&&"+_n+"===("+_n+"|0)","invalid vertex count")}),_n})}else if(sr)if(Hs(sr)){if(sr)return De?new zo(De.thisDep,De.contextDep,De.propDep,function(on,Vr){var _n=Vr.def(on.ELEMENTS,".vertCount-",on.OFFSET);return bt.optional(function(){on.assert(Vr,_n+">=0","invalid vertex offset/element buffer too small")}),_n}):$i(function(on,Vr){return Vr.def(on.ELEMENTS,".vertCount")});var Tr=$i(function(){return-1});return bt.optional(function(){Tr.MISSING=!0}),Tr}else{var nn=new zo(sr.thisDep||De.thisDep,sr.contextDep||De.contextDep,sr.propDep||De.propDep,function(on,Vr){var _n=on.ELEMENTS;return on.OFFSET?Vr.def(_n,"?",_n,".vertCount-",on.OFFSET,":-1"):Vr.def(_n,"?",_n,".vertCount:-1")});return bt.optional(function(){nn.DYNAMIC=!0}),nn}return null}return{elements:sr,primitive:ar(),count:rr(),instances:dr(ul,!1),offset:De}}function fa(Ie,me){var nr=Ie.static,wr=Ie.dynamic,Mr={};return ne.forEach(function(sr){var ar=Ye(sr);function dr(De,rr){if(sr in nr){var Te=De(nr[sr]);Mr[ar]=$i(function(){return Te})}else if(sr in wr){var yr=wr[sr];Mr[ar]=Zo(yr,function(Tr,nn){return rr(Tr,nn,Tr.invoke(nn,yr))})}}switch(sr){case tr:case Pc:case Ou:case ol:case Ho:case Bc:case Rf:case Rc:case il:case Du:return dr(function(De){return bt.commandType(De,"boolean",sr,me.commandStr),De},function(De,rr,Te){return bt.optional(function(){De.assert(rr,"typeof "+Te+'==="boolean"',"invalid flag "+sr,De.commandStr)}),Te});case Nc:return dr(function(De){return bt.commandParameter(De,mu,"invalid "+sr,me.commandStr),mu[De]},function(De,rr,Te){var yr=De.constants.compareFuncs;return bt.optional(function(){De.assert(rr,Te+" in "+yr,"invalid "+sr+", must be one of "+Object.keys(mu))}),rr.def(yr,"[",Te,"]")});case Nf:return dr(function(De){return bt.command(Ma(De)&&De.length===2&&typeof De[0]=="number"&&typeof De[1]=="number"&&De[0]<=De[1],"depth range is 2d array",me.commandStr),De},function(De,rr,Te){bt.optional(function(){De.assert(rr,De.shared.isArrayLike+"("+Te+")&&"+Te+".length===2&&typeof "+Te+'[0]==="number"&&typeof '+Te+'[1]==="number"&&'+Te+"[0]<="+Te+"[1]","depth range must be a 2d array")});var yr=rr.def("+",Te,"[0]"),Tr=rr.def("+",Te,"[1]");return[yr,Tr]});case Iu:return dr(function(De){bt.commandType(De,"object","blend.func",me.commandStr);var rr="srcRGB"in De?De.srcRGB:De.src,Te="srcAlpha"in De?De.srcAlpha:De.src,yr="dstRGB"in De?De.dstRGB:De.dst,Tr="dstAlpha"in De?De.dstAlpha:De.dst;return bt.commandParameter(rr,Oo,ar+".srcRGB",me.commandStr),bt.commandParameter(Te,Oo,ar+".srcAlpha",me.commandStr),bt.commandParameter(yr,Oo,ar+".dstRGB",me.commandStr),bt.commandParameter(Tr,Oo,ar+".dstAlpha",me.commandStr),bt.command(Kf.indexOf(rr+", "+yr)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+rr+", "+yr+")",me.commandStr),[Oo[rr],Oo[yr],Oo[Te],Oo[Tr]]},function(De,rr,Te){var yr=De.constants.blendFuncs;bt.optional(function(){De.assert(rr,Te+"&&typeof "+Te+'==="object"',"invalid blend func, must be an object")});function Tr($n,la){var ha=rr.def('"',$n,la,'" in ',Te,"?",Te,".",$n,la,":",Te,".",$n);return bt.optional(function(){De.assert(rr,ha+" in "+yr,"invalid "+sr+"."+$n+la+", must be one of "+Object.keys(Oo))}),ha}var nn=Tr("src","RGB"),on=Tr("dst","RGB");bt.optional(function(){var $n=De.constants.invalidBlendCombinations;De.assert(rr,$n+".indexOf("+nn+'+", "+'+on+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Vr=rr.def(yr,"[",nn,"]"),_n=rr.def(yr,"[",Tr("src","Alpha"),"]"),ea=rr.def(yr,"[",on,"]"),Ca=rr.def(yr,"[",Tr("dst","Alpha"),"]");return[Vr,ea,_n,Ca]});case Lc:return dr(function(De){if(typeof De=="string")return bt.commandParameter(De,dt,"invalid "+sr,me.commandStr),[dt[De],dt[De]];if(typeof De=="object")return bt.commandParameter(De.rgb,dt,sr+".rgb",me.commandStr),bt.commandParameter(De.alpha,dt,sr+".alpha",me.commandStr),[dt[De.rgb],dt[De.alpha]];bt.commandRaise("invalid blend.equation",me.commandStr)},function(De,rr,Te){var yr=De.constants.blendEquations,Tr=rr.def(),nn=rr.def(),on=De.cond("typeof ",Te,'==="string"');return bt.optional(function(){function Vr(_n,ea,Ca){De.assert(_n,Ca+" in "+yr,"invalid "+ea+", must be one of "+Object.keys(dt))}Vr(on.then,sr,Te),De.assert(on.else,Te+"&&typeof "+Te+'==="object"',"invalid "+sr),Vr(on.else,sr+".rgb",Te+".rgb"),Vr(on.else,sr+".alpha",Te+".alpha")}),on.then(Tr,"=",nn,"=",yr,"[",Te,"];"),on.else(Tr,"=",yr,"[",Te,".rgb];",nn,"=",yr,"[",Te,".alpha];"),rr(on),[Tr,nn]});case nl:return dr(function(De){return bt.command(Ma(De)&&De.length===4,"blend.color must be a 4d array",me.commandStr),cn(4,function(rr){return+De[rr]})},function(De,rr,Te){return bt.optional(function(){De.assert(rr,De.shared.isArrayLike+"("+Te+")&&"+Te+".length===4","blend.color must be a 4d array")}),cn(4,function(yr){return rr.def("+",Te,"[",yr,"]")})});case kc:return dr(function(De){return bt.commandType(De,"number",ar,me.commandStr),De|0},function(De,rr,Te){return bt.optional(function(){De.assert(rr,"typeof "+Te+'==="number"',"invalid stencil.mask")}),rr.def(Te,"|0")});case Yl:return dr(function(De){bt.commandType(De,"object",ar,me.commandStr);var rr=De.cmp||"keep",Te=De.ref||0,yr="mask"in De?De.mask:-1;return bt.commandParameter(rr,mu,sr+".cmp",me.commandStr),bt.commandType(Te,"number",sr+".ref",me.commandStr),bt.commandType(yr,"number",sr+".mask",me.commandStr),[mu[rr],Te,yr]},function(De,rr,Te){var yr=De.constants.compareFuncs;bt.optional(function(){function Vr(){De.assert(rr,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Vr(Te+"&&typeof ",Te,'==="object"'),Vr('!("cmp" in ',Te,")||(",Te,".cmp in ",yr,")")});var Tr=rr.def('"cmp" in ',Te,"?",yr,"[",Te,".cmp]",":",Ms),nn=rr.def(Te,".ref|0"),on=rr.def('"mask" in ',Te,"?",Te,".mask|0:-1");return[Tr,nn,on]});case oo:case vu:return dr(function(De){bt.commandType(De,"object",ar,me.commandStr);var rr=De.fail||"keep",Te=De.zfail||"keep",yr=De.zpass||"keep";return bt.commandParameter(rr,Vs,sr+".fail",me.commandStr),bt.commandParameter(Te,Vs,sr+".zfail",me.commandStr),bt.commandParameter(yr,Vs,sr+".zpass",me.commandStr),[sr===vu?Ns:ml,Vs[rr],Vs[Te],Vs[yr]]},function(De,rr,Te){var yr=De.constants.stencilOps;bt.optional(function(){De.assert(rr,Te+"&&typeof "+Te+'==="object"',"invalid "+sr)});function Tr(nn){return bt.optional(function(){De.assert(rr,'!("'+nn+'" in '+Te+")||("+Te+"."+nn+" in "+yr+")","invalid "+sr+"."+nn+", must be one of "+Object.keys(Vs))}),rr.def('"',nn,'" in ',Te,"?",yr,"[",Te,".",nn,"]:",Ms)}return[sr===vu?Ns:ml,Tr("fail"),Tr("zfail"),Tr("zpass")]});case ns:return dr(function(De){bt.commandType(De,"object",ar,me.commandStr);var rr=De.factor|0,Te=De.units|0;return bt.commandType(rr,"number",ar+".factor",me.commandStr),bt.commandType(Te,"number",ar+".units",me.commandStr),[rr,Te]},function(De,rr,Te){bt.optional(function(){De.assert(rr,Te+"&&typeof "+Te+'==="object"',"invalid "+sr)});var yr=rr.def(Te,".factor|0"),Tr=rr.def(Te,".units|0");return[yr,Tr]});case Gs:return dr(function(De){var rr=0;return De==="front"?rr=ml:De==="back"&&(rr=Ns),bt.command(!!rr,ar,me.commandStr),rr},function(De,rr,Te){return bt.optional(function(){De.assert(rr,Te+'==="front"||'+Te+'==="back"',"invalid cull.face")}),rr.def(Te,'==="front"?',ml,":",Ns)});case al:return dr(function(De){return bt.command(typeof De=="number"&&De>=Nr.lineWidthDims[0]&&De<=Nr.lineWidthDims[1],"invalid line width, must be a positive number between "+Nr.lineWidthDims[0]+" and "+Nr.lineWidthDims[1],me.commandStr),De},function(De,rr,Te){return bt.optional(function(){De.assert(rr,"typeof "+Te+'==="number"&&'+Te+">="+Nr.lineWidthDims[0]+"&&"+Te+"<="+Nr.lineWidthDims[1],"invalid line width")}),Te});case du:return dr(function(De){return bt.commandParameter(De,$c,ar,me.commandStr),$c[De]},function(De,rr,Te){return bt.optional(function(){De.assert(rr,Te+'==="cw"||'+Te+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),rr.def(Te+'==="cw"?'+Yf+":"+Jl)});case Pu:return dr(function(De){return bt.command(Ma(De)&&De.length===4,"color.mask must be length 4 array",me.commandStr),De.map(function(rr){return!!rr})},function(De,rr,Te){return bt.optional(function(){De.assert(rr,De.shared.isArrayLike+"("+Te+")&&"+Te+".length===4","invalid color.mask")}),cn(4,function(yr){return"!!"+Te+"["+yr+"]"})});case hu:return dr(function(De){bt.command(typeof De=="object"&&De,ar,me.commandStr);var rr="value"in De?De.value:1,Te=!!De.invert;return bt.command(typeof rr=="number"&&rr>=0&&rr<=1,"sample.coverage.value must be a number between 0 and 1",me.commandStr),[rr,Te]},function(De,rr,Te){bt.optional(function(){De.assert(rr,Te+"&&typeof "+Te+'==="object"',"invalid sample.coverage")});var yr=rr.def('"value" in ',Te,"?+",Te,".value:1"),Tr=rr.def("!!",Te,".invert");return[yr,Tr]})}}),Mr}function Ei(Ie,me){var nr=Ie.static,wr=Ie.dynamic,Mr={};return Object.keys(nr).forEach(function(sr){var ar=nr[sr],dr;if(typeof ar=="number"||typeof ar=="boolean")dr=$i(function(){return ar});else if(typeof ar=="function"){var De=ar._reglType;De==="texture2d"||De==="textureCube"?dr=$i(function(rr){return rr.link(ar)}):De==="framebuffer"||De==="framebufferCube"?(bt.command(ar.color.length>0,'missing color attachment for framebuffer sent to uniform "'+sr+'"',me.commandStr),dr=$i(function(rr){return rr.link(ar.color[0])})):bt.commandRaise('invalid data for uniform "'+sr+'"',me.commandStr)}else Ma(ar)?dr=$i(function(rr){var Te=rr.global.def("[",cn(ar.length,function(yr){return bt.command(typeof ar[yr]=="number"||typeof ar[yr]=="boolean","invalid uniform "+sr,rr.commandStr),ar[yr]}),"]");return Te}):bt.commandRaise('invalid or missing data for uniform "'+sr+'"',me.commandStr);dr.value=ar,Mr[sr]=dr}),Object.keys(wr).forEach(function(sr){var ar=wr[sr];Mr[sr]=Zo(ar,function(dr,De){return dr.invoke(De,ar)})}),Mr}function ma(Ie,me){var nr=Ie.static,wr=Ie.dynamic,Mr={};return Object.keys(nr).forEach(function(sr){var ar=nr[sr],dr=Se.id(sr),De=new nt;if(tc(ar))De.state=Au,De.buffer=Qr.getBuffer(Qr.create(ar,gu,!1,!0)),De.type=0;else{var rr=Qr.getBuffer(ar);if(rr)De.state=Au,De.buffer=rr,De.type=0;else if(bt.command(typeof ar=="object"&&ar,"invalid data for attribute "+sr,me.commandStr),"constant"in ar){var Te=ar.constant;De.buffer="null",De.state=Ac,typeof Te=="number"?De.x=Te:(bt.command(Ma(Te)&&Te.length>0&&Te.length<=4,"invalid constant for attribute "+sr,me.commandStr),Tu.forEach(function(ea,Ca){Ca<Te.length&&(De[ea]=Te[Ca])}))}else{tc(ar.buffer)?rr=Qr.getBuffer(Qr.create(ar.buffer,gu,!1,!0)):rr=Qr.getBuffer(ar.buffer),bt.command(!!rr,'missing buffer for attribute "'+sr+'"',me.commandStr);var yr=ar.offset|0;bt.command(yr>=0,'invalid offset for attribute "'+sr+'"',me.commandStr);var Tr=ar.stride|0;bt.command(Tr>=0&&Tr<256,'invalid stride for attribute "'+sr+'", must be integer betweeen [0, 255]',me.commandStr);var nn=ar.size|0;bt.command(!("size"in ar)||nn>0&&nn<=4,'invalid size for attribute "'+sr+'", must be 1,2,3,4',me.commandStr);var on=!!ar.normalized,Vr=0;"type"in ar&&(bt.commandParameter(ar.type,ro,"invalid type for attribute "+sr,me.commandStr),Vr=ro[ar.type]);var _n=ar.divisor|0;"divisor"in ar&&(bt.command(_n===0||yt,'cannot specify divisor for attribute "'+sr+'", instancing not supported',me.commandStr),bt.command(_n>=0,'invalid divisor for attribute "'+sr+'"',me.commandStr)),bt.optional(function(){var ea=me.commandStr,Ca=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(ar).forEach(function($n){bt.command(Ca.indexOf($n)>=0,'unknown parameter "'+$n+'" for attribute pointer "'+sr+'" (valid parameters are '+Ca+")",ea)})}),De.buffer=rr,De.state=Au,De.size=nn,De.normalized=on,De.type=Vr||rr.dtype,De.offset=yr,De.stride=Tr,De.divisor=_n}}Mr[sr]=$i(function(ea,Ca){var $n=ea.attribCache;if(dr in $n)return $n[dr];var la={isStream:!1};return Object.keys(De).forEach(function(ha){la[ha]=De[ha]}),De.buffer&&(la.buffer=ea.link(De.buffer),la.type=la.type||la.buffer+".dtype"),$n[dr]=la,la})}),Object.keys(wr).forEach(function(sr){var ar=wr[sr];function dr(De,rr){var Te=De.invoke(rr,ar),yr=De.shared,Tr=De.constants,nn=yr.isBufferArgs,on=yr.buffer;bt.optional(function(){De.assert(rr,Te+"&&(typeof "+Te+'==="object"||typeof '+Te+'==="function")&&('+nn+"("+Te+")||"+on+".getBuffer("+Te+")||"+on+".getBuffer("+Te+".buffer)||"+nn+"("+Te+'.buffer)||("constant" in '+Te+"&&(typeof "+Te+'.constant==="number"||'+yr.isArrayLike+"("+Te+".constant))))",'invalid dynamic attribute "'+sr+'"')});var Vr={isStream:rr.def(!1)},_n=new nt;_n.state=Au,Object.keys(_n).forEach(function(la){Vr[la]=rr.def(""+_n[la])});var ea=Vr.buffer,Ca=Vr.type;rr("if(",nn,"(",Te,")){",Vr.isStream,"=true;",ea,"=",on,".createStream(",gu,",",Te,");",Ca,"=",ea,".dtype;","}else{",ea,"=",on,".getBuffer(",Te,");","if(",ea,"){",Ca,"=",ea,".dtype;",'}else if("constant" in ',Te,"){",Vr.state,"=",Ac,";","if(typeof "+Te+'.constant === "number"){',Vr[Tu[0]],"=",Te,".constant;",Tu.slice(1).map(function(la){return Vr[la]}).join("="),"=0;","}else{",Tu.map(function(la,ha){return Vr[la]+"="+Te+".constant.length>"+ha+"?"+Te+".constant["+ha+"]:0;"}).join(""),"}}else{","if(",nn,"(",Te,".buffer)){",ea,"=",on,".createStream(",gu,",",Te,".buffer);","}else{",ea,"=",on,".getBuffer(",Te,".buffer);","}",Ca,'="type" in ',Te,"?",Tr.glTypes,"[",Te,".type]:",ea,".dtype;",Vr.normalized,"=!!",Te,".normalized;");function $n(la){rr(Vr[la],"=",Te,".",la,"|0;")}return $n("size"),$n("offset"),$n("stride"),$n("divisor"),rr("}}"),rr.exit("if(",Vr.isStream,"){",on,".destroyStream(",ea,");","}"),Vr}Mr[sr]=Zo(ar,dr)}),Mr}function qi(Ie,me){var nr=Ie.static,wr=Ie.dynamic;if(ll in nr){var Mr=nr[ll];return Mr!==null&&pn.getVAO(Mr)===null&&(Mr=pn.createVAO(Mr)),$i(function(ar){return ar.link(pn.getVAO(Mr))})}else if(ll in wr){var sr=wr[ll];return Zo(sr,function(ar,dr){var De=ar.invoke(dr,sr);return dr.def(ar.shared.vao+".getVAO("+De+")")})}return null}function pi(Ie){var me=Ie.static,nr=Ie.dynamic,wr={};return Object.keys(me).forEach(function(Mr){var sr=me[Mr];wr[Mr]=$i(function(ar,dr){return typeof sr=="number"||typeof sr=="boolean"?""+sr:ar.link(sr)})}),Object.keys(nr).forEach(function(Mr){var sr=nr[Mr];wr[Mr]=Zo(sr,function(ar,dr){return ar.invoke(dr,sr)})}),wr}function ka(Ie,me,nr,wr,Mr){var sr=Ie.static,ar=Ie.dynamic;bt.optional(function(){var $n=[Us,Ls,sl,Lu,Ws,jl,Ys,ul,pu,ll].concat(ne);function la(ha){Object.keys(ha).forEach(function(Ka){bt.command($n.indexOf(Ka)>=0,'unknown parameter "'+Ka+'"',Mr.commandStr)})}la(sr),la(ar)});var dr=Hn(Ie,me),De=In(Ie,Mr),rr=Qn(Ie,De,Mr),Te=ga(Ie,Mr),yr=fa(Ie,Mr),Tr=ia(Ie,Mr,dr);function nn($n){var la=rr[$n];la&&(yr[$n]=la)}nn(ws),nn(Ye(Xl));var on=Object.keys(yr).length>0,Vr={framebuffer:De,draw:Te,shader:Tr,state:yr,dirty:on,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Vr.profile=Rn(Ie,Mr),Vr.uniforms=Ei(nr,Mr),Vr.drawVAO=Vr.scopeVAO=qi(Ie,Mr),!Vr.drawVAO&&Tr.program&&!dr&&je.angle_instanced_arrays){var _n=!0,ea=Tr.program.attributes.map(function($n){var la=me.static[$n];return _n=_n&&!!la,la});if(_n&&ea.length>0){var Ca=pn.getVAO(pn.createVAO(ea));Vr.drawVAO=new zo(null,null,null,function($n,la){return $n.link(Ca)}),Vr.useVAO=!0}}return dr?Vr.useVAO=!0:Vr.attributes=ma(me,Mr),Vr.context=pi(wr,Mr),Vr}function Gi(Ie,me,nr){var wr=Ie.shared,Mr=wr.context,sr=Ie.scope();Object.keys(nr).forEach(function(ar){me.save(Mr,"."+ar);var dr=nr[ar],De=dr.append(Ie,me);Array.isArray(De)?sr(Mr,".",ar,"=[",De.join(),"];"):sr(Mr,".",ar,"=",De,";")}),me(sr)}function Vi(Ie,me,nr,wr){var Mr=Ie.shared,sr=Mr.gl,ar=Mr.framebuffer,dr;Tt&&(dr=me.def(Mr.extensions,".webgl_draw_buffers"));var De=Ie.constants,rr=De.drawBuffer,Te=De.backBuffer,yr;nr?yr=nr.append(Ie,me):yr=me.def(ar,".next"),wr||me("if(",yr,"!==",ar,".cur){"),me("if(",yr,"){",sr,".bindFramebuffer(",Zf,",",yr,".framebuffer);"),Tt&&me(dr,".drawBuffersWEBGL(",rr,"[",yr,".colorAttachments.length]);"),me("}else{",sr,".bindFramebuffer(",Zf,",null);"),Tt&&me(dr,".drawBuffersWEBGL(",Te,");"),me("}",ar,".cur=",yr,";"),wr||me("}")}function so(Ie,me,nr){var wr=Ie.shared,Mr=wr.gl,sr=Ie.current,ar=Ie.next,dr=wr.current,De=wr.next,rr=Ie.cond(dr,".dirty");ne.forEach(function(Te){var yr=Ye(Te);if(!(yr in nr.state)){var Tr,nn;if(yr in ar){Tr=ar[yr],nn=sr[yr];var on=cn(It[yr].length,function(_n){return rr.def(Tr,"[",_n,"]")});rr(Ie.cond(on.map(function(_n,ea){return _n+"!=="+nn+"["+ea+"]"}).join("||")).then(Mr,".",ge[yr],"(",on,");",on.map(function(_n,ea){return nn+"["+ea+"]="+_n}).join(";"),";"))}else{Tr=rr.def(De,".",yr);var Vr=Ie.cond(Tr,"!==",dr,".",yr);rr(Vr),yr in we?Vr(Ie.cond(Tr).then(Mr,".enable(",we[yr],");").else(Mr,".disable(",we[yr],");"),dr,".",yr,"=",Tr,";"):Vr(Mr,".",ge[yr],"(",Tr,");",dr,".",yr,"=",Tr,";")}}}),Object.keys(nr.state).length===0&&rr(dr,".dirty=false;"),me(rr)}function Io(Ie,me,nr,wr){var Mr=Ie.shared,sr=Ie.current,ar=Mr.current,dr=Mr.gl;qf(Object.keys(nr)).forEach(function(De){var rr=nr[De];if(!(wr&&!wr(rr))){var Te=rr.append(Ie,me);if(we[De]){var yr=we[De];Hs(rr)?Te?me(dr,".enable(",yr,");"):me(dr,".disable(",yr,");"):me(Ie.cond(Te).then(dr,".enable(",yr,");").else(dr,".disable(",yr,");")),me(ar,".",De,"=",Te,";")}else if(Ma(Te)){var Tr=sr[De];me(dr,".",ge[De],"(",Te,");",Te.map(function(nn,on){return Tr+"["+on+"]="+nn}).join(";"),";")}else me(dr,".",ge[De],"(",Te,");",ar,".",De,"=",Te,";")}})}function uo(Ie,me){yt&&(Ie.instancing=me.def(Ie.shared.extensions,".angle_instanced_arrays"))}function Aa(Ie,me,nr,wr,Mr){var sr=Ie.shared,ar=Ie.stats,dr=sr.current,De=sr.timer,rr=nr.profile;function Te(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}var yr,Tr;function nn($n){yr=me.def(),$n(yr,"=",Te(),";"),typeof Mr=="string"?$n(ar,".count+=",Mr,";"):$n(ar,".count++;"),N&&(wr?(Tr=me.def(),$n(Tr,"=",De,".getNumPendingQueries();")):$n(De,".beginQuery(",ar,");"))}function on($n){$n(ar,".cpuTime+=",Te(),"-",yr,";"),N&&(wr?$n(De,".pushScopeStats(",Tr,",",De,".getNumPendingQueries(),",ar,");"):$n(De,".endQuery();"))}function Vr($n){var la=me.def(dr,".profile");me(dr,".profile=",$n,";"),me.exit(dr,".profile=",la,";")}var _n;if(rr){if(Hs(rr)){rr.enable?(nn(me),on(me.exit),Vr("true")):Vr("false");return}_n=rr.append(Ie,me),Vr(_n)}else _n=me.def(dr,".profile");var ea=Ie.block();nn(ea),me("if(",_n,"){",ea,"}");var Ca=Ie.block();on(Ca),me.exit("if(",_n,"){",Ca,"}")}function Go(Ie,me,nr,wr,Mr){var sr=Ie.shared;function ar(De){switch(De){case Zl:case hl:case $l:return 2;case dl:case Ru:case ql:return 3;case Kl:case vl:case Ql:return 4;default:return 1}}function dr(De,rr,Te){var yr=sr.gl,Tr=me.def(De,".location"),nn=me.def(sr.attributes,"[",Tr,"]"),on=Te.state,Vr=Te.buffer,_n=[Te.x,Te.y,Te.z,Te.w],ea=["buffer","normalized","offset","stride"];function Ca(){me("if(!",nn,".buffer){",yr,".enableVertexAttribArray(",Tr,");}");var la=Te.type,ha;if(Te.size?ha=me.def(Te.size,"||",rr):ha=rr,me("if(",nn,".type!==",la,"||",nn,".size!==",ha,"||",ea.map(function(lo){return nn+"."+lo+"!=="+Te[lo]}).join("||"),"){",yr,".bindBuffer(",gu,",",Vr,".buffer);",yr,".vertexAttribPointer(",[Tr,ha,la,Te.normalized,Te.stride,Te.offset],");",nn,".type=",la,";",nn,".size=",ha,";",ea.map(function(lo){return nn+"."+lo+"="+Te[lo]+";"}).join(""),"}"),yt){var Ka=Te.divisor;me("if(",nn,".divisor!==",Ka,"){",Ie.instancing,".vertexAttribDivisorANGLE(",[Tr,Ka],");",nn,".divisor=",Ka,";}")}}function $n(){me("if(",nn,".buffer){",yr,".disableVertexAttribArray(",Tr,");",nn,".buffer=null;","}if(",Tu.map(function(la,ha){return nn+"."+la+"!=="+_n[ha]}).join("||"),"){",yr,".vertexAttrib4f(",Tr,",",_n,");",Tu.map(function(la,ha){return nn+"."+la+"="+_n[ha]+";"}).join(""),"}")}on===Au?Ca():on===Ac?$n():(me("if(",on,"===",Au,"){"),Ca(),me("}else{"),$n(),me("}"))}wr.forEach(function(De){var rr=De.name,Te=nr.attributes[rr],yr;if(Te){if(!Mr(Te))return;yr=Te.append(Ie,me)}else{if(!Mr(yl))return;var Tr=Ie.scopeAttrib(rr);bt.optional(function(){Ie.assert(me,Tr+".state","missing attribute "+rr)}),yr={},Object.keys(new nt).forEach(function(nn){yr[nn]=me.def(Tr,".",nn)})}dr(Ie.link(De),ar(De.info.type),yr)})}function ni(Ie,me,nr,wr,Mr){for(var sr=Ie.shared,ar=sr.gl,dr,De=0;De<wr.length;++De){var rr=wr[De],Te=rr.name,yr=rr.info.type,Tr=nr.uniforms[Te],nn=Ie.link(rr),on=nn+".location",Vr;if(Tr){if(!Mr(Tr))continue;if(Hs(Tr)){var _n=Tr.value;if(bt.command(_n!==null&&typeof _n!="undefined",'missing uniform "'+Te+'"',Ie.commandStr),yr===js||yr===Bu){bt.command(typeof _n=="function"&&(yr===js&&(_n._reglType==="texture2d"||_n._reglType==="framebuffer")||yr===Bu&&(_n._reglType==="textureCube"||_n._reglType==="framebufferCube")),"invalid texture for uniform "+Te,Ie.commandStr);var ea=Ie.link(_n._texture||_n.color[0]._texture);me(ar,".uniform1i(",on,",",ea+".bind());"),me.exit(ea,".unbind();")}else if(yr===pl||yr===gl||yr===ku){bt.optional(function(){bt.command(Ma(_n),"invalid matrix for uniform "+Te,Ie.commandStr),bt.command(yr===pl&&_n.length===4||yr===gl&&_n.length===9||yr===ku&&_n.length===16,"invalid length for matrix uniform "+Te,Ie.commandStr)});var Ca=Ie.global.def("new Float32Array(["+Array.prototype.slice.call(_n)+"])"),$n=2;yr===gl?$n=3:yr===ku&&($n=4),me(ar,".uniformMatrix",$n,"fv(",on,",false,",Ca,");")}else{switch(yr){case fl:bt.commandType(_n,"number","uniform "+Te,Ie.commandStr),dr="1f";break;case Zl:bt.command(Ma(_n)&&_n.length===2,"uniform "+Te,Ie.commandStr),dr="2f";break;case dl:bt.command(Ma(_n)&&_n.length===3,"uniform "+Te,Ie.commandStr),dr="3f";break;case Kl:bt.command(Ma(_n)&&_n.length===4,"uniform "+Te,Ie.commandStr),dr="4f";break;case Hc:bt.commandType(_n,"boolean","uniform "+Te,Ie.commandStr),dr="1i";break;case Vc:bt.commandType(_n,"number","uniform "+Te,Ie.commandStr),dr="1i";break;case $l:bt.command(Ma(_n)&&_n.length===2,"uniform "+Te,Ie.commandStr),dr="2i";break;case hl:bt.command(Ma(_n)&&_n.length===2,"uniform "+Te,Ie.commandStr),dr="2i";break;case ql:bt.command(Ma(_n)&&_n.length===3,"uniform "+Te,Ie.commandStr),dr="3i";break;case Ru:bt.command(Ma(_n)&&_n.length===3,"uniform "+Te,Ie.commandStr),dr="3i";break;case Ql:bt.command(Ma(_n)&&_n.length===4,"uniform "+Te,Ie.commandStr),dr="4i";break;case vl:bt.command(Ma(_n)&&_n.length===4,"uniform "+Te,Ie.commandStr),dr="4i";break}me(ar,".uniform",dr,"(",on,",",Ma(_n)?Array.prototype.slice.call(_n):_n,");")}continue}else Vr=Tr.append(Ie,me)}else{if(!Mr(yl))continue;Vr=me.def(sr.uniforms,"[",Se.id(Te),"]")}yr===js?(bt(!Array.isArray(Vr),"must specify a scalar prop for textures"),me("if(",Vr,"&&",Vr,'._reglType==="framebuffer"){',Vr,"=",Vr,".color[0];","}")):yr===Bu&&(bt(!Array.isArray(Vr),"must specify a scalar prop for cube maps"),me("if(",Vr,"&&",Vr,'._reglType==="framebufferCube"){',Vr,"=",Vr,".color[0];","}")),bt.optional(function(){function Jo(Ks,nf){Ie.assert(me,Ks,'bad data or missing for uniform "'+Te+'".  '+nf)}function ed(Ks){bt(!Array.isArray(Vr),"must not specify an array type for uniform"),Jo("typeof "+Vr+'==="'+Ks+'"',"invalid type, expected "+Ks)}function Cs(Ks,nf){Array.isArray(Vr)?bt(Vr.length===Ks,"must have length "+Ks):Jo(sr.isArrayLike+"("+Vr+")&&"+Vr+".length==="+Ks,"invalid vector, should have length "+Ks,Ie.commandStr)}function Wd(Ks){bt(!Array.isArray(Vr),"must not specify a value type"),Jo("typeof "+Vr+'==="function"&&'+Vr+'._reglType==="texture'+(Ks===Wc?"2d":"Cube")+'"',"invalid texture type",Ie.commandStr)}switch(yr){case Vc:ed("number");break;case hl:Cs(2,"number");break;case Ru:Cs(3,"number");break;case vl:Cs(4,"number");break;case fl:ed("number");break;case Zl:Cs(2,"number");break;case dl:Cs(3,"number");break;case Kl:Cs(4,"number");break;case Hc:ed("boolean");break;case $l:Cs(2,"boolean");break;case ql:Cs(3,"boolean");break;case Ql:Cs(4,"boolean");break;case pl:Cs(4,"number");break;case gl:Cs(9,"number");break;case ku:Cs(16,"number");break;case js:Wd(Wc);break;case Bu:Wd(Hl);break}});var la=1;switch(yr){case js:case Bu:var ha=me.def(Vr,"._texture");me(ar,".uniform1i(",on,",",ha,".bind());"),me.exit(ha,".unbind();");continue;case Vc:case Hc:dr="1i";break;case hl:case $l:dr="2i",la=2;break;case Ru:case ql:dr="3i",la=3;break;case vl:case Ql:dr="4i",la=4;break;case fl:dr="1f";break;case Zl:dr="2f",la=2;break;case dl:dr="3f",la=3;break;case Kl:dr="4f",la=4;break;case pl:dr="Matrix2fv";break;case gl:dr="Matrix3fv";break;case ku:dr="Matrix4fv";break}if(me(ar,".uniform",dr,"(",on,","),dr.charAt(0)==="M"){var Ka=Math.pow(yr-pl+2,2),lo=Ie.global.def("new Float32Array(",Ka,")");Array.isArray(Vr)?me("false,(",cn(Ka,function(Jo){return lo+"["+Jo+"]="+Vr[Jo]}),",",lo,")"):me("false,(Array.isArray(",Vr,")||",Vr," instanceof Float32Array)?",Vr,":(",cn(Ka,function(Jo){return lo+"["+Jo+"]="+Vr+"["+Jo+"]"}),",",lo,")")}else la>1?me(cn(la,function(Jo){return Array.isArray(Vr)?Vr[Jo]:Vr+"["+Jo+"]"})):(bt(!Array.isArray(Vr),"uniform value must not be an array"),me(Vr));me(");")}}function sa(Ie,me,nr,wr){var Mr=Ie.shared,sr=Mr.gl,ar=Mr.draw,dr=wr.draw;function De(){var ha=dr.elements,Ka,lo=me;return ha?((ha.contextDep&&wr.contextDynamic||ha.propDep)&&(lo=nr),Ka=ha.append(Ie,lo)):Ka=lo.def(ar,".",Lu),Ka&&lo("if("+Ka+")"+sr+".bindBuffer("+Uc+","+Ka+".buffer.buffer);"),Ka}function rr(){var ha=dr.count,Ka,lo=me;return ha?((ha.contextDep&&wr.contextDynamic||ha.propDep)&&(lo=nr),Ka=ha.append(Ie,lo),bt.optional(function(){ha.MISSING&&Ie.assert(me,"false","missing vertex count"),ha.DYNAMIC&&Ie.assert(lo,Ka+">=0","missing vertex count")})):(Ka=lo.def(ar,".",Ys),bt.optional(function(){Ie.assert(lo,Ka+">=0","missing vertex count")})),Ka}var Te=De();function yr(ha){var Ka=dr[ha];return Ka?Ka.contextDep&&wr.contextDynamic||Ka.propDep?Ka.append(Ie,nr):Ka.append(Ie,me):me.def(ar,".",ha)}var Tr=yr(Ws),nn=yr(jl),on=rr();if(typeof on=="number"){if(on===0)return}else nr("if(",on,"){"),nr.exit("}");var Vr,_n;yt&&(Vr=yr(ul),_n=Ie.instancing);var ea=Te+".type",Ca=dr.elements&&Hs(dr.elements);function $n(){function ha(){nr(_n,".drawElementsInstancedANGLE(",[Tr,on,ea,nn+"<<(("+ea+"-"+Pf+")>>1)",Vr],");")}function Ka(){nr(_n,".drawArraysInstancedANGLE(",[Tr,nn,on,Vr],");")}Te?Ca?ha():(nr("if(",Te,"){"),ha(),nr("}else{"),Ka(),nr("}")):Ka()}function la(){function ha(){nr(sr+".drawElements("+[Tr,on,ea,nn+"<<(("+ea+"-"+Pf+")>>1)"]+");")}function Ka(){nr(sr+".drawArrays("+[Tr,nn,on]+");")}Te?Ca?ha():(nr("if(",Te,"){"),ha(),nr("}else{"),Ka(),nr("}")):Ka()}yt&&(typeof Vr!="number"||Vr>=0)?typeof Vr=="string"?(nr("if(",Vr,">0){"),$n(),nr("}else if(",Vr,"<0){"),la(),nr("}")):$n():la()}function Ba(Ie,me,nr,wr,Mr){var sr=wn(),ar=sr.proc("body",Mr);return bt.optional(function(){sr.commandStr=me.commandStr,sr.command=sr.link(me.commandStr)}),yt&&(sr.instancing=ar.def(sr.shared.extensions,".angle_instanced_arrays")),Ie(sr,ar,nr,wr),sr.compile().body}function Za(Ie,me,nr,wr){uo(Ie,me),nr.useVAO?nr.drawVAO?me(Ie.shared.vao,".setVAO(",nr.drawVAO.append(Ie,me),");"):me(Ie.shared.vao,".setVAO(",Ie.shared.vao,".targetVAO);"):(me(Ie.shared.vao,".setVAO(null);"),Go(Ie,me,nr,wr.attributes,function(){return!0})),ni(Ie,me,nr,wr.uniforms,function(){return!0}),sa(Ie,me,me,nr)}function vo(Ie,me){var nr=Ie.proc("draw",1);uo(Ie,nr),Gi(Ie,nr,me.context),Vi(Ie,nr,me.framebuffer),so(Ie,nr,me),Io(Ie,nr,me.state),Aa(Ie,nr,me,!1,!0);var wr=me.shader.progVar.append(Ie,nr);if(nr(Ie.shared.gl,".useProgram(",wr,".program);"),me.shader.program)Za(Ie,nr,me,me.shader.program);else{nr(Ie.shared.vao,".setVAO(null);");var Mr=Ie.global.def("{}"),sr=nr.def(wr,".id"),ar=nr.def(Mr,"[",sr,"]");nr(Ie.cond(ar).then(ar,".call(this,a0);").else(ar,"=",Mr,"[",sr,"]=",Ie.link(function(dr){return Ba(Za,Ie,me,dr,1)}),"(",wr,");",ar,".call(this,a0);"))}Object.keys(me.state).length>0&&nr(Ie.shared.current,".dirty=true;")}function Zs(Ie,me,nr,wr){Ie.batchId="a1",uo(Ie,me);function Mr(){return!0}Go(Ie,me,nr,wr.attributes,Mr),ni(Ie,me,nr,wr.uniforms,Mr),sa(Ie,me,me,nr)}function El(Ie,me,nr,wr){uo(Ie,me);var Mr=nr.contextDep,sr=me.def(),ar="a0",dr="a1",De=me.def();Ie.shared.props=De,Ie.batchId=sr;var rr=Ie.scope(),Te=Ie.scope();me(rr.entry,"for(",sr,"=0;",sr,"<",dr,";++",sr,"){",De,"=",ar,"[",sr,"];",Te,"}",rr.exit);function yr(ea){return ea.contextDep&&Mr||ea.propDep}function Tr(ea){return!yr(ea)}if(nr.needsContext&&Gi(Ie,Te,nr.context),nr.needsFramebuffer&&Vi(Ie,Te,nr.framebuffer),Io(Ie,Te,nr.state,yr),nr.profile&&yr(nr.profile)&&Aa(Ie,Te,nr,!1,!0),wr)nr.useVAO?nr.drawVAO?yr(nr.drawVAO)?Te(Ie.shared.vao,".setVAO(",nr.drawVAO.append(Ie,Te),");"):rr(Ie.shared.vao,".setVAO(",nr.drawVAO.append(Ie,rr),");"):rr(Ie.shared.vao,".setVAO(",Ie.shared.vao,".targetVAO);"):(rr(Ie.shared.vao,".setVAO(null);"),Go(Ie,rr,nr,wr.attributes,Tr),Go(Ie,Te,nr,wr.attributes,yr)),ni(Ie,rr,nr,wr.uniforms,Tr),ni(Ie,Te,nr,wr.uniforms,yr),sa(Ie,rr,Te,nr);else{var nn=Ie.global.def("{}"),on=nr.shader.progVar.append(Ie,Te),Vr=Te.def(on,".id"),_n=Te.def(nn,"[",Vr,"]");Te(Ie.shared.gl,".useProgram(",on,".program);","if(!",_n,"){",_n,"=",nn,"[",Vr,"]=",Ie.link(function(ea){return Ba(Zs,Ie,nr,ea,2)}),"(",on,");}",_n,".call(this,a0[",sr,"],",sr,");")}}function We(Ie,me){var nr=Ie.proc("batch",2);Ie.batchId="0",uo(Ie,nr);var wr=!1,Mr=!0;Object.keys(me.context).forEach(function(nn){wr=wr||me.context[nn].propDep}),wr||(Gi(Ie,nr,me.context),Mr=!1);var sr=me.framebuffer,ar=!1;sr?(sr.propDep?wr=ar=!0:sr.contextDep&&wr&&(ar=!0),ar||Vi(Ie,nr,sr)):Vi(Ie,nr,null),me.state.viewport&&me.state.viewport.propDep&&(wr=!0);function dr(nn){return nn.contextDep&&wr||nn.propDep}so(Ie,nr,me),Io(Ie,nr,me.state,function(nn){return!dr(nn)}),(!me.profile||!dr(me.profile))&&Aa(Ie,nr,me,!1,"a1"),me.contextDep=wr,me.needsContext=Mr,me.needsFramebuffer=ar;var De=me.shader.progVar;if(De.contextDep&&wr||De.propDep)El(Ie,nr,me,null);else{var rr=De.append(Ie,nr);if(nr(Ie.shared.gl,".useProgram(",rr,".program);"),me.shader.program)El(Ie,nr,me,me.shader.program);else{nr(Ie.shared.vao,".setVAO(null);");var Te=Ie.global.def("{}"),yr=nr.def(rr,".id"),Tr=nr.def(Te,"[",yr,"]");nr(Ie.cond(Tr).then(Tr,".call(this,a0,a1);").else(Tr,"=",Te,"[",yr,"]=",Ie.link(function(nn){return Ba(El,Ie,me,nn,2)}),"(",rr,");",Tr,".call(this,a0,a1);"))}}Object.keys(me.state).length>0&&nr(Ie.shared.current,".dirty=true;")}function Fr(Ie,me){var nr=Ie.proc("scope",3);Ie.batchId="a2";var wr=Ie.shared,Mr=wr.current;Gi(Ie,nr,me.context),me.framebuffer&&me.framebuffer.append(Ie,nr),qf(Object.keys(me.state)).forEach(function(ar){var dr=me.state[ar],De=dr.append(Ie,nr);Ma(De)?De.forEach(function(rr,Te){nr.set(Ie.next[ar],"["+Te+"]",rr)}):nr.set(wr.next,"."+ar,De)}),Aa(Ie,nr,me,!0,!0),[Lu,jl,Ys,ul,Ws].forEach(function(ar){var dr=me.draw[ar];dr&&nr.set(wr.draw,"."+ar,""+dr.append(Ie,nr))}),Object.keys(me.uniforms).forEach(function(ar){var dr=me.uniforms[ar].append(Ie,nr);Array.isArray(dr)&&(dr="["+dr.join()+"]"),nr.set(wr.uniforms,"["+Se.id(ar)+"]",dr)}),Object.keys(me.attributes).forEach(function(ar){var dr=me.attributes[ar].append(Ie,nr),De=Ie.scopeAttrib(ar);Object.keys(new nt).forEach(function(rr){nr.set(De,"."+rr,dr[rr])})}),me.scopeVAO&&nr.set(wr.vao,".targetVAO",me.scopeVAO.append(Ie,nr));function sr(ar){var dr=me.shader[ar];dr&&nr.set(wr.shader,"."+ar,dr.append(Ie,nr))}sr(Ls),sr(sl),Object.keys(me.state).length>0&&(nr(Mr,".dirty=true;"),nr.exit(Mr,".dirty=true;")),nr("a1(",Ie.shared.context,",a0,",Ie.batchId,");")}function Dr(Ie){if(!(typeof Ie!="object"||Ma(Ie))){for(var me=Object.keys(Ie),nr=0;nr<me.length;++nr)if(Yr.isDynamic(Ie[me[nr]]))return!0;return!1}}function Xn(Ie,me,nr){var wr=me.static[nr];if(!wr||!Dr(wr))return;var Mr=Ie.global,sr=Object.keys(wr),ar=!1,dr=!1,De=!1,rr=Ie.global.def("{}");sr.forEach(function(yr){var Tr=wr[yr];if(Yr.isDynamic(Tr)){typeof Tr=="function"&&(Tr=wr[yr]=Yr.unbox(Tr));var nn=Zo(Tr,null);ar=ar||nn.thisDep,De=De||nn.propDep,dr=dr||nn.contextDep}else{switch(Mr(rr,".",yr,"="),typeof Tr){case"number":Mr(Tr);break;case"string":Mr('"',Tr,'"');break;case"object":Array.isArray(Tr)&&Mr("[",Tr.join(),"]");break;default:Mr(Ie.link(Tr));break}Mr(";")}});function Te(yr,Tr){sr.forEach(function(nn){var on=wr[nn];if(Yr.isDynamic(on)){var Vr=yr.invoke(Tr,on);Tr(rr,".",nn,"=",Vr,";")}})}me.dynamic[nr]=new Yr.DynamicVariable(Wl,{thisDep:ar,contextDep:dr,propDep:De,ref:rr,append:Te}),delete me.static[nr]}function Fa(Ie,me,nr,wr,Mr){var sr=wn();sr.stats=sr.link(Mr),Object.keys(me.static).forEach(function(dr){Xn(sr,me,dr)}),Bf.forEach(function(dr){Xn(sr,Ie,dr)});var ar=ka(Ie,me,nr,wr,sr);return vo(sr,ar),Fr(sr,ar),We(sr,ar),_(sr.compile(),{destroy:function(){ar.shader.program.destroy()}})}return{next:jt,current:It,procs:function(){var Ie=wn(),me=Ie.proc("poll"),nr=Ie.proc("refresh"),wr=Ie.block();me(wr),nr(wr);var Mr=Ie.shared,sr=Mr.gl,ar=Mr.next,dr=Mr.current;wr(dr,".dirty=false;"),Vi(Ie,me),Vi(Ie,nr,null,!0);var De;yt&&(De=Ie.link(yt)),je.oes_vertex_array_object&&nr(Ie.link(je.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var rr=0;rr<Nr.maxAttributes;++rr){var Te=nr.def(Mr.attributes,"[",rr,"]"),yr=Ie.cond(Te,".buffer");yr.then(sr,".enableVertexAttribArray(",rr,");",sr,".bindBuffer(",gu,",",Te,".buffer.buffer);",sr,".vertexAttribPointer(",rr,",",Te,".size,",Te,".type,",Te,".normalized,",Te,".stride,",Te,".offset);").else(sr,".disableVertexAttribArray(",rr,");",sr,".vertexAttrib4f(",rr,",",Te,".x,",Te,".y,",Te,".z,",Te,".w);",Te,".buffer=null;"),nr(yr),yt&&nr(De,".vertexAttribDivisorANGLE(",rr,",",Te,".divisor);")}return nr(Ie.shared.vao,".currentVAO=null;",Ie.shared.vao,".setVAO(",Ie.shared.vao,".targetVAO);"),Object.keys(we).forEach(function(Tr){var nn=we[Tr],on=wr.def(ar,".",Tr),Vr=Ie.block();Vr("if(",on,"){",sr,".enable(",nn,")}else{",sr,".disable(",nn,")}",dr,".",Tr,"=",on,";"),nr(Vr),me("if(",on,"!==",dr,".",Tr,"){",Vr,"}")}),Object.keys(ge).forEach(function(Tr){var nn=ge[Tr],on=It[Tr],Vr,_n,ea=Ie.block();if(ea(sr,".",nn,"("),Ma(on)){var Ca=on.length;Vr=Ie.global.def(ar,".",Tr),_n=Ie.global.def(dr,".",Tr),ea(cn(Ca,function($n){return Vr+"["+$n+"]"}),");",cn(Ca,function($n){return _n+"["+$n+"]="+Vr+"["+$n+"];"}).join("")),me("if(",cn(Ca,function($n){return Vr+"["+$n+"]!=="+_n+"["+$n+"]"}).join("||"),"){",ea,"}")}else Vr=wr.def(ar,".",Tr),_n=wr.def(dr,".",Tr),ea(Vr,");",dr,".",Tr,"=",Vr,";"),me("if(",Vr,"!==",_n,"){",ea,"}");nr(ea)}),Ie.compile()}(),compile:Fa}}function Qf(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var gd=34918,Jf=34919,qc=35007,md=function(At,Se){if(!Se.ext_disjoint_timer_query)return null;var je=[];function Nr(){return je.pop()||Se.ext_disjoint_timer_query.createQueryEXT()}function Qr(yt){je.push(yt)}var _r=[];function Ur(yt){var Tt=Nr();Se.ext_disjoint_timer_query.beginQueryEXT(qc,Tt),_r.push(Tt),N(_r.length-1,_r.length,yt)}function vn(){Se.ext_disjoint_timer_query.endQueryEXT(qc)}function Mn(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var pn=[];function En(){return pn.pop()||new Mn}function On(yt){pn.push(yt)}var v=[];function N(yt,Tt,It){var jt=En();jt.startQueryIndex=yt,jt.endQueryIndex=Tt,jt.sum=0,jt.stats=It,v.push(jt)}var Z=[],nt=[];function dt(){var yt,Tt,It=_r.length;if(It!==0){nt.length=Math.max(nt.length,It+1),Z.length=Math.max(Z.length,It+1),Z[0]=0,nt[0]=0;var jt=0;for(yt=0,Tt=0;Tt<_r.length;++Tt){var ne=_r[Tt];Se.ext_disjoint_timer_query.getQueryObjectEXT(ne,Jf)?(jt+=Se.ext_disjoint_timer_query.getQueryObjectEXT(ne,gd),Qr(ne)):_r[yt++]=ne,Z[Tt+1]=jt,nt[Tt+1]=yt}for(_r.length=yt,yt=0,Tt=0;Tt<v.length;++Tt){var we=v[Tt],ge=we.startQueryIndex,Ye=we.endQueryIndex;we.sum+=Z[Ye]-Z[ge];var ur=nt[ge],Xr=nt[Ye];Xr===ur?(we.stats.gpuTime+=we.sum/1e6,On(we)):(we.startQueryIndex=ur,we.endQueryIndex=Xr,v[yt++]=we)}v.length=yt}}return{beginQuery:Ur,endQuery:vn,pushScopeStats:N,update:dt,getNumPendingQueries:function(){return _r.length},clear:function(){je.push.apply(je,_r);for(var yt=0;yt<je.length;yt++)Se.ext_disjoint_timer_query.deleteQueryEXT(je[yt]);_r.length=0,je.length=0},restore:function(){_r.length=0,je.length=0}}},yd=16384,td=256,bd=1024,Qc=34962,Jc="webglcontextlost",bl="webglcontextrestored",tf=1,_s=2,ef=3;function rf(At,Se){for(var je=0;je<At.length;++je)if(At[je]===Se)return je;return-1}function xl(At){var Se=sn(At);if(!Se)return null;var je=Se.gl,Nr=je.getContextAttributes(),Qr=je.isContextLost(),_r=ln(je,Se);if(!_r)return null;var Ur=Ue(),vn=Qf(),Mn=_r.extensions,pn=md(je,Mn),En=Ae(),On=je.drawingBufferWidth,v=je.drawingBufferHeight,N={tick:0,time:0,viewportWidth:On,viewportHeight:v,framebufferWidth:On,framebufferHeight:v,drawingBufferWidth:On,drawingBufferHeight:v,pixelRatio:Se.pixelRatio},Z={},nt={elements:null,primitive:4,count:-1,offset:0,instances:-1},dt=ti(je,Mn),yt=aa(je,vn,Se,It),Tt=Of(je,Mn,dt,vn,yt);function It(sa){return Tt.destroyBuffer(sa)}var jt=wo(je,Mn,yt,vn),ne=Tc(je,Ur,vn,Se),we=bf(je,Mn,dt,function(){ur.procs.poll()},N,vn,Se),ge=Fs(je,Mn,dt,vn,Se),Ye=fd(je,Mn,dt,we,ge,vn),ur=pd(je,Ur,Mn,dt,yt,jt,we,Ye,Z,Tt,ne,nt,N,pn,Se),Xr=Cu(je,Ye,ur.procs.poll,N,Nr,Mn,dt),mr=ur.next,br=je.canvas,xr=[],wn=[],Rn=[],In=[Se.onDestroy],Qn=null;function Hn(){if(xr.length===0){pn&&pn.update(),Qn=null;return}Qn=Xe.next(Hn),Io();for(var sa=xr.length-1;sa>=0;--sa){var Ba=xr[sa];Ba&&Ba(N,null,0)}je.flush(),pn&&pn.update()}function ia(){!Qn&&xr.length>0&&(Qn=Xe.next(Hn))}function ga(){Qn&&(Xe.cancel(Hn),Qn=null)}function fa(sa){sa.preventDefault(),Qr=!0,ga(),wn.forEach(function(Ba){Ba()})}function Ei(sa){je.getError(),Qr=!1,_r.restore(),ne.restore(),yt.restore(),we.restore(),ge.restore(),Ye.restore(),Tt.restore(),pn&&pn.restore(),ur.procs.refresh(),ia(),Rn.forEach(function(Ba){Ba()})}br&&(br.addEventListener(Jc,fa,!1),br.addEventListener(bl,Ei,!1));function ma(){xr.length=0,ga(),br&&(br.removeEventListener(Jc,fa),br.removeEventListener(bl,Ei)),ne.clear(),Ye.clear(),ge.clear(),we.clear(),jt.clear(),yt.clear(),Tt.clear(),pn&&pn.clear(),In.forEach(function(sa){sa()})}function qi(sa){bt(!!sa,"invalid args to regl({...})"),bt.type(sa,"object","invalid args to regl({...})");function Ba(Mr){var sr=_({},Mr);delete sr.uniforms,delete sr.attributes,delete sr.context,delete sr.vao,"stencil"in sr&&sr.stencil.op&&(sr.stencil.opBack=sr.stencil.opFront=sr.stencil.op,delete sr.stencil.op);function ar(dr){if(dr in sr){var De=sr[dr];delete sr[dr],Object.keys(De).forEach(function(rr){sr[dr+"."+rr]=De[rr]})}}return ar("blend"),ar("depth"),ar("cull"),ar("stencil"),ar("polygonOffset"),ar("scissor"),ar("sample"),"vao"in Mr&&(sr.vao=Mr.vao),sr}function Za(Mr,sr){var ar={},dr={};return Object.keys(Mr).forEach(function(De){var rr=Mr[De];if(Yr.isDynamic(rr)){dr[De]=Yr.unbox(rr,De);return}else if(sr&&Array.isArray(rr)){for(var Te=0;Te<rr.length;++Te)if(Yr.isDynamic(rr[Te])){dr[De]=Yr.unbox(rr,De);return}}ar[De]=rr}),{dynamic:dr,static:ar}}var vo=Za(sa.context||{},!0),Zs=Za(sa.uniforms||{},!0),El=Za(sa.attributes||{},!1),We=Za(Ba(sa),!1),Fr={gpuTime:0,cpuTime:0,count:0},Dr=ur.compile(We,El,Zs,vo,Fr),Xn=Dr.draw,Fa=Dr.batch,Ie=Dr.scope,me=[];function nr(Mr){for(;me.length<Mr;)me.push(null);return me}function wr(Mr,sr){var ar;if(Qr&&bt.raise("context lost"),typeof Mr=="function")return Ie.call(this,null,Mr,0);if(typeof sr=="function")if(typeof Mr=="number")for(ar=0;ar<Mr;++ar)Ie.call(this,null,sr,ar);else if(Array.isArray(Mr))for(ar=0;ar<Mr.length;++ar)Ie.call(this,Mr[ar],sr,ar);else return Ie.call(this,Mr,sr,0);else if(typeof Mr=="number"){if(Mr>0)return Fa.call(this,nr(Mr|0),Mr|0)}else if(Array.isArray(Mr)){if(Mr.length)return Fa.call(this,Mr,Mr.length)}else return Xn.call(this,Mr)}return _(wr,{stats:Fr,destroy:function(){Dr.destroy()}})}var pi=Ye.setFBO=qi({framebuffer:Yr.define.call(null,tf,"framebuffer")});function ka(sa,Ba){var Za=0;ur.procs.poll();var vo=Ba.color;vo&&(je.clearColor(+vo[0]||0,+vo[1]||0,+vo[2]||0,+vo[3]||0),Za|=yd),"depth"in Ba&&(je.clearDepth(+Ba.depth),Za|=td),"stencil"in Ba&&(je.clearStencil(Ba.stencil|0),Za|=bd),bt(!!Za,"called regl.clear with no buffer specified"),je.clear(Za)}function Gi(sa){if(bt(typeof sa=="object"&&sa,"regl.clear() takes an object as input"),"framebuffer"in sa)if(sa.framebuffer&&sa.framebuffer_reglType==="framebufferCube")for(var Ba=0;Ba<6;++Ba)pi(_({framebuffer:sa.framebuffer.faces[Ba]},sa),ka);else pi(sa,ka);else ka(null,sa)}function Vi(sa){bt.type(sa,"function","regl.frame() callback must be a function"),xr.push(sa);function Ba(){var Za=rf(xr,sa);bt(Za>=0,"cannot cancel a frame twice");function vo(){var Zs=rf(xr,vo);xr[Zs]=xr[xr.length-1],xr.length-=1,xr.length<=0&&ga()}xr[Za]=vo}return ia(),{cancel:Ba}}function so(){var sa=mr.viewport,Ba=mr.scissor_box;sa[0]=sa[1]=Ba[0]=Ba[1]=0,N.viewportWidth=N.framebufferWidth=N.drawingBufferWidth=sa[2]=Ba[2]=je.drawingBufferWidth,N.viewportHeight=N.framebufferHeight=N.drawingBufferHeight=sa[3]=Ba[3]=je.drawingBufferHeight}function Io(){N.tick+=1,N.time=Aa(),so(),ur.procs.poll()}function uo(){we.refresh(),so(),ur.procs.refresh(),pn&&pn.update()}function Aa(){return(Ae()-En)/1e3}uo();function Go(sa,Ba){bt.type(Ba,"function","listener callback must be a function");var Za;switch(sa){case"frame":return Vi(Ba);case"lost":Za=wn;break;case"restore":Za=Rn;break;case"destroy":Za=In;break;default:bt.raise("invalid event, must be one of frame,lost,restore,destroy")}return Za.push(Ba),{cancel:function(){for(var vo=0;vo<Za.length;++vo)if(Za[vo]===Ba){Za[vo]=Za[Za.length-1],Za.pop();return}}}}var ni=_(qi,{clear:Gi,prop:Yr.define.bind(null,tf),context:Yr.define.bind(null,_s),this:Yr.define.bind(null,ef),draw:qi({}),buffer:function(sa){return yt.create(sa,Qc,!1,!1)},elements:function(sa){return jt.create(sa,!1)},texture:we.create2D,cube:we.createCube,renderbuffer:ge.create,framebuffer:Ye.create,framebufferCube:Ye.createCube,vao:Tt.createVAO,attributes:Nr,frame:Vi,on:Go,limits:dt,hasExtension:function(sa){return dt.extensions.indexOf(sa.toLowerCase())>=0},read:Xr,destroy:ma,_gl:je,_refresh:uo,poll:function(){Io(),pn&&pn.update()},now:Aa,stats:vn});return Se.onDone(null,ni),ni}return xl})},937478:function(Ve,W,_){"use strict";var y=_(340210),R=_(921924),w=_(470631),M=y("%TypeError%"),P=y("%WeakMap%",!0),L=y("%Map%",!0),p=R("WeakMap.prototype.get",!0),g=R("WeakMap.prototype.set",!0),S=R("WeakMap.prototype.has",!0),E=R("Map.prototype.get",!0),b=R("Map.prototype.set",!0),A=R("Map.prototype.has",!0),x=function(f,U){for(var j=f,z;(z=j.next)!==null;j=z)if(z.key===U)return j.next=z.next,z.next=f.next,f.next=z,z},T=function(f,U){var j=x(f,U);return j&&j.value},B=function(f,U,j){var z=x(f,U);z?z.value=j:f.next={key:U,next:f.next,value:j}},m=function(f,U){return!!x(f,U)};Ve.exports=function(){var U,j,z,k={assert:function(X){if(!k.has(X))throw new M("Side channel does not contain "+w(X))},get:function(X){if(P&&X&&(typeof X=="object"||typeof X=="function")){if(U)return p(U,X)}else if(L){if(j)return E(j,X)}else if(z)return T(z,X)},has:function(X){if(P&&X&&(typeof X=="object"||typeof X=="function")){if(U)return S(U,X)}else if(L){if(j)return A(j,X)}else if(z)return m(z,X);return!1},set:function(X,K){P&&X&&(typeof X=="object"||typeof X=="function")?(U||(U=new P),g(U,X,K)):L?(j||(j=new L),b(j,X,K)):(z||(z={key:{},next:null}),B(z,X,K))}};return k}},952191:function(Ve,W){"use strict";var _;_={value:!0},_=m,W.Rs=f,_=U,_=j,W.Yf=z,W.Lo=k,W.lu=K,W.hy=tt,W.Lq=q,_=at,W.dt=pt,W.GX=ct,_=St,W.Ck=Lt,W.YJ=Mt,_=wt,_=et,_=rt,_=Ot;var y={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},R=["Webkit","ms","Moz","O"];function w(Dt,ot){return Dt+ot.charAt(0).toUpperCase()+ot.substring(1)}Object.keys(y).forEach(function(Dt){R.forEach(function(ot){y[w(ot,Dt)]=y[Dt]})});var M=/^(normal|none|(\b(url\([^)]*\)|chapter_counter|attr\([^)]*\)|(no-)?(open|close)-quote|inherit)((\b\s*)|$|\s+))+)$/,P=function(){return typeof document=="undefined"?!1:!!(navigator&&(navigator.userAgent.indexOf("MSIE 8.0")>0||navigator.userAgent.indexOf("MSIE 9.0")>0))}(),L=1e5,p={aqua:[0,255,255,1],lime:[0,255,0,1],silver:[192,192,192,1],black:[0,0,0,1],maroon:[128,0,0,1],teal:[0,128,128,1],blue:[0,0,255,1],navy:[0,0,128,1],white:[255,255,255,1],fuchsia:[255,0,255,1],olive:[128,128,0,1],yellow:[255,255,0,1],orange:[255,165,0,1],gray:[128,128,128,1],purple:[128,0,128,1],green:[0,128,0,1],red:[255,0,0,1],pink:[255,192,203,1],cyan:[0,255,255,1],transparent:[255,255,255,0]},g=Math.PI/180,S=180/Math.PI,E={_lists:{transformsBase:["translate","translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ","rotate"],transforms3D:["translate3d","translateZ","scaleZ","rotateX","rotateY","perspective"]},transformGroup:{translate:1,translate3d:1,scale:1,scale3d:1,rotate:1,rotate3d:1,skew:1},filter:["grayScale","sepia","hueRotate","invert","brightness","contrast","blur"],filterConvert:{grayScale:"grayscale",hueRotate:"hue-rotate"}};E._lists.transformsBase=P?E._lists.transformsBase:E._lists.transformsBase.concat(E._lists.transforms3D);var b=_=/#([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{3})/,A=_=/((rgb|hsl)[a]?)+\((?:\d|\.\d)+(?:(deg|\%|)),[\s+]?(?:\d|\.\d)+(?:(deg|\%|)),[\s+]?(?:\d|\.\d)+(?:(deg|%|))(,[\s+]?(?:\d|\.\d)+(?:(deg|\%|)))?\)/,x=W.rV=/#([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{3})|((rgb|hsl)[a]?)+\((?:\d|\.\d)+(?:(deg|\%)?),[\s+]?(?:\d|\.\d)+(?:(deg|\%)?),[\s+]?(?:\d|\.\d)+(?:(deg|%)?)(,[\s+]?(?:\d|\.\d)+(?:(deg|\%)?))?\)/,T=_=/(?:\d|\.\d)+(%?)/g,B=W._T=E;function m(Dt){return Dt.replace(/[A-Z]/,function(ot){return"-"+ot.toLocaleLowerCase()})}function f(Dt){return Dt.replace(/-(.?)/g,function(ot){return ot.replace("-","").toLocaleUpperCase()})}function U(Dt,ot){var xt=ot?Math.pow(10,ot):L,Nt=Dt|0,Yt=Dt-Nt,Ct=Dt;if(Yt){var Xt=(Yt*xt+(Dt<0?-.5:.5)|0)/xt,Zt=Xt|0,se=Xt.toString(),ie=se.split(".")[1]||"";Ct=(Dt<0&&!(Nt+Zt)?"-":"")+(Nt+Zt)+"."+ie}return parseFloat(Ct)}function j(Dt){if(typeof document=="undefined")return null;var ot=["WebKitCSS","MozCSS","DOM","MsCSS","MSCSS","OCSS","CSS"].filter(function(xt){return xt+"Matrix"in window});return ot.length?new window[ot[0]+"Matrix"](Dt):(console.warn("Browsers do not support matrix."),"")}function z(Dt){if(typeof document=="undefined")return null;var ot=["O","Moz","ms","Ms","Webkit"];if(Dt!=="filter"&&Dt in document.body.style)return Dt;var xt=Dt.charAt(0).toUpperCase()+Dt.substr(1),Nt=ot.filter(function(Yt){return""+Yt+xt in document.body.style});return Nt[0]?""+Nt[0]+xt:null}function k(Dt){var ot=Dt;return ot=ot==="x"?"translateX":ot,ot=ot==="y"?"translateY":ot,ot=ot==="z"?"translateZ":ot,ot}var X=function(ot,xt,Nt){return Nt<0&&(Nt+=6),Nt>=6&&(Nt-=6),Nt<1?(xt-ot)*Nt+ot:Nt<3?xt:Nt<4?(xt-ot)*(4-Nt)+ot:ot};function K(Dt){var ot=p.transparent,xt=Dt,Nt=void 0,Yt=void 0,Ct=void 0;if(!xt)ot=p.transparent;else if(p[xt])ot=p[xt];else if(typeof xt=="number")ot=[xt>>16,xt>>8&255,xt&255];else if(xt.charAt(xt.length-1)===","&&(xt=xt.substr(0,xt.length-1)),xt.match(b))xt=xt.substr(1),xt.length===3&&(Nt=xt.charAt(0),Yt=xt.charAt(1),Ct=xt.charAt(2),xt=""+Nt+Nt+Yt+Yt+Ct+Ct+"ff"),xt.length===6&&(xt+="ff"),xt=parseInt(xt,16),ot=[xt>>24&255,xt>>16&255,xt>>8&255,parseFloat(((xt&255)/255).toFixed(2))];else if(xt.match(/^hsl/)){ot=xt.match(T);var Xt=ot[3];Xt=typeof Xt=="string"&&Xt.match("%")?parseFloat(Xt)/100:parseFloat(""+(Xt||"1"));var Zt=parseFloat(ot[0])/60,se=parseFloat(ot[1])/100,ie=parseFloat(ot[2])/100,zt=ie<=.5?ie*(se+1):ie+se-ie*se,ae=ie*2-zt;Nt=Math.round(X(ae,zt,Zt+2)*255),Yt=Math.round(X(ae,zt,Zt)*255),Ct=Math.round(X(ae,zt,Zt-2)*255),ot=[Nt,Yt,Ct,Xt]}else ot=xt.match(T)||p.transparent,ot=ot.map(function(Re){return parseFloat(Re)}),ot.length===3&&ot.push(1);return ot}function tt(Dt,ot){var xt=ot&&f(ot);if(!Dt)return xt==="boxShadow"?[0,0,0,0,0,0,0,0]:[0,0,0,0,0,0,0];var Nt=Dt.replace(/,\s+/gi,",").split(/\s+/).filter(function(se){return se}),Yt=Nt.indexOf("inset");Yt>=0&&Nt.splice(Yt,1);var Ct=Nt.find(function(se){return p[se]||se.match(/#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})|(rgb|hsl)+(?:a)?\((.*)\)/i)})||"black",Xt=Nt.indexOf(Ct);Nt.splice(Xt,1);var Zt=K(Ct);return Zt[3]=typeof Zt[3]=="number"?Zt[3]:1,xt==="boxShadow"&&Nt.length<4&&Nt.push(0),Nt.concat(Zt,Yt>=0?["inset"]:[])}function q(Dt){var ot=Dt.length===4?"rgba":"rgb",xt=Dt.map(function(Nt,Yt){return Yt<3?Math.round(Nt):Nt});return ot+"("+xt.join(",")+")"}function at(Dt){return B._lists.transformsBase.indexOf(Dt)>=0?"transform":Dt}function pt(Dt){var ot=at(Dt);return B.filter.indexOf(ot)>=0?"filter":ot}function ct(Dt){if(Dt==="none"||!Dt||Dt==="")return null;var ot=Dt.replace(/\s+/g,"").split(")").filter(function(Nt){return Nt}),xt={};return ot.forEach(function(Nt){var Yt=Nt.split("(");xt[Yt[0]]=Yt[1]}),xt}function St(Dt){var ot=Dt.match(/(?:\-|\b)[\d\-\.e]+\b/gi),xt={};return ot.length===6?(xt.m11=parseFloat(ot[0]),xt.m12=parseFloat(ot[1]),xt.m13=0,xt.m14=0,xt.m21=parseFloat(ot[2]),xt.m22=parseFloat(ot[3]),xt.m23=0,xt.m24=0,xt.m31=0,xt.m32=0,xt.m33=1,xt.m34=0,xt.m41=parseFloat(ot[4]),xt.m42=parseFloat(ot[5]),xt.m43=0,xt.m44=0):ot.forEach(function(Nt,Yt){var Ct=Yt%4+1,Xt=Math.floor(Yt/4)+1;xt["m"+Xt+Ct]=parseFloat(Nt)}),xt}function vt(Dt){var ot={};return ot.translateX=0,ot.translateY=0,ot.translateZ=0,ot.rotate=0,ot.rotateX=0,ot.rotateY=0,ot.scaleX=1,ot.scaleY=1,ot.scaleZ=1,ot.skewX=0,ot.skewY=0,ot.perspective=0,(Dt.trim().match(/(\w+)\([^\)]+\)/ig)||[]).forEach(function(xt){var Nt=xt.split("("),Yt=Nt[0].trim(),Ct=Nt[1].replace(")","").trim();Ct.match(/%|em|rem/ig)&&console.warn("value("+Ct+") must be absolute, not relative, has been converted to absolute."),Ct=Ct.replace(/px|deg|\)/ig,""),B.transformGroup[Yt]&&Yt!=="rotate"?(Ct=Ct.split(",").map(function(Xt){return parseFloat(Xt)}),Yt==="scale3d"||Yt==="translate3d"?["X","Y","Z"].forEach(function(Xt,Zt){var se=Yt.substring(0,Yt.length-2);ot[""+se+Xt]=Ct[Zt]||ot[""+se+Xt]}):Yt==="rotate3d"?(ot.rotateX=Ct[0]&&Ct[3]||ot.rotateX,ot.rotateY=Ct[1]&&Ct[3]||ot.rotateY,ot.rotate=Ct[2]&&Ct[3]||ot.rotate):["X","Y"].forEach(function(Xt,Zt){ot[""+Yt+Xt]=Ct[Zt]||ot[""+Yt+Xt]})):Yt==="rotateZ"?ot.rotate=parseFloat(Ct)||ot.rotate:ot[Yt]=parseFloat(Ct)||ot[Yt]}),ot}function Lt(Dt){var ot=!Dt||Dt==="none"||Dt===""?"matrix(1, 0, 0, 1, 0, 0)":Dt;if(!ot.match("matrix"))return vt(Dt);var xt=St(ot),Nt=xt.m11,Yt=xt.m12,Ct=xt.m13,Xt=xt.m14,Zt=xt.m21,se=xt.m22,ie=xt.m23,zt=xt.m24,ae=xt.m31,Re=xt.m32,Jt=xt.m33,ue=xt.m34,ke=xt.m43,ye=void 0,ee=void 0,Ut=void 0,bt={},Ft=Math.atan2(ie,Jt),be=Math.tan(Zt),qe=Math.tan(Yt),Pe=void 0,Ze=void 0;return bt.rotateX=U(Ft*S)||0,Ft&&(Pe=Math.cos(-Ft),Ze=Math.sin(-Ft),ye=Zt*Pe+ae*Ze,ee=se*Pe+Re*Ze,Ut=ie*Pe+Jt*Ze,ae=Zt*-Ze+ae*Pe,Re=se*-Ze+Re*Pe,Jt=ie*-Ze+Jt*Pe,ue=zt*-Ze+ue*Pe,Zt=ye,se=ee,ie=Ut),Ft=Math.atan2(-Ct,Jt),bt.rotateY=U(Ft*S)||0,Ft&&(Pe=Math.cos(-Ft),Ze=Math.sin(-Ft),ye=Nt*Pe-ae*Ze,ee=Yt*Pe-Re*Ze,Ut=Ct*Pe-Jt*Ze,Re=Yt*Ze+Re*Pe,Jt=Ct*Ze+Jt*Pe,ue=Xt*Ze+ue*Pe,Nt=ye,Yt=ee,Ct=Ut),Ft=Math.atan2(Yt,Nt),bt.rotate=U(Ft*S)||0,Ft&&(Pe=Math.cos(Ft),Ze=Math.sin(Ft),ye=Nt*Pe+Yt*Ze,ee=Zt*Pe+se*Ze,Ut=ae*Pe+Re*Ze,Yt=Yt*Pe-Nt*Ze,se=se*Pe-Zt*Ze,Re=Re*Pe-ae*Ze,Nt=ye,Zt=ee,ae=Ut),bt.rotateX&&Math.abs(bt.rotateX)+Math.abs(bt.rotate)>359.9&&(bt.rotateX=bt.rotate=0,bt.rotateY=180-bt.rotateY||0),bt.scaleX=U(Math.sqrt(Nt*Nt+Yt*Yt+Ct*Ct)),bt.scaleY=U(Math.sqrt(se*se+ie*ie)),bt.scaleZ=U(Math.sqrt(ae*ae+Re*Re+Jt*Jt)),bt.skewX=be===-qe?0:be,bt.skewY=qe===-be?0:qe,bt.perspective=ue?1/(ue<0?-ue:ue):0,bt.translateX=xt.m41,bt.translateY=xt.m42,bt.translateZ=ke,bt}function Mt(Dt,ot){var xt=void 0;return!y[Dt]&&typeof ot=="number"?xt=" "+ot+"px":Dt==="content"&&!M.test(ot)&&(xt="'"+ot.replace(/'/g,"\\'")+"'"),xt||ot}function wt(Dt,ot){var xt=ot&&ot.toString().replace(/[^a-z|%]/ig,""),Nt="";return Dt.indexOf("translate")>=0||Dt.indexOf("perspective")>=0||Dt.indexOf("blur")>=0?Nt="px":(Dt.indexOf("skew")>=0||Dt.indexOf("rotate")>=0)&&(Nt="deg"),xt||Nt}function et(Dt,ot,xt){return Dt+"("+ot+(xt||"")+")"}function rt(Dt,ot){var xt=null;return Dt&&Dt.forEach(function(Nt){if(!xt){var Yt=Nt.split("(")[0],Ct=Yt in B.transformGroup&&ot.substring(0,ot.length-1).indexOf(Yt)>=0,Xt=ot in B.transformGroup&&Yt.substring(0,Yt.length-1).indexOf(ot)>=0,Zt=Yt in B.transformGroup&&ot in B.transformGroup&&(Yt.substring(0,Yt.length-2)===ot||ot.substring(0,ot.length-2)===Yt);(Yt===ot||Ct||Xt||Zt)&&(xt=Nt)}}),xt}function Ot(Dt,ot){if(!Dt||Dt==="")return ot;if(!ot||ot==="")return Dt;var xt=Dt.replace(/\s/g,"").split(")").filter(function(Yt){return Yt!==""&&Yt}).map(function(Yt){return Yt+")"}),Nt=ot.replace(/\s/g,"").split(")").filter(function(Yt){return Yt!==""&&Yt});return Nt.forEach(function(Yt){var Ct=Yt.split("("),Xt=Ct[0],Zt=rt(xt,Xt);if(!Zt)xt.push(Yt+")");else{var se=xt.indexOf(Zt);xt[se]=Yt+")"}}),xt.forEach(function(Yt,Ct){Yt.indexOf("perspective")>=0&&Ct&&(xt.splice(Ct,1),xt.unshift(Yt))}),xt.join(" ").trim()}},141e3:function(Ve){"use strict";var W={linear:function(_,y,R,w){var M=R-y;return M*_/w+y},easeInQuad:function(_,y,R,w){var M=R-y;return M*(_/=w)*_+y},easeOutQuad:function(_,y,R,w){var M=R-y;return-M*(_/=w)*(_-2)+y},easeInOutQuad:function(_,y,R,w){var M=R-y;return(_/=w/2)<1?M/2*_*_+y:-M/2*(--_*(_-2)-1)+y},easeInCubic:function(_,y,R,w){var M=R-y;return M*(_/=w)*_*_+y},easeOutCubic:function(_,y,R,w){var M=R-y;return M*((_=_/w-1)*_*_+1)+y},easeInOutCubic:function(_,y,R,w){var M=R-y;return(_/=w/2)<1?M/2*_*_*_+y:M/2*((_-=2)*_*_+2)+y},easeInQuart:function(_,y,R,w){var M=R-y;return M*(_/=w)*_*_*_+y},easeOutQuart:function(_,y,R,w){var M=R-y;return-M*((_=_/w-1)*_*_*_-1)+y},easeInOutQuart:function(_,y,R,w){var M=R-y;return(_/=w/2)<1?M/2*_*_*_*_+y:-M/2*((_-=2)*_*_*_-2)+y},easeInQuint:function(_,y,R,w){var M=R-y;return M*(_/=w)*_*_*_*_+y},easeOutQuint:function(_,y,R,w){var M=R-y;return M*((_=_/w-1)*_*_*_*_+1)+y},easeInOutQuint:function(_,y,R,w){var M=R-y;return(_/=w/2)<1?M/2*_*_*_*_*_+y:M/2*((_-=2)*_*_*_*_+2)+y},easeInSine:function(_,y,R,w){var M=R-y;return-M*Math.cos(_/w*(Math.PI/2))+M+y},easeOutSine:function(_,y,R,w){var M=R-y;return M*Math.sin(_/w*(Math.PI/2))+y},easeInOutSine:function(_,y,R,w){var M=R-y;return-M/2*(Math.cos(Math.PI*_/w)-1)+y},easeInExpo:function(_,y,R,w){var M=R-y;return _==0?y:M*Math.pow(2,10*(_/w-1))+y},easeOutExpo:function(_,y,R,w){var M=R-y;return _==w?y+M:M*(-Math.pow(2,-10*_/w)+1)+y},easeInOutExpo:function(_,y,R,w){var M=R-y;return _===0?y:_===w?y+M:(_/=w/2)<1?M/2*Math.pow(2,10*(_-1))+y:M/2*(-Math.pow(2,-10*--_)+2)+y},easeInCirc:function(_,y,R,w){var M=R-y;return-M*(Math.sqrt(1-(_/=w)*_)-1)+y},easeOutCirc:function(_,y,R,w){var M=R-y;return M*Math.sqrt(1-(_=_/w-1)*_)+y},easeInOutCirc:function(_,y,R,w){var M=R-y;return(_/=w/2)<1?-M/2*(Math.sqrt(1-_*_)-1)+y:M/2*(Math.sqrt(1-(_-=2)*_)+1)+y},easeInElastic:function(_,y,R,w){var M=R-y,P,L,p;return p=1.70158,L=0,P=M,_===0?y:(_/=w)===1?y+M:(L||(L=w*.3),P<Math.abs(M)?(P=M,p=L/4):p=L/(2*Math.PI)*Math.asin(M/P),-(P*Math.pow(2,10*(_-=1))*Math.sin((_*w-p)*(2*Math.PI)/L))+y)},easeOutElastic:function(_,y,R,w){var M=R-y,P,L,p;return p=1.70158,L=0,P=M,_===0?y:(_/=w)===1?y+M:(L||(L=w*.3),P<Math.abs(M)?(P=M,p=L/4):p=L/(2*Math.PI)*Math.asin(M/P),P*Math.pow(2,-10*_)*Math.sin((_*w-p)*(2*Math.PI)/L)+M+y)},easeInOutElastic:function(_,y,R,w){var M=R-y,P,L,p;return p=1.70158,L=0,P=M,_===0?y:(_/=w/2)===2?y+M:(L||(L=w*.44999999999999996),P<Math.abs(M)?(P=M,p=L/4):p=L/(2*Math.PI)*Math.asin(M/P),_<1?-.5*(P*Math.pow(2,10*(_-=1))*Math.sin((_*w-p)*(2*Math.PI)/L))+y:P*Math.pow(2,-10*(_-=1))*Math.sin((_*w-p)*(2*Math.PI)/L)*.5+M+y)},easeInBack:function(_,y,R,w,M){var P=R-y;return M===void 0&&(M=1.70158),P*(_/=w)*_*((M+1)*_-M)+y},easeOutBack:function(_,y,R,w,M){var P=R-y;return M===void 0&&(M=1.70158),P*((_=_/w-1)*_*((M+1)*_+M)+1)+y},easeInOutBack:function(_,y,R,w,M){var P=R-y;return M===void 0&&(M=1.70158),(_/=w/2)<1?P/2*(_*_*(((M*=1.525)+1)*_-M))+y:P/2*((_-=2)*_*(((M*=1.525)+1)*_+M)+2)+y},easeInBounce:function(_,y,R,w){var M=R-y,P;return P=W.easeOutBounce(w-_,0,M,w),M-P+y},easeOutBounce:function(_,y,R,w){var M=R-y;return(_/=w)<.36363636363636365?M*(7.5625*_*_)+y:_<.7272727272727273?M*(7.5625*(_-=.5454545454545454)*_+.75)+y:_<.9090909090909091?M*(7.5625*(_-=.8181818181818182)*_+.9375)+y:M*(7.5625*(_-=.9545454545454546)*_+.984375)+y},easeInOutBounce:function(_,y,R,w){var M=R-y,P;return _<w/2?(P=W.easeInBounce(_*2,0,M,w),P*.5+y):(P=W.easeOutBounce(_*2-w,0,M,w),P*.5+M*.5+y)}};Ve.exports=W},364687:function(Ve,W,_){var y=_(817061)();Ve.exports=y;try{regeneratorRuntime=y}catch(R){typeof globalThis=="object"?globalThis.regeneratorRuntime=y:Function("r","regeneratorRuntime = r")(y)}},577134:function(Ve,W,_){"use strict";_.d(W,{Z:function(){return T}});var y=_(667294),R=_(785893),w=B=>{let m=B;for(;m=m.parentElement;){const f=getComputedStyle(m,null).getPropertyValue("overflow-y");if(m===document.body)return window;if(f==="auto"||f==="scroll")return m}return window},M=B=>B.firstChild?B.firstChild.offsetParent===B:!0,P=(B,m)=>{let f=B,U=0;M(m)||(U+=B.offsetTop-m.offsetTop,m=B.offsetParent,U+=-B.offsetTop);do U+=f.offsetTop,f=f.offsetParent;while(f&&f!==m);return U},L=B=>{let m=B.parentElement;for(;m&&getComputedStyle(m,null).getPropertyValue("display")==="contents";)m=m.parentElement;return m||window},p=null;typeof CSS!="undefined"&&CSS.supports&&(CSS.supports("position","sticky")?p="sticky":CSS.supports("position","-webkit-sticky")&&(p="-webkit-sticky"));var g=!1;try{const B=Object.defineProperty({},"passive",{get(){g={passive:!0}}}),m=()=>{};window.addEventListener("testPassive",m,B),window.removeEventListener("testPassive",m,B)}catch(B){}var S=B=>{const{el:m,onChange:f,unsubs:U,measure:j}=B;if(m===window){const z=()=>({top:0,left:0,height:window.innerHeight,width:window.innerWidth}),k=j(z()),X=()=>{Object.assign(k,j(z())),f()};return window.addEventListener("resize",X,g),U.push(()=>window.addEventListener("resize",X,g)),k}else{const z=j(m.getBoundingClientRect()),k=()=>{Object.assign(z,j(m.getBoundingClientRect())),f()},X=new ResizeObserver(k);return X.observe(m),U.push(()=>X.disconnect()),z}},E=B=>{const m=getComputedStyle(B,null),f=parseInt(m.getPropertyValue("padding-top"),10),U=parseInt(m.getPropertyValue("padding-bottom"),10);return{top:f,bottom:U}},b=(B,m,f)=>{const{bottom:U,offsetBottom:j,offsetTop:z}=f,k=w(B);let X=!1;const K=()=>{X||requestAnimationFrame(()=>{const ot=at();ot!==et&&rt(ot),X=!1}),X=!0};let tt=k===window?window.scrollY:k.scrollTop;const q=ot=>{const{offsetTop:xt,height:Nt}=ct,{naturalTop:Yt}=Lt,{height:Ct}=Mt;return ot+xt+Nt>=Yt+Ct+wt+j},at=()=>{const{height:ot}=ct,{height:xt}=Mt;return xt+z+j<=ot?3:q(tt)?1:2},pt=k!==window&&M(k),ct=S({el:k,onChange:K,unsubs:m,measure:({height:ot,top:xt})=>({height:ot,offsetTop:pt?xt:0})}),St=L(B),vt=St===window?{top:0,bottom:0}:E(St),Lt=S({el:St,onChange:K,unsubs:m,measure:({height:ot})=>({height:ot-vt.top-vt.bottom,naturalTop:St===window?0:P(St,k)+vt.top+ct.offsetTop})}),Mt=S({el:B,onChange:K,unsubs:m,measure:({height:ot})=>({height:ot})});let wt=0,et=at();const rt=ot=>{const xt=et;if(et=ot,xt===2&&(wt=-1),ot===3){B.style.position=p,U?B.style.bottom=`${j}px`:B.style.top=`${z}px`;return}const{height:Nt,offsetTop:Yt}=ct,{height:Ct,naturalTop:Xt}=Lt,{height:Zt}=Mt;if(ot===2)if(B.style.position="relative",wt=xt===0?Math.max(0,Yt+tt-Xt+z):Math.max(0,Yt+tt+Nt-(Xt+Zt+j)),U){const se=Math.max(0,Ct-Zt-wt);B.style.bottom=`${se}px`}else B.style.top=`${wt}px`;else B.style.position=p,ot===1?U?B.style.bottom=`${j}px`:B.style.top=`${Nt-Zt-j}px`:U?B.style.bottom=`${Nt-Zt-j}px`:B.style.top=`${z}px`};rt(et);const Ot=ot=>{if(ot===tt)return;const xt=ot-tt;if(tt=ot,et===3)return;const{offsetTop:Nt,height:Yt}=ct,{naturalTop:Ct,height:Xt}=Lt,{height:Zt}=Mt;if(xt>0)if(et===0){if(ot+Nt+z>Ct){const se=Math.max(0,Nt+tt-Ct+z);ot+Nt+Yt<=Ct+Zt+se+j?rt(2):rt(1)}}else et===2&&q(ot)&&rt(1);else if(et===1){if(Nt+ot+Yt<Ct+Xt+j){const se=Math.max(0,Nt+tt+Yt-(Ct+Zt+j));Nt+ot+z>=Ct+se?rt(2):rt(0)}}else et===2&&Nt+ot+z<Ct+wt&&rt(0)},Dt=k===window?()=>Ot(window.scrollY):()=>Ot(k.scrollTop);k.addEventListener("scroll",Dt,g),k.addEventListener("mousewheel",Dt,g),m.push(()=>k.removeEventListener("scroll",Dt),()=>k.removeEventListener("mousewheel",Dt))},A=({offsetTop:B=0,offsetBottom:m=0,bottom:f=!1}={})=>{const[U,j]=(0,y.useState)(null);return(0,y.useEffect)(()=>{if(!U||!p)return;const z=[];return b(U,z,{offsetBottom:m,offsetTop:B,bottom:f}),()=>{z.forEach(k=>k())}},[U,m,B,f]),j},x=B=>{const{offsetTop:m,offsetBottom:f,bottom:U,children:j,className:z,style:k}=B,X=A({offsetTop:m,offsetBottom:f,bottom:U});return(0,R.jsx)("div",{className:z,style:k,ref:X,children:j})},T=x}}]);
